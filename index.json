[{"categories":["Go","gRPC"],"content":"gRPC æ˜¯ä¸€ä¸ªç°ä»£çš„å¼€æºé«˜æ€§èƒ½è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRPC - Remote Procedure Callï¼‰æ¡†æ¶ï¼Œå¯ä»¥åœ¨ä»»ä½•ç¯å¢ƒä¸­è¿è¡Œã€‚å®ƒå¯ä»¥é€šè¿‡å¯¹è´Ÿè½½å¹³è¡¡ã€è·Ÿè¸ªã€å¥åº·æ£€æŸ¥å’Œèº«ä»½éªŒè¯çš„å¯æ’æ‹”æ”¯æŒï¼Œæœ‰æ•ˆåœ°è¿æ¥æ•°æ®ä¸­å¿ƒå†…å’Œè·¨æ•°æ®ä¸­å¿ƒçš„æœåŠ¡ã€‚å®ƒä¹Ÿé€‚ç”¨äºåˆ†å¸ƒå¼è®¡ç®—çš„æœ€åä¸€è‹±é‡Œï¼Œå°†è®¾å¤‡ã€ç§»åŠ¨åº”ç”¨ç¨‹åºå’Œæµè§ˆå™¨è¿æ¥åˆ°åç«¯æœåŠ¡ã€‚ ","date":"2022-06-20","objectID":"/2022/06/20/go-grpc/:0:0","tags":["Go"],"title":"Go gRPC","uri":"/2022/06/20/go-grpc/"},{"categories":["Go","gRPC"],"content":"gRPC çš„ç‰¹æ€§ ç®€å•æœåŠ¡å®šä¹‰ï¼šä½¿ç”¨ Protocol Buffers å®šä¹‰ä½ çš„æœåŠ¡ï¼Œè¿™æ˜¯ä¸€ä¸ªå¼ºå¤§çš„äºŒè¿›åˆ¶åºåˆ—åŒ–å·¥å…·é›†å’Œè¯­è¨€ï¼› å¿«é€Ÿå¯åŠ¨å¹¶æ‰©å±•ï¼šåªéœ€ä¸€è¡Œä»£ç å³å¯å®‰è£…è¿è¡Œæ—¶å’Œå¼€å‘ç¯å¢ƒï¼Œè¿˜å¯ä»¥é€šè¿‡è¯¥æ¡†æ¶æ‰©å±•åˆ°æ¯ç§’æ•°ç™¾ä¸‡ä¸ª RPCsï¼› è·¨è¯­è¨€å’Œå¹³å°å·¥ä½œï¼šä½¿ç”¨å¤šç§è¯­è¨€å’Œå¹³å°è‡ªåŠ¨ä¸ºä½ çš„æœåŠ¡ç”Ÿæˆæƒ¯ç”¨çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æ¡©ï¼› åŒå‘æµå’Œé›†æˆèº«ä»½éªŒè¯ï¼šåŒå‘æµå¼ä¼ è¾“å’Œå®Œå…¨é›†æˆçš„å¯æ’æ‹”èº«ä»½éªŒè¯ï¼Œä»¥åŠåŸºäº HTTP/2 çš„ä¼ è¾“ï¼› ","date":"2022-06-20","objectID":"/2022/06/20/go-grpc/:1:0","tags":["Go"],"title":"Go gRPC","uri":"/2022/06/20/go-grpc/"},{"categories":["Go","gRPC"],"content":"gRPC ä¸ RPC çš„å…³ç³» RPC æ˜¯ä¸€ç§åè®®ï¼ŒgRPC æ˜¯åŸºäº RPC åè®®å®ç°çš„ä¸€ç§æ¡†æ¶ï¼› gRPC è§£å†³äº† RPC çš„ä¸‰å¤§é—®é¢˜ï¼š åè®®çº¦å®šï¼› ä¼ è¾“åè®®ï¼› æœåŠ¡å‘ç°ï¼› ","date":"2022-06-20","objectID":"/2022/06/20/go-grpc/:2:0","tags":["Go"],"title":"Go gRPC","uri":"/2022/06/20/go-grpc/"},{"categories":["Go","gRPC"],"content":"gRPC é€‚ç”¨åœºæ™¯ ","date":"2022-06-20","objectID":"/2022/06/20/go-grpc/:3:0","tags":["Go"],"title":"Go gRPC","uri":"/2022/06/20/go-grpc/"},{"categories":["Go","gRPC"],"content":"gRPC ç¯å¢ƒé…ç½® ","date":"2022-06-20","objectID":"/2022/06/20/go-grpc/:4:0","tags":["Go"],"title":"Go gRPC","uri":"/2022/06/20/go-grpc/"},{"categories":["Go","gRPC"],"content":"å®‰è£… protobuf $ brew install autoconf automake libtool $ brew install protobuf --HEAD æˆ– $ git clone https://github.com/protocolbuffers/protobuf.git $ cd protobuf $ git submodule update --init --recursive $ ./autogen.sh $ ./configure $ make $ make check $ sudo make install ","date":"2022-06-20","objectID":"/2022/06/20/go-grpc/:4:1","tags":["Go"],"title":"Go gRPC","uri":"/2022/06/20/go-grpc/"},{"categories":["Go","gRPC"],"content":"å®‰è£… Go çš„åè®®ç¼–è¯‘å™¨æ’ä»¶ $ go install github.com/golang/protobuf/protoc-gen-go@v1.5.2 $ go install google.golang.org/grpc/cmd/protoc-gen-go-grpc@v1.2.0 ","date":"2022-06-20","objectID":"/2022/06/20/go-grpc/:4:2","tags":["Go"],"title":"Go gRPC","uri":"/2022/06/20/go-grpc/"},{"categories":["Go","gRPC"],"content":"æ›´æ–° PATH è·¯å¾„ $ export PATH=\"$PATH:$(go env GOPATH)/bin\" ","date":"2022-06-20","objectID":"/2022/06/20/go-grpc/:4:3","tags":["Go"],"title":"Go gRPC","uri":"/2022/06/20/go-grpc/"},{"categories":["Go","gRPC"],"content":"å®ä¾‹ ","date":"2022-06-20","objectID":"/2022/06/20/go-grpc/:5:0","tags":["Go"],"title":"Go gRPC","uri":"/2022/06/20/go-grpc/"},{"categories":["Go","gRPC"],"content":"å®ä¾‹ä¸€ å®šä¹‰æœåŠ¡ $ mkdir greeter $ cd greeter $ mkdir hello åœ¨ hello ç›®å½•ä¸‹åˆ›å»º hello.proto æ–‡ä»¶å¹¶å¤åˆ¶ä»¥ä¸‹å†…å®¹ï¼š syntax = \"proto3\"; option go_package = \"greeter.io/greeter/examples/hello/hello\"; option java_multiple_files = true; option java_package = \"io.greeter.examples.hello\"; option java_outer_classname = \"HelloProto\"; package hello; // The greeting service definition. service Greeter { // Sends a greeting. rpc hello(HelloRequest) returns (HelloResponse) {} } // The request message containing the user's name. message HelloRequest { string name = 1; } // The response message containing the greetings. message HelloResponse { string message = 1; } å®Œæˆååœ¨ greeter ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š $ protoc --go_out=. --go_opt=paths=source_relative \\ --go-grpc_out=. --go-grpc_opt=paths=source_relative \\ hello/hello.proto å‘½ä»¤å®Œæˆååœ¨ hello ç›®å½•ä¸‹ä¼šç”Ÿæˆ hello_grpc.pb.go å’Œ hello.pb.go æ–‡ä»¶ã€‚ ç¼–å†™æœåŠ¡ç«¯ åœ¨ greeter/cmd/server/main.go æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š package main import ( \"context\" \"flag\" \"fmt\" \"greeter/hello\" \"log\" \"net\" \"google.golang.org/grpc\" ) var ( port = flag.Int(\"port\", 50051, \"The server port\") ) type server struct { hello.UnimplementedGreeterServer } func (s *server) Hello(ctx context.Context, in *hello.HelloRequest) (*hello.HelloResponse, error) { log.Printf(\"Received: %v\", in.GetName()) return \u0026hello.HelloResponse{Message: \"Hello \" + in.GetName()}, nil } func main() { flag.Parse() lis, err := net.Listen(\"tcp\", fmt.Sprintf(\":%d\", *port)) if err != nil { log.Fatalf(\"failed to listen: %v\", err) } s := grpc.NewServer() hello.RegisterGreeterServer(s, \u0026server{}) log.Printf(\"Server listening at %v\", lis.Addr()) if err := s.Serve(lis); err != nil { log.Fatalf(\"failed to serve: %v\", err) } } å¯åŠ¨ grpc server æœåŠ¡ï¼š $ go run cmd/server/main.go 2022/06/21 13:49:19 Server listening at [::]:50051 ç¼–å†™å®¢æˆ·ç«¯ åœ¨ greeter/cmd/client/main.go æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š package main import ( \"context\" \"flag\" \"greeter/hello\" \"log\" \"time\" \"google.golang.org/grpc\" \"google.golang.org/grpc/credentials/insecure\" ) const ( defaultName = \"World, Hello Go! ğŸ‰\" ) var ( addr = flag.String(\"addr\", \"localhost:50051\", \"The address to connect to\") name = flag.String(\"name\", defaultName, \"The name to greet\") ) func main() { flag.Parse() // Set up a connection to the server. conn, err := grpc.Dial(*addr, grpc.WithTransportCredentials(insecure.NewCredentials())) if err != nil { log.Fatalf(\"did not connect: %v\", err) } defer conn.Close() c := hello.NewGreeterClient(conn) ctx, cancel := context.WithTimeout(context.Background(), time.Second) defer cancel() r, err := c.Hello(ctx, \u0026hello.HelloRequest{Name: *name}) if err != nil { log.Fatalf(\"could not greet: %v\", err) } log.Printf(\"Greeting: %s\", r.GetMessage()) } å¯åŠ¨ grpc client æœåŠ¡ï¼š $ go run cmd/client/main.go --name=\"World, Hello Go ğŸ‰\" 2022/06/21 13:51:36 Greeting: Hello World, Hello Go ğŸ‰ æœ€ç»ˆçš„ä»£ç ç›®å½•ç»“æ„ï¼š . â”œâ”€â”€ cmd â”‚ â”œâ”€â”€ client â”‚ â”‚ â””â”€â”€ main.go â”‚ â””â”€â”€ server â”‚ â””â”€â”€ main.go â”œâ”€â”€ go.mod â”œâ”€â”€ go.sum â””â”€â”€ hello â”œâ”€â”€ hello.pb.go â”œâ”€â”€ hello.proto â””â”€â”€ hello_grpc.pb.go ","date":"2022-06-20","objectID":"/2022/06/20/go-grpc/:5:1","tags":["Go"],"title":"Go gRPC","uri":"/2022/06/20/go-grpc/"},{"categories":["Go","gRPC"],"content":"å®ä¾‹äºŒ å®šä¹‰æœåŠ¡ $ mkdir routeguide $ cd routeguide $ mkdir route åœ¨ route ç›®å½•ä¸‹åˆ›å»º route.proto æ–‡ä»¶å¹¶å¤åˆ¶ä»¥ä¸‹å†…å®¹ï¼š syntax = \"proto3\"; option go_package = \"routeguide/route\"; option java_multiple_files = true; option java_package = \"io.routeguide.route\"; option java_outer_classname = \"RouteProto\"; package route; // Interface exported by the server. service Route { // A simple RPC. // // Obtains the feature at a given position. // // A feature with an empty name is returned if there's no feature // at the give position. rpc GetFeature(Point) returns (Feature) {} // A server-to-client streaming RPC. // // Obtains the features available within the given Rectangle. Results // are streamed rather than returned at once (e.g. in a response message // with a repeated field), as the rectangle may cover a large area and // contain a huge number of features. rpc GetFeatures(Rectangle) returns (stream Feature) {} // A client-to-server streaming RPC. // // Accepts a stream of Points on a route being traversed, returning // a RouteSummary when traversal is completed. rpc RecordRoute(stream Point) returns (RouteSummary) {} // A Bidirectional streaming RPC. // // Accepts a stream of RouteNotes sent whil a route is being traversed, // while receiving other RouteNotes (e.g. from other users). rpc RouteChat(stream RouteNote) returns (stream RouteNote) {} } // Points are represented as latitude-longitude pairs in the E7 representation // (degrees multiplied by 10**7 and rounded to the nearest interger). // Latitude should be in the range +/- 90 degrees and longitude should be in // the range +/- 180 degrees (inclusive). message Point { int32 latitude = 1; int32 longitude = 2; } // A latitude-longitude rectangle, represented as two diagonally opposite // points \"lo\" and \"hi\". message Rectangle { // One corner of the rectangle. Point lo = 1; // The other corner of the rectangle. Point hi = 2; } // A feature names something at a given point. // // If a feature could not be named, the name is empty. message Feature { // The name of the feature. string name = 1; // The point where the feature is detected. Point location = 2; } // A RouteNote is a message sent while at a given point. message RouteNote { // The location from which the message is sent. Point location = 1; // The message to be sent. string message = 2; } // A RouteSummary is received in response to a RecordRoute rpc. // // It contains the number of individual points received, the number // of detected features, and the total distance covered as the // cumulative sum of the distance between eath point. message RouteSummary { // The number of points received. int32 point_count = 1; // The number of known features passed while traversing the route. int32 feature_count = 2; // The distance covered in metres. int32 distance = 3; // The duration of the traversal in seconds. int32 elapsed_time = 4; } å®Œæˆååœ¨ routeguide ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š $ protoc --go_out=. --go_opt=paths=source_relative \\ --go-grpc_out=. --go-grpc_opt=paths=source_relative \\ route/route.proto ç¼–å†™æœåŠ¡ç«¯ åœ¨ routeguide/cmd/server/main.go æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š // Package main implements a simple gRPC server that demonstrates how to use gRPC-Go libraries // to perform unary, client streaming, server streaming and full duplex RPCs. // // It implements the route service whose definition can be found in routeguide/route.proto. package main import ( \"context\" \"encoding/json\" \"flag\" \"fmt\" \"io\" \"io/ioutil\" \"log\" \"math\" \"net\" \"sync\" \"time\" \"github.com/golang/protobuf/proto\" \"google.golang.org/grpc\" \"google.golang.org/grpc/credentials\" \"routeguide/data\" pb \"routeguide/route\" ) var ( tls = flag.Bool(\"tls\", false, \"Connection uses TLS if true, else plain TCP\") keyfile = flag.String(\"keyfile\", \"\", \"The TLS key file\") certfile = flag.String(\"certfile\", \"\", \"The TLS certificate file\") jsonfile = flag.String(\"jsonfile\", \"\", \"A JSON file containing a list of features\") port = flag.Int(\"port\", 50051, \"The server port\") ) type routeServer struct { pb.UnimplementedRouteServer // read-only after in","date":"2022-06-20","objectID":"/2022/06/20/go-grpc/:5:2","tags":["Go"],"title":"Go gRPC","uri":"/2022/06/20/go-grpc/"},{"categories":null,"content":"æŠ€æœ¯æ–‡æ¡£ PHP PHP Programming Language Rust Rust Programming Language Go Go Programming Language MySQL MySQL 8.0 Reference Manual Nginx NGINX is a free, open-source, high-performance HTTP server Server Programming Guide Server Programming Guide Linux Tools Quick Tutorial Linux Tools Quick Tutorial Docker Documentation Develop faster. Run anywhere. Kubernetes Documentation Production-Grade Container Orchestration ","date":"2022-06-17","objectID":"/docs/:1:0","tags":null,"title":"Docs","uri":"/docs/"},{"categories":null,"content":"æ•ˆç‡å·¥å…· ","date":"2022-06-17","objectID":"/docs/:2:0","tags":null,"title":"Docs","uri":"/docs/"},{"categories":null,"content":"åä½œå·¥å…· è…¾è®¯æ–‡æ¡£ è®©åä½œæ›´é«˜æ•ˆï¼Œåˆ›ä½œæ›´è½»æ¾ã€‚ çŸ³å¢¨æ–‡æ¡£ å…¨æ–°ä¸€ä»£äº‘ç«¯ Officeï¼Œé¢å‘æœªæ¥çš„åŠå…¬è½¯ä»¶ é‡‘å±±æ–‡æ¡£ ä¸€èµ·åŠå…¬æ‰é«˜æ•ˆ è¯­é›€ ç”¨è¯­é›€ï¼Œæ„å»ºä½ çš„æ•°å­—èŠ±å›­ ","date":"2022-06-17","objectID":"/docs/:2:1","tags":null,"title":"Docs","uri":"/docs/"},{"categories":null,"content":"ç¿»è¯‘å·¥å…· å‰‘æ¡¥è‹±è¯­ç¿»è¯‘ å‰‘æ¡¥è‹±è¯­è¯å…¸ DeepL ç¿»è¯‘ äººå·¥æ™ºèƒ½è¾…åŠ©ç¿»è¯‘ç³»ç»Ÿ å¥é…· ä¾‹å¥æœç´¢ CNKIç¿»è¯‘åŠ©æ‰‹ çŸ¥ç½‘æ——ä¸‹ç¿»è¯‘ç½‘ç«™ è°·æ­Œç¿»è¯‘ è°·æ­Œç¿»è¯‘å®˜ç½‘ ç™¾åº¦ç¿»è¯‘ å…¨çƒé¢†å…ˆçš„ç¿»è¯‘èƒ½åŠ› ","date":"2022-06-17","objectID":"/docs/:2:2","tags":null,"title":"Docs","uri":"/docs/"},{"categories":null,"content":"ç½‘é¡µå·¥å…· é¢œè‰²é€‰æ‹©å™¨ é¢œè‰²é€‰æ‹©å™¨ã€é¢œè‰²è¡¨å’ŒHTMLé¢œè‰²åç§° é¢œè‰²å€¼ CSS æ•°æ®ç±»å‹ \u003ccolor\u003e è¡¨ç¤ºä¸€ç§æ ‡å‡† RGB è‰²å½©ç©ºé—´ï¼ˆsRGB color spaceï¼‰çš„é¢œè‰²ã€‚ excalidraw Virtual whiteboard for sketching hand-drawn like diagrams ","date":"2022-06-17","objectID":"/docs/:2:3","tags":null,"title":"Docs","uri":"/docs/"},{"categories":null,"content":"ä»£ç åˆ†äº« codeimg Create and share beautiful images of your source code. carbon Create and share beautiful images of your source code showcode Create beautiful images of code. ","date":"2022-06-17","objectID":"/docs/:3:0","tags":null,"title":"Docs","uri":"/docs/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"æ ˆå’Œé˜Ÿåˆ—å¯çœ‹ä½œæ˜¯ç‰¹æ®Šçš„çº¿æ€§è¡¨ã€‚å®ƒä»¬çš„ç‰¹æ®Šæ€§è¡¨ç°åœ¨å®ƒä»¬çš„åŸºæœ¬è¿ç®—æ˜¯çº¿æ€§è¡¨è¿ç®—çš„å­é›†ï¼Œå®ƒä»¬æ˜¯è¿ç®—å—é™çš„çº¿æ€§è¡¨ã€‚ æ•°æ®ç»“æ„ä¸ç®—æ³•èµ·æ­¥ çº¿æ€§è¡¨ æ ˆå’Œé˜Ÿåˆ— ","date":"2022-05-14","objectID":"/2022/05/14/ds-stack-queue/:0:0","tags":["Data Structure \u0026 Algorithm"],"title":"æ ˆå’Œé˜Ÿåˆ—","uri":"/2022/05/14/ds-stack-queue/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"æ ˆ ","date":"2022-05-14","objectID":"/2022/05/14/ds-stack-queue/:1:0","tags":["Data Structure \u0026 Algorithm"],"title":"æ ˆå’Œé˜Ÿåˆ—","uri":"/2022/05/14/ds-stack-queue/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"æ ˆçš„æ¦‚å¿µ æ ˆï¼ˆStackï¼‰ ï¼šæ˜¯è¿ç®—å—é™çš„çº¿æ€§è¡¨ï¼Œå…¶ä¸Šçš„æ’å…¥å’Œåˆ é™¤è¿ç®—é™å®šåœ¨è¡¨çš„æŸä¸€ç«¯è¿›è¡Œï¼Œå…è®¸è¿›è¡Œæ’å…¥å’Œåˆ é™¤çš„ä¸€ç«¯ç§°ä¸º æ ˆé¡¶ï¼Œå¦ä¸€ç«¯ç§°ä¸º æ ˆåº•ã€‚ä¸å«ä»»ä½•æ•°æ®å…ƒç´ çš„æ ˆç§°ä¸º ç©ºæ ˆã€‚å¤„äºæ ˆé¡¶ä½ç½®çš„æ•°æ®å…ƒç´ ç§°ä¸º æ ˆé¡¶å…ƒç´ ã€‚ æ ˆçš„ä¿®æ”¹åŸåˆ™ï¼šåè¿›å…ˆå‡ºï¼ˆLIFO - Last In First Outï¼‰ï¼Œå› æ­¤ï¼Œæ ˆåˆç§°ä¸ºåè¿›å…ˆå‡ºçš„çº¿æ€§è¡¨ï¼Œç®€ç§° åè¿›å…ˆå‡ºè¡¨ã€‚æ ˆçš„æ’å…¥å’Œåˆ é™¤è¿ç®—åˆ†åˆ«ç§°ä¸º è¿›æ ˆ å’Œ å‡ºæ ˆã€‚ ä¸Šæº¢ï¼šæ ˆä¸­çš„æ•°æ®å…ƒç´ å·²ç»å¡«æ»¡äº†ï¼Œå¦‚æœå†è¿›è¡Œè¿›æ ˆæ“ä½œï¼Œä¼šå‘ç”Ÿã€Œä¸Šæº¢ã€ï¼Œä¸ºäº†é˜²æ­¢æ•°æ®ä¸¢å¤±ï¼Œåœ¨è¿›æ ˆæ“ä½œä¹‹å‰åº”è¯¥åˆ¤æ–­æ˜¯å¦æ ˆæ»¡ã€‚ ä¸‹æº¢ï¼šæ ˆåˆå§‹åŒ–è¿ç®—å¾—åˆ°ä¸€ä¸ªç©ºæ ˆï¼Œæ­¤æ—¶ï¼Œæ ˆé¡¶ä¸‹æ ‡å€¼ top==0ï¼Œå¦‚æœæ­¤æ—¶åšå‡ºæ ˆè¿ç®—ï¼Œåˆ™äº§ç”Ÿã€Œä¸‹æº¢ã€ã€‚ æ ˆç›¸å…³å‡½æ•°å®šä¹‰ï¼š #ifndef DS_ALGO_DEMO_STACK_H #define DS_ALGO_DEMO_STACK_H #include \u003cstdbool.h\u003e #define MAX_STACK_SIZE 5 // é¡ºåºæ ˆ typedef struct stack { int data[MAX_STACK_SIZE]; // å­˜å‚¨æ ˆä¸­æ•°æ®å…ƒç´ çš„æ•°ç»„ int top; // æ ‡å¿—æ ˆé¡¶ä½ç½®çš„å˜é‡ } ArrayStack; ArrayStack *CreateArrayStack(); bool PushArrayStack(ArrayStack *stack, int value); bool PopArrayStack(ArrayStack *stack); int GetTopArrayStack(ArrayStack *stack); bool IsEmptyArrayStack(ArrayStack *stack); // é“¾å¼æ ˆ typedef struct node { int data; struct node *next; } LinkedStack; LinkedStack *CreateLinkedStack(); bool PushLinkedStack(LinkedStack *stack, int value); bool PopLinkedStack(LinkedStack *stack); int GetTopLinkedStack(LinkedStack *stack); bool IsEmptyLinkedStack(LinkedStack *stack); #endif ","date":"2022-05-14","objectID":"/2022/05/14/ds-stack-queue/:1:1","tags":["Data Structure \u0026 Algorithm"],"title":"æ ˆå’Œé˜Ÿåˆ—","uri":"/2022/05/14/ds-stack-queue/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"é¡ºåºæ ˆ å®ç°ä»£ç ï¼š #include \"stack.h\" #include \u003cstdlib.h\u003e ArrayStack *CreateArrayStack() { ArrayStack *stack = (ArrayStack *) malloc(sizeof(ArrayStack)); if (stack == NULL) { return NULL; } stack-\u003etop = 0; return stack; } bool PushArrayStack(ArrayStack *stack, int value) { if (stack-\u003etop == MAX_STACK_SIZE - 1) { return false; } stack-\u003etop++; stack-\u003edata[stack-\u003etop] = value; return true; } bool PopArrayStack(ArrayStack *stack) { if (IsEmptyArrayStack(stack)) { return false; } stack-\u003etop--; return true; } int GetTopArrayStack(ArrayStack *stack) { if (IsEmptyArrayStack(stack)) { return 0; } return stack-\u003edata[stack-\u003etop]; } bool IsEmptyArrayStack(ArrayStack *stack) { return stack-\u003etop == 0; } æµ‹è¯•ä»£ç ï¼š #include \u003cgtest/gtest.h\u003e extern \"C\" { #include \"../src/stack/stack.h\" } TEST(TestArrayStack, CreateArrayStack) { ArrayStack *stack = CreateArrayStack(); ASSERT_EQ(0, GetTopArrayStack(stack)); ASSERT_EQ(0, stack-\u003etop); ASSERT_TRUE(IsEmptyArrayStack(stack)); } TEST(TestArrayStack, PushArrayStack) { ArrayStack *stack = CreateArrayStack(); for (int i = 1; i \u003c 5; i++) { ASSERT_TRUE(PushArrayStack(stack, i)); ASSERT_EQ(i, GetTopArrayStack(stack)); ASSERT_EQ(i, stack-\u003etop); } ASSERT_FALSE(PushArrayStack(stack, 5)); ASSERT_EQ(4, GetTopArrayStack(stack)); ASSERT_EQ(4, stack-\u003etop); } TEST(TestArrayStack, PopArrayStack) { ArrayStack *stack = CreateArrayStack(); for (int i = 1; i \u003c 5; i++) { ASSERT_TRUE(PushArrayStack(stack, i)); ASSERT_EQ(i, GetTopArrayStack(stack)); ASSERT_EQ(i, stack-\u003etop); } for (int i = 1; i \u003c 5; i++) { ASSERT_TRUE(PopArrayStack(stack)); } ASSERT_FALSE(PopArrayStack(stack)); ASSERT_EQ(0, GetTopArrayStack(stack)); ASSERT_EQ(0, stack-\u003etop); ASSERT_TRUE(IsEmptyArrayStack(stack)); } ","date":"2022-05-14","objectID":"/2022/05/14/ds-stack-queue/:1:2","tags":["Data Structure \u0026 Algorithm"],"title":"æ ˆå’Œé˜Ÿåˆ—","uri":"/2022/05/14/ds-stack-queue/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"é“¾å¼æ ˆ å®ç°ä»£ç ï¼š #include \"stack.h\" #include \u003cstdlib.h\u003e LinkedStack *CreateLinkedStack() { LinkedStack *stack = (LinkedStack *) malloc(sizeof(LinkedStack)); if (stack == NULL) { return NULL; } stack-\u003enext = NULL; return stack; } bool PushLinkedStack(LinkedStack *stack, int value) { LinkedStack *temp; temp = (LinkedStack *) malloc(sizeof(LinkedStack)); if (temp == NULL) { return false; } temp-\u003edata = value; temp-\u003enext = stack-\u003enext; stack-\u003enext = temp; return true; } bool PopLinkedStack(LinkedStack *stack) { if (IsEmptyLinkedStack(stack)) { return false; } LinkedStack *temp; temp = stack-\u003enext; stack-\u003enext = temp-\u003enext; free(temp); return true; } int GetTopLinkedStack(LinkedStack *stack) { if (IsEmptyLinkedStack(stack)) { return 0; } return stack-\u003enext-\u003edata; } bool IsEmptyLinkedStack(LinkedStack *stack) { return stack-\u003enext == NULL; } æµ‹è¯•ä»£ç ï¼š #include \u003cgtest/gtest.h\u003e extern \"C\" { #include \"../src/stack/stack.h\" } TEST(TestLinkedStack, CreateLinkedStack) { LinkedStack *stack = CreateLinkedStack(); ASSERT_EQ(0, GetTopLinkedStack(stack)); ASSERT_EQ(NULL, stack-\u003enext); ASSERT_TRUE(IsEmptyLinkedStack(stack)); } TEST(TestLinkedStack, PushLinkedStack) { LinkedStack *stack = CreateLinkedStack(); for (int i = 1; i \u003c MAX_STACK_SIZE * 2; i++) { ASSERT_TRUE(PushLinkedStack(stack, i)); ASSERT_EQ(i, GetTopLinkedStack(stack)); ASSERT_EQ(i, stack-\u003enext-\u003edata); } ASSERT_EQ(9, stack-\u003enext-\u003edata); } TEST(TestLinkedStack, PopLinkedStack) { LinkedStack *stack = CreateLinkedStack(); for (int i = 1; i \u003c MAX_STACK_SIZE * 2; i++) { ASSERT_TRUE(PushLinkedStack(stack, i)); ASSERT_EQ(i, GetTopLinkedStack(stack)); ASSERT_EQ(i, stack-\u003enext-\u003edata); } for (int i = 1; i \u003c MAX_STACK_SIZE * 2; i++) { ASSERT_TRUE(PopLinkedStack(stack)); } ASSERT_FALSE(PopLinkedStack(stack)); ASSERT_TRUE(IsEmptyLinkedStack(stack)); ASSERT_EQ(0, GetTopLinkedStack(stack)); ASSERT_EQ(NULL, stack-\u003enext); ASSERT_EQ(0, stack-\u003edata); } ","date":"2022-05-14","objectID":"/2022/05/14/ds-stack-queue/:1:3","tags":["Data Structure \u0026 Algorithm"],"title":"æ ˆå’Œé˜Ÿåˆ—","uri":"/2022/05/14/ds-stack-queue/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"é€’å½’ä¸æ ˆ é€’å½’ï¼ˆRecursionï¼‰ï¼šå¦‚æœåœ¨ä¸€ä¸ªå‡½æ•°æˆ–æ•°æ®ç»“æ„çš„å®šä¹‰ä¸­åˆåº”ç”¨äº†å®ƒè‡ªèº«ï¼ˆä½œä¸ºå®šä¹‰é¡¹ä¹‹ä¸€ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°æˆ–æ•°æ®ç»“æ„ç§°ä¸ºæ˜¯é€’å½’å®šä¹‰çš„ï¼Œç®€ç§°é€’å½’ã€‚ é€’å½’å®šä¹‰ä¸èƒ½æ˜¯ã€Œå¾ªç¯å®šä¹‰ã€ï¼Œä¸ºæ­¤è¦æ±‚ä»»ä½•é€’å½’å®šä¹‰å¿…é¡»åŒæ—¶æ»¡è¶³å¦‚ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼š è¢«å®šä¹‰é¡¹åœ¨å®šä¹‰ä¸­çš„åº”ç”¨ï¼ˆå³ä½œä¸ºå®šä¹‰é¡¹çš„å‡ºç°ï¼‰å…·æœ‰æ›´å°çš„ã€Œè§„æ¨¡ã€ï¼› è¢«å®šä¹‰é¡¹åœ¨æœ€å°ã€Œè§„æ¨¡ã€ä¸Šçš„å®šä¹‰æ˜¯éé€’å½’ï¼Œè¿™æ˜¯é€’å½’çš„ç»“æŸæ¡ä»¶ï¼› é€’å½’å‡½æ•°çš„è¿è¡Œå¼•èµ·é€’å½’è°ƒç”¨ã€‚ä¸ºäº†ä¿è¯åœ¨ä¸åŒå±‚æ¬¡çš„é€’å½’è°ƒç”¨èƒ½æ­£ç¡®åœ°è¿”å›ï¼Œå¿…é¡»å°†æ¯ä¸€æ¬¡é€’å½’è°ƒç”¨çš„å‚æ•°å’Œè¿”å›åœ°å€ä¿å­˜èµ·æ¥ã€‚ç”±äºå‡½æ•°çš„é€’å½’è°ƒç”¨æ˜¯åè¿›å…ˆå‡ºçš„ï¼Œæ‰€ä»¥è¦ç”¨æ ˆæ¥ä¿å­˜è¿™äº›å€¼ã€‚ ","date":"2022-05-14","objectID":"/2022/05/14/ds-stack-queue/:1:4","tags":["Data Structure \u0026 Algorithm"],"title":"æ ˆå’Œé˜Ÿåˆ—","uri":"/2022/05/14/ds-stack-queue/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"å¯¹åˆ— ","date":"2022-05-14","objectID":"/2022/05/14/ds-stack-queue/:2:0","tags":["Data Structure \u0026 Algorithm"],"title":"æ ˆå’Œé˜Ÿåˆ—","uri":"/2022/05/14/ds-stack-queue/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"å¯¹åˆ—çš„æ¦‚å¿µ é˜Ÿåˆ—ï¼ˆQueueï¼‰ï¼šæ˜¯æœ‰é™ä¸ªåŒç±»å‹æ•°æ®å…ƒç´ çš„çº¿æ€§åºåˆ—ï¼Œæ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡ºï¼ˆFIFO - First In First Outï¼‰çš„çº¿æ€§è¡¨ï¼Œæ–°åŠ å…¥çš„æ•°æ®å…ƒç´ æ’åœ¨é˜Ÿåˆ—å°¾ç«¯ï¼Œå‡ºé˜Ÿåˆ—çš„æ•°æ®å…ƒç´ åœ¨é˜Ÿåˆ—é¦–ç«¯è¢«åˆ é™¤ã€‚ é˜Ÿåˆ—ç»“æ„çš„å‡ ä¸ªå±æ€§ï¼š é˜Ÿå°¾ï¼šæ’å…¥çš„ä¸€ç«¯å«åšé˜Ÿå°¾ï¼› é˜Ÿå¤´ï¼šåˆ é™¤çš„ä¸€ç«¯å«åšé˜Ÿå¤´ï¼› å…¥é˜Ÿï¼šå‘é˜Ÿåˆ—ä¸­æ’å…¥æ–°èŠ‚ç‚¹å…ƒç´ ç§°ä¸ºå…¥é˜Ÿï¼› å‡ºé˜Ÿï¼šä»é˜Ÿåˆ—ä¸­åˆ é™¤èŠ‚ç‚¹å…ƒç´ ç§°ä¸ºå‡ºé˜Ÿï¼› é˜Ÿç©ºï¼šå½“é˜Ÿåˆ—ä¸­æ— èŠ‚ç‚¹å…ƒç´ æ—¶ï¼Œè¡¨ç¤ºé˜Ÿç©ºï¼› é˜Ÿæ»¡ï¼šå½“é˜Ÿåˆ—ä¸­èŠ‚ç‚¹è¶…è¿‡å…è®¸å­˜å‚¨ç©ºé—´æ—¶ï¼Œè¡¨ç¤ºé˜Ÿæ»¡ï¼ˆé“¾é˜Ÿæ— é˜Ÿæ»¡çš„çŠ¶æ€ï¼‰ï¼› å¾ªç¯é˜Ÿåˆ—ä¸­çš„å‡ ä¸ªçº¦æŸï¼š é˜Ÿç©ºï¼šhead = tailï¼› é˜Ÿæ»¡ï¼šhead = (tail+1)%sizeï¼› è¿›é˜Ÿï¼šhead = (head+1)%sizeï¼› å‡ºé˜Ÿï¼štail = (tail+1)%sizeï¼› ä¸ªæ•°ï¼š(tail-head+size)%sizeï¼› é˜Ÿåˆ—ç›¸å…³å‡½æ•°å®šä¹‰ï¼š #ifndef DS_ALGO_DEMO_QUEUE_H #define DS_ALGO_DEMO_QUEUE_H #include \u003cstdbool.h\u003e #define MAX_QUEUE_SIZE 100 // é¡ºåºé˜Ÿåˆ— typedef struct queue { int data[MAX_QUEUE_SIZE]; int head, tail; } ArrayQueue; ArrayQueue *CreateArrayQueue(); bool EnArrayQueue(ArrayQueue *queue, int value); bool DeArrayQueue(ArrayQueue *queue); int GetHeadArrayQueue(ArrayQueue *queue); bool IsFullArrayQueue(ArrayQueue *queue); bool IsEmptyArrayQueue(ArrayQueue *queue); // å¾ªç¯é¡ºåºé˜Ÿåˆ— typedef struct caqueue { int data[MAX_QUEUE_SIZE]; int head, tail; } CircularArrayQueue; CircularArrayQueue *CreateCircularArrayQueue(); bool EnCircularArrayQueue(CircularArrayQueue *queue, int value); bool DeCircularArrayQueue(CircularArrayQueue *queue); int GetHeadCircularArrayQueue(CircularArrayQueue *queue); bool IsFullCircularArrayQueue(CircularArrayQueue *queue); bool IsEmptyCircularArrayQueue(CircularArrayQueue *queue); // é“¾å¼é˜Ÿåˆ— typedef struct node { int data; struct node *next; } LinkedQueueNode; typedef struct lkqueue { LinkedQueueNode *head, *tail; } LinkedQueue; LinkedQueue *CreateLinkedQueue(); bool EnLinkedQueue(LinkedQueue *queue, int value); bool DeLinkedQueue(LinkedQueue *queue); int GetHeadLinkedQueue(LinkedQueue *queue); bool IsEmptyLinkedQueue(LinkedQueue *queue); // å¾ªç¯é“¾å¼é˜Ÿåˆ— typedef struct cnode { int data; struct cnode *next; } CircularLinkedQueueNode; typedef struct clkqueue { CircularLinkedQueueNode *head, *tail; int len; int cap; } CircularLinkedQueue; CircularLinkedQueue *CreateCircularLinkedQueue(int cap); bool EnCircularLinkedQueue(CircularLinkedQueue *queue, int value); bool DeCircularLinkedQueue(CircularLinkedQueue *queue); int GetHeadCircularLinkedQueue(CircularLinkedQueue *queue); bool IsEmptyCircularLinkedQueue(CircularLinkedQueue *queue); bool IsFullCircularLinkedQueue(CircularLinkedQueue *queue); #endif ","date":"2022-05-14","objectID":"/2022/05/14/ds-stack-queue/:2:1","tags":["Data Structure \u0026 Algorithm"],"title":"æ ˆå’Œé˜Ÿåˆ—","uri":"/2022/05/14/ds-stack-queue/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"é¡ºåºå¯¹åˆ— é¡ºåºå¯¹åˆ—ï¼ˆSequential Queueï¼‰ï¼šæ˜¯ç”±ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼ˆç”¨äºå­˜å‚¨å¯¹åˆ—ä¸­å…ƒç´ ï¼‰åŠä¸¤ä¸ªåˆ†åˆ«æŒ‡ç¤ºé˜Ÿåˆ—é¦–å’Œé˜Ÿåˆ—å°¾å…ƒç´ çš„å˜é‡ç»„æˆï¼Œè¿™ä¸¤ä¸ªå˜é‡åˆ†åˆ«ç§°ä¸ºã€Œé˜Ÿåˆ—é¦–æŒ‡é’ˆã€å’Œã€Œé˜Ÿåˆ—å°¾æŒ‡é’ˆã€ã€‚ å®ç°ä»£ç ï¼š #include \"queue.h\" #include \u003cstdlib.h\u003e ArrayQueue *CreateArrayQueue() { ArrayQueue *queue = (ArrayQueue *) malloc(sizeof(ArrayQueue)); if (queue == NULL) { return NULL; } queue-\u003ehead = queue-\u003etail = 0; return queue; } bool EnArrayQueue(ArrayQueue *queue, int value) { if (IsFullArrayQueue(queue) || value \u003c= 0) { return false; } queue-\u003edata[queue-\u003etail] = value; queue-\u003etail++; return true; } bool DeArrayQueue(ArrayQueue *queue) { if (IsEmptyArrayQueue(queue)) { return false; } queue-\u003ehead++; return true; } int GetHeadArrayQueue(ArrayQueue *queue) { if (IsEmptyArrayQueue(queue)) { return 0; } return queue-\u003edata[queue-\u003ehead]; } bool IsFullArrayQueue(ArrayQueue *queue) { return queue-\u003etail == MAX_QUEUE_SIZE; } bool IsEmptyArrayQueue(ArrayQueue *queue) { return queue-\u003ehead == queue-\u003etail; } æµ‹è¯•ä»£ç ï¼š #include \u003cgtest/gtest.h\u003e extern \"C\" { #include \"../src/queue/queue.h\" } TEST(TestArrayQueue, CreateArrayQueue) { ArrayQueue *queue = CreateArrayQueue(); ASSERT_EQ(0, queue-\u003ehead); ASSERT_EQ(0, queue-\u003etail); ASSERT_TRUE(IsEmptyArrayQueue(queue)); ASSERT_FALSE(IsFullArrayQueue(queue)); ASSERT_EQ(0, GetHeadArrayQueue(queue)); } TEST(TestArrayQueue, EnArrayQueue) { ArrayQueue *queue = CreateArrayQueue(); ASSERT_FALSE(EnArrayQueue(queue, 0)); for (int i = 1; i \u003c= MAX_QUEUE_SIZE; i++) { ASSERT_TRUE(EnArrayQueue(queue, i)); ASSERT_EQ(1, GetHeadArrayQueue(queue)); } ASSERT_TRUE(IsFullArrayQueue(queue)); ASSERT_FALSE(EnArrayQueue(queue, MAX_QUEUE_SIZE)); ASSERT_EQ(1, GetHeadArrayQueue(queue)); } TEST(TestArrayQueue, DeArrayQueue) { int i; ArrayQueue *queue = CreateArrayQueue(); ASSERT_FALSE(DeArrayQueue(queue)); for (i = 1; i \u003c= MAX_QUEUE_SIZE; i++) { EnArrayQueue(queue, i); } for (i = 1; i \u003c= MAX_QUEUE_SIZE; i++) { ASSERT_EQ(i, GetHeadArrayQueue(queue)); ASSERT_TRUE(DeArrayQueue(queue)); } ASSERT_FALSE(DeArrayQueue(queue)); ASSERT_TRUE(IsEmptyArrayQueue(queue)); ASSERT_EQ(0, GetHeadArrayQueue(queue)); } ","date":"2022-05-14","objectID":"/2022/05/14/ds-stack-queue/:2:2","tags":["Data Structure \u0026 Algorithm"],"title":"æ ˆå’Œé˜Ÿåˆ—","uri":"/2022/05/14/ds-stack-queue/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"å¾ªç¯é¡ºåºé˜Ÿåˆ— å®ç°ä»£ç ï¼š #include \"queue.h\" #include \u003cstdlib.h\u003e CircularArrayQueue *CreateCircularArrayQueue() { CircularArrayQueue *queue = (CircularArrayQueue *) malloc(sizeof(CircularArrayQueue)); if (queue == NULL) { return NULL; } queue-\u003ehead = queue-\u003etail = 0; queue-\u003edata[queue-\u003ehead] = 0; return queue; } bool EnCircularArrayQueue(CircularArrayQueue *queue, int value) { if (IsFullCircularArrayQueue(queue) || value \u003c= 0) { return false; } queue-\u003etail = (queue-\u003etail + 1) % MAX_QUEUE_SIZE; queue-\u003edata[queue-\u003etail] = value; return true; } bool DeCircularArrayQueue(CircularArrayQueue *queue) { if (IsEmptyCircularArrayQueue(queue)) { return false; } queue-\u003ehead = (queue-\u003ehead + 1) % MAX_QUEUE_SIZE; return true; } int GetHeadCircularArrayQueue(CircularArrayQueue *queue) { if (IsEmptyCircularArrayQueue(queue)) { return 0; } return queue-\u003edata[(queue-\u003ehead + 1) % MAX_QUEUE_SIZE]; } bool IsFullCircularArrayQueue(CircularArrayQueue *queue) { return (queue-\u003etail + 1) % MAX_QUEUE_SIZE == queue-\u003ehead; } bool IsEmptyCircularArrayQueue(CircularArrayQueue *queue) { return queue-\u003ehead == queue-\u003etail; } æµ‹è¯•ä»£ç ï¼š #include \u003cgtest/gtest.h\u003e extern \"C\" { #include \"../src/queue/queue.h\" } TEST(TestCircularArrayQueue, CreateCircularArrayQueue) { CircularArrayQueue *queue = CreateCircularArrayQueue(); ASSERT_EQ(0, queue-\u003ehead); ASSERT_EQ(0, queue-\u003etail); ASSERT_EQ(0, queue-\u003edata[queue-\u003ehead]); } TEST(TestCircularArrayQueue, EnCircularArrayQueue) { CircularArrayQueue *queue = CreateCircularArrayQueue(); ASSERT_TRUE(IsEmptyCircularArrayQueue(queue)); ASSERT_FALSE(DeCircularArrayQueue(queue)); ASSERT_FALSE(EnCircularArrayQueue(queue, 0)); for (int i = 1; i \u003c MAX_QUEUE_SIZE; i++) { ASSERT_TRUE(EnCircularArrayQueue(queue, i)); ASSERT_EQ(1, GetHeadCircularArrayQueue(queue)); } ASSERT_TRUE(IsFullCircularArrayQueue(queue)); ASSERT_FALSE(EnCircularArrayQueue(queue, MAX_QUEUE_SIZE)); ASSERT_EQ(1, GetHeadCircularArrayQueue(queue)); } TEST(TestCircularArrayQueue, DeCircularArrayQueue) { int i; CircularArrayQueue *queue = CreateCircularArrayQueue(); ASSERT_TRUE(IsEmptyCircularArrayQueue(queue)); for (i = 1; i \u003c MAX_QUEUE_SIZE; i++) { ASSERT_TRUE(EnCircularArrayQueue(queue, i)); } for (i = 1; i \u003c MAX_QUEUE_SIZE; i++) { ASSERT_FALSE(IsEmptyCircularArrayQueue(queue)); ASSERT_EQ(i, GetHeadCircularArrayQueue(queue)); ASSERT_TRUE(DeCircularArrayQueue(queue)); } ASSERT_TRUE(IsEmptyCircularArrayQueue(queue)); ASSERT_EQ(0, GetHeadCircularArrayQueue(queue)); ASSERT_FALSE(DeCircularArrayQueue(queue)); } ","date":"2022-05-14","objectID":"/2022/05/14/ds-stack-queue/:2:3","tags":["Data Structure \u0026 Algorithm"],"title":"æ ˆå’Œé˜Ÿåˆ—","uri":"/2022/05/14/ds-stack-queue/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"é“¾å¼å¯¹åˆ— å®ç°ä»£ç ï¼š #include \"queue.h\" #include \u003cstdlib.h\u003e LinkedQueue *CreateLinkedQueue() { LinkedQueue *queue = (LinkedQueue *) malloc(sizeof(LinkedQueue)); if (queue == NULL) { return NULL; } LinkedQueueNode *node = (LinkedQueueNode *) malloc(sizeof(LinkedQueueNode)); if (node == NULL) { return NULL; } queue-\u003ehead = queue-\u003etail = node; return queue; } bool EnLinkedQueue(LinkedQueue *queue, int value) { if (queue == NULL || value \u003c= 0) { return false; } LinkedQueueNode *node; node = (LinkedQueueNode *) malloc(sizeof(LinkedQueueNode)); if (node == NULL) { return false; } node-\u003edata = value; node-\u003enext = NULL; queue-\u003etail-\u003enext = node; queue-\u003etail = node; return true; } bool DeLinkedQueue(LinkedQueue *queue) { if (IsEmptyLinkedQueue(queue)) { return false; } LinkedQueueNode *node = queue-\u003ehead-\u003enext; // ä½¿ node æŒ‡å‘é˜Ÿåˆ—çš„é¦–ç»“ç‚¹ queue-\u003ehead-\u003enext = node-\u003enext; // ä¿®æ”¹å¤´ç»“ç‚¹çš„æŒ‡é’ˆåŸŸæŒ‡å‘æ–°çš„é¦–ç»“ç‚¹ if (node-\u003enext == NULL) { queue-\u003etail = queue-\u003ehead; } free(node); return true; } int GetHeadLinkedQueue(LinkedQueue *queue) { if (IsEmptyLinkedQueue(queue)) { return 0; } LinkedQueueNode *node = queue-\u003ehead-\u003enext; return node-\u003edata; } bool IsEmptyLinkedQueue(LinkedQueue *queue) { return queue-\u003ehead == queue-\u003etail; } æµ‹è¯•ä»£ç ï¼š #include \u003cgtest/gtest.h\u003e extern \"C\" { #include \"../src/queue/queue.h\" } TEST(TestLinkedQueue, CreateLinkedQueue) { LinkedQueue *queue = CreateLinkedQueue(); ASSERT_EQ(NULL, queue-\u003ehead-\u003enext); ASSERT_EQ(NULL, queue-\u003etail-\u003enext); ASSERT_EQ(0, GetHeadLinkedQueue(queue)); ASSERT_TRUE(IsEmptyLinkedQueue(queue)); } TEST(TestLinkedQueue, EnLinkedQueue) { LinkedQueue *queue = CreateLinkedQueue(); ASSERT_FALSE(EnLinkedQueue(queue, 0)); ASSERT_TRUE(IsEmptyLinkedQueue(queue)); for (int i = 1; i \u003c= MAX_QUEUE_SIZE; i++) { ASSERT_TRUE(EnLinkedQueue(queue, i)); ASSERT_EQ(1, GetHeadLinkedQueue(queue)); } ASSERT_FALSE(IsEmptyLinkedQueue(queue)); ASSERT_EQ(1, GetHeadLinkedQueue(queue)); } TEST(TestLinkedQueue, DeLinkedQueue) { int i; LinkedQueue *queue = CreateLinkedQueue(); ASSERT_FALSE(DeLinkedQueue(queue)); for (i = 1; i \u003c= MAX_QUEUE_SIZE; i++) { ASSERT_TRUE(EnLinkedQueue(queue, i)); ASSERT_EQ(1, GetHeadLinkedQueue(queue)); } for (i = 1; i \u003c= MAX_QUEUE_SIZE; i++) { ASSERT_TRUE(DeLinkedQueue(queue)); } ASSERT_FALSE(DeLinkedQueue(queue)); ASSERT_TRUE(IsEmptyLinkedQueue(queue)); ASSERT_EQ(0, GetHeadLinkedQueue(queue)); } ","date":"2022-05-14","objectID":"/2022/05/14/ds-stack-queue/:2:4","tags":["Data Structure \u0026 Algorithm"],"title":"æ ˆå’Œé˜Ÿåˆ—","uri":"/2022/05/14/ds-stack-queue/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"å¾ªç¯é“¾å¼é˜Ÿåˆ— å®ç°ä»£ç ï¼š #include \"queue.h\" #include \u003cstdlib.h\u003e CircularLinkedQueue *CreateCircularLinkedQueue(int cap) { if (cap \u003c= 0) { return NULL; } CircularLinkedQueue *queue = (CircularLinkedQueue *) malloc(sizeof(CircularLinkedQueue)); if (queue == NULL) { return NULL; } CircularLinkedQueueNode *p, *q; p = (CircularLinkedQueueNode *) malloc(sizeof(CircularLinkedQueueNode)); queue-\u003ehead = queue-\u003etail = p; queue-\u003elen = 0; queue-\u003ecap = cap; p-\u003enext = q = p; for (int i = 0; i \u003c cap; i++) { q-\u003enext = (CircularLinkedQueueNode *) malloc(sizeof(CircularLinkedQueueNode)); q = q-\u003enext; } q-\u003enext = p; // é¦–å°¾é“¾æ¥ return queue; } bool EnCircularLinkedQueue(CircularLinkedQueue *queue, int value) { if (IsFullCircularLinkedQueue(queue) || value \u003c= 0) { return false; } queue-\u003etail-\u003edata = value; queue-\u003etail = queue-\u003etail-\u003enext; queue-\u003elen++; return true; } bool DeCircularLinkedQueue(CircularLinkedQueue *queue) { if (IsEmptyCircularLinkedQueue(queue)) { return false; } queue-\u003ehead = queue-\u003ehead-\u003enext; queue-\u003elen--; return true; } int GetHeadCircularLinkedQueue(CircularLinkedQueue *queue) { if (IsEmptyCircularLinkedQueue(queue)) { return 0; } return queue-\u003ehead-\u003edata; } bool IsEmptyCircularLinkedQueue(CircularLinkedQueue *queue) { return queue-\u003elen == 0; } bool IsFullCircularLinkedQueue(CircularLinkedQueue *queue) { return queue-\u003elen == queue-\u003ecap; } æµ‹è¯•ä»£ç ï¼š #include \u003cgtest/gtest.h\u003e extern \"C\" { #include \"../src/queue/queue.h\" } TEST(TestCircularLinkedQueue, CreateCircularLinkedQueue) { CircularLinkedQueue *queue = CreateCircularLinkedQueue(MAX_QUEUE_SIZE); ASSERT_EQ(NULL, queue-\u003ehead-\u003enext-\u003edata); ASSERT_EQ(NULL, queue-\u003etail-\u003enext-\u003edata); ASSERT_EQ(0, GetHeadCircularLinkedQueue(queue)); } TEST(TestCircularLinkedQueue, EnCircularArrayQueue) { CircularLinkedQueue *queue = CreateCircularLinkedQueue(MAX_QUEUE_SIZE); ASSERT_FALSE(EnCircularLinkedQueue(queue, 0)); ASSERT_TRUE(IsEmptyCircularLinkedQueue(queue)); for (int i = 1; i \u003c= MAX_QUEUE_SIZE; i++) { ASSERT_TRUE(EnCircularLinkedQueue(queue, i)); ASSERT_EQ(1, GetHeadCircularLinkedQueue(queue)); } ASSERT_FALSE(IsEmptyCircularLinkedQueue(queue)); ASSERT_EQ(1, GetHeadCircularLinkedQueue(queue)); } TEST(TestCircularLinkedQueue, DeCircularArrayQueue) { int i; CircularLinkedQueue *queue = CreateCircularLinkedQueue(MAX_QUEUE_SIZE); ASSERT_FALSE(DeCircularLinkedQueue(queue)); for (i = 1; i \u003c= MAX_QUEUE_SIZE; i++) { ASSERT_TRUE(EnCircularLinkedQueue(queue, i)); ASSERT_EQ(1, GetHeadCircularLinkedQueue(queue)); } for (i = 1; i \u003c= MAX_QUEUE_SIZE; i++) { ASSERT_TRUE(DeCircularLinkedQueue(queue)); } ASSERT_FALSE(DeCircularLinkedQueue(queue)); ASSERT_TRUE(IsEmptyCircularLinkedQueue(queue)); ASSERT_EQ(0, GetHeadCircularLinkedQueue(queue)); } ","date":"2022-05-14","objectID":"/2022/05/14/ds-stack-queue/:2:5","tags":["Data Structure \u0026 Algorithm"],"title":"æ ˆå’Œé˜Ÿåˆ—","uri":"/2022/05/14/ds-stack-queue/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"æ•°ç»„ ","date":"2022-05-14","objectID":"/2022/05/14/ds-stack-queue/:3:0","tags":["Data Structure \u0026 Algorithm"],"title":"æ ˆå’Œé˜Ÿåˆ—","uri":"/2022/05/14/ds-stack-queue/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"æ•°ç»„çš„é€»è¾‘ç»“æ„ æ•°ç»„å¯ä»¥çœ‹æˆçº¿æ€§è¡¨çš„ä¸€ç§æ¨å¹¿ã€‚ä¸€ç»´æ•°ç»„åˆç§° å‘é‡ï¼Œå®ƒç”±ä¸€ç»„å…·æœ‰ç›¸åŒç±»å‹çš„æ•°æ®å…ƒç´ ç»„æˆï¼Œå¹¶å­˜å‚¨åœ¨ä¸€ç»„è¿ç»­çš„å­˜å‚¨å•å…ƒä¸­ã€‚è‹¥ä¸€ç»´æ•°ç»„ä¸­çš„å…ƒç´ åˆæ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ç»“æ„ï¼Œåˆ™ç§°ä¸º äºŒç»´æ•°ç»„ï¼Œä¾æ¬¡ç±»æ¨ï¼Œé€æ¸å‡ç»´ã€‚ ä¸€èˆ¬åœ°ï¼Œä¸€ä¸ª n ç»´æ•°ç»„å¯ä»¥çœ‹æˆå…ƒç´ ä¸º n-1 ç»´æ•°ç»„çš„çº¿æ€§è¡¨ã€‚ æ•°ç»„é€šå¸¸æœ‰ä¸¤ç§åŸºæœ¬è¿ç®—ï¼š è¯»ï¼šç»™å®šä¸€ç»„ä¸‹æ ‡ï¼Œè¿”å›è¯¥ä½ç½®çš„å…ƒç´ å†…å®¹ï¼› å†™ï¼šç»™å®šä¸€ç»„ä¸‹æ ‡ï¼Œä¿®æ”¹è¯¥ä½ç½®çš„å…ƒç´ å†…å®¹ï¼› ","date":"2022-05-14","objectID":"/2022/05/14/ds-stack-queue/:3:1","tags":["Data Structure \u0026 Algorithm"],"title":"æ ˆå’Œé˜Ÿåˆ—","uri":"/2022/05/14/ds-stack-queue/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"æ•°ç»„çš„å­˜å‚¨ç»“æ„ ä¸€ç»´æ•°ç»„å…ƒç´ çš„å†…å­˜å•å…ƒåœ°å€æ˜¯è¿ç»­çš„ï¼ŒäºŒç»´æ•°ç»„å¯èƒ½æœ‰ä¸¤ç§å­˜å‚¨æ–¹æ³•ï¼šä¸€ç§æ˜¯ä»¥ åˆ—åº ä¸ºä¸»çš„å­˜å‚¨ï¼›å¦ä¸€ç§æ˜¯ä»¥ è¡Œåº ä¸ºä¸»çš„å­˜å‚¨ã€‚åœ¨ç±» C è¯­è¨€çš„ç¼–è¯‘ç¨‹åºä¸­ï¼Œæ•°ç»„é‡‡ç”¨çš„æ˜¯ä»¥ è¡Œåº ä¸ºä¸»åºçš„å­˜å‚¨æ–¹æ³•ã€‚ æ•°ç»„å…ƒç´ çš„å­˜å‚¨ä½ç½®æ˜¯ ä¸‹æ ‡ çš„çº¿æ€§å‡½æ•°ï¼Œå‡è®¾äºŒç»´æ•°ç»„ a[m][n]ï¼Œå¦‚æœæ¯ä¸ªå…ƒç´ å  k ä¸ªå­˜å‚¨å•å…ƒï¼Œåˆ™æœ‰ï¼š è¡Œåºä½ç½®ï¼šloc[i,j] = loc[0,0] + (n*i+j)*kï¼› åˆ—åºä½ç½®ï¼šloc[i,j] = loc[0,0] + (m*j+i)*kï¼› ","date":"2022-05-14","objectID":"/2022/05/14/ds-stack-queue/:3:2","tags":["Data Structure \u0026 Algorithm"],"title":"æ ˆå’Œé˜Ÿåˆ—","uri":"/2022/05/14/ds-stack-queue/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"çŸ©é˜µçš„å‹ç¼©å­˜å‚¨ çŸ©é˜µçš„å‹ç¼©å­˜å‚¨ï¼šåœ¨æ•°å€¼åˆ†æä¸­ç»å¸¸å‡ºç°ä¸€äº›é«˜é˜¶çŸ©é˜µï¼Œè¿™äº›é«˜é˜¶çŸ©é˜µä¸­æœ‰è®¸å¤šå€¼ç›¸åŒçš„å…ƒç´ æˆ–é›¶å…ƒç´ ï¼Œä¸ºäº†èŠ‚çœå­˜å‚¨ç©ºé—´ï¼Œå¯¹è¿™ç±»çŸ©é˜µé‡‡ç”¨å¤šä¸ªå€¼ç›¸åŒçš„å…ƒç´ åªåˆ†é…ä¸€ä¸ªå­˜å‚¨ç©ºé—´ï¼Œé›¶å…ƒç´ ä¸å­˜å‚¨çš„ç­–ç•¥ï¼Œç§°ä¸ºçŸ©é˜µçš„å‹ç¼©å­˜å‚¨ã€‚ ç‰¹æ®ŠçŸ©é˜µ å¦‚æœå€¼ç›¸åŒçš„å…ƒç´ æˆ–é›¶å…ƒç´ åœ¨çŸ©é˜µä¸­çš„åˆ†å¸ƒæœ‰ä¸€å®šè§„å¾‹ï¼Œç§°æ­¤çŸ©é˜µä¸º ç‰¹æ®ŠçŸ©é˜µã€‚ å¯¹ç§°çŸ©é˜µ å¯¹ç§°çŸ©é˜µï¼šè‹¥æœ‰ä¸€ä¸ª n é˜¶æ–¹é˜µ A ä¸­çš„å…ƒç´ æ»¡è¶³ aij= aji(0\u003c=i, j\u003c=n-1\u003e)ï¼Œåˆ™ç§° A ä¸ºå¯¹ç§°çŸ©é˜µã€‚ å¯¹ç§°çŸ©é˜µæœ‰è¿‘ä¸€åŠçš„å…ƒç´ å¯ä»¥é€šè¿‡å…¶å¯¹ç§°å…ƒç´ è·å¾—ï¼Œä¸ºæ¯ä¸€å¯¹å¯¹ç§°å…ƒç´ åªåˆ†é…ä¸€ä¸ªå­˜å‚¨å•å…ƒï¼Œåˆ™å¯å°† n2 ä¸ªå…ƒç´ å‹ç¼©å­˜å‚¨åˆ° n(n+1)/2 ä¸ªå…ƒç´ çš„ä¸€ç»´æ•°ç»„ä¸­ã€‚ è®¾çŸ©é˜µå…ƒç´  aij åœ¨æ•°ç»„ M ä¸­çš„ä½ç½®ä¸º kï¼Œ(i, k) å’Œ k å­˜åœ¨å¦‚ä¸‹å¯¹åº”å…³ç³»ï¼š â§ i(i+1)/2+j (i\u003e=j) k = â¨ â© j(j+1)/2+i (i\u003cj) ä¸‰è§’çŸ©é˜µ ä¸‰è§’çŸ©é˜µï¼šä»¥ä¸»å¯¹è§’çº¿ä¸ºç•Œçš„ä¸Šï¼ˆä¸‹ï¼‰åŠéƒ¨åˆ†æ˜¯ä¸€ä¸ªå›ºå®šçš„å€¼ c æˆ–é›¶ï¼Œè¿™æ ·çš„çŸ©é˜µå«åšä¸‹ï¼ˆä¸Šï¼‰ä¸‰è§’çŸ©é˜µã€‚ ä¸Šä¸‰è§’çŸ©é˜µï¼š ä¸Šä¸‰è§’çŸ©é˜µä¸­ï¼ŒM[k] å’Œ aij çš„å¯¹åº”å…³ç³»æ˜¯ï¼š â§ i(2n-i+1)/2+j-i (i\u003c=j) k = â¨ â© n(n+1)/2 (i\u003ej) ä¸‹ä¸‰è§’çŸ©é˜µï¼š ä¸‹ä¸‰è§’çŸ©é˜µä¸­ï¼ŒM[k] å’Œ aij çš„å¯¹åº”å…³ç³»æ˜¯ï¼š â§ i(i+1)/2+j (i\u003e=j) k = â¨ â© n(n+1)/2 (i\u003cj) ç¨€ç–çŸ©é˜µ å‡è®¾ m è¡Œ n åˆ—çš„çŸ©é˜µæœ‰ t ä¸ªéé›¶å…ƒç´ ï¼Œå½“ t\u003c=m*n æ—¶ï¼Œåˆ™ç§°çŸ©é˜µä¸º ç¨€ç–çŸ©é˜µï¼ˆSparse Matrixï¼‰ï¼Œç¨€ç–çŸ©é˜µä¸­éé›¶å…ƒç´ çš„ä¸ªæ•°å¾ˆå°‘ã€‚ ","date":"2022-05-14","objectID":"/2022/05/14/ds-stack-queue/:3:3","tags":["Data Structure \u0026 Algorithm"],"title":"æ ˆå’Œé˜Ÿåˆ—","uri":"/2022/05/14/ds-stack-queue/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"ä¹ é¢˜ è®¾ä¸€ä¸ªé“¾æ ˆçš„è¾“å…¥åºåˆ—ä¸º Aã€Bã€Cï¼Œè¯•å†™å‡ºæ‰€æœ‰å¾—åˆ°çš„å¯èƒ½è¾“å‡ºåºåˆ—ï¼Œå³è¾“å‡ºå‡ºæ ˆæ“ä½œå¾—åˆ°çš„æ•°æ®å…ƒç´ åºåˆ—ã€‚ å…±æœ‰ 5 ç§å¯èƒ½çš„è¾“å‡ºåºåˆ—ï¼š ABCï¼ŒA è¿› A å‡ºï¼ŒB è¿› B å‡ºï¼ŒC è¿› C å‡ºï¼› BCAï¼ŒA è¿› B è¿›ï¼ŒB å‡º C è¿›ï¼ŒC å‡º A å‡ºï¼› BACï¼ŒA è¿› B è¿›ï¼ŒB å‡º A å‡ºï¼ŒC è¿› C å‡ºï¼› CBAï¼ŒA è¿› B è¿›ï¼ŒC è¿› C å‡ºï¼ŒB å‡º A å‡ºï¼› ACBï¼ŒA è¿› A å‡ºï¼ŒB è¿› C è¿›ï¼ŒC å‡º B å‡ºï¼› å†™å‡ºä¸‹åˆ—ç¨‹åºçš„è¿è¡Œç»“æœã€‚ #include \"stack.h\" #include \u003cstdio.h\u003e #include \u003cstdlib.h\u003e int main() { char ch; ArrayStack *stack = CreateArrayStack(); for (ch = 'A'; ch \u003c= 'A' + 10; ch++) { PushArrayStack(stack, ch); printf(\"%c\", ch); } printf(\"\\n\"); while (!IsEmptyArrayStack(stack)) { ch = GetTopArrayStack(stack); PopArrayStack(stack); printf(\"%c\", ch); } printf(\"\\n\"); } ABCDEFGHIJK KJIHGFEDCBA è®¾æœ‰äºŒç»´æ•°ç»„ int M[10][20]ï¼Œæ¯ä¸ªå…ƒç´ ï¼ˆæ•´æ•°ï¼‰å  2 ä¸ªå­˜å‚¨å•å…ƒï¼Œæ•°ç»„çš„èµ·å§‹åœ°å€ä¸º 2000ï¼Œæ±‚å…ƒç´  M[5][10] çš„å­˜å‚¨ä½ç½®ï¼ŒM[8][19] çš„å­˜å‚¨ä½ç½®ã€‚ M[5][10] = 2000+(20*5+10)*2 = 2220 M[8][19] = 2000+(20*8+19)*2 = 2358 ä½¿ç”¨ä¸€ä¸ªå…ƒç´ ä¸ªæ•°ä¸º 100 çš„æ•°ç»„å­˜å‚¨å¾ªç¯é˜Ÿåˆ—ï¼Œå¦‚æœé‡‡å–å°‘ç”¨ä¸€ä¸ªå…ƒç´ ç©ºé—´çš„æ–¹æ³•æ¥åŒºåˆ«å¾ªç¯é˜Ÿåˆ—çš„é˜Ÿåˆ—ç©ºå’Œé˜Ÿåˆ—æ»¡ï¼Œçº¦å®šé˜Ÿåˆ—é¦–æŒ‡é’ˆ front ç­‰äºé˜Ÿåˆ—å°¾æŒ‡é’ˆ rear æ—¶è¡¨ç¤ºé˜Ÿåˆ—ä¸ºç©ºã€‚è‹¥ front=8, rear=7 æ—¶ï¼Œæ±‚é˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸ªæ•°ã€‚ é˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸ªæ•° = (7-8+100)%100 = 99 ","date":"2022-05-14","objectID":"/2022/05/14/ds-stack-queue/:4:0","tags":["Data Structure \u0026 Algorithm"],"title":"æ ˆå’Œé˜Ÿåˆ—","uri":"/2022/05/14/ds-stack-queue/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"çº¿æ€§è¡¨æ˜¯æœ€åŸºæœ¬ã€æœ€ç®€å•ã€ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§æ•°æ®ç»“æ„ã€‚çº¿æ€§è¡¨ï¼ˆlinear listï¼‰æ˜¯æ•°æ®ç»“æ„çš„ä¸€ç§ï¼Œä¸€ä¸ªçº¿æ€§è¡¨æ˜¯ n ä¸ªå…·æœ‰ç›¸åŒç‰¹æ€§çš„æ•°æ®å…ƒç´ çš„æœ‰é™åºåˆ—ã€‚ æ•°æ®ç»“æ„ä¸ç®—æ³•èµ·æ­¥ çº¿æ€§è¡¨ æ ˆå’Œé˜Ÿåˆ— ","date":"2022-05-04","objectID":"/2022/05/04/ds-linear-list/:0:0","tags":["Data Structure \u0026 Algorithm"],"title":"çº¿æ€§è¡¨","uri":"/2022/05/04/ds-linear-list/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"åŸºæœ¬æ¦‚å¿µ ","date":"2022-05-04","objectID":"/2022/05/04/ds-linear-list/:1:0","tags":["Data Structure \u0026 Algorithm"],"title":"çº¿æ€§è¡¨","uri":"/2022/05/04/ds-linear-list/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"å®šä¹‰ çº¿æ€§è¡¨ï¼ˆLinear Listï¼‰ï¼šæ˜¯ä¸€ç§çº¿æ€§ç»“æ„ï¼Œå®ƒæ˜¯ç”± n(n\u003e=0) ä¸ªæ•°æ®å…ƒç´ ç»„æˆçš„æœ‰ç©·åºåˆ—ï¼Œæ•°æ®å…ƒç´ åˆç§°ç»“ç‚¹ã€‚ç»“ç‚¹ä¸ªæ•° n ç§°ä¸ºè¡¨é•¿ã€‚ å½“ n=0 æ—¶ï¼Œçº¿æ€§è¡¨ä¸å«ä»»ä½•æ•°æ®å…ƒç´ ï¼Œç§°ä¸ºç©ºè¡¨ï¼Œè®°ä¸º () æˆ– Ã¸ï¼› å½“ n\u003e0 æ—¶ï¼Œçº¿æ€§è¡¨é€šå¸¸è¡¨ç¤ºæˆ (a1, a2, â€¦, an)ï¼Œa1 ç§°ä¸ºèµ·å§‹ç»“ç‚¹ï¼Œan ç§°ä¸ºç»ˆç«¯ç»“ç‚¹ã€‚å¯¹ä»»æ„ä¸€å¯¹ç›¸é‚»ç»“ç‚¹ ai å’Œ ai+1 (1\u003c=i\u003cn)ï¼Œai ç§°ä¸º ai+1 çš„ç›´æ¥å‰é©±ï¼Œai+1 ç§°ä¸º ai çš„ç›´æ¥åç»§ï¼› ","date":"2022-05-04","objectID":"/2022/05/04/ds-linear-list/:1:1","tags":["Data Structure \u0026 Algorithm"],"title":"çº¿æ€§è¡¨","uri":"/2022/05/04/ds-linear-list/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"åŸºæœ¬ç‰¹å¾ çº¿æ€§è¡¨åŸºæœ¬ç‰¹å¾ï¼šçº¿æ€§è¡¨ä¸­ç»“ç‚¹å…·æœ‰ä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œå¦‚æœç»“ç‚¹æ•°ä¸ä¸ºé›¶ï¼Œåˆ™é™¤èµ·å§‹ç»“ç‚¹æ²¡æœ‰ç›´æ¥å‰é©±å¤–ï¼Œå…¶å®ƒæ¯ä¸ªç»“ç‚¹æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªç›´æ¥å‰é©±ï¼›é™¤ç»ˆç‚¹ç»“ç‚¹æ²¡æœ‰ç›´æ¥åç»§å¤–ï¼Œå…¶å®ƒæ¯ä¸ªç»“ç‚¹æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªç›´æ¥åç»§ã€‚ ","date":"2022-05-04","objectID":"/2022/05/04/ds-linear-list/:1:2","tags":["Data Structure \u0026 Algorithm"],"title":"çº¿æ€§è¡¨","uri":"/2022/05/04/ds-linear-list/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"çº¿æ€§è¡¨çš„é¡ºåºå­˜å‚¨ ","date":"2022-05-04","objectID":"/2022/05/04/ds-linear-list/:2:0","tags":["Data Structure \u0026 Algorithm"],"title":"çº¿æ€§è¡¨","uri":"/2022/05/04/ds-linear-list/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"é¡ºåºè¡¨ é¡ºåºè¡¨ï¼šçº¿æ€§è¡¨çš„é¡ºåºå­˜å‚¨æ˜¯æŒ‡åœ¨å†…å­˜ä¸­ç”¨åœ°å€è¿ç»­çš„ä¸€å—å­˜å‚¨ç©ºé—´é¡ºåºå­˜æ”¾çº¿æ€§è¡¨ä¸­çš„å„æ•°æ®å…ƒç´ ï¼Œç”¨è¿™ç§å­˜å‚¨å½¢å¼å­˜å‚¨çš„çº¿æ€§è¡¨ç§°ä¸ºé¡ºåºè¡¨ã€‚ è®¾ a1 çš„å­˜å‚¨åœ°å€ä¸º Loc(a1)ï¼Œæ¯ä¸ªæ•°æ®å…ƒç´ å  d ä¸ªå­˜å‚¨å•å…ƒï¼Œåˆ™ç¬¬ i ä¸ªæ•°æ®å…ƒç´ çš„åœ°å€ä¸ºï¼šLoc(ai)=Loc(a1)+(i-1)*d (1â‰¤iâ‰¤n)ã€‚ ","date":"2022-05-04","objectID":"/2022/05/04/ds-linear-list/:2:1","tags":["Data Structure \u0026 Algorithm"],"title":"çº¿æ€§è¡¨","uri":"/2022/05/04/ds-linear-list/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"é¡ºåºè¡¨çš„åŸºæœ¬æ“ä½œ åˆ›å»ºç©ºè¡¨ï¼šSeqList *CreateSeqList();ï¼› æ’å…¥å…ƒç´ ï¼šint InsertSeqList(SeqList *list, int pos, int value);ï¼› åˆ é™¤å…ƒç´ ï¼šint DeleteSeqList(SeqList *list, int pos);ï¼› æ›´æ–°å…ƒç´ ï¼šint UpdateSeqList(SeqList *list, int pos, int value);ï¼› æŸ¥æ‰¾å…ƒç´ ï¼šint SearchSeqList(SeqList *list, int pos);ï¼› å®šä½å…ƒç´ ï¼šint LocateSeqList(SeqList *list, int value);ï¼› æ±‚è¡¨é•¿åº¦ï¼šint GetSeqListLength(SeqList *list);ï¼› åˆå¹¶æœ‰åºè¡¨ï¼švoid MergeSeqList(SeqList p, SeqList q, SeqList *t)ï¼› #include \u003cgtest/gtest.h\u003e #include \u003cstdbool.h\u003e #include \u003cstdlib.h\u003e const int MaxSize = 100; typedef struct { int data[MaxSize]; // å­˜æ”¾æ•°æ®çš„æ•°ç»„ int length; // é¡ºåºè¡¨çš„å®é™…é•¿åº¦ } SeqList; // é¡ºåºè¡¨ç±»å‹åä¸º SeqList SeqList *CreateSeqList(); bool InsertSeqList(SeqList *list, int pos, int value); bool DeleteSeqList(SeqList *list, int pos); bool UpdateSeqList(SeqList *list, int pos, int value); int SearchSeqList(SeqList *list, int pos); int LocateSeqList(SeqList *list, int value); int GetSeqListLength(SeqList *list); SeqList *CreateSeqList() { SeqList *list = (SeqList *)malloc(sizeof(SeqList)); list-\u003elength = 0; return list; } bool InsertSeqList(SeqList *list, int pos, int value) { if (list-\u003elength \u003e= MaxSize) { return false; } if (pos \u003c 1 || pos \u003e list-\u003elength + 1) { return false; } for (int i = list-\u003elength; i \u003e= pos; i--) { list-\u003edata[i] = list-\u003edata[i - 1]; } list-\u003edata[pos - 1] = value; list-\u003elength++; return true; } bool DeleteSeqList(SeqList *list, int pos) { if (list-\u003elength == 0) { return false; } if (pos \u003c 1 || pos \u003e list-\u003elength) { return false; } for (int i = pos - 1; i \u003c list-\u003elength - 1; i++) { list-\u003edata[i] = list-\u003edata[i + 1]; } list-\u003elength--; return true; } bool UpdateSeqList(SeqList *list, int pos, int value) { if (list-\u003elength == 0) { return false; } if (pos \u003c 1 || pos \u003e list-\u003elength) { return false; } list-\u003edata[pos - 1] = value; return true; } int SearchSeqList(SeqList *list, int pos) { if (list-\u003elength == 0) { return 0; } if (pos \u003c 1 || pos \u003e list-\u003elength) { return 0; } return list-\u003edata[pos - 1]; } int LocateSeqList(SeqList *list, int value) { if (list-\u003elength == 0) { return 0; } for (int i = 0; i \u003c list-\u003elength; i++) { if (list-\u003edata[i] == value) { return i + 1; } } return 0; } int GetSeqListLength(SeqList *list) { return list-\u003elength; } void MergeSeqList(SeqList p, SeqList q, SeqList *t) { int i = 0, j = 0, k = 0; while (i \u003c p.length \u0026\u0026 j \u003c q.length) { if (p.data[i] \u003c q.data[j]) { t-\u003edata[k++] = p.data[i++]; } else { t-\u003edata[k++] = q.data[j++]; } } while (i \u003c p.length) { t-\u003edata[k++] = p.data[i++]; } while (j \u003c q.length) { t-\u003edata[k++] = q.data[j++]; } t-\u003elength = k; } TEST(TestSeqList, CreateSeqList) { SeqList *list = CreateSeqList(); ASSERT_EQ(0, GetSeqListLength(list)); ASSERT_EQ(0, list-\u003edata[list-\u003elength]); } TEST(TestSeqList, InsertSeqList) { SeqList *list = CreateSeqList(); ASSERT_TRUE(InsertSeqList(list, 1, 1)); ASSERT_EQ(1, GetSeqListLength(list)); ASSERT_TRUE(InsertSeqList(list, 2, 2)); ASSERT_EQ(2, GetSeqListLength(list)); ASSERT_TRUE(InsertSeqList(list, 3, 3)); ASSERT_EQ(3, GetSeqListLength(list)); ASSERT_TRUE(InsertSeqList(list, 4, 4)); ASSERT_FALSE(InsertSeqList(list, -1, 1 - MaxSize)); ASSERT_FALSE(InsertSeqList(list, MaxSize + 1, MaxSize + 1)); ASSERT_TRUE(InsertSeqList(list, 4, 44)); list-\u003elength = 100; ASSERT_FALSE(InsertSeqList(list, 100, 100)); } TEST(TestSeqList, DeleteSeqList) { SeqList *list = CreateSeqList(); ASSERT_FALSE(DeleteSeqList(list, 0)); ASSERT_FALSE(DeleteSeqList(list, 1 - MaxSize)); ASSERT_FALSE(DeleteSeqList(list, MaxSize + 1)); InsertSeqList(list, 1, 1); InsertSeqList(list, 2, 2); InsertSeqList(list, 3, 3); InsertSeqList(list, 4, 4); InsertSeqList(list, 5, 5); ASSERT_TRUE(DeleteSeqList(list, 1)); ASSERT_EQ(4, GetSeqListLength(list)); ASSERT_TRUE(DeleteSeqList(list, 2)); ASSERT_EQ(3, GetSeqListLength(list)); ASSERT_FALSE(DeleteSeqList(list, 0)); ASSERT_TRUE(DeleteSeqList(list, 1)); ASSERT_TRUE(DeleteSeqList(list, 2)); } TEST(TestSeqList, UpdateSeqList) { SeqList *list = CreateSeqList(); ASSERT_FALSE(UpdateSeqList(list, 1, 1)); InsertSeqList(list, 1, 1); ASSERT_TRUE(UpdateSeqList(list, 1,","date":"2022-05-04","objectID":"/2022/05/04/ds-linear-list/:2:2","tags":["Data Structure \u0026 Algorithm"],"title":"çº¿æ€§è¡¨","uri":"/2022/05/04/ds-linear-list/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"é¡ºåºè¡¨å®ç°ç®—æ³•çš„åˆ†æ å»ºè¡¨ç®—æ³•ï¼šæ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼› æ’å…¥ç®—æ³•ï¼šæœ€åæƒ…å†µä¸‹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œæ¯”è¾ƒå’Œç§»åŠ¨çš„æ¬¡æ•°ä¸º n-i+1ï¼›å¹³å‡ç§»åŠ¨æ¬¡æ•°ä¸º n/2ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼› åˆ é™¤ç®—æ³•ï¼šæœ€åæƒ…å†µä¸‹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œæ¯”è¾ƒå’Œç§»åŠ¨çš„æ¬¡æ•°ä¸º n-1ï¼›å¹³å‡ç§»åŠ¨æ¬¡æ•°ä¸º (n-1)/2ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼› æ›´æ–°ç®—æ³•ï¼šæœ€åæƒ…å†µä¸‹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼› æŸ¥æ‰¾ç®—æ³•ï¼šæŒ‰åºå·æŸ¥æ‰¾å…ƒç´ ï¼Œå¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œæ±‚è¡¨é•¿å’Œè¯»è¡¨å…ƒç´ ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼› å®šä½ç®—æ³•ï¼šæŒ‰åŸŸå€¼æŸ¥æ‰¾å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼› åˆå¹¶æœ‰åºè¡¨ï¼šç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(m+n)ï¼Œå…¶ä¸­ m æ˜¯ A çš„è¡¨é•¿ï¼Œn æ˜¯ B çš„è¡¨é•¿ï¼› ","date":"2022-05-04","objectID":"/2022/05/04/ds-linear-list/:2:3","tags":["Data Structure \u0026 Algorithm"],"title":"çº¿æ€§è¡¨","uri":"/2022/05/04/ds-linear-list/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"çº¿æ€§è¡¨çš„é“¾æ¥å­˜å‚¨ ä¸ºäº†æ–¹ä¾¿æ“ä½œï¼Œæœ‰æ—¶åœ¨é“¾è¡¨çš„å¤´éƒ¨åŠ å…¥ä¸€ä¸ªã€Œå¤´ç»“ç‚¹ã€ï¼Œå¤´ç»“ç‚¹çš„ç±»å‹ä¸æ•°æ®ç»“ç‚¹ä¸€è‡´ï¼Œæ ‡è¯†é“¾è¡¨çš„å¤´æŒ‡é’ˆå˜é‡ head ä¸­å­˜æ”¾è¯¥ç»“ç‚¹çš„åœ°å€ï¼Œè¿™æ ·å³ä½¿æ˜¯ç©ºè¡¨ï¼Œå¤´æŒ‡é’ˆå˜é‡ head ä¹Ÿä¸ä¸ºç©ºäº†ã€‚å¤´ç»“ç‚¹çš„åŠ å…¥ä½¿å¾—ã€Œç¬¬ä¸€ä¸ªç»“ç‚¹ã€çš„é—®é¢˜ä¸å†å­˜åœ¨ï¼Œä¹Ÿä½¿å¾—ã€Œç©ºè¡¨ã€å’Œã€Œéç©ºè¡¨ã€çš„å¤„ç†ä¸€è‡´ã€‚å¤´ç»“ç‚¹çš„åŠ å…¥å®Œå…¨æ˜¯ä¸ºäº†æ“ä½œçš„æ–¹ä¾¿ï¼Œå®ƒçš„æ•°æ®åŸŸæ— å®šä¹‰ï¼ŒæŒ‡é’ˆåŸŸä¸­å­˜æ”¾çš„æ˜¯ç¬¬ä¸€ä¸ªæ•°æ®ç»“ç‚¹çš„åœ°å€ï¼Œå½“ç©ºè¡¨æ—¶è¯¥æŒ‡é’ˆåŸŸä¸ºç©ºã€‚ ","date":"2022-05-04","objectID":"/2022/05/04/ds-linear-list/:3:0","tags":["Data Structure \u0026 Algorithm"],"title":"çº¿æ€§è¡¨","uri":"/2022/05/04/ds-linear-list/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"å•é“¾è¡¨ å•é“¾è¡¨ï¼šå°±æ˜¯çº¿æ€§è¡¨çš„æ•°æ®å…ƒç´ ç”¨æŒ‡é’ˆé“¾æ¥èµ·æ¥çš„å­˜å‚¨ç»“æ„ï¼ŒæŒ‡é’ˆè¡¨ç¤ºæ•°æ®å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ã€‚ çº¿æ€§è¡¨çš„é“¾æ¥å­˜å‚¨æ˜¯æŒ‡å®ƒçš„å­˜å‚¨ç»“æ„æ˜¯é“¾å¼çš„ï¼Œå¸¸è§çš„é“¾å¼å­˜å‚¨ç»“æ„æœ‰ å•é“¾è¡¨ã€å¾ªç¯é“¾è¡¨ å’Œ åŒå‘å¾ªç¯é“¾è¡¨ã€‚ å•é“¾è¡¨ä¸­çš„ data éƒ¨åˆ†ç§°ä¸º æ•°æ®åŸŸï¼Œç”¨äºå­˜å‚¨çº¿æ€§è¡¨çš„ä¸€ä¸ªæ•°æ®å…ƒç´ ï¼Œnext éƒ¨åˆ†ç§°ä¸º æŒ‡é’ˆæˆ–é“¾åŸŸï¼Œç”¨äºå­˜æ”¾ä¸€ä¸ªæŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘æœ¬ç»“ç‚¹æ‰€å«æ•°æ®å…ƒç´ çš„ç›´æ¥åç»§ç»“ç‚¹ã€‚ æ‰€æœ‰ç»“ç‚¹é€šè¿‡æŒ‡é’ˆé“¾æ¥å½¢æˆ é“¾è¡¨ï¼ˆLink Listï¼‰ï¼Œhead ç§°ä¸ºå¤´æŒ‡é’ˆå˜é‡ï¼Œè¯¥å˜é‡çš„å€¼æ˜¯æŒ‡å‘å•é“¾è¡¨çš„ç¬¬ä¸€ä¸ªç»“ç‚¹çš„æŒ‡é’ˆã€‚å°¾ç»“ç‚¹æŒ‡é’ˆåŸŸçš„å€¼ NULL ç§°ä¸ºç©ºæŒ‡é’ˆï¼Œå®ƒä¸æŒ‡å‘ä»»ä½•ç»“ç‚¹ï¼Œè¡¨ç¤ºé“¾è¡¨ç»“æŸã€‚å¦‚æœ head ç­‰äº NULLï¼Œåˆ™è¡¨ç¤ºè¯¥é“¾è¡¨æ— ä»»ä½•ç»“ç‚¹ï¼Œæ˜¯ç©ºå•é“¾è¡¨ã€‚ å•é“¾è¡¨çš„ç¬¬ä¸€ä¸ªç»“ç‚¹ä¹‹å‰å¢è®¾ä¸€ä¸ªç±»å‹ç›¸åŒçš„ç»“ç‚¹ï¼Œç§°ä¹‹ä¸º å¤´ç»“ç‚¹ï¼Œå…¶å®ƒç»“ç‚¹ç§°ä¸º è¡¨ç»“ç‚¹ã€‚è¡¨ç»“ç‚¹ä¸­çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªç»“ç‚¹åˆ†åˆ«å°±æ˜¯é¦–ç»“ç‚¹å’Œå°¾ç»“ç‚¹ã€‚ å•é“¾è¡¨åŸºæœ¬æ“ä½œï¼š åˆ›å»ºç©ºè¡¨ï¼šLinkedList CreateLinkedList();ï¼› æ’å…¥å…ƒç´ ï¼švoid InsertLinkedList(LinkedList head, int pos, int value);ï¼› åˆ é™¤å…ƒç´ ï¼švoid DeleteLinkedList(LinkedList head, int value);ï¼› æ›´æ–°å…ƒç´ ï¼švoid UpdateLinkedList(LinkedList head, int pos, int value);ï¼› æŸ¥æ‰¾å…ƒç´ ï¼šNode *SearchLinkedList(LinkedList head, int pos);ï¼› å®šä½å…ƒç´ ï¼šint LocateLinkedList(LinkedList head, int value);ï¼› æ±‚è¡¨é•¿åº¦ï¼šint GetLinkedListLength(LinkedList head);ï¼› å•é“¾è¡¨ç®—æ³•åˆ†æï¼š å»ºè¡¨ç®—æ³•ï¼šæ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼› æ’å…¥ç®—æ³•ï¼šæ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼› åˆ é™¤ç®—æ³•ï¼šæ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼› æŸ¥æ‰¾ç®—æ³•ï¼šæŒ‰åºå·æŸ¥æ‰¾å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œæ±‚è¡¨é•¿å’Œè¯»è¡¨å…ƒç´ ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼› å®šä½ç®—æ³•ï¼šæŒ‰åŸŸå€¼æŸ¥æ‰¾å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼› #include \u003cgtest/gtest.h\u003e #include \u003cstdbool.h\u003e #include \u003cstdlib.h\u003e typedef struct node { int data; // æ•°æ®åŸŸ struct node *next; // æŒ‡é’ˆåŸŸ } Node, *SinglyLinkedList; SinglyLinkedList CreateSinglyLinkedList(); bool InsertSinglyLinkedList(SinglyLinkedList head, int pos, int value); bool DeleteSinglyLinkedList(SinglyLinkedList head, int pos); bool UpdateSinglyLinkedList(SinglyLinkedList head, int pos, int value); Node *SearchSinglyLinkedList(SinglyLinkedList head, int pos); int LocateSinglyLinkedList(SinglyLinkedList head, int value); int GetSinglyLinkedListLength(SinglyLinkedList head); SinglyLinkedList MergeSinglyLinkedList(SinglyLinkedList a, SinglyLinkedList b); SinglyLinkedList CreateSinglyLinkedList() { SinglyLinkedList head = (SinglyLinkedList)malloc(sizeof(Node)); if (head == NULL) { return NULL; } head-\u003enext = NULL; return head; } bool InsertSinglyLinkedList(SinglyLinkedList head, int pos, int value) { Node *p, *q; p = (Node *)malloc(sizeof(Node)); if (p == NULL) { return false; } p-\u003edata = value; q = pos == 1 ? head : SearchSinglyLinkedList(head, pos - 1); if (q == NULL) { return false; } p-\u003enext = q-\u003enext; q-\u003enext = p; return true; } bool DeleteSinglyLinkedList(SinglyLinkedList head, int pos) { if (head == NULL) { return false; } Node *p, *q; q = pos == 1 ? head : SearchSinglyLinkedList(head, pos - 1); if (q == NULL || q-\u003enext == NULL) { return false; } p = q-\u003enext; q-\u003enext = p-\u003enext; free(p); return true; } bool UpdateSinglyLinkedList(SinglyLinkedList head, int pos, int value) { if (head == NULL) { return false; } Node *node; node = pos == 1 ? head : SearchSinglyLinkedList(head, pos - 1); if (node == NULL || node-\u003enext == NULL) { return false; } node-\u003enext-\u003edata = value; return true; } Node *SearchSinglyLinkedList(SinglyLinkedList head, int pos) { int i = 1; if (head == NULL || pos \u003c i) { return NULL; } Node *p = head-\u003enext; while (p != NULL \u0026\u0026 i \u003c pos) { p = p-\u003enext; i++; } return i == pos ? p : NULL; } int LocateSinglyLinkedList(SinglyLinkedList head, int value) { if (head == NULL) { return 0; } int i = 0; Node *p = head-\u003enext; while (p != NULL \u0026\u0026 p-\u003edata != value) { p = p-\u003enext; i++; } return i; } int GetSinglyLinkedListLength(SinglyLinkedList head) { if (head == NULL) { return 0; } int cnt = 0; SinglyLinkedList p = head-\u003enext; while (p != NULL) { p = p-\u003enext; cnt++; } return cnt; } SinglyLinkedList MergeSinglyLinkedList(SinglyLinkedList a, SinglyLinkedList b) { if (a == NULL) { return b; } else if (b == NULL) { return a; } SinglyLinkedList head, tail; Node *p, *q, *t; p = a; q = b; head = p-\u003edata \u003c= q-\u003edata ? a : b; tail = head; p = p-\u003enext; q = q-\u003enext; while (p \u0026\u0026 q) { if (p-\u003edata \u003c= q-\u003edata) { t = p; p = p-\u003enext; } else { t = q; q = q-\u003enext; } tail-\u003enext = t; tail = t; } if (p) { tail-\u003enext = p; } else if (q) { tail-\u003enext = q; } return head; } TEST(TestSinglyLinkedList, CreateSinglyLinkedList) { SinglyLinkedList head = CreateSinglyLinkedList(); EXPECT_FALSE(head == NULL); EXPECT_EQ(NULL, head-\u003enext); EXPECT_EQ(0, GetSinglyLinkedListLength(head)); } TEST(TestSinglyLinkedList, InsertSinglyLinkedList) { SinglyLinkedList he","date":"2022-05-04","objectID":"/2022/05/04/ds-linear-list/:3:1","tags":["Data Structure \u0026 Algorithm"],"title":"çº¿æ€§è¡¨","uri":"/2022/05/04/ds-linear-list/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"å•å‘å¾ªç¯é“¾è¡¨ #include \u003cgtest/gtest.h\u003e #include \u003cstdbool.h\u003e #include \u003cstdlib.h\u003e typedef struct node { int data; struct node *next; } Node, *SCLinkedList; SCLinkedList CreateSCLinkedList(); bool InsertSCLinkedList(SCLinkedList head, int pos, int value); bool DeleteSCLinkedList(SCLinkedList head, int pos); bool UpdateSCLinkedList(SCLinkedList head, int pos, int value); Node *SearchSCLinkedList(SCLinkedList head, int pos); int LocateSCLinkedList(SCLinkedList head, int value); int GetSCLinkedListLength(SCLinkedList head); SCLinkedList CreateSCLinkedList() { Node *head = (Node *)malloc(sizeof(Node)); if (head == NULL) { return NULL; } head-\u003enext = NULL; return head; } bool InsertSCLinkedList(SCLinkedList head, int pos, int value) { Node *p, *q; p = (Node *)malloc(sizeof(Node)); if (p == NULL) { return false; } p-\u003edata = value; q = pos == 1 ? head : SearchSCLinkedList(head, pos - 1); if (q == NULL) { return false; } p-\u003enext = q-\u003enext; q-\u003enext = p; return true; } bool DeleteSCLinkedList(SCLinkedList head, int pos) { if (head == NULL) { return false; } Node *p, *q; p = (Node *)malloc(sizeof(Node)); if (p == NULL) { return false; } q = pos == 1 ? head : SearchSCLinkedList(head, pos - 1); if (q == NULL || q-\u003enext == NULL) { return false; } p = q-\u003enext; q-\u003enext = p-\u003enext; free(p); return true; } bool UpdateSCLinkedList(SCLinkedList head, int pos, int value) { if (head == NULL) { return false; } Node *node; node = pos == 1 ? head : SearchSCLinkedList(head, pos - 1); if (node == NULL) { return false; } node-\u003enext-\u003edata = value; return true; } Node *SearchSCLinkedList(SCLinkedList head, int pos) { int i = 1; if (head == NULL || pos \u003c i) { return NULL; } Node *p, *q; p = head-\u003enext; q = head; while (p != NULL \u0026\u0026 p != q \u0026\u0026 i \u003c pos) { p = p-\u003enext; i++; } return i == pos ? p : NULL; } int LocateSCLinkedList(SCLinkedList head, int value) { if (head == NULL) { return 0; } int i = 0; Node *p = head-\u003enext; while (p != NULL \u0026\u0026 p != head \u0026\u0026 p-\u003edata != value) { p = p-\u003enext; i++; } return i; } int GetSCLinkedListLength(SCLinkedList head) { if (head == NULL) { return 0; } int cnt = 0; Node *p = head-\u003enext; while (p != NULL \u0026\u0026 p != head) { p = p-\u003enext; cnt++; } return cnt; } TEST(TestSCLinkedList, CreateSCLinkedList) { SCLinkedList head = CreateSCLinkedList(); EXPECT_FALSE(head == NULL); EXPECT_EQ(NULL, head-\u003enext); EXPECT_EQ(0, GetSCLinkedListLength(head)); } TEST(TestSCLinkedList, InsertSCLinkedList) { SCLinkedList head = CreateSCLinkedList(); EXPECT_EQ(0, GetSCLinkedListLength(head)); EXPECT_TRUE(InsertSCLinkedList(head, 1, 1)); EXPECT_EQ(1, GetSCLinkedListLength(head)); EXPECT_TRUE(InsertSCLinkedList(head, 2, 2)); EXPECT_EQ(2, GetSCLinkedListLength(head)); EXPECT_TRUE(InsertSCLinkedList(head, 3, 3)); EXPECT_EQ(3, GetSCLinkedListLength(head)); } TEST(TestSCLinkedList, DeleteSCLinkedList) { SCLinkedList p = CreateSCLinkedList(); InsertSCLinkedList(p, 1, 1); InsertSCLinkedList(p, 2, 2); InsertSCLinkedList(p, 3, 3); EXPECT_EQ(3, GetSCLinkedListLength(p)); EXPECT_TRUE(DeleteSCLinkedList(p, 3)); EXPECT_EQ(2, GetSCLinkedListLength(p)); EXPECT_TRUE(DeleteSCLinkedList(p, 2)); EXPECT_EQ(1, GetSCLinkedListLength(p)); EXPECT_TRUE(DeleteSCLinkedList(p, 1)); EXPECT_EQ(0, GetSCLinkedListLength(p)); SCLinkedList q = CreateSCLinkedList(); InsertSCLinkedList(q, 1, 1); InsertSCLinkedList(q, 2, 2); InsertSCLinkedList(q, 3, 3); EXPECT_TRUE(DeleteSCLinkedList(q, 2)); EXPECT_EQ(2, GetSCLinkedListLength(q)); EXPECT_TRUE(DeleteSCLinkedList(q, 1)); EXPECT_EQ(1, GetSCLinkedListLength(q)); EXPECT_FALSE(DeleteSCLinkedList(q, 3)); EXPECT_EQ(1, GetSCLinkedListLength(q)); EXPECT_TRUE(DeleteSCLinkedList(q, 1)); EXPECT_EQ(0, GetSCLinkedListLength(q)); EXPECT_EQ(NULL, q-\u003enext); SCLinkedList t = NULL; EXPECT_FALSE(DeleteSCLinkedList(t, 1)); SCLinkedList r = CreateSCLinkedList(); InsertSCLinkedList(r, 1, 11); EXPECT_TRUE(DeleteSCLinkedList(r, 1)); EXPECT_EQ(NULL, r-\u003enext); } TEST(TestSCLinkedList, UpdateSCLinkedList) { SCLinkedList p = CreateSCLinkedList(); InsertSCLinkedList(p, 1, 1); EXPECT_","date":"2022-05-04","objectID":"/2022/05/04/ds-linear-list/:3:2","tags":["Data Structure \u0026 Algorithm"],"title":"çº¿æ€§è¡¨","uri":"/2022/05/04/ds-linear-list/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"åŒé“¾è¡¨ #include \u003cgtest/gtest.h\u003e #include \u003cstdlib.h\u003e typedef struct node { int data; struct node *prev; // å‰é©±ç»“ç‚¹ struct node *next; // åé©±ç»“ç‚¹ } Node, *DoublyLinkedList; DoublyLinkedList CreateDoublyLinkedList(); bool InsertDoublyLinkedList(DoublyLinkedList head, int pos, int value); bool DeleteDoublyLinkedList(DoublyLinkedList head, int pos); bool UpdateDoublyLinkedList(DoublyLinkedList head, int pos, int value); Node *SearchDoublyLinkedList(DoublyLinkedList head, int pos); int LocateDoublyLinkedList(DoublyLinkedList head, int value); int GetDoublyLinkedListLength(DoublyLinkedList head); DoublyLinkedList CreateDoublyLinkedList() { DoublyLinkedList head = (DoublyLinkedList)malloc(sizeof(Node)); if (head == NULL) { return NULL; } head-\u003eprev = head-\u003enext = NULL; return head; } bool InsertDoublyLinkedList(DoublyLinkedList head, int pos, int value) { Node *p, *q; p = (Node *)malloc(sizeof(Node)); p-\u003edata = value; p-\u003eprev = p-\u003enext = NULL; q = pos == 1 ? head : SearchDoublyLinkedList(head, pos - 1); if (q == NULL) { return false; } p-\u003eprev = q; p-\u003enext = q-\u003enext; if (q-\u003enext != NULL) { q-\u003enext-\u003eprev = p; } q-\u003enext = p; return true; } bool DeleteDoublyLinkedList(DoublyLinkedList head, int pos) { if (head == NULL) { return false; } Node *p, *q; q = pos == 1 ? head : SearchDoublyLinkedList(head, pos - 1); if (q == NULL || q-\u003enext == NULL) { return false; } p = q-\u003enext; if (p-\u003eprev != NULL) { p-\u003eprev-\u003enext = p-\u003enext; } if (p-\u003enext != NULL) { p-\u003enext-\u003eprev = p-\u003eprev; } free(p); return true; } bool UpdateDoublyLinkedList(DoublyLinkedList head, int pos, int value) { if (head == NULL) { return false; } Node *p; p = pos == 1 ? head : SearchDoublyLinkedList(head, pos - 1); if (p == NULL || p-\u003enext == NULL) { return false; } if (p-\u003enext != NULL) { p-\u003enext-\u003edata = value; } return true; } int LocateDoublyLinkedList(DoublyLinkedList head, int value) { if (head == NULL) { return 0; } int i = 0; Node *p = head-\u003enext; while (p != NULL \u0026\u0026 p-\u003edata != value) { p = p-\u003enext; i++; } return i; } Node *SearchDoublyLinkedList(DoublyLinkedList head, int pos) { int i = 1; if (head == NULL || pos \u003c i) { return NULL; } Node *p = head-\u003enext; while (p != NULL \u0026\u0026 p != head \u0026\u0026 i \u003c pos) { p = p-\u003enext; i++; } return i == pos ? p : NULL; } int GetDoublyLinkedListLength(DoublyLinkedList head) { if (head == NULL) { return 0; } int cnt = 0; DoublyLinkedList p = head-\u003enext; while (p != NULL \u0026\u0026 p != head) { p = p-\u003enext; cnt++; } return cnt; } TEST(TestDoublyLinkedList, CreateDLinkedList) { DoublyLinkedList head = CreateDoublyLinkedList(); EXPECT_EQ(NULL, head-\u003eprev); EXPECT_EQ(NULL, head-\u003enext); EXPECT_EQ(0, GetDoublyLinkedListLength(head)); } TEST(TestDoublyLinkedList, InsertDLinkedList) { DoublyLinkedList p = CreateDoublyLinkedList(); EXPECT_TRUE(InsertDoublyLinkedList(p, 1, 1)); EXPECT_EQ(1, GetDoublyLinkedListLength(p)); EXPECT_TRUE(InsertDoublyLinkedList(p, 2, 2)); EXPECT_EQ(2, GetDoublyLinkedListLength(p)); EXPECT_TRUE(InsertDoublyLinkedList(p, 3, 3)); EXPECT_EQ(3, GetDoublyLinkedListLength(p)); DoublyLinkedList q = CreateDoublyLinkedList(); EXPECT_TRUE(InsertDoublyLinkedList(q, 1, 11)); EXPECT_TRUE(InsertDoublyLinkedList(q, 2, 22)); EXPECT_TRUE(InsertDoublyLinkedList(q, 3, 33)); EXPECT_TRUE(InsertDoublyLinkedList(q, 3, 30)); EXPECT_EQ(4, GetDoublyLinkedListLength(q)); EXPECT_EQ(30, SearchDoublyLinkedList(q, 3)-\u003edata); } TEST(TestDoublyLinkedList, DeleteDoublyLinkedList) { DoublyLinkedList p = CreateDoublyLinkedList(); InsertDoublyLinkedList(p, 1, 1); InsertDoublyLinkedList(p, 2, 2); InsertDoublyLinkedList(p, 3, 3); EXPECT_EQ(3, GetDoublyLinkedListLength(p)); EXPECT_TRUE(DeleteDoublyLinkedList(p, 3)); EXPECT_EQ(2, GetDoublyLinkedListLength(p)); EXPECT_TRUE(DeleteDoublyLinkedList(p, 2)); EXPECT_EQ(1, GetDoublyLinkedListLength(p)); EXPECT_TRUE(DeleteDoublyLinkedList(p, 1)); EXPECT_EQ(0, GetDoublyLinkedListLength(p)); EXPECT_FALSE(DeleteDoublyLinkedList(p, 4)); EXPECT_EQ(NULL, p-\u003enext); InsertDoublyLinkedList(p, 1, 11); InsertDoublyLinkedList(p, 2, 22); InsertDoublyLinkedList(p","date":"2022-05-04","objectID":"/2022/05/04/ds-linear-list/:3:3","tags":["Data Structure \u0026 Algorithm"],"title":"çº¿æ€§è¡¨","uri":"/2022/05/04/ds-linear-list/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"åŒå‘å¾ªç¯é“¾è¡¨ #include \u003cgtest/gtest.h\u003e #include \u003cstdbool.h\u003e #include \u003cstdlib.h\u003e typedef struct node { int data; struct node *prev; struct node *next; } Node, *DCLinkedList; DCLinkedList CreateDCLinkedList(); bool InsertDCLinkedList(DCLinkedList head, int pos, int value); bool DeleteDCLinkedList(DCLinkedList head, int pos); bool UpdateDCLinkedList(DCLinkedList head, int pos, int value); Node *SearchDCLinkedList(DCLinkedList head, int pos); int LocateDCLinkedList(DCLinkedList head, int value); int GetDCLinkedListLength(DCLinkedList head); DCLinkedList CreateDCLinkedList() { DCLinkedList head = (DCLinkedList)malloc(sizeof(DCLinkedList)); if (head == NULL) { return NULL; } head-\u003eprev = head-\u003enext = NULL; return head; } bool InsertDCLinkedList(DCLinkedList head, int pos, int value) { Node *p, *q; p = (Node *)malloc(sizeof(Node)); if (p == NULL) { return false; } p-\u003edata = value; p-\u003eprev = p-\u003enext = p; q = pos == 1 ? head : SearchDCLinkedList(head, pos - 1); if (q == NULL) { return false; } p-\u003eprev = q; p-\u003enext = q-\u003enext; if (q-\u003enext != NULL) { q-\u003enext-\u003eprev = p; } q-\u003enext = p; return true; } bool DeleteDCLinkedList(DCLinkedList head, int pos) { if (head == NULL) { return false; } Node *p, *q; q = pos == 1 ? head : SearchDCLinkedList(head, pos - 1); if (q == NULL || q-\u003enext == NULL) { return false; } p = q-\u003enext; if (p-\u003eprev != NULL) { p-\u003eprev-\u003enext = p-\u003enext; // p å‰é©±ç»“ç‚¹çš„åç»§ç»“ç‚¹æŒ‡å‘ p çš„åç»§ç»“ç‚¹ } if (p-\u003enext != NULL) { p-\u003enext-\u003eprev = p-\u003eprev; // p åç»§ç»“ç‚¹çš„å‰é©±ç»“ç‚¹æŒ‡å‘ p çš„å‰é©±ç»“ç‚¹ } free(p); return true; } bool UpdateDCLinkedList(DCLinkedList head, int pos, int value) { if (head == NULL) { return false; } Node *p; p = pos == 1 ? head : SearchDCLinkedList(head, pos - 1); if (p == NULL || p-\u003enext == NULL) { return false; } p-\u003enext-\u003edata = value; return true; } Node *SearchDCLinkedList(DCLinkedList head, int pos) { int i = 1; if (head == NULL || pos \u003c i) { return NULL; } Node *p = head-\u003enext; while (p != NULL \u0026\u0026 p != head \u0026\u0026 i \u003c pos) { p = p-\u003enext; i++; } return i == pos ? p : NULL; } int LocateDCLinkedList(DCLinkedList head, int value) { if (head == NULL) { return 0; } DCLinkedList p = head-\u003enext; int i = 0; while (p != NULL \u0026\u0026 p != head \u0026\u0026 p-\u003edata != value) { p = p-\u003enext; i++; } return i; } int GetDCLinkedListLength(DCLinkedList head) { if (head == NULL) { return 0; } int cnt = 0; DCLinkedList p = head-\u003enext; while (p != NULL \u0026\u0026 p != head) { p = p-\u003enext; cnt++; } return cnt; } TEST(TestDCLinkedList, CreateDCLiedList) { DCLinkedList head = CreateDCLinkedList(); EXPECT_EQ(NULL, head-\u003eprev); EXPECT_EQ(NULL, head-\u003enext); EXPECT_EQ(0, GetDCLinkedListLength(head)); } TEST(TestDCLinkedList, InsertDCLinkedList) { DCLinkedList head = CreateDCLinkedList(); EXPECT_TRUE(InsertDCLinkedList(head, 1, 1)); EXPECT_EQ(1, GetDCLinkedListLength(head)); EXPECT_TRUE(InsertDCLinkedList(head, 2, 2)); EXPECT_EQ(2, GetDCLinkedListLength(head)); EXPECT_TRUE(InsertDCLinkedList(head, 3, 3)); EXPECT_EQ(3, GetDCLinkedListLength(head)); } TEST(TestDCLinkedList, DeleteDCLinkedList) { DCLinkedList p = CreateDCLinkedList(); EXPECT_TRUE(InsertDCLinkedList(p, 1, 1)); EXPECT_TRUE(InsertDCLinkedList(p, 2, 2)); EXPECT_TRUE(InsertDCLinkedList(p, 3, 3)); EXPECT_EQ(3, GetDCLinkedListLength(p)); EXPECT_TRUE(DeleteDCLinkedList(p, 3)); EXPECT_EQ(2, GetDCLinkedListLength(p)); EXPECT_TRUE(DeleteDCLinkedList(p, 2)); EXPECT_EQ(1, GetDCLinkedListLength(p)); EXPECT_TRUE(DeleteDCLinkedList(p, 1)); EXPECT_EQ(0, GetDCLinkedListLength(p)); EXPECT_FALSE(DeleteDCLinkedList(p, 4)); EXPECT_EQ(NULL, p-\u003enext); InsertDCLinkedList(p, 1, 11); InsertDCLinkedList(p, 2, 22); InsertDCLinkedList(p, 3, 33); EXPECT_TRUE(DeleteDCLinkedList(p, 2)); EXPECT_EQ(2, GetDCLinkedListLength(p)); DCLinkedList q = NULL; EXPECT_EQ(NULL, DeleteDCLinkedList(q, 1)); } TEST(TestDCLinkedList, UpdateDCLinkedList) { DCLinkedList head = CreateDCLinkedList(); InsertDCLinkedList(head, 1, 1); InsertDCLinkedList(head, 2, 2); InsertDCLinkedList(head, 3, 3); EXPECT_TRUE(UpdateDCLinkedList(head, 1, 11)); EXPECT_EQ(11, SearchDCLinkedList(head, 1)-\u003edata); EXPECT_","date":"2022-05-04","objectID":"/2022/05/04/ds-linear-list/:3:4","tags":["Data Structure \u0026 Algorithm"],"title":"çº¿æ€§è¡¨","uri":"/2022/05/04/ds-linear-list/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"å…¶å®ƒè¿ç®—åœ¨å•é“¾è¡¨ä¸Šçš„å®ç° ","date":"2022-05-04","objectID":"/2022/05/04/ds-linear-list/:4:0","tags":["Data Structure \u0026 Algorithm"],"title":"çº¿æ€§è¡¨","uri":"/2022/05/04/ds-linear-list/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"å»ºè¡¨ é€šè¿‡å·²å®ç°çš„æ’å…¥ç®—æ³• InsertLinkedList(LinkedList head, int i, int x) æ¥å®ç°ï¼Œä¾æ¬¡å¢å¤§æ’å…¥ä½ç½® iï¼Œä½¿æ–°çš„ç»“ç‚¹é“¾å…¥åˆ°é“¾è¡¨ä¸­ï¼š LinkedList CreateLinkedList1() { LinkedList head = CreateLinkedList(); int x; int i = 1; scanf(\"%d\", \u0026x); while (x != 0) { InsertLinkedList(head, i, x); i++; scanf(\"%d\", \u0026x); } return head; } int main() { LinkedList head = CreateLinkedList1(); LinkedList p = head-\u003enext; while (p != NULL) { printf(\"%d \", p-\u003edata); p = p-\u003enext; } return 0; } æ­¤ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸º O(n2)ã€‚ ç”¨ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å°¾ç»“ç‚¹ï¼Œè¿™æ ·å°±ä¸ºä¸‹ä¸€ä¸ªæ–°ç»“ç‚¹æŒ‡æ˜äº†æ’å…¥ä½ç½®ï¼Œå¯ç§°ä¸ºã€Œå°¾æ’ã€æ“ä½œï¼Œæœ€ç»ˆå½¢æˆçš„é“¾è¡¨çš„æ•°æ®é¡ºåºä¸è¾“å…¥é¡ºåºæ­£å¥½ç›¸åŒï¼š LinkedList CreateLinkedList2() { LinkedList head; Node *p, *q; int x; head = (LinkedList)malloc(sizeof(Node)); // ç”Ÿæˆå¤´ç»“ç‚¹ q = head; // å°¾æŒ‡é’ˆç½®åˆå€¼ scanf(\"%d\", \u0026x); // è¯»å…¥ç¬¬ä¸€ä¸ªå…ƒç´  while (x != 0) { p = (LinkedList)malloc(sizeof(Node)); p-\u003edata = x; q-\u003enext = p; // æ–°ç»“ç‚¹ p é“¾å…¥ q = p; // ä¿®æ”¹å°¾æŒ‡é’ˆ qï¼ŒæŒ‡å‘æ–°çš„å°¾ç»“ç‚¹ scanf(\"%d\", \u0026x); // è¯»å…¥ä¸‹ä¸€ä¸ªå…ƒç´  } q-\u003enext = NULL; return head; } int main() { LinkedList head = CreateLinkedList2(); LinkedList p = head-\u003enext; while (p != NULL) { printf(\"%d \", p-\u003edata); p = p-\u003enext; } return 0; } æ­¤ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚ å°†æ–°å¢çš„ç»“ç‚¹æ’å…¥åˆ°å¤´ç»“ç‚¹ä¹‹åï¼Œç¬¬ä¸€ä¸ªæ•°æ®ç»“ç‚¹ä¹‹å‰ï¼Œå¯ç§°ä¸ºã€Œå‰æ’ã€æ“ä½œï¼Œæœ€ç»ˆå½¢æˆçš„é“¾è¡¨çš„æ•°æ®é¡ºåºä¸è¾“å…¥é¡ºåºæ­£å¥½ç›¸åï¼š LinkedList CreateLinkedList3() { LinkedList head; Node *p; int x; head = (LinkedList)malloc(sizeof(Node)); head-\u003enext = NULL; scanf(\"%d\", \u0026x); while (x) { p = (LinkedList)malloc(sizeof(Node)); p-\u003edata = x; p-\u003enext = head-\u003enext; head-\u003enext = p; scanf(\"%d\", \u0026x); } return head; } int main() { LinkedList head = CreateLinkedList3(); LinkedList p = head-\u003enext; while (p != NULL) { printf(\"%d \", p-\u003edata); p = p-\u003enext; } return 0; } æ­¤ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚ ","date":"2022-05-04","objectID":"/2022/05/04/ds-linear-list/:4:1","tags":["Data Structure \u0026 Algorithm"],"title":"çº¿æ€§è¡¨","uri":"/2022/05/04/ds-linear-list/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"åˆ é™¤é‡å¤ç»“ç‚¹ void RemoveDuplicateLinkedList(LinkedList head) { Node *p, *q, *t; q = head-\u003enext; while (q != NULL) { p = q; while (p-\u003enext != NULL) { if (p-\u003enext-\u003edata == q-\u003edata) { t = p-\u003enext; p-\u003enext = t-\u003enext; free(t); } else { p = p-\u003enext; } } q = q-\u003enext; } } ","date":"2022-05-04","objectID":"/2022/05/04/ds-linear-list/:4:2","tags":["Data Structure \u0026 Algorithm"],"title":"çº¿æ€§è¡¨","uri":"/2022/05/04/ds-linear-list/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"æ•´ç†ä¸€ä¸‹æ•°æ®ç»“æ„ä¸ç®—æ³•æ–¹é¢çš„æ¦‚å¿µå’Œä»£ç ã€‚ æ•°æ®ç»“æ„ä¸ç®—æ³•èµ·æ­¥ çº¿æ€§è¡¨ æ ˆå’Œé˜Ÿåˆ— ","date":"2022-05-04","objectID":"/2022/05/04/ds-get-started/:0:0","tags":["Data Structure \u0026 Algorithm"],"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•èµ·æ­¥","uri":"/2022/05/04/ds-get-started/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"æ¦‚å¿µ ç ”ç©¶å¯¹è±¡ï¼šæ•°æ®ç»“æ„è¯¾ç¨‹æ˜¯ç ”ç©¶éæ•°å€¼è®¡ç®—çš„ç¨‹åºè®¾è®¡é—®é¢˜ä¸­è®¡ç®—æœºå¤„ç†å¯¹è±¡åŠå®ƒä»¬ä¹‹é—´å…³ç³»å’Œæ“ä½œçš„å­¦ç§‘ã€‚ç®€å•åœ°è¯´ï¼Œæ•°æ®ç»“æ„æ˜¯è®¡ç®—æœºç»„ç»‡æ•°æ®å’Œå­˜å‚¨æ•°æ®çš„æ–¹å¼ã€‚æ›´è¿›ä¸€æ­¥åœ°è¯´ï¼Œæ•°æ®ç»“æ„æ˜¯æŒ‡ä¸€ç»„ç›¸äº’ä¹‹é—´çš„å­˜åœ¨ä¸€ç§æˆ–å¤šç§ç‰¹å®šå…³ç³»çš„çš„æ•°æ®ç»„ç»‡æ–¹å¼æˆ–å®ƒä»¬åœ¨è®¡ç®—æœºå†…çš„å­˜å‚¨æ–¹å¼ï¼Œä»¥åŠåœ¨è¯¥ç»„æ•°æ®ä¸Šçš„ä¸€ç»„æ“ä½œã€‚ ","date":"2022-05-04","objectID":"/2022/05/04/ds-get-started/:1:0","tags":["Data Structure \u0026 Algorithm"],"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•èµ·æ­¥","uri":"/2022/05/04/ds-get-started/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"æ¦‚å¿µæœ¯è¯­ æ•°æ®ï¼ˆDataï¼‰ï¼šæ˜¯ä¿¡æ¯çš„è½½ä½“ï¼Œå®ƒæ˜¯èƒ½å¤Ÿè¢«è®¡ç®—æœºè¯†åˆ«ã€å­˜å‚¨å’Œå¤„ç†çš„å¯¹è±¡ï¼› æ•°æ®å…ƒç´ ï¼ˆData Elementï¼‰ï¼šæ˜¯æ•°æ®çš„åŸºæœ¬å•ä½ï¼Œåœ¨è®¡ç®—æœºç¨‹åºä¸­é€šå¸¸ä½œä¸ºä¸€ä¸ªæ•´ä½“è¿›è¡Œè€ƒè™‘å’Œå¤„ç†ã€‚æ•°æ®å…ƒç´ æ˜¯è¿ç®—çš„åŸºæœ¬å•ä½ï¼Œé€šå¸¸å…·æœ‰å®Œæ•´ç¡®å®šçš„æ„ä¹‰ã€‚æ•°æ®å…ƒç´ å¸¸å¸¸åˆç®€ç§°å…ƒç´ ã€‚ä¸€ä¸ªæ•°æ®å…ƒç´ å¯ç”±è‹¥å¹²ä¸ªæ•°æ®é¡¹ï¼ˆData Itemï¼‰ç»„æˆã€‚åœ¨ä¸åŒçš„æ¡ä»¶ä¸‹ï¼Œæ•°æ®å…ƒç´ åˆå¯ç§°ä¸ºå…ƒç´ ã€ç»“ç‚¹ã€é¡¶ç‚¹ã€è®°å½•ç­‰ï¼› æ•°æ®é¡¹ï¼ˆData Itemï¼‰ï¼šæ˜¯æŒ‡ä¸å¯åˆ†å‰²çš„ã€å…·æœ‰ç‹¬ç«‹æ„ä¹‰çš„æœ€å°æ•°æ®å•ä½ï¼Œåœ¨æ•°æ®åº“ä¸­æ•°æ®é¡¹åˆç§°ä¸ºå­—æ®µï¼ˆfieldï¼‰æˆ–åŸŸã€‚æ•°æ®é¡¹æ˜¯æ•°æ®çš„ä¸å¯åˆ†å‰²çš„æœ€å°æ ‡è¯†å•ä½ï¼› æ•°æ®ç»“æ„ï¼ˆData Structureï¼‰ï¼šæ˜¯æŒ‡äº’ç›¸ä¹‹é—´å­˜åœ¨ç€ä¸€ç§æˆ–å¤šç§å…³ç³»çš„æ•°æ®å…ƒç´ çš„é›†åˆã€‚å®ƒåŒ…æ‹¬æ•°æ®çš„é€»è¾‘ç»“æ„ã€æ•°æ®çš„å­˜å‚¨ç»“æ„å’Œæ•°æ®çš„åŸºæœ¬è¿ç®—ï¼› æ•°æ®ç±»å‹ï¼ˆData Typeï¼‰ï¼šä¸€æ˜¯é™å®šäº†æ•°æ®çš„å–å€¼èŒƒå›´ï¼ˆå®é™…ä¸Šä¸å­˜å‚¨å½¢å¼æœ‰å…³ï¼‰ï¼›äºŒæ˜¯è§„å®šäº†æ•°æ®èƒ½å¤Ÿè¿›è¡Œçš„ä¸€ç»„æ“ä½œï¼ˆè¿ç®—ï¼‰ï¼› æ•°æ®ç±»å‹å¯åˆ†ä¸ºä¸¤ç±»ï¼šä¸€ç±»æ˜¯éç»“æ„çš„åŸå­ç±»å‹ï¼ŒåŸå­ç±»å‹çš„å€¼æ˜¯ä¸å¯å†åˆ†è§£çš„ï¼ˆæ•´å‹ã€å®å‹ç­‰ï¼‰ï¼›å¦ä¸€ç±»æ˜¯ç»“æ„ç±»å‹ï¼Œå®ƒçš„æˆåˆ†å¯ä»¥ç”±å¤šä¸ªç»“æ„ç±»å‹ç»„æˆï¼Œå¹¶å¯ä»¥åˆ†è§£ï¼›ç»“æ„ç±»å‹çš„æˆåˆ†å¯ä»¥æ˜¯éç»“æ„çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç»“æ„çš„ï¼ˆæ•°ç»„çš„å€¼ç”±è‹¥å¹²åˆ†é‡ç»„æˆï¼Œæ¯ä¸ªåˆ†é‡å¯ä»¥æ˜¯æ•´æ•°ç­‰åŸºæœ¬ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°ç»„ç­‰ç»“æ„ç±»å‹ï¼‰ï¼› æŠ½è±¡æ•°æ®ç±»å‹ï¼ˆAbstract Data Typeï¼‰ï¼šæŒ‡ä¸€ä¸ªæ•°å­¦æ¨¡å‹åŠå®šä¹‰åœ¨è¯¥æ¨¡å‹ä¸Šçš„ä¸€ç»„æ“ä½œï¼›æŠ½è±¡æ•°æ®ç±»å‹çš„å®šä¹‰å–å†³äºå®ƒçš„ä¸€ç»„é€»è¾‘ç‰¹æ€§ï¼Œè€Œä¸å…¶åœ¨è®¡ç®—æœºå†…éƒ¨å¦‚ä½•è¡¨ç¤ºå’Œå®ç°æ— å…³ï¼› ","date":"2022-05-04","objectID":"/2022/05/04/ds-get-started/:1:1","tags":["Data Structure \u0026 Algorithm"],"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•èµ·æ­¥","uri":"/2022/05/04/ds-get-started/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"æ•°æ®çš„é€»è¾‘ç»“æ„ æ•°æ®çš„é€»è¾‘ç»“æ„ï¼šæŒ‡æ•°æ®å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼Œå³æ•°æ®å…ƒç´ ä¹‹é—´çš„å…³ç³»æ–¹å¼æˆ–ã€Œé‚»æ¥å…³ç³»ã€ï¼Œåˆ†ä¸ºçº¿æ€§ç»“æ„ï¼ˆè¡¨ã€æ ˆã€é˜Ÿã€ä¸²ç­‰ï¼‰å’Œéçº¿æ€§ç»“æ„ï¼ˆæ ‘ã€å›¾ã€ç½‘ç­‰ï¼‰ã€‚ æ•°æ®çš„é€»è¾‘ç»“æ„çš„å››ç§åˆ†ç±»ï¼š é›†åˆç»“æ„ï¼šæ•°æ®å…ƒç´ ä¹‹é—´çš„å…³ç³»æ˜¯ã€Œå±äºåŒä¸€ä¸ªé›†åˆã€ã€‚æ•°æ®å…ƒç´ ä¹‹é—´é™¤äº†åŒå±ä¸€ä¸ªé›†åˆå¤–ï¼Œä¸å­˜åœ¨å…¶ä»–å…³ç³»ï¼›ä»»ä½•ä¸¤ä¸ªç»“ç‚¹ä¹‹é—´éƒ½æ²¡æœ‰é‚»æ¥å…³ç³»ï¼Œç»„ç»‡å½¢å¼æ¾æ•£ï¼› çº¿æ€§ç»“æ„ï¼šæ•°æ®å…ƒç´ é™¤äº†åŒå±äºä¸€ä¸ªé›†åˆå¤–ï¼Œæ•°æ®å…ƒç´ ä¹‹é—´è¿˜å­˜åœ¨ç€ä¸€å¯¹ä¸€çš„é¡ºåºå…³ç³»ï¼›å…¶ä¸­ç»“ç‚¹æŒ‰é€»è¾‘å…³ç³»ä¾æ¬¡æ’åˆ—å½¢æˆä¸€æ¡ã€Œé“¾ã€ï¼Œç»“ç‚¹ä¹‹é—´ä¸€ä¸ªä¸€ä¸ªä¾æ¬¡ç›¸é‚»æ¥ï¼› æ ‘å½¢ç»“æ„ï¼šæ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨ç€ä¸€å¯¹å¤šçš„å±‚æ¬¡å…³ç³»ï¼›å…·æœ‰åˆ†æ”¯ã€å±‚æ¬¡ç‰¹æ€§ï¼Œå…¶å½¢æ€åƒè‡ªç„¶ç•Œä¸­çš„æ ‘ï¼Œä¸Šå±‚çš„ç»“ç‚¹å¯ä»¥å’Œä¸‹å±‚çš„ç»“ç‚¹ç›¸é‚»æ¥ï¼Œä½†ä¸‹å±‚çš„ç»“ç‚¹åªèƒ½å’Œä¸Šå±‚çš„ä¸€ä¸ªç»“ç‚¹ç›¸é‚»æ¥ï¼› å›¾çŠ¶ç»“æ„ï¼šæ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨ç€å¤šå¯¹å¤šçš„ä»»æ„å…³ç³»ï¼Œå›¾çŠ¶ç»“æ„ä¹Ÿç§°ä¸ºç½‘çŠ¶ç»“æ„ï¼›å…¶ä¸­ä»»ä½•ä¸¤ä¸ªç»“ç‚¹çš„éƒ½å¯ä»¥ç›¸é‚»æ¥ï¼› ","date":"2022-05-04","objectID":"/2022/05/04/ds-get-started/:1:2","tags":["Data Structure \u0026 Algorithm"],"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•èµ·æ­¥","uri":"/2022/05/04/ds-get-started/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"æ•°æ®çš„å­˜å‚¨ç»“æ„ æ•°æ®çš„å­˜å‚¨ç»“æ„ï¼šæŒ‡æ•°æ®çš„é€»è¾‘ç»“æ„åœ¨è®¡ç®—æœºä¸­çš„å®ç°ï¼Œä¹Ÿç§°æ•°æ®çš„ç‰©ç†ç»“æ„ï¼ˆæˆ–æ•°æ®çš„å­˜å‚¨ç»“æ„ï¼‰ã€‚ æ•°æ®çš„å­˜å‚¨ç»“æ„çš„ä¸¤ä¸ªéƒ¨åˆ†ï¼š å­˜å‚¨æ•°æ®çš„å…ƒç´ ï¼› æ•°æ®å…ƒç´ ä¹‹é—´çš„å…³è”æ–¹å¼ï¼› æ•°æ®çš„å­˜å‚¨ç»“æ„çš„å››ç§æ–¹å¼ï¼š é¡ºåºå­˜å‚¨ï¼šæŒ‡æ‰€æœ‰å­˜å‚¨ç»“ç‚¹å­˜æ”¾åœ¨ä¸€ä¸ªè¿ç»­çš„å­˜å‚¨åŒºé‡Œï¼›åˆ©ç”¨ç»“ç‚¹åœ¨å­˜å‚¨å™¨ä¸­çš„ç›¸å¯¹ä½ç½®æ¥è¡¨ç¤ºæ•°æ®å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼› é“¾å¼å­˜å‚¨ï¼šæ‰¹æ¯ä¸ªå­˜å‚¨ç»“ç‚¹é™¤äº†å«æœ‰ä¸€ä¸ªæ•°æ®å…ƒç´ å¤–ï¼Œè¿˜åŒ…å«æŒ‡é’ˆï¼Œæ¯ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªä¸æœ¬ç»“ç‚¹æœ‰é€»è¾‘å…³ç³»çš„ç»“ç‚¹ï¼Œç”¨æŒ‡é’ˆè¡¨ç¤ºæ•°æ®å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼› ç´¢å¼•å­˜å‚¨ï¼šæŒ‡é€šè¿‡å»ºç«‹å­˜å‚¨ç»“ç‚¹ä¿¡æ¯ï¼Œä»¥åŠå»ºç«‹é™„åŠ çš„ç´¢å¼•è¡¨æ¥æ ‡è¯†ç»“ç‚¹çš„åœ°å€çš„å­˜å‚¨æ–¹æ³•ï¼› æ•£åˆ—å­˜å‚¨ï¼šåˆç§° Hash å­˜å‚¨ï¼Œæ˜¯ä¸€ç§åŠ›å›¾å°†æ•°æ®å…ƒç´ çš„å­˜å‚¨ä½ç½®ä¸å…³é”®ç ä¹‹é—´å»ºç«‹ç¡®å®šå¯¹åº”å…³ç³»çš„æŸ¥æ‰¾æ–¹å¼ï¼› ","date":"2022-05-04","objectID":"/2022/05/04/ds-get-started/:1:3","tags":["Data Structure \u0026 Algorithm"],"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•èµ·æ­¥","uri":"/2022/05/04/ds-get-started/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"æ•°æ®çš„é€»è¾‘ç»“æ„ä¸æ•°æ®çš„å­˜å‚¨ç»“æ„çš„å…³ç³» æ•°æ®çš„é€»è¾‘ç»“æ„åªæ˜¯ä¸€ç§æ•°æ®æ¨¡å‹ï¼Œä½“ç°äº†æ•°æ®çš„ç»„ç»‡æ–¹å¼ï¼Œè¦åœ¨è®¡ç®—æœºä¸­å®ç°é€»è¾‘ç»“æ„ï¼Œè¿˜ä¾èµ–å®ƒåœ¨è®¡ç®—æœºä¸­çš„å­˜å‚¨ç»“æ„ï¼› æ•°æ®çš„é€»è¾‘ç»“æ„åœ¨è®¡ç®—æœºä¸­çš„å®ç°ç§°ä¸ºæ•°æ®çš„å­˜å‚¨ç»“æ„ï¼ˆæˆ–ç‰©ç†ç»“æ„ï¼‰ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸€ä¸ªå­˜å‚¨ç»“æ„åŒ…æ‹¬å­˜å‚¨æ•°æ®çš„å…ƒç´ å’Œæ•°æ®å…ƒç´ ä¹‹é—´çš„å…³ç³»æ–¹å¼ï¼› ä¸€ç§é€»è¾‘ç»“æ„å¯ä»¥é‡‡ç”¨ä¸€ç§æˆ–å‡ ç§å­˜å‚¨æ–¹å¼æ¥è¡¨è¾¾æ•°æ®å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼Œç›¸åº”çš„å­˜å‚¨ç»“æ„ç§°ä¸ºç»™å®šé€»è¾‘ç»“æ„çš„å­˜å‚¨å®ç°æˆ–å­˜å‚¨æ˜ åƒï¼› ","date":"2022-05-04","objectID":"/2022/05/04/ds-get-started/:1:4","tags":["Data Structure \u0026 Algorithm"],"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•èµ·æ­¥","uri":"/2022/05/04/ds-get-started/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"è¿ç®— è¿ç®—ï¼šæŒ‡åœ¨æŸç§é€»è¾‘ç»“æ„ä¸Šæ–½åŠ çš„æ“ä½œï¼Œå³å¯¹é€»è¾‘ç»“æ„çš„åŠ å·¥ã€‚è¿™ç§åŠ å·¥ä»¥æ•°æ®çš„é€»è¾‘ç»“æ„ä¸ºå¯¹è±¡ï¼Œè¿ç®—çš„å®ç°å°±æ˜¯å¯¹è¯¥è¿ç®—çš„ç®—æ³•ã€‚ æ•°æ®ç»“æ„ä¸Šçš„åŸºæœ¬æ“ä½œï¼š åˆ›å»ºï¼šå»ºç«‹æŸç§æ‰€éœ€çš„æ•°æ®ç»“æ„ï¼› æ’å…¥ï¼šåœ¨æŒ‡å®šä½ç½®ä¸Šæ·»åŠ æ–°çš„æ•°æ®å…ƒç´ ï¼› åˆ é™¤ï¼šåˆ å»æŒ‡å®šä½ç½®ä¸Šå¯¹åº”çš„æ•°æ®å…ƒç´ ï¼› æ›´æ–°ï¼šä¿®æ”¹æŸä¸ªæ•°æ®å…ƒç´ çš„å€¼ï¼› æŸ¥æ‰¾ï¼šå¯»æ‰¾æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„æ•°æ®å…ƒç´ æ‰€åœ¨çš„ä½ç½®ï¼› è¯»å–ï¼šè¯»å‡ºæŒ‡å®šä½ç½®ä¸Šæ•°æ®å…ƒç´ çš„å†…å®¹ï¼› ","date":"2022-05-04","objectID":"/2022/05/04/ds-get-started/:1:5","tags":["Data Structure \u0026 Algorithm"],"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•èµ·æ­¥","uri":"/2022/05/04/ds-get-started/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"ç®—æ³• ","date":"2022-05-04","objectID":"/2022/05/04/ds-get-started/:2:0","tags":["Data Structure \u0026 Algorithm"],"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•èµ·æ­¥","uri":"/2022/05/04/ds-get-started/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"ç®—æ³•ç‰¹æ€§ ç®—æ³•ï¼ˆAlgorithmï¼‰ï¼šæ˜¯å¯¹ç‰¹å®šé—®é¢˜æ±‚è§£æ­¥éª¤çš„ä¸€ç§æè¿°ï¼Œæ˜¯æŒ‡ä»¤çš„æœ‰é™åºåˆ—ã€‚å…¶ä¸­æ¯ä¸€æ¡æŒ‡ä»¤è¡¨ç¤ºä¸€ä¸ªæˆ–å¤šä¸ªæ“ä½œã€‚ ç®—æ³•çš„ç‰¹æ€§ï¼š æœ‰ç©·æ€§ï¼šä¸€ä¸ªç®—æ³•å¿…é¡»åœ¨æœ‰ç©·æ­¥ä¹‹åç»“æŸï¼Œå³å¿…é¡»åœ¨æœ‰é™æ—¶é—´å†…å®Œæˆï¼› ç¡®å®šæ€§ï¼šç®—æ³•çš„æ¯ä¸€æ­¥å¿…é¡»æœ‰ç¡®åˆ‡çš„å®šä¹‰ï¼Œæ— äºŒä¹‰æ€§ï¼Œä¸”åœ¨ä»»ä½•æ¡ä»¶ä¸‹ç®—æ³•åªæœ‰å”¯ä¸€ä¸€æ¡æ‰§è¡Œè·¯å¾„ï¼Œå³å¯¹äºç›¸åŒçš„è¾“å…¥åªèƒ½å¾—å‡ºç›¸åŒçš„è¾“å‡ºï¼› å¯è¡Œæ€§ï¼šç®—æ³•ä¸­çš„æ¯ä¸€æ­¥éƒ½å¯ä»¥é€šè¿‡å·²ç»å®ç°çš„åŸºæœ¬è¿ç®—çš„æœ‰é™æ¬¡æ‰§è¡Œå¾—ä»¥å®ç°ï¼› è¾“å…¥ï¼šä¸€ä¸ªç®—æ³•å…·æœ‰é›¶ä¸ªæˆ–å¤šä¸ªè¾“å…¥ï¼Œè¿™äº›è¾“å…¥å–è‡ªç‰¹å®šçš„æ•°æ®å¯¹è±¡é›†åˆï¼› è¾“å‡ºï¼šä¸€ä¸ªç®—æ³•å…·æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å‡ºï¼Œè¿™äº›è¾“å‡ºåŒè¾“å…¥ä¹‹é—´å­˜åœ¨æŸç§ç‰¹å®šçš„å…³ç³»ï¼› ç®—æ³•å¥½åçš„å› ç´ ï¼š æ­£ç¡®æ€§ï¼šèƒ½æ­£ç¡®åœ°å®ç°é¢„å®šçš„åŠŸèƒ½ï¼Œæ»¡è¶³å…·ä½“é—®é¢˜çš„éœ€è¦ï¼› æ˜“è¯»æ€§ï¼šæ˜“äºé˜…è¯»ã€ç†è§£å’Œäº¤æµï¼Œä¾¿äºè°ƒè¯•ã€ä¿®æ”¹å’Œæ‰©å……ï¼› å¥å£®æ€§ï¼šå³ä½¿è¾“å…¥éæ³•æ•°æ®ï¼Œç®—æ³•ä¹Ÿèƒ½é€‚å½“åœ°åšå‡ºååº”æˆ–è¿›è¡Œå¤„ç†ï¼Œä¸ä¼šäº§ç”Ÿé¢„æ–™ä¸åˆ°çš„è¿è¡Œç»“æœï¼› æ—¶ç©ºæ€§ï¼šç®—æ³•çš„æ—¶é—´æ€§èƒ½ï¼ˆæˆ–æ—¶é—´æ•ˆç‡ï¼‰å°½å¯èƒ½å¿«å’Œç©ºé—´æ€§èƒ½ï¼ˆæˆ–ç©ºé—´æ•ˆç‡ï¼‰å°½å¯èƒ½å°‘ï¼Œæ—¶é—´æ€§èƒ½è€ƒé‡è®¡ç®—é‡ï¼Œç©ºé—´æ€§èƒ½è€ƒé‡å­˜å‚¨é‡ï¼› ","date":"2022-05-04","objectID":"/2022/05/04/ds-get-started/:2:1","tags":["Data Structure \u0026 Algorithm"],"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•èµ·æ­¥","uri":"/2022/05/04/ds-get-started/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"ç®—æ³•çš„æè¿° è‡ªç„¶è¯­è¨€ç®—æ³•æè¿°ï¼šç”¨äººç±»è‡ªç„¶è¯­è¨€ï¼ˆå¦‚ä¸­æ–‡ã€è‹±æ–‡ç­‰ï¼‰æ¥æè¿°ç®—æ³•ï¼ŒåŒæ—¶è¿˜å¯æ’å…¥ä¸€äº›ç¨‹åºè®¾è®¡è¯­è¨€ä¸­çš„è¯­å¥æ¥æè¿°ï¼Œè¿™ç§æ–¹æ³•ä¹Ÿç§°ä¸ºéå½¢å¼ç®—æ³•æè¿°ã€‚å…¶ä¼˜ç‚¹æ˜¯ä¸éœ€è¦ä¸“é—¨å­¦ä¹ ï¼Œä»»ä½•äººéƒ½å¯ä»¥ç›´æ¥é˜…è¯»å’Œç†è§£ï¼Œä½†ç›´è§‚æ€§å¾ˆå·®ï¼Œå¤æ‚çš„ç®—æ³•éš¾å†™éš¾è¯»ï¼› æ¡†å›¾ç®—æ³•æè¿°ï¼šè¿™æ˜¯ä¸€ç§å›¾ç¤ºæ³•ï¼Œå¯ä»¥é‡‡ç”¨æ–¹æ¡†å›¾ã€æµç¨‹å›¾ã€N-S å›¾ç­‰æ¥æè¿°ç®—æ³•ï¼Œè¿™ç§æè¿°æ–¹æ³•åœ¨ç®—æ³•ç ”ç©¶çš„æ—©æœŸæ›¾æµè¡Œè¿‡ã€‚å®ƒçš„ä¼˜ç‚¹æ˜¯ç›´è§‚ã€æ˜“æ‡‚ï¼Œä½†ç”¨æ¥æè¿°æ¯”è¾ƒå¤æ‚çš„ç®—æ³•å°±æ˜¾å¾—ä¸å¤Ÿæ–¹ä¾¿ï¼Œä¹Ÿä¸å¤Ÿæ¸…æ™°ç®€æ´ï¼› ä¼ªä»£ç ç®—æ³•æè¿°ï¼šå¦‚ç±» C è¯­è¨€ç®—æ³•æè¿°ã€‚è¿™ç§ç®—æ³•æè¿°å¾ˆåƒç¨‹åºï¼Œä½†å®ƒä¸èƒ½ç›´æ¥åœ¨è®¡ç®—æœºä¸Šç¼–è¯‘ã€è¿è¡Œã€‚è¿™ç§æ–¹æ³•å¾ˆå®¹æ˜“ç¼–å†™ã€é˜…è¯»ç®—æ³•ï¼Œè€Œä¸”æ ¼å¼ç»Ÿä¸€ï¼Œç»“æ„æ¸…æ™°ï¼Œä¸“ä¸šè®¾è®¡äººå‘˜ç»å¸¸ä½¿ç”¨ç±» C è¯­è¨€æ¥æè¿°ç®—æ³•ï¼› é«˜çº§ç¨‹åºè®¾è®¡è¯­è¨€ç¼–å†™çš„ç¨‹åºæˆ–å‡½æ•°ï¼šè¿™æ˜¯ç›´æ¥ç”¨é«˜çº§è¯­è¨€æ¥æè¿°ç®—æ³•ï¼Œå®ƒå¯åœ¨è®¡ç®—æœºä¸Šè¿è¡Œå¹¶è·å¾—ç»“æœï¼Œä½¿ç»™å®šé—®é¢˜èƒ½åœ¨æœ‰é™æ—¶é—´å†…è¢«æ±‚è§£ï¼Œé€šå¸¸è¿™ç§ç®—æ³•æè¿°ä¹Ÿç§°ä¸ºç¨‹åºï¼› ","date":"2022-05-04","objectID":"/2022/05/04/ds-get-started/:2:2","tags":["Data Structure \u0026 Algorithm"],"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•èµ·æ­¥","uri":"/2022/05/04/ds-get-started/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"ç®—æ³•åˆ†æ ç®—æ³•è¢«è½¬æ¢æˆç¨‹åºå¹¶åœ¨è®¡ç®—æœºä¸Šæ‰§è¡Œæ—¶ï¼Œå…¶è¿è¡Œæ‰€éœ€è¦çš„æ—¶é—´ä¸€èˆ¬å–å†³äºä¸‹åˆ—å‡ ä¸ªå› ç´ ï¼š ç¡¬ä»¶çš„é€Ÿåº¦ï¼› å®ç°ç®—æ³•çš„ç¨‹åºè®¾è®¡è¯­è¨€ï¼› ç¼–è¯‘ç¨‹åºæ‰€ç”Ÿæˆç›®æ ‡ä»£ç çš„è´¨é‡ï¼› ç®—æ³•æ‰€é‡‡ç”¨çš„ç­–ç•¥ï¼› é—®é¢˜çš„è§„æ¨¡ï¼› ","date":"2022-05-04","objectID":"/2022/05/04/ds-get-started/:3:0","tags":["Data Structure \u0026 Algorithm"],"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•èµ·æ­¥","uri":"/2022/05/04/ds-get-started/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"æ—¶é—´å¤æ‚åº¦ Know Thy Complexities æ—¶é—´å¤æ‚åº¦ï¼ˆTime Complexityï¼‰ï¼šæŒ‡è¯¥ç¨‹åºçš„è¿è¡Œæ—¶é—´ä¸é—®é¢˜è§„æ¨¡çš„å¯¹åº”å…³ç³»ã€‚å¤§ ÎŸ è¡¨ç¤ºæ³•ä¹Ÿç§°ä¸ºç®—æ³•çš„æ¸è¿›è¡¨ç¤ºæ³•ï¼Œå®ƒä¸è€ƒè™‘å…·ä½“çš„è¿è¡Œæ—¶é—´ï¼Œåªç»™å‡ºç®—æ³•åœ¨é—®é¢˜è§„æ¨¡ n ä¸‹æ‰§è¡Œæ—¶é—´çš„ä¸Šç•Œã€‚T(n) = O(f(n)) ç§°ä¸ºç®—æ³•çš„æ¸è¿›æ—¶é—´å¤æ‚åº¦ï¼ˆAsymptotic Time Complexityï¼‰ï¼Œç®€ç§°æ—¶é—´å¤æ‚åº¦ã€‚ å¤§ O è®°å·è¡¨ç¤ºæ³•å®šä¹‰ï¼šå¦‚æœå­˜åœ¨ä¸¤ä¸ªæ­£å¸¸æ•° c å’Œ n0ï¼Œä½¿å¾—å¯¹æ‰€æœ‰çš„ n(n\u003e=n0)ï¼Œæœ‰ T(n) \u003c= c*f(n)ï¼Œåˆ™ï¼šT(n)=O(f(n))ã€‚ æœ€åæ—¶é—´å¤æ‚åº¦ï¼šæŒ‡å¯¹äºç›¸åŒè¾“å…¥æ•°æ®é‡çš„ä¸åŒè¾“å…¥æ•°æ®ï¼Œç®—æ³•æ—¶é—´ç”¨é‡çš„æœ€å¤§å€¼ã€‚ å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼šæŒ‡å¯¹æ‰€æœ‰ç›¸åŒè¾“å…¥æ•°æ®é‡çš„å„ç§ä¸åŒè¾“å…¥æ•°æ®ï¼Œç®—æ³•æ—¶é—´ç”¨é‡çš„å¹³å‡å€¼ã€‚ å¸¸è§çš„æ¸è¿›æ—¶é—´å¤æ‚åº¦ï¼ˆæŒ‰æ—¶é—´æ•ˆç‡ä»é«˜åˆ°åº•ï¼‰ï¼šO(1) \u003e O(log2n \u003e O(n) \u003e O(nlog2n) \u003e O(n2) \u003e O(n3) \u003e O(2n)ã€‚ ","date":"2022-05-04","objectID":"/2022/05/04/ds-get-started/:3:1","tags":["Data Structure \u0026 Algorithm"],"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•èµ·æ­¥","uri":"/2022/05/04/ds-get-started/"},{"categories":["Data Structure \u0026 Algorithm"],"content":"ç©ºé—´å¤æ‚åº¦ ç©ºé—´å¤æ‚åº¦ï¼ˆSpace Complexityï¼‰ï¼šæŒ‡ç¨‹åºè¿è¡Œä»å¼€å§‹åˆ°ç»“æŸæ‰€éœ€çš„å­˜å‚¨é‡ä¸é—®é¢˜è§„æ¨¡çš„å¯¹åº”å…³ç³»ã€‚è®°åšï¼šS(n)=O(g(n))ã€‚ ç©ºé—´å¤æ‚åº¦æ˜¯å¯¹ä¸€ä¸ªç®—æ³•åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¸´æ—¶å ç”¨å­˜å‚¨ç©ºé—´å¤§å°çš„é‡åº¦ã€‚ä¸€ä¸ªç®—æ³•åœ¨æ‰§è¡ŒæœŸé—´æ‰€éœ€è¦çš„å­˜å‚¨ç©ºé—´é‡åº”åŒ…æ‹¬ä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†ï¼š ç¨‹åºä»£ç æ‰€å ç”¨çš„ç©ºé—´ï¼› è¾“å…¥æ•°æ®æ‰€å ç”¨çš„ç©ºé—´ï¼› è¾…åŠ©å˜é‡æ‰€å ç”¨çš„ç©ºé—´ï¼› ","date":"2022-05-04","objectID":"/2022/05/04/ds-get-started/:3:2","tags":["Data Structure \u0026 Algorithm"],"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•èµ·æ­¥","uri":"/2022/05/04/ds-get-started/"},{"categories":["AWS"],"content":"AWS åœ¨éƒ¨ç½²å®¹å™¨æ—¶æä¾›äº†å¾ˆå¤šé€‰é¡¹ã€‚ä½†æ˜¯çŸ¥é“å“ªç§æœåŠ¡èƒ½åšä»€ä¹ˆï¼Œå³ä½¿æ˜¯ç»éªŒä¸°å¯Œçš„ä¸“ä¸šäººå£«ä¹Ÿä¼šæ„Ÿåˆ°å¤´ç—›ã€‚ ","date":"2022-01-17","objectID":"/2022/01/17/aws-get-started/:0:0","tags":["AWS"],"title":"AWS Get Started","uri":"/2022/01/17/aws-get-started/"},{"categories":["AWS"],"content":"äº†è§£æ¯ä¸ªæœåŠ¡çš„è§’è‰² æœ¬è´¨ä¸Šï¼Œæ¯ä¸ªæœåŠ¡éƒ½æ˜¯ç¼–æ’å±‚ï¼ˆç®¡ç†å®¹å™¨ï¼‰æˆ–å®¿ä¸»å±‚ï¼ˆè¿è¡Œå®¹å™¨ï¼‰çš„ä¸€éƒ¨åˆ†ï¼š ECSã€EK å’Œ Kuberneretes æ˜¯ç¼–æ’å±‚çš„ä¸€éƒ¨åˆ†ï¼› EC2 å’Œ Fargate æ˜¯å®¿ä¸»å±‚çš„ä¸€éƒ¨åˆ†ï¼› ","date":"2022-01-17","objectID":"/2022/01/17/aws-get-started/:1:0","tags":["AWS"],"title":"AWS Get Started","uri":"/2022/01/17/aws-get-started/"},{"categories":["AWS"],"content":"EKS vs ECS vs Kuberneretes - ç¼–æ’å±‚ å®¹å™¨ç¼–æ’æœåŠ¡è‡ªåŠ¨åŒ–ç®¡ç†å®¹å™¨çš„æ‰‹åŠ¨å·¥ä½œã€‚ç¼–æ’çš„ä¸»è¦å¥½å¤„æ˜¯ï¼š Simplifying Operations - è‡ªåŠ¨éƒ¨ç½²å’Œåˆ›å»ºæ–°å®¹å™¨ï¼› Adding Resilience - è‡ªåŠ¨ç®¡ç†æ•…éšœå’Œå®¹å™¨ç”Ÿå‘½å‘¨æœŸï¼› Adding Security - æ¶ˆé™¤ç”±äºç”¨æˆ·é”™è¯¯è€Œé€ æˆçš„è¿è§„è¡Œä¸ºï¼Œå¹¶è‡ªåŠ¨åŒ–å®‰å…¨æœ€ä½³å®è·µï¼› ","date":"2022-01-17","objectID":"/2022/01/17/aws-get-started/:2:0","tags":["AWS"],"title":"AWS Get Started","uri":"/2022/01/17/aws-get-started/"},{"categories":["AWS"],"content":"ECS - Elastic Container Service AWS è‡ªå·±çš„å®¹å™¨æœåŠ¡ã€‚å®ƒåœ¨é›†ç¾¤ä¸­ç®¡ç†å®¹å™¨ï¼Œè¢«ç§°ä¸º ECS é›†ç¾¤ã€‚ ","date":"2022-01-17","objectID":"/2022/01/17/aws-get-started/:2:1","tags":["AWS"],"title":"AWS Get Started","uri":"/2022/01/17/aws-get-started/"},{"categories":["AWS"],"content":"EKS - Elastic Kuberneretes Service EKS æ˜¯ä¸€ç§ AWS å®¹å™¨æœåŠ¡ï¼Œå®ƒä¸ ECS çš„ä¸åŒä¹‹å¤„åœ¨äºå®ƒç”¨äºç®¡ç† AWS åŸºç¡€è®¾æ–½ä¸Šçš„ Kubernetes é›†ç¾¤ã€‚è¿˜å¯ä»¥å°†ç°æœ‰çš„ Kubernetes å·¥ä½œè´Ÿè½½è¿ç§»åˆ° EKS ä¸Šã€‚ ","date":"2022-01-17","objectID":"/2022/01/17/aws-get-started/:2:2","tags":["AWS"],"title":"AWS Get Started","uri":"/2022/01/17/aws-get-started/"},{"categories":["AWS"],"content":"Kubernetes Kubernetes æ˜¯å¼€æºçš„å®¹å™¨ç¼–æ’æœåŠ¡ï¼Œéå¸¸æµè¡Œï¼Œä½†è¦åœ¨ AWS ä¸Šéƒ¨ç½² Kubernetesï¼Œå¯ä»¥è¯´å¿…é¡»ä½¿ç”¨ EKS æ¥å®ç°ã€‚ ","date":"2022-01-17","objectID":"/2022/01/17/aws-get-started/:2:3","tags":["AWS"],"title":"AWS Get Started","uri":"/2022/01/17/aws-get-started/"},{"categories":["AWS"],"content":"ECS vs EKS ECS pros ECS æ˜¯ AWS è‡ªå·±çš„å®¹å™¨æœåŠ¡ï¼Œå› æ­¤å®ƒä¸ AWS ç”Ÿæ€ç³»ç»Ÿï¼ŒåŒ…æ‹¬ CloudTrailï¼ŒCloudWatch å’Œ Amazon ECRï¼ˆå¼¹æ€§å®¹å™¨æ³¨å†Œï¼‰è¿›è¡Œäº†æ›´å¥½çš„é›†æˆï¼Œä»¥å®ç°å¯¹ Docker æ˜ åƒçš„æ— ç¼ç®¡ç†ï¼› ECS æ§åˆ¶é¢æ¿å®Œå…¨è‡ªç”±ï¼Œè€Œ EKS éœ€è¦å……å€¼ï¼› EKS pros ç”±äº EKS ä½¿ç”¨ Kubernetesï¼Œæ‰€ä»¥å®ƒæ›´åŠ çµæ´»ï¼Œè¿™æ„å‘³ç€å¯ä»¥æ¯” ECS æ›´è½»æ¾åœ°å°†å·¥ä½œè¿ç§»åˆ°å¦ä¸€ä¸ªå¹³å°ï¼Œä½¿å…¶æ›´é€‚åˆå¤æ‚çš„å¤šäº‘å·¥ä½œè´Ÿè½½ï¼› EKS æ›´é€‚åˆå¤æ‚çš„åº”ç”¨ï¼› EKS æœ€ç»ˆæä¾›äº†æ¯” ECS æ›´å¤šçš„æ§åˆ¶ï¼ˆå¯¹é›†ç¾¤çš„ç®¡ç†å’Œè°ƒåº¦ï¼‰ï¼› ç»“è®º å¦‚æœéœ€è¦ä¸€ä¸ªæ›´ç®€å•çš„åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”å¸Œæœ›åˆå¹¶è®¸å¤š AWS æœåŠ¡ï¼ŒECS å¯èƒ½æ˜¯æ¯”è¾ƒå¥½çš„é€‰æ‹©ã€‚å¦‚æœæœ‰ä¸€ä¸ªæ›´å¤æ‚çš„é¡¹ç›®ï¼Œç‰¹åˆ«æ˜¯å¦‚æœæƒ³è¦ä½¿ç”¨å¤šäº‘æ–¹æ³•ï¼ŒEKS æ˜¯æ­£ç¡®çš„é€‰æ‹©â€”â€”æ˜¾ç„¶ï¼Œå¦‚æœæƒ³è¦ä½¿ç”¨ Kubernetes æ—¶ã€‚ ","date":"2022-01-17","objectID":"/2022/01/17/aws-get-started/:2:4","tags":["AWS"],"title":"AWS Get Started","uri":"/2022/01/17/aws-get-started/"},{"categories":["AWS"],"content":"Fargate vs EC2 â€“ å®¿ä¸»å±‚ å®¹å™¨éƒ¨ç½²çš„å®¿ä¸»å±‚è¡¨ç¤ºå®¹å™¨å°†å®é™…è¿è¡Œçš„è™šæ‹Ÿæœºï¼ˆæˆ–æ‰¿è½½çš„è™šæ‹Ÿæœºï¼Œå› æ­¤å¾—åï¼‰ã€‚ ","date":"2022-01-17","objectID":"/2022/01/17/aws-get-started/:3:0","tags":["AWS"],"title":"AWS Get Started","uri":"/2022/01/17/aws-get-started/"},{"categories":["AWS"],"content":"EC2 Deploy and manage your own cluster of EC2 instances for running the containers. EC2 æ˜¯éƒ¨ç½²å®¹å™¨çš„ä¼ ç»Ÿæ–¹å¼ã€‚åœ¨ EC2 ä¸­ï¼Œé€šè¿‡å®é™…çš„ VM è¿›è¡Œè¿è¡Œã€‚ ","date":"2022-01-17","objectID":"/2022/01/17/aws-get-started/:3:1","tags":["AWS"],"title":"AWS Get Started","uri":"/2022/01/17/aws-get-started/"},{"categories":["AWS"],"content":"Fargate Run containers directly, without any EC2 instances. Fargate å¸¦æ¥äº†ä¸€ç§æ— æœåŠ¡å™¨çš„æ–¹å¼ï¼ŒFargate ä¸æ˜¯è‡ªå·±é…ç½®æœåŠ¡å™¨ï¼Œè€Œæ˜¯æ ¹æ®æ¯ä¸ªè¯·æ±‚è‡ªåŠ¨ä¸ºå®¹å™¨é…ç½®åŸºç¡€è®¾æ–½ã€‚ ","date":"2022-01-17","objectID":"/2022/01/17/aws-get-started/:3:2","tags":["AWS"],"title":"AWS Get Started","uri":"/2022/01/17/aws-get-started/"},{"categories":["AWS"],"content":"EC2 vs Fargate EC2 pros EC2 æ„å‘³ç€æ›´å¤šçš„æ‰‹å·¥å·¥ä½œï¼Œä½†æ˜¯æœ‰æ›´å¤šçš„æ§åˆ¶åŠ›å’Œé€æ˜åº¦ï¼ˆå› ä¸ºä½ è‡ªå·±éœ€è¦é…ç½®åŸºç¡€è®¾æ–½ï¼‰ï¼› éœ€è¦ç†Ÿæ‚‰ EC2ï¼› Fargate pros Fargate æ„å‘³ç€æ›´å°‘çš„å·¥ä½œï¼Œé€šå¸¸æˆæœ¬æ›´ä½ï¼ˆéœ€è¦ä½ ä¸ºæ¶ˆè€—çš„èµ„æºä»˜è´¹ï¼‰ï¼Œå¯¹åº”çš„æ§åˆ¶åŠ›å’Œé€æ˜åº¦æ›´ä½ï¼› Fargate æ˜¯æ— æœåŠ¡å™¨çš„ï¼Œè¿™ç§æ–¹å¼æ˜¯ä»¥åçš„å¸¸æ€ï¼› ç»“è®º å¦‚æœæœ‰æ—¶é—´å’Œé¢„ç®—ï¼Œå¹¶ä¸”éœ€è¦é¢å¤–çš„ç›‘ç£å’Œæ§åˆ¶ï¼ŒEC2 æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚å¦‚æœæƒ³è¦é™ä½æˆæœ¬å’Œå‡è½»è´Ÿæ‹…ï¼ŒFargate æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ ","date":"2022-01-17","objectID":"/2022/01/17/aws-get-started/:3:3","tags":["AWS"],"title":"AWS Get Started","uri":"/2022/01/17/aws-get-started/"},{"categories":["AWS"],"content":"Benefits of infrastructure as code ä»¥ä¸‹æ‘˜è‡ª AWS å®˜ç½‘ã€‚ Visibility: An infrastructure as code template serves as a very clear reference of what resources are on your account, and what their settings are. You donâ€™t have to navigate to the web console to check the parameters. Stability: If you accidentally change the wrong setting or delete the wrong resource in the web console you can break things. Infrastructure as code helps solve this, especially when it is combined with version control, such as Git. Scalability: With infrastructure as code you can write it once and then reuse it many times. This means that one well written template can be used as the basis for multiple services, in multiple regions around the world, making it much easier to horizontally scale. Security: Once again infrastructure as code gives you a unified template for how to deploy your architecture. If you create one well secured architecture you can reuse it multiple times, and know that each deployed version is following the same settings. Transactional: CloudFormation not only creates resources on your AWS account but also waits for them to stabilize while they start. It verifies that provisioning was successful, and if there is a failure it can gracefully roll the infrastructure back to a past known good state. ","date":"2022-01-17","objectID":"/2022/01/17/aws-get-started/:4:0","tags":["AWS"],"title":"AWS Get Started","uri":"/2022/01/17/aws-get-started/"},{"categories":["PHP"],"content":"é€šè¿‡ GDB è·Ÿè¸ªè°ƒè¯•æ¥äº†è§£ä¸€ä¸‹ Zend String å’Œ Zend Arrayã€‚ PHP æºç å­¦ä¹ ä¸€ PHP æºç å­¦ä¹ äºŒ ","date":"2021-09-13","objectID":"/2021/09/13/php-src-learning2/:0:0","tags":["PHP"],"title":"PHP æºç å­¦ä¹ äºŒ","uri":"/2021/09/13/php-src-learning2/"},{"categories":["PHP"],"content":"Zend String ","date":"2021-09-13","objectID":"/2021/09/13/php-src-learning2/:1:0","tags":["PHP"],"title":"PHP æºç å­¦ä¹ äºŒ","uri":"/2021/09/13/php-src-learning2/"},{"categories":["PHP"],"content":"Zend String Struct struct _zend_string { zend_refcounted_h gc; zend_ulong h; /* hash value */ size_t len; char val[1]; }; typedef struct _zend_refcounted_h { uint32_t refcount; /* reference counter 32-bit */ union { uint32_t type_info; } u; } zend_refcounted_h; ","date":"2021-09-13","objectID":"/2021/09/13/php-src-learning2/:1:1","tags":["PHP"],"title":"PHP æºç å­¦ä¹ äºŒ","uri":"/2021/09/13/php-src-learning2/"},{"categories":["PHP"],"content":"Copy-on-write \u003c?php $c = 'Hello World!'; echo $c; $a = time() . 'String'; echo $a; // Copy-on-write $b = $a; echo $a; echo $b; $b = 'Hello'; echo $a; echo $b; # gdb /home/vagrant/codes/php80/bin/php (gdb) b ZEND_ECHO_SPEC_CV_HANDLER Breakpoint 1 at 0x5c96a8: file /vagrant/php-8.0.10/Zend/zend_vm_execute.h, line 37184. (gdb) r copy-on-write.php Starting program: /home/vagrant/codes/php80/bin/php copy-on-write.php [Thread debugging using libthread_db enabled] Using host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\". Breakpoint 1, ZEND_ECHO_SPEC_CV_HANDLER () at /vagrant/php-8.0.10/Zend/zend_vm_execute.h:37184 37184 SAVE_OPLINE(); (gdb) n 37185 z = EX_VAR(opline-\u003eop1.var); (gdb) 37187 if (Z_TYPE_P(z) == IS_STRING) { (gdb) p z $1 = (zval *) 0x7ffff3814070 (gdb) p *z $2 = {value = {lval = 140737278651680, dval = 6.9533454470981759e-310, counted = 0x7ffff3802d20, str = 0x7ffff3802d20, arr = 0x7ffff3802d20, obj = 0x7ffff3802d20, res = 0x7ffff3802d20, ref = 0x7ffff3802d20, ast = 0x7ffff3802d20, zv = 0x7ffff3802d20, ptr = 0x7ffff3802d20, ce = 0x7ffff3802d20, func = 0x7ffff3802d20, ww = {w1 = 4085263648, w2 = 32767}}, u1 = {type_info = 6, v = {type = 6 '\\006', type_flags = 0 '\\000', u = {extra = 0}}}, u2 = {next = 0, cache_slot = 0, opline_num = 0, lineno = 0, num_args = 0, fe_pos = 0, fe_iter_idx = 0, access_flags = 0, property_guard = 0, constant_flags = 0, extra = 0}} (gdb) p $2.value.str $3 = (zend_string *) 0x7ffff3802d20 (gdb) p *$2.value.str $4 = {gc = {refcount = 1, u = {type_info = 86}}, h = 13594750393630990530, len = 12, val = \"H\"} (gdb) p *$2.value.str.val@12 $5 = \"Hello World!\" (gdb) c Continuing. Hello World! Breakpoint 1, ZEND_ECHO_SPEC_CV_HANDLER () at /vagrant/php-8.0.10/Zend/zend_vm_execute.h:37184 37184 SAVE_OPLINE(); (gdb) n 37185 z = EX_VAR(opline-\u003eop1.var); (gdb) 37187 if (Z_TYPE_P(z) == IS_STRING) { (gdb) p z $6 = (zval *) 0x7ffff3814080 (gdb) p *z $7 = {value = {lval = 140737278651760, dval = 6.9533454471021284e-310, counted = 0x7ffff3802d70, str = 0x7ffff3802d70, arr = 0x7ffff3802d70, obj = 0x7ffff3802d70, res = 0x7ffff3802d70, ref = 0x7ffff3802d70, ast = 0x7ffff3802d70, zv = 0x7ffff3802d70, ptr = 0x7ffff3802d70, ce = 0x7ffff3802d70, func = 0x7ffff3802d70, ww = {w1 = 4085263728, w2 = 32767}}, u1 = {type_info = 262, v = {type = 6 '\\006', type_flags = 1 '\\001', u = {extra = 0}}}, u2 = {next = 0, cache_slot = 0, opline_num = 0, lineno = 0, num_args = 0, fe_pos = 0, fe_iter_idx = 0, access_flags = 0, property_guard = 0, constant_flags = 0, extra = 0}} (gdb) p *z.value.str $8 = {gc = {refcount = 1, u = {type_info = 22}}, h = 0, len = 16, val = \"1\"} (gdb) p *z.value.str.val@16 $9 = \"1631431095String\" (gdb) c Continuing. 1631431095String Breakpoint 1, ZEND_ECHO_SPEC_CV_HANDLER () at /vagrant/php-8.0.10/Zend/zend_vm_execute.h:37184 37184 SAVE_OPLINE(); (gdb) n 37185 z = EX_VAR(opline-\u003eop1.var); (gdb) 37187 if (Z_TYPE_P(z) == IS_STRING) { (gdb) p z $10 = (zval *) 0x7ffff3814080 (gdb) p *z $11 = {value = {lval = 140737278651760, dval = 6.9533454471021284e-310, counted = 0x7ffff3802d70, str = 0x7ffff3802d70, arr = 0x7ffff3802d70, obj = 0x7ffff3802d70, res = 0x7ffff3802d70, ref = 0x7ffff3802d70, ast = 0x7ffff3802d70, zv = 0x7ffff3802d70, ptr = 0x7ffff3802d70, ce = 0x7ffff3802d70, func = 0x7ffff3802d70, ww = {w1 = 4085263728, w2 = 32767}}, u1 = {type_info = 262, v = { type = 6 '\\006', type_flags = 1 '\\001', u = {extra = 0}}}, u2 = {next = 0, cache_slot = 0, opline_num = 0, lineno = 0, num_args = 0, fe_pos = 0, fe_iter_idx = 0, access_flags = 0, property_guard = 0, constant_flags = 0, extra = 0}} (gdb) p *z.value.str $12 = {gc = {refcount = 2, u = {type_info = 22}}, h = 0, len = 16, val = \"1\"} (gdb) p *z.value.str.val@16 $13 = \"1631431095String\" (gdb) c Continuing. 1631431095String Breakpoint 1, ZEND_ECHO_SPEC_CV_HANDLER () at /vagrant/php-8.0.10/Zend/zend_vm_execute.h:37184 37184 SAVE_OPLINE(); (gdb) n 37185 z = EX_VAR(opline-\u003eop1.var); (gdb) 37187 if (Z_TYPE_P(z) == IS_STRING) { (gdb) p z $14 = (zval *) 0x7","date":"2021-09-13","objectID":"/2021/09/13/php-src-learning2/:1:2","tags":["PHP"],"title":"PHP æºç å­¦ä¹ äºŒ","uri":"/2021/09/13/php-src-learning2/"},{"categories":["PHP"],"content":"å¼•ç”¨ç±»å‹ \u003c?php $a = 'String'; $b = \u0026$a; echo $a . \"\\n\"; echo $b . \"\\n\"; $b = 'Hello'; echo $a . \"\\n\"; echo $b . \"\\n\"; unset($b); echo $a . \"\\n\"; echo $b . \"\\n\"; # gdb /home/vagrant/codes/php80/bin/php (gdb) b ZEND_ECHO_SPEC_CV_HANDLER Breakpoint 1 at 0x5c96a8: file /vagrant/php-8.0.10/Zend/zend_vm_execute.h, line 37184. (gdb) r reference.php Starting program: /home/vagrant/codes/php80/bin/php reference.php [Thread debugging using libthread_db enabled] Using host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\". Breakpoint 1, ZEND_ECHO_SPEC_CV_HANDLER () at /vagrant/php-8.0.10/Zend/zend_vm_execute.h:37184 37184 SAVE_OPLINE(); (gdb) n 37185 z = EX_VAR(opline-\u003eop1.var); (gdb) 37187 if (Z_TYPE_P(z) == IS_STRING) { (gdb) p z $1 = (zval *) 0x7ffff3814070 (gdb) p *z $2 = {value = {lval = 140737278645952, dval = 6.9533454468151751e-310, counted = 0x7ffff38016c0, str = 0x7ffff38016c0, arr = 0x7ffff38016c0, obj = 0x7ffff38016c0, res = 0x7ffff38016c0, ref = 0x7ffff38016c0, ast = 0x7ffff38016c0, zv = 0x7ffff38016c0, ptr = 0x7ffff38016c0, ce = 0x7ffff38016c0, func = 0x7ffff38016c0, ww = {w1 = 4085257920, w2 = 32767}}, u1 = {type_info = 266, v = {type = 10 '\\n', type_flags = 1 '\\001', u = {extra = 0}}}, u2 = {next = 0, cache_slot = 0, opline_num = 0, lineno = 0, num_args = 0, fe_pos = 0, fe_iter_idx = 0, access_flags = 0, property_guard = 0, constant_flags = 0, extra = 0}} (gdb) c Continuing. String Breakpoint 1, ZEND_ECHO_SPEC_CV_HANDLER () at /vagrant/php-8.0.10/Zend/zend_vm_execute.h:37184 37184 SAVE_OPLINE(); (gdb) n 37185 z = EX_VAR(opline-\u003eop1.var); (gdb) 37187 if (Z_TYPE_P(z) == IS_STRING) { (gdb) p z $3 = (zval *) 0x7ffff3814080 (gdb) p *z $4 = {value = {lval = 140737278645952, dval = 6.9533454468151751e-310, counted = 0x7ffff38016c0, str = 0x7ffff38016c0, arr = 0x7ffff38016c0, obj = 0x7ffff38016c0, res = 0x7ffff38016c0, ref = 0x7ffff38016c0, ast = 0x7ffff38016c0, zv = 0x7ffff38016c0, ptr = 0x7ffff38016c0, ce = 0x7ffff38016c0, func = 0x7ffff38016c0, ww = {w1 = 4085257920, w2 = 32767}}, u1 = {type_info = 266, v = {type = 10 '\\n', type_flags = 1 '\\001', u = {extra = 0}}}, u2 = {next = 0, cache_slot = 0, opline_num = 0, lineno = 0, num_args = 0, fe_pos = 0, fe_iter_idx = 0, access_flags = 0, property_guard = 0, constant_flags = 0, extra = 0}} (gdb) p $4.value.ref $5 = (zend_reference *) 0x7ffff38016c0 (gdb) p *$4.value.ref $6 = {gc = {refcount = 2, u = {type_info = 26}}, val = {value = {lval = 140737278646080, dval = 6.9533454468214991e-310, counted = 0x7ffff3801740, str = 0x7ffff3801740, arr = 0x7ffff3801740, obj = 0x7ffff3801740, res = 0x7ffff3801740, ref = 0x7ffff3801740, ast = 0x7ffff3801740, zv = 0x7ffff3801740, ptr = 0x7ffff3801740, ce = 0x7ffff3801740, func = 0x7ffff3801740, ww = {w1 = 4085258048, w2 = 32767}}, u1 = {type_info = 6, v = {type = 6 '\\006', type_flags = 0 '\\000', u = {extra = 0}}}, u2 = {next = 0, cache_slot = 0, opline_num = 0, lineno = 0, num_args = 0, fe_pos = 0, fe_iter_idx = 0, access_flags = 0, property_guard = 0, constant_flags = 0, extra = 0}}, sources = {ptr = 0x0, list = 0}} (gdb) p *$4.value.ref.val.value.str $7 = {gc = {refcount = 1, u = {type_info = 86}}, h = 9223378989633936348, len = 6, val = \"S\"} (gdb) p *$4.value.ref.val.value.str.val@6 $8 = \"String\" (gdb) c Continuing. String Breakpoint 1, ZEND_ECHO_SPEC_CV_HANDLER () at /vagrant/php-8.0.10/Zend/zend_vm_execute.h:37184 37184 SAVE_OPLINE(); (gdb) n 37185 z = EX_VAR(opline-\u003eop1.var); (gdb) 37187 if (Z_TYPE_P(z) == IS_STRING) { (gdb) p z $9 = (zval *) 0x7ffff3814070 (gdb) p *z $10 = {value = {lval = 140737278645952, dval = 6.9533454468151751e-310, counted = 0x7ffff38016c0, str = 0x7ffff38016c0, arr = 0x7ffff38016c0, obj = 0x7ffff38016c0, res = 0x7ffff38016c0, ref = 0x7ffff38016c0, ast = 0x7ffff38016c0, zv = 0x7ffff38016c0, ptr = 0x7ffff38016c0, ce = 0x7ffff38016c0, func = 0x7ffff38016c0, ww = {w1 = 4085257920, w2 = 32767}}, u1 = {type_info = 266, v = { type = 10 '\\n', type_flags = 1 '\\001', u = {extra = 0}}}, u2 = {next = 0, cache_slot = 0, ","date":"2021-09-13","objectID":"/2021/09/13/php-src-learning2/:1:3","tags":["PHP"],"title":"PHP æºç å­¦ä¹ äºŒ","uri":"/2021/09/13/php-src-learning2/"},{"categories":["PHP"],"content":"Zend Array ","date":"2021-09-13","objectID":"/2021/09/13/php-src-learning2/:2:0","tags":["PHP"],"title":"PHP æºç å­¦ä¹ äºŒ","uri":"/2021/09/13/php-src-learning2/"},{"categories":["PHP"],"content":"Zend Array ç»“æ„ä½“ typedef struct _zend_array HashTable; struct _zend_array { zend_refcounted_h gc; union { struct { ZEND_ENDIAN_LOHI_4( zend_uchar flags, zend_uchar _unused, zend_uchar nIteratorsCount, zend_uchar _unused2) } v; uint32_t flags; } u; uint32_t nTableMask; Bucket *arData; uint32_t nNumUsed; uint32_t nNumOfElements; uint32_t nTableSize; uint32_t nInternalPointer; zend_long nNextFreeElement; dtor_func_t pDestructor; }; /* * HashTable Data Layout * ===================== * * +=============================+ * | HT_HASH(ht, ht-\u003enTableMask) | * | ... | * | HT_HASH(ht, -1) | * +-----------------------------+ * ht-\u003earData ---\u003e | Bucket[0] | * | ... | * | Bucket[ht-\u003enTableSize-1] | * +=============================+ */ ","date":"2021-09-13","objectID":"/2021/09/13/php-src-learning2/:2:1","tags":["PHP"],"title":"PHP æºç å­¦ä¹ äºŒ","uri":"/2021/09/13/php-src-learning2/"},{"categories":["PHP"],"content":"Zend Array è¿è¡Œè°ƒè¯• # gdb /home/vagrant/codes/php80/bin/php (gdb) b zend_compile Breakpoint 1 at 0x4deed8: file /vagrant/php-8.0.10/Zend/zend_language_scanner.c, line 603. (gdb) r array.php Starting program: /home/vagrant/codes/php80/bin/php array.php [Thread debugging using libthread_db enabled] Using host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\". Breakpoint 1, zend_compile (type=2) at /vagrant/php-8.0.10/Zend/zend_language_scanner.c:603 603 { (gdb) s 604 zend_op_array *op_array = NULL; (gdb) b _zend_hash_init Breakpoint 2 at 0x555555aa768c: file /vagrant/php-8.0.10/Zend/zend_hash.c, line 266. (gdb) c Continuing. Breakpoint 2, _zend_hash_init (ht=0x555556773ab0 \u003ccompiler_globals+272\u003e, nSize=8, pDestructor=0x0, persistent=false) at /vagrant/php-8.0.10/Zend/zend_hash.c:266 266 _zend_hash_init_int(ht, nSize, pDestructor, persistent); (gdb) s _zend_hash_init_int (ht=0x555556773ab0 \u003ccompiler_globals+272\u003e, nSize=8, pDestructor=0x0, persistent=false) at /vagrant/php-8.0.10/Zend/zend_hash.c:251 251 GC_SET_REFCOUNT(ht, 1); (gdb) bt #0 _zend_hash_init_int (ht=0x555556773ab0 \u003ccompiler_globals+272\u003e, nSize=8, pDestructor=0x0, persistent=false) at /vagrant/php-8.0.10/Zend/zend_hash.c:251 #1 0x0000555555aa76a3 in _zend_hash_init (ht=0x555556773ab0 \u003ccompiler_globals+272\u003e, nSize=8, pDestructor=0x0, persistent=false) at /vagrant/php-8.0.10/Zend/zend_hash.c:266 #2 0x0000555555a5c950 in zend_file_context_begin (prev_context=0x7fffffffa940) at /vagrant/php-8.0.10/Zend/zend_compile.c:358 #3 0x0000555555a32fe4 in zend_compile (type=2) at /vagrant/php-8.0.10/Zend/zend_language_scanner.c:628 #4 0x0000555555a3316e in compile_file (file_handle=0x7fffffffd1d0, type=8) at /vagrant/php-8.0.10/Zend/zend_language_scanner.c:665 #5 0x000055555585b013 in phar_compile_file (file_handle=0x7fffffffd1d0, type=8) at /vagrant/php-8.0.10/ext/phar/phar.c:3364 #6 0x0000555555a94ae5 in zend_execute_scripts (type=8, retval=0x0, file_count=3) at /vagrant/php-8.0.10/Zend/zend.c:1674 #7 0x00005555559f740c in php_execute_script (primary_file=0x7fffffffd1d0) at /vagrant/php-8.0.10/main/main.c:2524 #8 0x0000555555b81550 in do_cli (argc=2, argv=0x55555678a980) at /vagrant/php-8.0.10/sapi/cli/php_cli.c:949 #9 0x0000555555b82596 in main (argc=2, argv=0x55555678a980) at /vagrant/php-8.0.10/sapi/cli/php_cli.c:1337 (gdb) n 252 GC_TYPE_INFO(ht) = GC_ARRAY | (persistent ? ((GC_PERSISTENT|GC_NOT_COLLECTABLE) \u003c\u003c GC_FLAGS_SHIFT) : 0); (gdb) p ht $1 = (HashTable *) 0x555556773ab0 \u003ccompiler_globals+272\u003e (gdb) p *ht $2 = {gc = {refcount = 1, u = {type_info = 0}}, u = {v = {flags = 0 '\\000', _unused = 0 '\\000', nIteratorsCount = 0 '\\000', _unused2 = 0 '\\000'}, flags = 0}, nTableMask = 0, arData = 0x0, nNumUsed = 0, nNumOfElements = 0, nTableSize = 0, nInternalPointer = 0, nNextFreeElement = 0, pDestructor = 0x0} (gdb) n 253 HT_FLAGS(ht) = HASH_FLAG_UNINITIALIZED; (gdb) p HASH_FLAG_UNINITIALIZED No symbol \"HASH_FLAG_UNINITIALIZED\" in current context. (gdb) p ht $3 = (HashTable *) 0x555556773ab0 \u003ccompiler_globals+272\u003e (gdb) p *ht $4 = {gc = {refcount = 1, u = {type_info = 7}}, u = {v = {flags = 0 '\\000', _unused = 0 '\\000', nIteratorsCount = 0 '\\000', _unused2 = 0 '\\000'}, flags = 0}, nTableMask = 0, arData = 0x0, nNumUsed = 0, nNumOfElements = 0, nTableSize = 0, nInternalPointer = 0, nNextFreeElement = 0, pDestructor = 0x0} (gdb) n 254 ht-\u003enTableMask = HT_MIN_MASK; (gdb) p HT_MIN_MASK No symbol \"HT_MIN_MASK\" in current context. (gdb) p ht-\u003enTableMask $5 = 0 (gdb) n 255 HT_SET_DATA_ADDR(ht, \u0026uninitialized_bucket); (gdb) p ht $6 = (HashTable *) 0x555556773ab0 \u003ccompiler_globals+272\u003e (gdb) p *ht $7 = {gc = {refcount = 1, u = {type_info = 7}}, u = {v = {flags = 8 '\\b', _unused = 0 '\\000', nIteratorsCount = 0 '\\000', _unused2 = 0 '\\000'}, flags = 8}, nTableMask = 4294967294, arData = 0x0, nNumUsed = 0, nNumOfElements = 0, nTableSize = 0, nInternalPointer = 0, nNextFreeElement = 0, pDestructor = 0x0} (gdb) p (int32_t)4294967294 $8 = -2 (gdb) n 256 ht-\u003enNumUsed = 0; (gdb) p ht $9 = ","date":"2021-09-13","objectID":"/2021/09/13/php-src-learning2/:2:2","tags":["PHP"],"title":"PHP æºç å­¦ä¹ äºŒ","uri":"/2021/09/13/php-src-learning2/"},{"categories":["PHP"],"content":"çœ‹åˆ°æ…•è¯¾ç½‘æœ‰å¤§ä½¬è®²è§£ PHP æºç ï¼Œæ—¢ç„¶æ¥äº†ï¼Œé‚£å°±çœ‹çœ‹å§ï¼Œä»¥ä¸‹ä¸ºæ•´ç†çš„ç¬”è®°ã€‚ PHP æºç å­¦ä¹ ä¸€ PHP æºç å­¦ä¹ äºŒ ","date":"2021-09-12","objectID":"/2021/09/12/php-src-learning1/:0:0","tags":["PHP"],"title":"PHP æºç å­¦ä¹ ä¸€","uri":"/2021/09/12/php-src-learning1/"},{"categories":["PHP"],"content":"ç¯å¢ƒå‡†å¤‡ Boxes // ä¹‹æ‰€ä»¥ä½¿ç”¨ hashicorp/bionic64ï¼Œæ˜¯å› ä¸ºè¿™ä¸ªé•œåƒæ˜¯å®˜æ–¹çš„ï¼Œå‘å°‘è€Œå·² $ vagrant init hashicorp/bionic64 // è¿™æ˜¯æˆ‘æœ¬åœ°å·²ç»å®‰è£…çš„ä¸€äº›é•œåƒï¼Œæœ‰äº†é•œåƒå°±å¯ä»¥åœ¨å‡ åˆ†é’Ÿä¹‹å†…ç™»å½•åˆ°ä¸€å°å…¨æ–°çš„ Linux ç³»ç»Ÿä¸­ $ vagrant box list centos/7 (virtualbox, 2004.01) hashicorp/bionic64 (virtualbox, 1.0.282) laravel/homestead (virtualbox, 9.7.2) ubuntu/xenial64 (virtualbox, 20210804.0.0) // éœ€è¦æ¼«é•¿çš„ç­‰å¾…ï¼Œæœ‰å¯èƒ½è¿˜éœ€è¦ç¿»å¢™ï¼Œæˆ–è€…ä½ å¯ä»¥ä¸‹è½½é•œåƒåé€‰æ‹©å¯¼å…¥ $ vagrant up ","date":"2021-09-12","objectID":"/2021/09/12/php-src-learning1/:1:0","tags":["PHP"],"title":"PHP æºç å­¦ä¹ ä¸€","uri":"/2021/09/12/php-src-learning1/"},{"categories":["PHP"],"content":"ç¼–è¯‘å®‰è£… å¦‚æœä» å®˜ç½‘ ä¸‹è½½ï¼Œä¸éœ€è¦è¿›è¡Œ autoconfï¼›å¦‚æœä» Github ä¸‹è½½ï¼Œéœ€è¦åœ¨è§£å‹ç›®å½•ä¸­æ‰§è¡Œ autoconfï¼Œç»è¿‡æœ¬äººå®‰è£…æŠ˜è…¾ï¼Œè®¤ä¸ºä»å®˜ç½‘ä¸‹è½½çš„åŒ…å®‰è£…æ¯”è¾ƒé¡ºåˆ©ã€‚ $ sudo -s # apt-get update \u0026\u0026 apt-get upgrade # apt-get install autoconf bison re2c pkg-config libxml2-dev libsqlite3-dev gdb -y # cd ~ \u0026\u0026 mkdir codes # cd ~/vagrant // å®‰è£… php80 # tar -zxvf php-src-php-8.0.1.tar.gz # cd php-src-php-8.0.1 # autoconf # ./configure --prefix=/home/vagrant/codes/php80 --enable-fpm --enable-debug # make \u0026\u0026 make install Installing shared extensions: /home/vagrant/codes/php80/lib/php/extensions/debug-non-zts-20200930/ Installing PHP CLI binary: /home/vagrant/codes/php80/bin/ Installing PHP CLI man page: /home/vagrant/codes/php80/php/man/man1/ Installing PHP FPM binary: /home/vagrant/codes/php80/sbin/ Installing PHP FPM defconfig: /home/vagrant/codes/php80/etc/ Installing PHP FPM man page: /home/vagrant/codes/php80/php/man/man8/ Installing PHP FPM status page: /home/vagrant/codes/php80/php/php/fpm/ Installing phpdbg binary: /home/vagrant/codes/php80/bin/ Installing phpdbg man page: /home/vagrant/codes/php80/php/man/man1/ Installing PHP CGI binary: /home/vagrant/codes/php80/bin/ Installing PHP CGI man page: /home/vagrant/codes/php80/php/man/man1/ Installing build environment: /home/vagrant/codes/php80/lib/php/build/ Installing header files: /home/vagrant/codes/php80/include/php/ Installing helper programs: /home/vagrant/codes/php80/bin/ program: phpize program: php-config Installing man pages: /home/vagrant/codes/php80/php/man/man1/ page: phpize.1 page: php-config.1 /vagrant/php-8.0.10/build/shtool install -c ext/phar/phar.phar /home/vagrant/codes/php80/bin/phar.phar ln -s -f phar.phar /home/vagrant/codes/php80/bin/phar Installing PDO headers: /home/vagrant/codes/php80/include/php/ext/pdo/ // å®‰è£… php74 # tar -zxvf php-src-php-7.4.23.tar.gz # cd php-src-php-7.4.23 # autoconf # ./configure --prefix=/home/vagrant/codes/php74 --enable-fpm --enable-debug # make \u0026\u0026 make install Installing shared extensions: /home/vagrant/codes/php74/lib/php/extensions/debug-non-zts-20190902/ Installing PHP CLI binary: /home/vagrant/codes/php74/bin/ Installing PHP CLI man page: /home/vagrant/codes/php74/php/man/man1/ Installing PHP FPM binary: /home/vagrant/codes/php74/sbin/ Installing PHP FPM defconfig: /home/vagrant/codes/php74/etc/ Installing PHP FPM man page: /home/vagrant/codes/php74/php/man/man8/ Installing PHP FPM status page: /home/vagrant/codes/php74/php/php/fpm/ Installing phpdbg binary: /home/vagrant/codes/php74/bin/ Installing phpdbg man page: /home/vagrant/codes/php74/php/man/man1/ Installing PHP CGI binary: /home/vagrant/codes/php74/bin/ Installing PHP CGI man page: /home/vagrant/codes/php74/php/man/man1/ Installing build environment: /home/vagrant/codes/php74/lib/php/build/ Installing header files: /home/vagrant/codes/php74/include/php/ Installing helper programs: /home/vagrant/codes/php74/bin/ program: phpize program: php-config Installing man pages: /home/vagrant/codes/php74/php/man/man1/ page: phpize.1 page: php-config.1 /vagrant/php-7.4.23/build/shtool install -c ext/phar/phar.phar /home/vagrant/codes/php74/bin/phar.phar ln -s -f phar.phar /home/vagrant/codes/php74/bin/phar Installing PDO headers: /home/vagrant/codes/php74/include/php/ext/pdo/ // å®‰è£… php73 # tar -zxvf php-src-php-7.3.30.tar.gz # cd php-src-php-7.3.30 # autoconf # ./configure --prefix=/home/vagrant/codes/php73 --enable-fpm --enable-debug Installing shared extensions: /home/vagrant/codes/php73/lib/php/extensions/debug-non-zts-20180731/ Installing PHP CLI binary: /home/vagrant/codes/php73/bin/ Installing PHP CLI man page: /home/vagrant/codes/php73/php/man/man1/ Installing PHP FPM binary: /home/vagrant/codes/php73/sbin/ Installing PHP FPM defconfig: /home/vagrant/codes/php73/etc/ Installing PHP FPM man page: /home/vagrant/codes/php73/php/man/man8/ Installing PHP FPM status page: /home/vagrant/codes/php73/php/php/fpm/ Installing phpdbg binary: /home/vagrant/codes/php73/bin/ Installing phpdbg man page: /home/vagrant/codes/php73/php/man/man1/ Installing PHP CGI ","date":"2021-09-12","objectID":"/2021/09/12/php-src-learning1/:2:0","tags":["PHP"],"title":"PHP æºç å­¦ä¹ ä¸€","uri":"/2021/09/12/php-src-learning1/"},{"categories":["PHP"],"content":"åŸºå‡†æµ‹è¯• $ sudo -s // php80 åŸºå‡†æµ‹è¯• # /home/vagrant/codes/php80/bin/php /vagrant/php-8.0.10/Zend/bench.php simple 0.042 simplecall 0.018 simpleucall 0.076 simpleudcall 0.090 mandel 0.401 mandel2 0.356 ackermann(7) 0.100 ary(50000) 0.019 ary2(50000) 0.021 ary3(2000) 0.213 fibo(30) 0.312 hash1(50000) 0.051 hash2(500) 0.054 heapsort(20000) 0.109 matrix(20) 0.119 nestedloop(12) 0.085 sieve(30) 0.080 strcat(200000) 0.029 ------------------------ Total 2.174 # /home/vagrant/codes/php80/bin/php /vagrant/php-8.0.10/Zend/micro_bench.php empty_loop 0.076 func() 0.284 0.208 undef_func() 0.350 0.274 int_func() 0.113 0.037 $x = self::$x 0.344 0.268 self::$x = 0 0.270 0.194 isset(self::$x) 0.354 0.278 empty(self::$x) 0.363 0.287 $x = Foo::$x 0.279 0.203 Foo::$x = 0 0.198 0.122 isset(Foo::$x) 0.263 0.186 empty(Foo::$x) 0.282 0.206 self::f() 0.383 0.307 Foo::f() 0.345 0.269 $x = $this-\u003ex 0.488 0.412 $this-\u003ex = 0 0.223 0.147 $this-\u003ex += 2 0.511 0.435 ++$this-\u003ex 0.340 0.264 --$this-\u003ex 0.350 0.274 $this-\u003ex++ 0.369 0.293 $this-\u003ex-- 0.333 0.256 isset($this-\u003ex) 0.732 0.656 empty($this-\u003ex) 0.347 0.270 $this-\u003ef() 0.325 0.249 $x = Foo::TEST 0.411 0.335 new Foo() 1.083 1.007 $x = TEST 0.208 0.132 $x = $_GET 0.390 0.314 $x = $GLOBALS['v'] 0.624 0.548 $x = $hash['v'] 0.475 0.399 $x = $str[0] 0.294 0.218 $x = $a ?: null 0.491 0.415 $x = $f ?: tmp 0.437 0.361 $x = $f ? $f : $a 0.351 0.275 $x = $f ? $f : tmp 0.312 0.236 ------------------------ Total 12.997 // php74 åŸºå‡†æµ‹è¯• # /home/vagrant/codes/php74/bin/php /vagrant/php-7.4.23/Zend/bench.php simple 0.068 simplecall 0.032 simpleucall 0.073 simpleudcall 0.087 mandel 0.429 mandel2 0.374 ackermann(7) 0.098 ary(50000) 0.019 ary2(50000) 0.021 ary3(2000) 0.211 fibo(30) 0.326 hash1(50000) 0.051 hash2(500) 0.057 heapsort(20000) 0.109 matrix(20) 0.134 nestedloop(12) 0.122 sieve(30) 0.070 strcat(200000) 0.021 ------------------------ Total 2.303 # /home/vagrant/codes/php74/bin/php /vagrant/php-7.4.23/Zend/micro_bench.php empty_loop 0.081 func() 0.346 0.265 undef_func() 0.478 0.397 int_func() 0.174 0.093 $x = self::$x 0.406 0.325 self::$x = 0 0.314 0.234 isset(self::$x) 0.411 0.330 empty(self::$x) 0.420 0.339 $x = Foo::$x 0.305 0.224 Foo::$x = 0 0.229 0.148 isset(Foo::$x) 0.304 0.223 empty(Foo::$x) 0.318 0.237 self::f() 0.461 0.381 Foo::f() 0.436 0.355 $x = $this-\u003ex 0.277 0.196 $this-\u003ex = 0 0.220 0.139 $this-\u003ex += 2 0.413 0.333 ++$this-\u003ex 0.327 0.247 --$this-\u003ex 0.335 0.255 $this-\u003ex++ 0.351 0.270 $this-\u003ex-- 0.350 0.269 isset($this-\u003ex) 0.407 0.326 empty($this-\u003ex) 0.438 0.358 $this-\u003ef() 0.429 0.349 $x = Foo::TEST 0.428 0.347 new Foo() 1.193 1.113 $x = TEST 0.252 0.171 $x = $_GET 0.509 0.429 $x = $GLOBALS['v'] 0.876 0.795 $x = $hash['v'] 0.539 0.459 $x = $str[0] 0.361 0.280 $x = $a ?: null 0.435 0.354 $x = $f ?: tmp 0.392 0.312 $x = $f ? $f : $a 0.384 0.303 $x = $f ? $f : tmp 0.360 0.280 ------------------------ Total 13.961 // php73 åŸºå‡†æµ‹è¯• # /home/vagrant/codes/php73/bin/php /vagrant/php-7.3.30/Zend/bench.php simple 0.075 simplecall 0.025 simpleucall 0.118 simpleudcall 0.099 mandel 0.512 mandel2 0.540 ackermann(7) 0.135 ary(50000) 0.022 ary2(50000) 0.032 ary3(2000) 0.310 fibo(30) 0.460 hash1(50000) 0.068 hash2(500) 0.068 heapsort(20000) 0.160 matrix(20) 0.187 nestedloop(12) 0.147 sieve(30) 0.083 strcat(200000) 0.034 ------------------------ Total 3.077 # /home/vagrant/codes/php73/bin/php /vagrant/php-7.3.30/Zend/micro_bench.php empty_loop 0.084 func() 0.319 0.235 undef_func() 0.572 0.488 int_func() 0.151 0.067 $x = self::$x 0.319 0.235 self::$x = 0 0.306 0.222 isset(self::$x) 0.285 0.201 empty(self::$x) 0.300 0.216 $x = Foo::$x 0.243 0.159 Foo::$x = 0 0.246 0.162 isset(Foo::$x) 0.244 0.160 empty(Foo::$x) 0.254 0.170 self::f() 0.390 0.307 Foo::f() 0.353 0.269 $x = $this-\u003ex 0.262 0.178 $this-\u003ex = 0 0.206 0.122 $this-\u003ex += 2 0.365 0.281 ++$this-\u003ex 0.265 0.181 --$this-\u003ex 0.267 0.183 $this-\u003ex++ 0.290 0.206 $this-\u003ex-- 0.296 0.212 isset($this-\u003ex) 0.379 0.295 empty($this-\u003ex) 0.375 0.291 $this-\u003ef() 0.399 0.315 $x = Foo::TEST 0.406 0.322 new","date":"2021-09-12","objectID":"/2021/09/12/php-src-learning1/:3:0","tags":["PHP"],"title":"PHP æºç å­¦ä¹ ä¸€","uri":"/2021/09/12/php-src-learning1/"},{"categories":["PHP"],"content":"æ–°çš„ç‰¹æ€§ PHP 8 ","date":"2021-09-12","objectID":"/2021/09/12/php-src-learning1/:4:0","tags":["PHP"],"title":"PHP æºç å­¦ä¹ ä¸€","uri":"/2021/09/12/php-src-learning1/"},{"categories":["PHP"],"content":"è°ƒè¯•è¿è¡Œ ","date":"2021-09-12","objectID":"/2021/09/12/php-src-learning1/:5:0","tags":["PHP"],"title":"PHP æºç å­¦ä¹ ä¸€","uri":"/2021/09/12/php-src-learning1/"},{"categories":["PHP"],"content":"å¸¸ç”¨çš„ GDB å‘½ä»¤ GDB Tutorial Command Description r Start running program until a breakpoint or end of program b fun Set a breakpoint at the begining of function fun b N Set a breakpoint at line number N of source file currently executing b file.c:N Set a breakpoint at line number N of file file.c d N Remove breakpoint number N info break List all breakpoints c Continues/Resumes running the program until the next breakpoint or end of program f Runs until the current function is finished s Runs the next line of the program s N Runs the next N lines of program n Like s, but it does not step into functions p var Prints the current value of the variable var set var=val Assign val value to the variable var bt Prints a stack trace q Quit from gdb ","date":"2021-09-12","objectID":"/2021/09/12/php-src-learning1/:5:1","tags":["PHP"],"title":"PHP æºç å­¦ä¹ ä¸€","uri":"/2021/09/12/php-src-learning1/"},{"categories":["PHP"],"content":"æºç ä¸­çš„å®šä¹‰ å˜é‡ç±»å‹çš„å®šä¹‰ï¼š /* Regular data types: Must be in sync with zend_variables.c. */ #define IS_UNDEF 0 #define IS_NULL 1 #define IS_FALSE 2 #define IS_TRUE 3 #define IS_LONG 4 #define IS_DOUBLE 5 #define IS_STRING 6 #define IS_ARRAY 7 #define IS_OBJECT 8 #define IS_RESOURCE 9 #define IS_REFERENCE 10 #define IS_CONSTANT_AST 11 /* Constant expressions */ /* Fake types used only for type hinting. * These are allowed to overlap with the types below. */ #define IS_CALLABLE 12 #define IS_ITERABLE 13 #define IS_VOID 14 #define IS_STATIC 15 #define IS_MIXED 16 /* internal types */ #define IS_INDIRECT 12 #define IS_PTR 13 #define IS_ALIAS_PTR 14 #define _IS_ERROR 15 /* used for casts */ #define _IS_BOOL 17 #define _IS_NUMBER 18 _zend_value \u0026 _zend_sructï¼š typedef union _zend_value { zend_long lval; /* long value */ double dval; /* double value */ zend_refcounted *counted; zend_string *str; zend_array *arr; zend_object *obj; zend_resource *res; zend_reference *ref; zend_ast_ref *ast; zval *zv; void *ptr; zend_class_entry *ce; zend_function *func; struct { uint32_t w1; uint32_t w2; } ww; } zend_value; struct _zval_struct { zend_value value; /* value */ union { uint32_t type_info; struct { ZEND_ENDIAN_LOHI_3( zend_uchar type, /* active type */ zend_uchar type_flags, union { uint16_t extra; /* not further specified */ } u) } v; } u1; union { uint32_t next; /* hash collision chain */ uint32_t cache_slot; /* cache slot (for RECV_INIT) */ uint32_t opline_num; /* opline number (for FAST_CALL) */ uint32_t lineno; /* line number (for ast nodes) */ uint32_t num_args; /* arguments number for EX(This) */ uint32_t fe_pos; /* foreach position */ uint32_t fe_iter_idx; /* foreach iterator index */ uint32_t access_flags; /* class constant access flags */ uint32_t property_guard; /* single property guard */ uint32_t constant_flags; /* constant flags */ uint32_t extra; /* not further specified */ } u2; }; ","date":"2021-09-12","objectID":"/2021/09/12/php-src-learning1/:5:2","tags":["PHP"],"title":"PHP æºç å­¦ä¹ ä¸€","uri":"/2021/09/12/php-src-learning1/"},{"categories":["PHP"],"content":"æµ‹è¯•ç¨‹åº \u003c?php $a = 1; echo $a; $b = 3.14; echo $b; $c = null; echo $c; $d = true; echo $d; $e = false; echo $e; $f = 'string'; echo $f; $g = [1, 2, 3]; echo $g; $h = new \\stdClass(); echo $h; # gdb /home/vagrant/codes/php80/bin/php (gdb) b ZEND_ECHO_SPEC_CV_HANDLER Breakpoint 1 at 0x5c96a8: file /vagrant/php-8.0.10/Zend/zend_vm_execute.h, line 37184. (gdb) r variables.php Starting program: /home/vagrant/codes/php80/bin/php variables.php [Thread debugging using libthread_db enabled] Using host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\". Breakpoint 1, ZEND_ECHO_SPEC_CV_HANDLER () at /vagrant/php-8.0.10/Zend/zend_vm_execute.h:37184 37184 SAVE_OPLINE(); æ•´å‹ï¼š (gdb) n 37185 z = EX_VAR(opline-\u003eop1.var); (gdb) n 37187 if (Z_TYPE_P(z) == IS_STRING) { (gdb) p z $1 = (zval *) 0x7ffff3814070 (gdb) p *z $2 = {value = {lval = 1, dval = 4.9406564584124654e-324, counted = 0x1, str = 0x1, arr = 0x1, obj = 0x1, res = 0x1, ref = 0x1, ast = 0x1, zv = 0x1, ptr = 0x1, ce = 0x1, func = 0x1, ww = {w1 = 1, w2 = 0}}, u1 = {type_info = 4, v = {type = 4 '\\004', type_flags = 0 '\\000', u = {extra = 0}}}, u2 = {next = 0, cache_slot = 0, opline_num = 0, lineno = 0, num_args = 0, fe_pos = 0, fe_iter_idx = 0, access_flags = 0, property_guard = 0, constant_flags = 0, extra = 0}} (gdb) æµ®ç‚¹å‹ï¼š (gdb) c Continuing. 1 Breakpoint 1, ZEND_ECHO_SPEC_CV_HANDLER () at /vagrant/php-8.0.10/Zend/zend_vm_execute.h:37184 37184 SAVE_OPLINE(); (gdb) n 37185 z = EX_VAR(opline-\u003eop1.var); (gdb) n 37187 if (Z_TYPE_P(z) == IS_STRING) { (gdb) p z $3 = (zval *) 0x7ffff3814080 (gdb) p *z $4 = {value = {lval = 4614253070214989087, dval = 3.1400000000000001, counted = 0x40091eb851eb851f, str = 0x40091eb851eb851f, arr = 0x40091eb851eb851f, obj = 0x40091eb851eb851f, res = 0x40091eb851eb851f, ref = 0x40091eb851eb851f, ast = 0x40091eb851eb851f, zv = 0x40091eb851eb851f, ptr = 0x40091eb851eb851f, ce = 0x40091eb851eb851f, func = 0x40091eb851eb851f, ww = {w1 = 1374389535, w2 = 1074339512}}, u1 = {type_info = 5, v = {type = 5 '\\005', type_flags = 0 '\\000', u = {extra = 0}}}, u2 = {next = 0, cache_slot = 0, opline_num = 0, lineno = 0, num_args = 0, fe_pos = 0, fe_iter_idx = 0, access_flags = 0, property_guard = 0, constant_flags = 0, extra = 0}} (gdb) NULL å‹ï¼š (gdb) c Continuing. 3.14 Breakpoint 1, ZEND_ECHO_SPEC_CV_HANDLER () at /vagrant/php-8.0.10/Zend/zend_vm_execute.h:37184 37184 SAVE_OPLINE(); (gdb) n 37185 z = EX_VAR(opline-\u003eop1.var); (gdb) n 37187 if (Z_TYPE_P(z) == IS_STRING) { (gdb) p z $5 = (zval *) 0x7ffff3814090 (gdb) p *z $6 = {value = {lval = 2, dval = 9.8813129168249309e-324, counted = 0x2, str = 0x2, arr = 0x2, obj = 0x2, res = 0x2, ref = 0x2, ast = 0x2, zv = 0x2, ptr = 0x2, ce = 0x2, func = 0x2, ww = {w1 = 2, w2 = 0}}, u1 = {type_info = 1, v = {type = 1 '\\001', type_flags = 0 '\\000', u = {extra = 0}}}, u2 = {next = 0, cache_slot = 0, opline_num = 0, lineno = 0, num_args = 0, fe_pos = 0, fe_iter_idx = 0, access_flags = 0, property_guard = 0, constant_flags = 0, extra = 0}} (gdb) å¸ƒå°” TRUE å‹ï¼š (gdb) c Continuing. Breakpoint 1, ZEND_ECHO_SPEC_CV_HANDLER () at /vagrant/php-8.0.10/Zend/zend_vm_execute.h:37184 37184 SAVE_OPLINE(); (gdb) n 37185 z = EX_VAR(opline-\u003eop1.var); (gdb) n 37187 if (Z_TYPE_P(z) == IS_STRING) { (gdb) p z $7 = (zval *) 0x7ffff38140a0 (gdb) p *z $8 = {value = {lval = 2, dval = 9.8813129168249309e-324, counted = 0x2, str = 0x2, arr = 0x2, obj = 0x2, res = 0x2, ref = 0x2, ast = 0x2, zv = 0x2, ptr = 0x2, ce = 0x2, func = 0x2, ww = {w1 = 2, w2 = 0}}, u1 = {type_info = 3, v = {type = 3 '\\003', type_flags = 0 '\\000', u = {extra = 0}}}, u2 = {next = 0, cache_slot = 0, opline_num = 0, lineno = 0, num_args = 0, fe_pos = 0, fe_iter_idx = 0, access_flags = 0, property_guard = 0, constant_flags = 0, extra = 0}} (gdb) å¸ƒå°” FALSE å‹ï¼š (gdb) c Continuing. 1 Breakpoint 1, ZEND_ECHO_SPEC_CV_HANDLER () at /vagrant/php-8.0.10/Zend/zend_vm_execute.h:37184 37184 SAVE_OPLINE(); (gdb) n 37185 z = EX_VAR(opline-\u003eop1.var); (gdb) n 37187 if (Z_TYPE_P(z) == IS_STRING) { (gdb) p z $9 = ","date":"2021-09-12","objectID":"/2021/09/12/php-src-learning1/:5:3","tags":["PHP"],"title":"PHP æºç å­¦ä¹ ä¸€","uri":"/2021/09/12/php-src-learning1/"},{"categories":["Go"],"content":"Go ä¸­è¿æ¥å­—ç¬¦ä¸²çš„æ–¹æ³•æœ‰å¾ˆå¤šç§ï¼Œå…¶å®æŒæ¡ä¸€ä¸¤ç§è¾ƒä¸ºé«˜æ•ˆçš„æ–¹æ³•å°±è¶³å¤Ÿäº†ï¼Œå…¶å®ƒæƒå½“çœ‹çƒ­é—¹ã€‚ Go èµ·æ­¥ Go æ•°æ®ç±»å‹ Go æ—¥æœŸæ—¶é—´ Go éšæœºæ•° Go å•å…ƒæµ‹è¯• Go åŸºå‡†æµ‹è¯• Go å…¶å®ƒæµ‹è¯• Go æ­£ç¡®å§¿åŠ¿ Go è¿æ¥å­—ç¬¦ä¸² ","date":"2021-07-25","objectID":"/2021/07/25/go-concat-string/:0:0","tags":["Go"],"title":"Go è¿æ¥å­—ç¬¦ä¸²","uri":"/2021/07/25/go-concat-string/"},{"categories":["Go"],"content":"å‡ ç§è¿æ¥æ–¹å¼ ","date":"2021-07-25","objectID":"/2021/07/25/go-concat-string/:1:0","tags":["Go"],"title":"Go è¿æ¥å­—ç¬¦ä¸²","uri":"/2021/07/25/go-concat-string/"},{"categories":["Go"],"content":"Concat package hello import \"testing\" /* === RUN TestStringConcat /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:20: Hello World! --- PASS: TestStringConcat (0.00s) PASS ok example.com/hello 0.014s */ func TestStringConcat(t *testing.T) { s := \"Hello \" s += \"World!\" t.Log(s) } ","date":"2021-07-25","objectID":"/2021/07/25/go-concat-string/:1:1","tags":["Go"],"title":"Go è¿æ¥å­—ç¬¦ä¸²","uri":"/2021/07/25/go-concat-string/"},{"categories":["Go"],"content":"Sprintf package hello import ( \"fmt\" \"testing\" ) /* === RUN TestStringSprintf /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:18: Hello World! --- PASS: TestStringSprintf (0.00s) PASS ok example.com/hello 0.010s */ func TestStringSprintf(t *testing.T) { s := \"Hello \" s = fmt.Sprintf(\"%s%s\", s, \"World!\") t.Log(s) } ","date":"2021-07-25","objectID":"/2021/07/25/go-concat-string/:1:2","tags":["Go"],"title":"Go è¿æ¥å­—ç¬¦ä¸²","uri":"/2021/07/25/go-concat-string/"},{"categories":["Go"],"content":"Join package hello import ( \"strings\" \"testing\" ) /* === RUN TestStringJoin /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:18: Hello World! --- PASS: TestStringJoin (0.00s) PASS ok example.com/hello 0.008s */ func TestStringJoin(t *testing.T) { s := \"Hello \" s = strings.Join([]string{s, \"World!\"}, \"\") t.Log(s) } ","date":"2021-07-25","objectID":"/2021/07/25/go-concat-string/:1:3","tags":["Go"],"title":"Go è¿æ¥å­—ç¬¦ä¸²","uri":"/2021/07/25/go-concat-string/"},{"categories":["Go"],"content":"Buffer Write package hello import ( \"bytes\" \"testing\" ) /* === RUN TestBufferWrite /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:20: Hello World! --- PASS: TestBufferWrite (0.00s) PASS ok example.com/hello 0.010s */ func TestBufferWrite(t *testing.T) { buf := new(bytes.Buffer) buf.WriteString(\"Hello \") buf.WriteString(\"World!\") s := buf.String() t.Log(s) } ","date":"2021-07-25","objectID":"/2021/07/25/go-concat-string/:1:4","tags":["Go"],"title":"Go è¿æ¥å­—ç¬¦ä¸²","uri":"/2021/07/25/go-concat-string/"},{"categories":["Go"],"content":"Bytes Append package hello import \"testing\" /* === RUN TestBytesAppend /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:18: Hello --- PASS: TestBytesAppend (0.00s) PASS ok example.com/hello */ func TestBytesAppend(t *testing.T) { var b []byte s := \"Hello \" b = append(b, \"World!\"...) t.Log(string(s)) } ","date":"2021-07-25","objectID":"/2021/07/25/go-concat-string/:1:5","tags":["Go"],"title":"Go è¿æ¥å­—ç¬¦ä¸²","uri":"/2021/07/25/go-concat-string/"},{"categories":["Go"],"content":"Copy package hello import \"testing\" /* === RUN TestStringCopy /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:18: Hello World! --- PASS: TestStringCopy (0.00s) PASS ok example.com/hello (cached) */ func TestStringCopy(t *testing.T) { b := make([]byte, 0) b = mycopy(b, \"Hello \") b = mycopy(b, \"World!\") t.Log(string(b)) } func mycopy(b []byte, s string) []byte { n := len(b) if n+len(s) \u003e cap(b) { t := make([]byte, 2*cap(b)+len(s)) copy(t, b) b = t } b = b[0 : n+len(s)] copy(b[n:], s) return b } ","date":"2021-07-25","objectID":"/2021/07/25/go-concat-string/:1:6","tags":["Go"],"title":"Go è¿æ¥å­—ç¬¦ä¸²","uri":"/2021/07/25/go-concat-string/"},{"categories":["Go"],"content":"String Builder package hello import ( \"strings\" \"testing\" ) /* === RUN TestStringBuilder /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:20: Hello World! --- PASS: TestStringBuilder (0.00s) PASS ok example.com/hello 0.013s */ func TestStringBuilder(t *testing.T) { var builder strings.Builder builder.WriteString(\"Hello \") builder.WriteString(\"World!\") s := builder.String() t.Log(s) } ","date":"2021-07-25","objectID":"/2021/07/25/go-concat-string/:1:7","tags":["Go"],"title":"Go è¿æ¥å­—ç¬¦ä¸²","uri":"/2021/07/25/go-concat-string/"},{"categories":["Go"],"content":"æ€§èƒ½æµ‹è¯• package hello import ( \"bytes\" \"fmt\" \"strings\" \"testing\" ) const ( src = \"Hello World!\" cnt = 10000 ) var expected = strings.Repeat(src, cnt) func mycopy(b []byte, s string) []byte { n := len(b) if n+len(s) \u003e cap(b) { t := make([]byte, 2*cap(b)+len(s)) copy(t, b) b = t } b = b[0 : n+len(s)] copy(b[n:], s) return b } func BenchmarkStringConcat(b *testing.B) { var res string for n := 0; n \u003c b.N; n++ { var str string for i := 0; i \u003c cnt; i++ { str += src } res = str } b.StopTimer() if res != expected { b.Errorf(\"got=%s, want=%s\", string(res), expected) } } func BenchmarkStringSprintf(b *testing.B) { var res string for n := 0; n \u003c b.N; n++ { var str string for i := 0; i \u003c cnt; i++ { str = fmt.Sprintf(\"%s%s\", str, src) } res = str } b.StopTimer() if res != expected { b.Errorf(\"got=%s, want=%s\", string(res), expected) } } func BenchmarkStringJoin(b *testing.B) { var res string for n := 0; n \u003c b.N; n++ { var str string for i := 0; i \u003c cnt; i++ { str = strings.Join([]string{str, src}, \"\") } res = str } b.StopTimer() if res != expected { b.Errorf(\"got=%s, want=%s\", res, expected) } } func BenchmarkBufferWrite(b *testing.B) { var res string for n := 0; n \u003c b.N; n++ { buf := new(bytes.Buffer) for i := 0; i \u003c cnt; i++ { buf.WriteString(src) } res = buf.String() } b.StopTimer() if res != expected { b.Errorf(\"got=%s, want=%s\", string(res), expected) } } func BenchmarkBytesAppend(b *testing.B) { var res string for n := 0; n \u003c b.N; n++ { var bytes []byte for i := 0; i \u003c cnt; i++ { bytes = append(bytes, src...) } res = string(bytes) } b.StopTimer() if res != expected { b.Errorf(\"got=%s, want=%s\", string(res), expected) } } func BenchmarkStringCopy(b *testing.B) { var res string for n := 0; n \u003c b.N; n++ { data := make([]byte, 0, 64) // same size as bootstrap array of bytes.Buffer for i := 0; i \u003c cnt; i++ { data = mycopy(data, src) } res = string(data) } b.StopTimer() if res != expected { b.Errorf(\"got=%s, want=%s\", string(res), expected) } } func BenchmarkStringCopy2(b *testing.B) { var res string for n := 0; n \u003c b.N; n++ { b := make([]byte, 0, 64) // same size as bootstrap array of bytes.Buffer for i := 0; i \u003c cnt; i++ { l := len(b) if l+len(src) \u003e cap(b) { t := make([]byte, 2*cap(b)+len(src)) copy(t, b) b = t } b = b[0 : l+len(src)] copy(b[l:], src) } res = string(b) } b.StopTimer() if res != expected { b.Errorf(\"got=%s, want=%s\", string(res), expected) } } func BenchmarkStringBuilder(b *testing.B) { var res string for n := 0; n \u003c b.N; n++ { var builder strings.Builder for i := 0; i \u003c cnt; i++ { builder.WriteString(src) } res = builder.String() } b.StopTimer() if res != expected { b.Errorf(\"got=%s, want=%s\", string(res), expected) } } åœ¨æˆ‘æœ¬æœºçš„æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼Œå¯¹äºè¿™ä¸ªæµ‹è¯•ç»“æœæˆ‘è¡¨ç¤ºä¹Ÿæ²¡æƒ³åˆ°ï¼Œä½†æ˜¯æˆ‘å·²ç»çŸ¥é“ä»¥åè¯¥æ€ä¹ˆåšäº†ï¼š $ go test -v -benchmem -run=^$ -bench '^(BenchmarkStringConcat|BenchmarkStringSprintf|BenchmarkStringJoin|BenchmarkBufferWrite|BenchmarkBytesAppend|BenchmarkStringCopy|BenchmarkStringCopy2|BenchmarkStringBuilder)$' example.com/hello goos: darwin goarch: amd64 pkg: example.com/hello cpu: Intel(R) Core(TM) i5-5257U CPU @ 2.70GHz BenchmarkStringConcat BenchmarkStringConcat-4 8 131090517 ns/op 632845121 B/op 10004 allocs/op BenchmarkStringSprintf BenchmarkStringSprintf-4 4 295268326 ns/op 1075561174 B/op 29686 allocs/op BenchmarkStringJoin BenchmarkStringJoin-4 6 287073860 ns/op 632845282 B/op 10008 allocs/op BenchmarkBufferWrite BenchmarkBufferWrite-4 5631 210591 ns/op 441616 B/op 13 allocs/op BenchmarkBytesAppend BenchmarkBytesAppend-4 7819 152409 ns/op 628720 B/op 25 allocs/op BenchmarkStringCopy BenchmarkStringCopy-4 8820 118761 ns/op 441552 B/op 12 allocs/op BenchmarkStringCopy2 BenchmarkStringCopy2-4 9598 135427 ns/op 441552 B/op 12 allocs/op BenchmarkStringBuilder BenchmarkStringBuilder-4 7729 156815 ns/op 505840 B/op 24 allocs/op PASS ok example.com/hello 17.512s ","date":"2021-07-25","objectID":"/2021/07/25/go-concat-string/:2:0","tags":["Go"],"title":"Go è¿æ¥å­—ç¬¦ä¸²","uri":"/2021/07/25/go-concat-string/"},{"categories":["Go"],"content":"åœ¨ç¼–å†™ Go ä»£ç ä¹‹æ—¶ï¼Œæˆ‘è·Ÿå¾ˆå¤šæ–°æ‰‹ä¸€æ ·è¸©äº†ä¸å°‘å‘ï¼Œæ„Ÿè§‰éå¸¸æœ‰å¿…è¦å°†é‚£äº›è¸©è¿‡çš„å‘è®°å½•ä¸‹æ¥ä»¥é¿å…ä¸‹æ¬¡çŠ¯é”™ã€‚å¾ˆå¤šäººè¯´ Go ç®€å•æ˜“å­¦ï¼Œä¸Šæ‰‹å®¹æ˜“ï¼Œå¯æƒœæˆ‘ä¸æ˜¯é‚£äº›å¾ˆå¤šäººä¸­çš„ä¸€ä¸ªï¼Œå¤©èµ„æ„šé’å¦‚æ­¤ï¼Œæˆ‘åªèƒ½åå¤å­¦ä¹ äº†ã€‚ Go èµ·æ­¥ Go æ•°æ®ç±»å‹ Go æ—¥æœŸæ—¶é—´ Go éšæœºæ•° Go å•å…ƒæµ‹è¯• Go åŸºå‡†æµ‹è¯• Go å…¶å®ƒæµ‹è¯• Go æ­£ç¡®å§¿åŠ¿ Go è¿æ¥å­—ç¬¦ä¸² ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:0:0","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"å¸¸è§é”™è¯¯ä¸çº æ­£ ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:1:0","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"assignment to entry in nil map package hello import ( \"testing\" ) /* === RUN TestWrongUsage --- FAIL: TestWrongUsage (0.00s) panic: assignment to entry in nil map [recovered] panic: assignment to entry in nil map */ func TestWrongUsage(t *testing.T) { var m map[string]float64 m[\"pi\"] = 3.1416 t.Log(m) } /* === RUN TestRightUsage /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:39: map[pi:3.1416] --- PASS: TestRightUsage (0.00s) PASS ok example.com/hello 0.012s */ func TestRightUsage(t *testing.T) { m := make(map[string]float64) m[\"pi\"] = 3.1416 t.Log(m) } ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:1:1","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"invalid memory address or nil pointer dereference package hello import ( \"math\" \"testing\" ) type Point struct { X, Y float64 } func (p *Point) Abs() float64 { return math.Sqrt(p.X*p.X + p.Y*p.Y) } /* === RUN TestWrongUsage --- FAIL: TestWrongUsage (0.00s) panic: runtime error: invalid memory address or nil pointer dereference [recovered] panic: runtime error: invalid memory address or nil pointer dereference [signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x110a643] */ func TestWrongUsage(t *testing.T) { var p *Point t.Log(p.Abs()) } /* === RUN TestRightUsage /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:26: \u0026{0 0} /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:29: 0 --- PASS: TestRightUsage (0.00s) PASS ok example.com/hello 0.009s */ func TestRightUsage(t *testing.T) { var p *Point = new(Point) t.Log(p) var q Point // has zero value Point{X:0, Y:0} t.Log(q.Abs()) } ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:1:2","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"array wonâ€™t change package hello import ( \"testing\" ) func Foo(a [2]int) { a[0] = 8 } func Bar(a []int) { if len(a) \u003e 0 { a[0] = 8 } } /* === RUN TestWrongUsage /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:20: [1 2] --- PASS: TestWrongUsage (0.00s) PASS ok example.com/hello 0.008s */ func TestWrongUsage(t *testing.T) { a := [2]int{1, 2} Foo(a) t.Log(a) } /* === RUN TestRightUsage /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:40: [8 2] --- PASS: TestRightUsage (0.00s) PASS ok example.com/hello 0.013s */ func TestRightUsage(t *testing.T) { a := []int{1, 2} Bar(a) t.Log(a) } ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:1:3","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"shadowed variables package hello import ( \"testing\" ) /* === RUN TestWrongUsage /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:20: 0 --- PASS: TestWrongUsage (0.00s) PASS ok example.com/hello 0.007s */ func TestWrongUsage(t *testing.T) { n := 0 if true { n := 1 n++ } t.Log(n) } /* === RUN TestRightUsage /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:36: 2 --- PASS: TestRightUsage (0.00s) PASS ok example.com/hello (cached) */ func TestRightUsage(t *testing.T) { n := 0 if true { n = 1 n++ } t.Log(n) } å®‰è£… Go Toolsï¼š $ go get -u golang.org/x/tools/... æ£€æµ‹éšè—å˜é‡ï¼š $ go vet -vettool=$(which shadow) -strict # example.com/hello ./hello_test.go:17:3: declaration of \"n\" shadows declaration at line 15 ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:1:4","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"immutable strings package hello import ( \"testing\" ) /* # example.com/hello [example.com/hello.test] /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:16:7: cannot assign to s[0] (strings are immutable) FAIL example.com/hello [build failed] */ func TestWrongUsage(t *testing.T) { s := \"hello\" s[0] = 'H' // IDE ä¼šæç¤ºï¼šcannot assign to s[0] (value of type byte)compilerUnassignableOperand t.Log(s) } /* === RUN TestRightUsage /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:29: Hello --- PASS: TestRightUsage (0.00s) PASS ok example.com/hello 0.007s */ func TestRightUsage(t *testing.T) { buf := []rune(\"hello\") buf[0] = 'H' s := string(buf) t.Log(s) } ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:1:5","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"characters add package hello import ( \"fmt\" \"strconv\" \"testing\" ) /* === RUN TestWrongUsage /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:13: Ta /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:14: 181 --- PASS: TestWrongUsage (0.00s) PASS ok example.com/hello 0.014s */ func TestWrongUsage(t *testing.T) { t.Log(\"T\" + \"a\") t.Log('T' + 'a') } /* === RUN TestRightUsage /Users/xxx/Codes/go/src/github.com/imajinyun/hello/hello_test.go:30: 84a /Users/xxx/Codes/go/src/github.com/imajinyun/hello/hello_test.go:31: Ta --- PASS: TestRightUsage (0.00s) PASS ok example.com/hello 0.012s PASS ok example.com/hello 0.012s */ func TestRightUsage(t *testing.T) { t.Log(strconv.Itoa(84) + string('a')) t.Log(fmt.Sprintf(\"%c%c\", 84, 'a')) } ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:1:6","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"trim string package hello import ( \"strings\" \"testing\" ) /* === RUN TestWrongUsage /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:17: true /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:18: true --- PASS: TestWrongUsage (0.00s) PASS ok example.com/hello 0.009s */ func TestWrongUsage(t *testing.T) { t.Log(\" hello world \" == strings.TrimRight(\" hello world \", \"hello\")) t.Log(\"hello world\" == strings.TrimLeft(\"hello world\", \"world\")) } /* === RUN TestRightUsage /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:33: true /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:34: true /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:35: true /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:36: true --- PASS: TestRightUsage (0.00s) PASS ok example.com/hello 0.008s */ func TestRightUsage(t *testing.T) { t.Log(\"hello\" == strings.TrimSpace(\" hello \")) t.Log(\"hello \\t world\" == strings.TrimSpace(\" \\t hello \\t world \\t \")) t.Log(\" world\" == strings.TrimPrefix(\"hello world\", \"hello\")) t.Log(\"hello \" == strings.TrimSuffix(\"hello world\", \"world\")) } ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:1:7","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"elements copy package hello import ( \"testing\" ) /* === RUN TestWrongUsage /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:18: dst: [] --- PASS: TestWrongUsage (0.00s) PASS ok example.com/hello (cached) */ func TestWrongUsage(t *testing.T) { var src, dst []int src = []int{1, 2, 3} copy(dst, src) // Copy elements to dst from src. t.Log(\"dst:\", dst) } /* === RUN TestRightUsage /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:36: dst: [1 2 3] (copied 3 numbers) --- PASS: TestRightUsage (0.00s) PASS ok example.com/hello 0.008s */ func TestRightUsage(t *testing.T) { var src, dst []int src = []int{1, 2, 3} dst = make([]int, len(src)) n := copy(dst, src) t.Log(\"dst:\", dst, \"(copied\", n, \"numbers)\") } /* === RUN TestRight2Usage /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:40: dst: [1 2 3] --- PASS: TestRight2Usage (0.00s) PASS ok example.com/hello 0.016s */ func TestRight2Usage(t *testing.T) { var src, dst []int src = []int{1, 2, 3} dst = append(dst, src...) t.Log(\"dst:\", dst) } ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:1:8","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"canâ€™t change entries in range loop package hello import \"testing\" /* === RUN TestWrongUsage /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:21: [1 1 1] --- PASS: TestWrongUsage (0.00s) PASS ok example.com/hello 0.011s */ func TestWrongUsage(t *testing.T) { s := []int{1, 1, 1} for _, n := range s { n += 1 } t.Log(s) } /* === RUN TestRightUsage /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:36: [2 2 2] --- PASS: TestRightUsage (0.00s) PASS ok example.com/hello 0.013s */ func TestRightUsage(t *testing.T) { s := []int{1, 1, 1} for i := range s { s[i] += 1 } t.Log(s) } ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:1:9","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"iteration variable doesnâ€™t see change in range loop package hello import ( \"fmt\" \"testing\" ) /* === RUN TestWrongUsage x = 0 x = 0 /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:21: [0 8] --- PASS: TestWrongUsage (0.00s) PASS ok example.com/hello 0.013s */ func TestWrongUsage(t *testing.T) { var a [2]int for _, x := range a { fmt.Println(\"x =\", x) a[1] = 8 } t.Log(a) } /* === RUN TestRightUsage x = 0 x = 8 /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:39: [0 8] --- PASS: TestRightUsage (0.00s) PASS ok example.com/hello 0.009s */ func TestRightUsage(t *testing.T) { var a [2]int for _, x := range a[:] { fmt.Println(\"x =\", x) a[1] = 8 } t.Log(a) } ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:1:10","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"iteration variables and closures package hello import ( \"sync\" \"testing\" ) /* === RUN TestWrongUsage /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:23: 5 /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:23: 5 /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:23: 5 /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:23: 5 /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:23: 5 --- PASS: TestWrongUsage (0.00s) PASS ok example.com/hello 0.013s */ func TestWrongUsage(t *testing.T) { var wg sync.WaitGroup var n int = 5 wg.Add(n) for i := 0; i \u003c n; i++ { go func() { t.Log(i) wg.Done() }() } wg.Wait() } /* === RUN TestRightUsage /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:47: 4 /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:47: 1 /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:47: 0 /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:47: 3 /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:47: 2 --- PASS: TestRightUsage (0.00s) PASS ok example.com/hello 0.009s */ func TestRightUsage(t *testing.T) { var wg sync.WaitGroup var n int = 5 wg.Add(n) for i := 0; i \u003c n; i++ { x := i // Create a unique variable for each closure. go func() { t.Log(x) wg.Done() }() } wg.Wait() } ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:1:11","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"å¸¸ç”¨çš„ä¸€äº›å†™æ³• ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:2:0","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"æ£€æŸ¥å­—å…¸ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šé”® package hello import \"testing\" /* === RUN TestIfKeyExistInMap /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:12: value: 100 --- PASS: TestIfKeyExistInMap (0.00s) PASS ok example.com/hello 0.009s */ func TestIfKeyExistInMap(t *testing.T) { dict := map[string]int{\"foo\": 100, \"bar\": 200} value, ok := dict[\"foo\"] if ok { t.Log(\"value:\", value) } else { t.Log(\"Key not found\") } } ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:2:1","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"è¿æ¥ä¸¤ä¸ªåˆ‡ç‰‡ package hello import \"testing\" /* === RUN TestCombineTwoSlice /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:17: [1 2 3 4] --- PASS: TestCombineTwoSlice (0.00s) PASS ok example.com/hello 0.007s */ func TestCombineTwoSlice(t *testing.T) { slice := append([]int{1, 2}, []int{3, 4}...) t.Log(slice) } ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:2:2","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"å°† byte è½¬æ¢ä¸º string æ ‡å‡†è½¬æ¢ï¼š package hello import \"testing\" /* === RUN TestByteToStr /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:16: [72 101 108 108 111 32 87 111 114 108 100] Hello World --- PASS: TestByteToStr (0.00s) PASS ok example.com/hello 0.007s */ func TestByteToStr(t *testing.T) { b := []byte(\"Hello World\") t.Logf(\"\\n%v\\n%v\", b, string(b)) } å¼ºåˆ¶è½¬æ¢ï¼š package hello import ( \"reflect\" \"testing\" \"unsafe\" ) /* === RUN TestByteToString /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:19: [72 101 108 108 111 32 87 111 114 108 100] \"Hello World\" Hello World --- PASS: TestByteToString (0.00s) PASS ok example.com/hello 0.008s */ func TestByteToString(t *testing.T) { b := []byte{72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100} s := byteToString(b) t.Logf(\"\\n%v\\n%#v\\n%v\", b, s, s) } func byteToString(b []byte) (s string) { data := make([]byte, len(b)) for i, c := range b { data[i] = c } hdr := (*reflect.StringHeader)(unsafe.Pointer(\u0026s)) hdr.Data = uintptr(unsafe.Pointer(\u0026data[0])) hdr.Len = len(b) return s } ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:2:3","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"å°† string è½¬æ¢ä¸º byte æ ‡å‡†è½¬æ¢ï¼š package hello import \"testing\" /* === RUN TestStringToByte /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:18: Hello World [72 101 108 108 111 32 87 111 114 108 100] --- PASS: TestStringToByte (0.00s) PASS ok example.com/hello 0.008s */ func TestStringToByte(t *testing.T) { s := \"Hello World\" t.Logf(\"\\n%v\\n%v\", s, []byte(s)) } å¼ºåˆ¶è½¬æ¢ï¼š package hello import \"testing\" /* === RUN TestStringToByte /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:19: Hello World [72 101 108 108 111 32 87 111 114 108 100] --- PASS: TestStringToByte (0.00s) PASS ok example.com/hello 0.012s */ func TestStringToByte(t *testing.T) { s := \"Hello World\" b := stringToByte(s) t.Logf(\"\\n%v\\n%v\\n\", s, b) } func stringToByte(s string) []byte { b := make([]byte, len(s)) for i := 0; i \u003c len(s); i++ { c := s[i] b[i] = c } return b } ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:2:4","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"å°† rune è½¬æ¢ä¸º string package hello import \"testing\" /* === RUN TestRuneToString /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:8: r = [72 101 108 108 111 32 87 111 114 108 100 33] r = [U+0048 U+0065 U+006C U+006C U+006F U+0020 U+0057 U+006F U+0072 U+006C U+0064 U+0021] s = Hello World! --- PASS: TestRuneToString (0.00s) PASS ok example.com/hello */ func TestRuneToString(t *testing.T) { r := []rune{72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33} s := string(r) t.Logf(\"\\nr = %v\\nr = %U\\ns = %v\", r, r, s) } ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:2:5","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"å°† string è½¬æ¢ä¸º rune package hello import \"testing\" /* === RUN TestStringToRune /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:14: s = Hello World! r = [72 101 108 108 111 32 87 111 114 108 100 33] r = [U+0048 U+0065 U+006C U+006C U+006F U+0020 U+0057 U+006F U+0072 U+006C U+0064 U+0021] --- PASS: TestStringToRune (0.00s) PASS ok example.com/hello 0.016s */ func TestStringToRune(t *testing.T) { s := \"Hello World!\" r := []rune(s) t.Logf(\"\\ns = %v\\nr = %v\\nr = %U\", s, r, r) } ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:2:6","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"ç»“æ„ä½“æ¯”è¾ƒ package hello import ( \"reflect\" \"testing\" ) type Devloper struct { Name string Lang string Age int } /* === RUN TestCompareStruct /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:18: false /Users/xxx/Codes/go/src/github.com/xxx/hello/hello_test.go:19: true --- PASS: TestCompareStruct (0.00s) PASS ok example.com/hello */ func TestCompareStruct(t *testing.T) { d1 := Devloper{\"Foo\", \"Java\", 26} d2 := Devloper{\"Bar\", \"Go\", 28} d3 := Devloper{\"Bar\", \"Go\", 28} t.Log(reflect.DeepEqual(d1, d2)) t.Log(reflect.DeepEqual(d2, d3)) } ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:2:7","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"How to Properly Hash and Salt Passwords in Golang Using Bcrypt Download the golang bcrypt library using go get golang.org/x/crypto/bcrypt. åŠŸèƒ½ä»£ç ï¼š package example import ( \"golang.org/x/crypto/bcrypt\" ) // Hash password using the bcrypt hashing algorithm. func genHashPassword(password string) (string, error) { // Convert password string to byte slice. var passwordBytes = []byte(password) // Hash password with bcrypt's min cost. hashedPasswordBytes, err := bcrypt.GenerateFromPassword(passwordBytes, bcrypt.DefaultCost) return string(hashedPasswordBytes), err } // Check if two passwords match using Bcrypt's CompareHashAndPassword // which return nil on success and an error on failure. func cmpHashPassword(hashedPassword, currPassword string) bool { err := bcrypt.CompareHashAndPassword([]byte(hashedPassword), []byte(currPassword)) return err == nil } æµ‹è¯•ä»£ç ï¼š package example import ( \"testing\" ) func TestHashPassword(t *testing.T) { var hashPassword, err = genHashPassword(\"mypassword\") if err != nil { t.Error(\"Failed to hash password\") return } t.Logf(\"Get hashed password: %v\", hashPassword) } func TestCmpHashPassword(t *testing.T) { var currPassword = \"mypassword\" var hashPassword, err = genHashPassword(currPassword) if err != nil { t.Error(\"Failed to hash password\") return } t.Logf(\"Get hashed password: %v\", hashPassword) t.Logf(\"Cmp hashed password: %v\", cmpHashPassword(hashPassword, currPassword)) } /* Running tool: /opt/homebrew/bin/go test -timeout 30s -coverprofile=/var/folders/nk/dtkbhx993b57y5kt49l4qsb40000gn/T/vscode-goOPwBHl/go-code-cover example -v === RUN TestHashPassword /Users/xxx/Codes/github.com/xxx/inotes/vendor/acme_test.go:14: Get hashed password: $2a$10$L/tY5of7u9FOw94y7PrKR.3irKHtBattazT/JzypTcg5e25Kzu3vG --- PASS: TestHashPassword (0.07s) === RUN TestCmpHashPassword /Users/xxx/Codes/github.com/xxx/inotes/vendor/acme_test.go:24: Get hashed password: $2a$10$b2fKxBL0FQm0/EOE6nLFe.h6X/Xc367jrqwLyTGonS5Ot78AG6V62 /Users/xxx/Codes/github.com/xxx/inotes/vendor/acme_test.go:25: Cmp hashed password: true --- PASS: TestCmpHashPassword (0.14s) PASS coverage: 100.0% of statements ok example 0.531s coverage: 100.0% of statements */ ","date":"2021-07-24","objectID":"/2021/07/24/go-correct-posture/:2:8","tags":["Go"],"title":"Go æ­£ç¡®å§¿åŠ¿","uri":"/2021/07/24/go-correct-posture/"},{"categories":["Go"],"content":"Go çš„ testing åŒ…é™¤äº†æµ‹è¯•ï¼Œè¿˜æä¾›äº†è¿è¡Œå¹¶éªŒè¯ç¤ºä¾‹çš„åŠŸèƒ½ã€‚ä¸€æ–¹é¢æ˜¯æ–‡æ¡£çš„æ•ˆæœï¼Œæ˜¯å…³äºæŸä¸ªåŠŸèƒ½çš„ä½¿ç”¨ä¾‹å­ï¼›å¦ä¸€æ–¹é¢ï¼Œå¯ä»¥è¢«å½“åšæµ‹è¯•è¿è¡Œã€‚ Go èµ·æ­¥ Go æ•°æ®ç±»å‹ Go æ—¥æœŸæ—¶é—´ Go éšæœºæ•° Go å•å…ƒæµ‹è¯• Go åŸºå‡†æµ‹è¯• Go å…¶å®ƒæµ‹è¯• Go æ­£ç¡®å§¿åŠ¿ Go è¿æ¥å­—ç¬¦ä¸² ","date":"2021-07-22","objectID":"/2021/07/22/go-other-test/:0:0","tags":["Go"],"title":"Go å…¶å®ƒæµ‹è¯•","uri":"/2021/07/22/go-other-test/"},{"categories":["Go"],"content":"ç¤ºä¾‹æµ‹è¯• ","date":"2021-07-22","objectID":"/2021/07/22/go-other-test/:1:0","tags":["Go"],"title":"Go å…¶å®ƒæµ‹è¯•","uri":"/2021/07/22/go-other-test/"},{"categories":["Go"],"content":"ç¤ºä¾‹æµ‹è¯•å‡½æ•°æ ¼å¼ Go è¯­è¨€é€šè¿‡å¤§é‡çš„å‘½åçº¦å®šæ¥ç®€åŒ–å·¥å…·çš„å¤æ‚åº¦ï¼Œè§„èŒƒä»£ç çš„é£æ ¼ã€‚å¯¹ç¤ºä¾‹å‡½æ•°çš„å‘½åæœ‰å¦‚ä¸‹çº¦å®šï¼š åŒ…çº§åˆ«çš„ç¤ºä¾‹å‡½æ•°ï¼Œç›´æ¥å‘½åä¸ºï¼šfunc Example() { ... }ï¼› å‡½æ•° F çš„ç¤ºä¾‹ï¼Œå‘½åä¸ºï¼šfunc ExampleF() { ... }ï¼› ç±»å‹ T çš„ç¤ºä¾‹ï¼Œå‘½åä¸ºï¼šfunc ExampleT() { ... }ï¼› ç±»å‹ T ä¸Šçš„æ–¹æ³• M çš„ç¤ºä¾‹ï¼Œå‘½åä¸ºï¼šfunc ExampleT_M() { ... }ï¼› æœ‰æ—¶ï¼Œæˆ‘ä»¬æƒ³è¦ç»™ åŒ…/ç±»å‹/å‡½æ•°/æ–¹æ³• æä¾›å¤šä¸ªç¤ºä¾‹ï¼Œå¯ä»¥é€šè¿‡åœ¨ç¤ºä¾‹å‡½æ•°åç§°åé™„åŠ ä¸€ä¸ªä¸åŒçš„åç¼€æ¥å®ç°ï¼Œä½†è¿™ç§åç¼€å¿…é¡»ä»¥å°å†™å­—æ¯å¼€å¤´ï¼Œå¦‚ï¼š func Example_suffix() { ... } func ExampleF_suffix() { ... } func ExampleT_suffix() { ... } func ExampleT_M_suffix() { ... } ","date":"2021-07-22","objectID":"/2021/07/22/go-other-test/:1:1","tags":["Go"],"title":"Go å…¶å®ƒæµ‹è¯•","uri":"/2021/07/22/go-other-test/"},{"categories":["Go"],"content":"ç¤ºä¾‹æµ‹è¯•å®ä¾‹ ç¤ºä¾‹ä¸€ package hello import ( \"fmt\" \"strings\" ) func ExampleToUpper() { fmt.Println(strings.ToUpper(\"foo\")) // Output: FOO } func ExampleToUpperFail() { fmt.Println(strings.ToUpper(\"bar\")) // Output: Bar } $ go test -v -timeout 30s -run '^(ExampleToUpper|ExampleToUpperFail)$' example.com/hello === RUN ExampleToUpper --- PASS: ExampleToUpper (0.00s) === RUN ExampleToUpperFail --- FAIL: ExampleToUpperFail (0.00s) got: BAR want: Bar FAIL FAIL example.com/hello 0.008s ç¤ºä¾‹äºŒ package hello import ( \"fmt\" \"sort\" ) type Person struct { Name string Age int } func (p Person) String() string { return fmt.Sprintf(\"%s: %d\", p.Name, p.Age) } // ByAge implements sort.Interface for []Person based on the Age field. type SortByAge []Person func (a SortByAge) Len() int { return len(a) } func (a SortByAge) Swap(i, j int) { a[i], a[j] = a[j], a[i] } func (a SortByAge) Less(i, j int) bool { return a[i].Age \u003c a[j].Age } func Example() { people := []Person{ {\"Jack\", 31}, {\"John\", 42}, {\"Acme\", 17}, {\"Pony\", 26}, {\"Wise\", 33}, } fmt.Println(people) sort.Sort(SortByAge(people)) fmt.Println(people) // Output: // [Jack: 31 John: 42 Acme: 17 Pony: 26 Wise: 33] // [Acme: 17 Pony: 26 Jack: 31 Wise: 33 John: 42] } $ go test -v -timeout 30s example.com/hello === RUN Example --- PASS: Example (0.00s) PASS ok example.com/hello 0.007s ","date":"2021-07-22","objectID":"/2021/07/22/go-other-test/:1:2","tags":["Go"],"title":"Go å…¶å®ƒæµ‹è¯•","uri":"/2021/07/22/go-other-test/"},{"categories":["Go"],"content":"å®ä¾‹ä¸‰ package hello import ( \"go/ast\" \"go/parser\" \"log\" ) func ExampleAST() { expr, err := parser.ParseExpr(\"9 / (2 + 1)\") if err != nil { log.Fatal(err) } ast.Print(nil, expr) // Output: 0 *ast.BinaryExpr { // 1 . X: *ast.BasicLit { // 2 . . ValuePos: 1 // 3 . . Kind: INT // 4 . . Value: \"9\" // 5 . } // 6 . OpPos: 3 // 7 . Op: / // 8 . Y: *ast.ParenExpr { // 9 . . Lparen: 5 // 10 . . X: *ast.BinaryExpr { // 11 . . . X: *ast.BasicLit { // 12 . . . . ValuePos: 6 // 13 . . . . Kind: INT // 14 . . . . Value: \"2\" // 15 . . . } // 16 . . . OpPos: 8 // 17 . . . Op: + // 18 . . . Y: *ast.BasicLit { // 19 . . . . ValuePos: 10 // 20 . . . . Kind: INT // 21 . . . . Value: \"1\" // 22 . . . } // 23 . . } // 24 . . Rparen: 11 // 25 . } // 26 } } $ go test -v -timeout 30s -run '^ExampleAST$' example.com/hello === RUN ExampleAST --- PASS: ExampleAST (0.00s) PASS ok example.com/hello (cached) ","date":"2021-07-22","objectID":"/2021/07/22/go-other-test/:1:3","tags":["Go"],"title":"Go å…¶å®ƒæµ‹è¯•","uri":"/2021/07/22/go-other-test/"},{"categories":["Go"],"content":"ä¸»å‡½æ•°æµ‹è¯• è­¦å‘Š æ³¨æ„ï¼šåœ¨ TestMain å‡½æ•°çš„æœ€åï¼Œåº”è¯¥ä½¿ç”¨ m.Run çš„è¿”å›å€¼ä½œä¸ºå‚æ•°å»è°ƒç”¨ os.Exitã€‚ åœ¨å†™æµ‹è¯•æ—¶ï¼Œæœ‰æ—¶éœ€è¦åœ¨æµ‹è¯•ä¹‹å‰æˆ–ä¹‹åè¿›è¡Œé¢å¤–çš„è®¾ç½®ï¼ˆsetupï¼‰æˆ–æ‹†å¸ï¼ˆteardownï¼‰ï¼›æœ‰æ—¶ï¼Œæµ‹è¯•è¿˜éœ€è¦æ§åˆ¶åœ¨ä¸»çº¿ç¨‹ä¸Šè¿è¡Œçš„ä»£ç ã€‚ä¸ºäº†æ”¯æŒè¿™äº›éœ€æ±‚ï¼Œtesting åŒ…æä¾›äº† TestMain å‡½æ•°ï¼ˆé™„ä¸Š å®˜æ–¹ TestMain ä½¿ç”¨å§¿åŠ¿ï¼‰ï¼š func TestMain(m *testing.M) package hello import ( \"log\" \"os\" \"testing\" ) func TestMain(m *testing.M) { log.Println(\"Do stuff BEFORE the tests!\") exit := m.Run() log.Println(\"Do stuff AFTER the tests!\") os.Exit(exit) } func TestA(t *testing.T) { log.Println(\"TestA running\") } func TestB(t *testing.T) { log.Println(\"TestB running\") } $ go test -v -timeout 30s -run '^(TestMain|TestA|TestB)$' example.com/hello 2021/07/22 20:07:25 Do stuff BEFORE the tests! === RUN TestA 2021/07/22 20:07:25 TestA running --- PASS: TestA (0.00s) === RUN TestB 2021/07/22 20:07:25 TestB running --- PASS: TestB (0.00s) PASS 2021/07/22 20:07:25 Do stuff AFTER the tests! ok example.com/hello (cached) ","date":"2021-07-22","objectID":"/2021/07/22/go-other-test/:2:0","tags":["Go"],"title":"Go å…¶å®ƒæµ‹è¯•","uri":"/2021/07/22/go-other-test/"},{"categories":["Go"],"content":"Go è¯­è¨€æ ‡å‡†åº“å†…ç½®çš„ testing æµ‹è¯•æ¡†æ¶æä¾›äº†åŸºå‡†æµ‹è¯•ï¼ˆbenchmarkï¼‰çš„èƒ½åŠ›ï¼Œèƒ½è®©æˆ‘ä»¬å¾ˆå®¹æ˜“åœ°å¯¹æŸä¸€æ®µä»£ç è¿›è¡Œæ€§èƒ½æµ‹è¯•ã€‚åŸºå‡†æµ‹è¯•ä¸»è¦æ˜¯é€šè¿‡æµ‹è¯• CPU å’Œ Memory çš„æ•ˆç‡é—®é¢˜ï¼Œæ¥è¯„ä¼°è¢«æµ‹è¯•ä»£ç çš„æ€§èƒ½ï¼Œè¿›è€Œæ‰¾åˆ°æ›´å¥½çš„è§£å†³æ–¹æ¡ˆã€‚ Go èµ·æ­¥ Go æ•°æ®ç±»å‹ Go æ—¥æœŸæ—¶é—´ Go éšæœºæ•° Go å•å…ƒæµ‹è¯• Go åŸºå‡†æµ‹è¯• Go å…¶å®ƒæµ‹è¯• Go æ­£ç¡®å§¿åŠ¿ Go è¿æ¥å­—ç¬¦ä¸² ","date":"2021-07-17","objectID":"/2021/07/17/go-benchmark-test/:0:0","tags":["Go"],"title":"Go åŸºå‡†æµ‹è¯•","uri":"/2021/07/17/go-benchmark-test/"},{"categories":["Go"],"content":"åŸºå‡†æµ‹è¯•å‘½ä»¤ ","date":"2021-07-17","objectID":"/2021/07/17/go-benchmark-test/:1:0","tags":["Go"],"title":"Go åŸºå‡†æµ‹è¯•","uri":"/2021/07/17/go-benchmark-test/"},{"categories":["Go"],"content":"åŸºå‡†æµ‹è¯•å‘½ä»¤å®ä¾‹ $ go test -v -bench=. $ go test -v -bench='Fib$' -benchtime=5s . $ go test -v -bench='Fib$' -benchtime=1000x . $ go test -v -bench='Fib$' -benchtime=1000x -count=5 . $ go test -v -bench='Fib$' -cpu=2,4,8,16,32,64,128,256,512,1024,2048,4096 . $ go test -v -benchmem -run=^$ -bench '^(BenchmarkFib)$' example.com/hello . ","date":"2021-07-17","objectID":"/2021/07/17/go-benchmark-test/:1:1","tags":["Go"],"title":"Go åŸºå‡†æµ‹è¯•","uri":"/2021/07/17/go-benchmark-test/"},{"categories":["Go"],"content":"åŸºå‡†æµ‹è¯•å‡½æ•° ","date":"2021-07-17","objectID":"/2021/07/17/go-benchmark-test/:2:0","tags":["Go"],"title":"Go åŸºå‡†æµ‹è¯•","uri":"/2021/07/17/go-benchmark-test/"},{"categories":["Go"],"content":"åŸºå‡†æµ‹è¯•å‡½æ•°æ ¼å¼ è­¦å‘Š BenchmarkXxx ä¸­ Xxx å¯ä»¥æ˜¯ä»»ä½•å­—æ¯æ•°å­—å­—ç¬¦ä¸²ï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ªå­—æ¯ä¸èƒ½æ˜¯å°å†™å­—æ¯ã€‚ func BenchmarkXxx(t *testing.T) // ä»¥ä¸‹å‘½åæ˜¯åˆæ³•çš„ func Benchmark123(t *testing.T) func Benchmarkä¸­å›½(t *testing.T) func BenchmarkMac(t *testing.T) åŸºå‡†æµ‹è¯•ç”¨ä¾‹å‡½æ•°éœ€è¦ä»¥ Benchmark ä¸ºå‰ç¼€ï¼š å‰ç¼€ç”¨ä¾‹æ–‡ä»¶ä¸ä¼šå‚ä¸æ­£å¸¸æºç ç¼–è¯‘ï¼Œä¸ä¼šè¢«åŒ…å«åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼› åŸºå‡†æµ‹è¯•ç”¨ä¾‹ä½¿ç”¨ go test -bench=. æŒ‡ä»¤æ¥æ‰§è¡Œï¼Œæ²¡æœ‰ä¹Ÿä¸éœ€è¦ main() ä½œä¸ºå‡½æ•°å…¥å£ã€‚æ‰€æœ‰ä»¥ _test ç»“å°¾çš„æºç å†…ä»¥ Benchmark å¼€å¤´çš„å‡½æ•°ä¼šè¢«è‡ªåŠ¨æ‰§è¡Œï¼› åŸºå‡†æµ‹è¯•å‡½æ•°çš„å‚æ•° b *test.B å¿…é¡»ä¼ å…¥ï¼Œå¦åˆ™ä¼šæŠ¥å‡½æ•°ç­¾åé”™è¯¯ï¼Œå³ï¼šwrong signature for BenchmarkXxx, must be: func BenchmarkXxx(b \\*testing.B)ï¼› è¦ç¼–å†™ä¸€ä¸ªæ–°çš„åŸºå‡†æµ‹è¯•ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªåç§°ä»¥ _test.go ç»“å°¾çš„æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åŒ…å« BenchmarkXxx å‡½æ•°ã€‚ ","date":"2021-07-17","objectID":"/2021/07/17/go-benchmark-test/:2:1","tags":["Go"],"title":"Go åŸºå‡†æµ‹è¯•","uri":"/2021/07/17/go-benchmark-test/"},{"categories":["Go"],"content":"åŸºå‡†æµ‹è¯•ç”¨ä¾‹ ","date":"2021-07-17","objectID":"/2021/07/17/go-benchmark-test/:3:0","tags":["Go"],"title":"Go åŸºå‡†æµ‹è¯•","uri":"/2021/07/17/go-benchmark-test/"},{"categories":["Go"],"content":"ç®€å•åŸºå‡†æµ‹è¯• å¾…æµ‹ä»£ç ï¼š package hello func Fib(n int) int { switch n { case 0: return 0 case 1: return 1 default: return Fib(n-1) + Fib(n-2) } } æµ‹è¯•ä»£ç ï¼š package hello import ( \"testing\" ) func BenchmarkFib(b *testing.B) { for n := 0; n \u003c b.N; n++ { Fib(15) } } $ go test -v -benchmem -run=^$ -bench '^(BenchmarkFib)$' example.com/hello goos: darwin goarch: amd64 pkg: example.com/hello cpu: Intel(R) Core(TM) i5-5257U CPU @ 2.70GHz BenchmarkFib BenchmarkFib-4 238396 4793 ns/op 0 B/op 0 allocs/op PASS ok example.com/hello 2.190s åŸºå‡†å‡½æ•°ä¼šè¿è¡Œç›®æ ‡ä»£ç  b.N æ¬¡ã€‚åœ¨åŸºå‡†æ‰§è¡ŒæœŸé—´ï¼Œç¨‹åºä¼šè‡ªåŠ¨è°ƒæ•´ b.N ç›´åˆ°åŸºå‡†æµ‹è¯•å‡½æ•°æŒç»­è¶³å¤Ÿé•¿çš„æ—¶é—´ã€‚b.N å¯¹äºæ¯ä¸ªç”¨ä¾‹éƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚b.N ä» 1 å¼€å§‹ï¼Œå¦‚æœè¯¥ç”¨ä¾‹èƒ½å¤Ÿåœ¨ 1s å†…å®Œæˆï¼Œb.N çš„å€¼ä¾¿ä¼šå¢åŠ ï¼Œå†æ¬¡æ‰§è¡Œã€‚b.N çš„å€¼å¤§æ¦‚ä»¥ 1, 2, 3, 5, 10, 20, 30, 50, 100 è¿™æ ·çš„åºåˆ—é€’å¢ï¼Œè¶Šåˆ°åé¢ï¼Œå¢åŠ å¾—è¶Šå¿«ã€‚ ","date":"2021-07-17","objectID":"/2021/07/17/go-benchmark-test/:3:1","tags":["Go"],"title":"Go åŸºå‡†æµ‹è¯•","uri":"/2021/07/17/go-benchmark-test/"},{"categories":["Go"],"content":"æå‡å‡†ç¡®åº¦ Benchmark çš„é»˜è®¤æ—¶é—´æ˜¯ 1sï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ -benchtime æŒ‡å®šä¸º 5sï¼š // æ²¿ç”¨å®ä¾‹ä¸€çš„ä»£ç åšåŸºå‡†æµ‹è¯• $ go test -v -benchtime=5s -benchmem -run=^$ -bench '^(BenchmarkFib)$' example.com/hello goos: darwin goarch: amd64 pkg: example.com/hello cpu: Intel(R) Core(TM) i5-5257U CPU @ 2.70GHz BenchmarkFib BenchmarkFib-4 1290742 4529 ns/op 0 B/op 0 allocs/op PASS ok example.com/hello 10.375s å®é™…æ‰§è¡Œçš„æ—¶é—´æ˜¯ 10.375sï¼Œæ¯” benchtime çš„ 5s è¦é•¿ï¼Œæµ‹è¯•ç”¨ä¾‹ç¼–è¯‘ã€æ‰§è¡Œã€é”€æ¯ç­‰æ˜¯éœ€è¦æ—¶é—´çš„ã€‚ Benchmark çš„ -benchtime çš„å€¼é™¤äº†æ˜¯æ—¶é—´å¤–ï¼Œè¿˜å¯ä»¥æ˜¯å…·ä½“çš„æ¬¡æ•°ï¼š // æ²¿ç”¨å®ä¾‹ä¸€çš„ä»£ç åšåŸºå‡†æµ‹è¯• $ go test -v -benchtime=50x -benchmem -run=^$ -bench '^(BenchmarkFib)$' example.com/hello goos: darwin goarch: amd64 pkg: example.com/hello cpu: Intel(R) Core(TM) i5-5257U CPU @ 2.70GHz BenchmarkFib BenchmarkFib-4 50 4556 ns/op 0 B/op 0 allocs/op PASS ok example.com/hello 0.010s Benchmark çš„ -count å‚æ•°å¯ä»¥ç”¨æ¥è®¾ç½®è½®æ•°ï¼š // æ²¿ç”¨å®ä¾‹ä¸€çš„ä»£ç åšåŸºå‡†æµ‹è¯• $ go test -v -count=3 -benchmem -run=^$ -bench '^(BenchmarkFib)$' example.com/hello goos: darwin goarch: amd64 pkg: example.com/hello cpu: Intel(R) Core(TM) i5-5257U CPU @ 2.70GHz BenchmarkFib BenchmarkFib-4 226737 4483 ns/op 0 B/op 0 allocs/op BenchmarkFib-4 226686 5645 ns/op 0 B/op 0 allocs/op BenchmarkFib-4 226284 4485 ns/op 0 B/op 0 allocs/op PASS ok example.com/hello 3.489s ","date":"2021-07-17","objectID":"/2021/07/17/go-benchmark-test/:3:2","tags":["Go"],"title":"Go åŸºå‡†æµ‹è¯•","uri":"/2021/07/17/go-benchmark-test/"},{"categories":["Go"],"content":"å†…å­˜åˆ†é…æƒ…å†µ package hello import ( \"math/rand\" \"testing\" \"time\" ) func genWithCap(n int) []int { rand.Seed(time.Now().UnixNano()) nums := make([]int, 0, n) for i := 0; i \u003c n; i++ { nums = append(nums, rand.Int()) } return nums } func genWithoutCap(n int) []int { rand.Seed(time.Now().UnixNano()) nums := make([]int, 0) for i := 0; i \u003c n; i++ { nums = append(nums, rand.Int()) } return nums } func BenchmarkGenWithCap(b *testing.B) { for n := 0; n \u003c b.N; n++ { genWithCap(1000000) } } func BenchmarkGenWithoutCap(b *testing.B) { for n := 0; n \u003c b.N; n++ { genWithoutCap(1000000) } } $ go test -v -benchmem -run=^$ -bench '^BenchmarkGen' example.com/hello goos: darwin goarch: amd64 pkg: example.com/hello cpu: Intel(R) Core(TM) i5-5257U CPU @ 2.70GHz BenchmarkGenWithCap BenchmarkGenWithCap-4 40 28733419 ns/op 8003585 B/op 1 allocs/op BenchmarkGenWithoutCap BenchmarkGenWithoutCap-4 26 38608707 ns/op 45188404 B/op 40 allocs/op PASS ok example.com/hello 3.167s å¯ä»¥çœ‹åˆ° genWithoutCap åˆ†é…çš„å†…å­˜ç©ºé—´æ˜¯ genWithCap çš„ 45188404/8003585 â‰ˆ 5.6 å€ï¼Œè®¾ç½®äº†åˆ‡ç‰‡å®¹é‡ï¼Œå†…å­˜åªåˆ†é…ä¸€æ¬¡ï¼Œè€Œä¸è®¾ç½®åˆ‡ç‰‡å®¹é‡ï¼Œå†…å­˜åˆ†é…äº† 40 æ¬¡ã€‚ ","date":"2021-07-17","objectID":"/2021/07/17/go-benchmark-test/:3:3","tags":["Go"],"title":"Go åŸºå‡†æµ‹è¯•","uri":"/2021/07/17/go-benchmark-test/"},{"categories":["Go"],"content":"æµ‹è¯•è¾“å…¥è§„æ¨¡ package hello import ( \"math/rand\" \"testing\" \"time\" ) func gen(n int) []int { rand.Seed(time.Now().UnixNano()) nums := make([]int, 0) for i := 0; i \u003c n; i++ { nums = append(nums, rand.Int()) } return nums } func helper(i int, b *testing.B) { for n := 0; n \u003c b.N; n++ { gen(i) } } func BenchmarkGen10(b *testing.B) { helper(10, b) } func BenchmarkGen100(b *testing.B) { helper(100, b) } func BenchmarkGen1000(b *testing.B) { helper(1000, b) } func BenchmarkGen10000(b *testing.B) { helper(10000, b) } func BenchmarkGen100000(b *testing.B) { helper(100000, b) } func BenchmarkGen1000000(b *testing.B) { helper(1000000, b) } $ go test -v -benchmem -run=^$ -bench '^(BenchmarkGen10|BenchmarkGen100|BenchmarkGen1000|BenchmarkGen10000|BenchmarkGen100000|BenchmarkGen1000000)$' example.com/hello goos: darwin goarch: amd64 pkg: example.com/hello cpu: Intel(R) Core(TM) i5-5257U CPU @ 2.70GHz BenchmarkGen10 BenchmarkGen10-4 85984 12604 ns/op 248 B/op 5 allocs/op BenchmarkGen100 BenchmarkGen100-4 89773 14911 ns/op 2040 B/op 8 allocs/op BenchmarkGen1000 BenchmarkGen1000-4 28988 38968 ns/op 16376 B/op 11 allocs/op BenchmarkGen10000 BenchmarkGen10000-4 3843 326670 ns/op 386296 B/op 20 allocs/op BenchmarkGen100000 BenchmarkGen100000-4 357 3429826 ns/op 4654346 B/op 30 allocs/op BenchmarkGen1000000 BenchmarkGen1000000-4 37 35700196 ns/op 45188381 B/op 40 allocs/op PASS ok example.com/hello 9.278s é€šè¿‡æµ‹è¯•ç»“æœå¯ä»¥å‘ç°ï¼Œè¾“å…¥å˜ä¸ºåŸæ¥çš„ 10 å€ï¼Œå‡½æ•°æ¯æ¬¡è°ƒç”¨çš„æ—¶é•¿ä¹Ÿå·®ä¸å¤šæ˜¯åŸæ¥çš„ 10 å€ï¼Œè¿™è¯´æ˜å¤æ‚åº¦æ˜¯çº¿æ€§çš„ã€‚ ","date":"2021-07-17","objectID":"/2021/07/17/go-benchmark-test/:3:4","tags":["Go"],"title":"Go åŸºå‡†æµ‹è¯•","uri":"/2021/07/17/go-benchmark-test/"},{"categories":["Go"],"content":"B ç±»å‹ ","date":"2021-07-17","objectID":"/2021/07/17/go-benchmark-test/:4:0","tags":["Go"],"title":"Go åŸºå‡†æµ‹è¯•","uri":"/2021/07/17/go-benchmark-test/"},{"categories":["Go"],"content":"æŠ¥å‘Šæ–¹æ³• åŸºå‡†æµ‹è¯•ä¸­ï¼Œä¼ é€’ç»™åŸºå‡†æµ‹è¯•å‡½æ•°çš„å‚æ•°æ˜¯ *testing.B ç±»å‹ã€‚B æ˜¯ä¼ é€’ç»™åŸºå‡†æµ‹è¯•å‡½æ•°çš„ä¸€ç§ç±»å‹ï¼Œå®ƒç”¨äºç®¡ç†åŸºå‡†æµ‹è¯•çš„è®¡æ—¶è¡Œä¸ºï¼Œå¹¶æŒ‡ç¤ºåº”è¯¥è¿­ä»£åœ°è¿è¡Œæµ‹è¯•å¤šå°‘æ¬¡ã€‚ è·Ÿå•å…ƒæµ‹è¯•ä¸€æ ·ï¼ŒåŸºå‡†æµ‹è¯•ä¼šåœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ç§¯ç´¯æ—¥å¿—ï¼Œå¹¶åœ¨æµ‹è¯•å®Œæ¯•æ—¶å°†æ—¥å¿—è½¬å‚¨åˆ°æ ‡å‡†é”™è¯¯ã€‚ä½†è·Ÿå•å…ƒæµ‹è¯•ä¸ä¸€æ ·çš„æ˜¯ï¼Œä¸ºäº†é¿å…åŸºå‡†æµ‹è¯•çš„ç»“æœå—åˆ°æ—¥å¿—æ‰“å°æ“ä½œçš„å½±å“ï¼ŒåŸºå‡†æµ‹è¯•æ€»æ˜¯ä¼šæŠŠæ—¥å¿—æ‰“å°å‡ºæ¥ã€‚ B ç±»å‹ä¸­çš„æŠ¥å‘Šæ–¹æ³•ä½¿ç”¨æ–¹å¼å’Œ T ç±»å‹æ˜¯ä¸€æ ·çš„ï¼Œä¸€èˆ¬æ¥è¯´ï¼ŒåŸºå‡†æµ‹è¯•ä¸­ä¹Ÿä¸éœ€è¦ä½¿ç”¨ï¼Œæ¯•ç«Ÿä¸»è¦æ˜¯æµ‹æ€§èƒ½ã€‚ ","date":"2021-07-17","objectID":"/2021/07/17/go-benchmark-test/:4:1","tags":["Go"],"title":"Go åŸºå‡†æµ‹è¯•","uri":"/2021/07/17/go-benchmark-test/"},{"categories":["Go"],"content":"è®¡æ—¶æ–¹æ³• StartTimerï¼šå¼€å§‹å¯¹æµ‹è¯•è¿›è¡Œè®¡æ—¶ã€‚è¯¥æ–¹æ³•ä¼šåœ¨åŸºå‡†æµ‹è¯•å¼€å§‹æ—¶è‡ªåŠ¨è¢«è°ƒç”¨ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨è°ƒç”¨ StopTimer ä¹‹åæ¢å¤è®¡æ—¶ï¼› StopTimerï¼šåœæ­¢å¯¹æµ‹è¯•è¿›è¡Œè®¡æ—¶ã€‚å½“ä½ éœ€è¦æ‰§è¡Œä¸€äº›å¤æ‚çš„åˆå§‹åŒ–æ“ä½œï¼Œå¹¶ä¸”ä½ ä¸æƒ³å¯¹è¿™äº›æ“ä½œè¿›è¡Œæµ‹é‡æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•æ¥æš‚æ—¶åœ°åœæ­¢è®¡æ—¶ï¼› ResetTimerï¼šå¯¹å·²ç»é€å»çš„åŸºå‡†æµ‹è¯•æ—¶é—´ä»¥åŠå†…å­˜åˆ†é…è®¡æ•°å™¨è¿›è¡Œæ¸…é›¶ã€‚å¯¹äºæ­£åœ¨è¿è¡Œä¸­çš„è®¡æ—¶å™¨ï¼Œè¿™ä¸ªæ–¹æ³•ä¸ä¼šäº§ç”Ÿä»»ä½•æ•ˆæœï¼› package hello import ( \"testing\" \"time\" ) func fib(n int) int { if n == 0 || n == 1 { return n } return fib(n-2) + fib(n-1) } func BenchmarkFib(b *testing.B) { time.Sleep(time.Second * 3) // b.ResetTimer() for n := 0; n \u003c b.N; n++ { fib(30) } } // æ³¨é‡Š b.ResetTimer() $ go test -v -benchtime=50x -benchmem -run=^$ -bench '^(BenchmarkFib)$' example.com/hello goos: darwin goarch: amd64 pkg: example.com/hello cpu: Intel(R) Core(TM) i5-5257U CPU @ 2.70GHz BenchmarkFib BenchmarkFib-4 50 66575387 ns/op 1 B/op 0 allocs/op PASS ok example.com/hello 6.358s // æ‰“å¼€ b.ResetTimer() $ go test -v -benchtime=50x -benchmem -run=^$ -bench '^(BenchmarkFib)$' example.com/hello goos: darwin goarch: amd64 pkg: example.com/hello cpu: Intel(R) Core(TM) i5-5257U CPU @ 2.70GHz BenchmarkFib BenchmarkFib-4 50 6419112 ns/op 0 B/op 0 allocs/op PASS ok example.com/hello 6.344s å¯ä»¥çœ‹åˆ°ï¼Œå½“æ³¨é‡Š b.ResetTimer() åï¼Œæ¯æ¬¡æ‰§è¡Œéœ€è¦ 66575387/1000000000=0.06657539â‰ˆ0.067 ç§’ï¼›å½“æ‰“å¼€ b.ResetTimer() åï¼Œæ¯æ¬¡æ‰§è¡Œéœ€è¦ 6419112/1000000000=0.00641911â‰ˆ0.006 ç§’ã€‚æ‰€ä»¥ä½¿ç”¨ b.ResetTimer() é‡ç½®å®šæ—¶å™¨åå¿«äº† 0.067/0.006=11.16666667â‰ˆ11 å€ã€‚ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ¯æ¬¡è°ƒç”¨å‡½æ•°å‰åéœ€è¦ä¸€äº›å‡†å¤‡å·¥ä½œå’Œæ¸…ç†å·¥ä½œï¼Œå¯ä»¥ä½¿ç”¨ StopTimer æš‚åœè®¡æ—¶ä»¥åŠä½¿ç”¨ StartTimer å¼€å§‹è®¡æ—¶ï¼š package hello import ( \"math/rand\" \"testing\" \"time\" ) func genWithCap(n int) []int { rand.Seed(time.Now().UnixNano()) nums := make([]int, 0, n) for i := 0; i \u003c n; i++ { nums = append(nums, rand.Int()) } return nums } func bubbleSort(nums []int) { for i := 0; i \u003c len(nums); i++ { for j := 1; j \u003c len(nums)-i; j++ { if nums[j] \u003c nums[j-1] { nums[j], nums[j-1] = nums[j-1], nums[j] } } } } func BenchmarkBubbleSort(b *testing.B) { for n := 0; n \u003c b.N; n++ { b.StopTimer() nums := genWithCap(10000) b.StartTimer() bubbleSort(nums) } } $ go test -v -benchtime=50x -benchmem -run=^$ -bench '^(BenchmarkBubbleSort)$' example.com/hello goos: darwin goarch: amd64 pkg: example.com/hello cpu: Intel(R) Core(TM) i5-5257U CPU @ 2.70GHz BenchmarkBubbleSort BenchmarkBubbleSort-4 50 124283402 ns/op 0 B/op 0 allocs/op PASS ok example.com/hello 6.380s ","date":"2021-07-17","objectID":"/2021/07/17/go-benchmark-test/:4:2","tags":["Go"],"title":"Go åŸºå‡†æµ‹è¯•","uri":"/2021/07/17/go-benchmark-test/"},{"categories":["Go"],"content":"å¹¶è¡Œæ‰§è¡Œ é€šè¿‡ RunParallel æ–¹æ³•èƒ½å¤Ÿå¹¶è¡Œåœ°æ‰§è¡Œç»™å®šçš„åŸºå‡†æµ‹è¯•ã€‚RunParallel ä¼šåˆ›å»ºå‡ºå¤šä¸ª goroutineï¼Œå¹¶å°† b.N åˆ†é…ç»™è¿™äº› goroutine æ‰§è¡Œï¼Œå…¶ä¸­ goroutine æ•°é‡çš„é»˜è®¤å€¼ä¸º GOMAXPROCSã€‚ç”¨æˆ·å¦‚æœæƒ³è¦å¢åŠ é CPU å—é™ï¼ˆnon-CPU-boundï¼‰åŸºå‡†æµ‹è¯•çš„å¹¶è¡Œæ€§ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨ RunParallel ä¹‹å‰è°ƒç”¨ SetParallelismï¼ˆå¦‚ï¼šSetParallelism(2)ï¼Œåˆ™ goroutine æ•°é‡ä¸º 2*GOMAXPROCSï¼‰ã€‚RunParallel é€šå¸¸ä¼šä¸ -cpu æ ‡å¿—ä¸€åŒä½¿ç”¨ã€‚ package hello import ( \"bytes\" \"testing\" \"text/template\" ) func BenchmarkTemplateParallel(b *testing.B) { tpl := template.Must(template.New(\"test\").Parse(\"Hello, {{.}}!\")) // RunParallel will create GOMAXPROCS goroutines and distribute work among them. b.RunParallel(func(pb *testing.PB) { // Each goroutine has its own bytes.Buffer. var buf bytes.Buffer for pb.Next() { // The loop body is executed b.N times total across all goroutines. buf.Reset() tpl.Execute(\u0026buf, \"World\") } }) } $ go test -v -benchmem -run=^$ -bench '^(BenchmarkTemplateParallel)$' example.com/hello goos: darwin goarch: amd64 pkg: example.com/hello cpu: Intel(R) Core(TM) i5-5257U CPU @ 2.70GHz BenchmarkTemplateParallel BenchmarkTemplateParallel-4 7044910 198.2 ns/op 48 B/op 1 allocs/op PASS ok example.com/hello 1.581s package hello import ( \"testing\" ) func BenchmarkSelectNonblock(b *testing.B) { ch1 := make(chan int) ch2 := make(chan int) ch3 := make(chan int, 1) ch4 := make(chan int, 1) b.RunParallel(func(pb *testing.PB) { for pb.Next() { select { case \u003c-ch1: default: } select { case ch2 \u003c- 0: default: } select { case \u003c-ch3: default: } select { case ch4 \u003c- 0: default: } } }) } $ go test -v -benchmem -run=^$ -bench '^(BenchmarkSelectNonblock)$' example.com/hello goos: darwin goarch: amd64 pkg: example.com/hello cpu: Intel(R) Core(TM) i5-5257U CPU @ 2.70GHz BenchmarkSelectNonblock BenchmarkSelectNonblock-4 96872894 13.02 ns/op 0 B/op 0 allocs/op PASS ok example.com/hello 1.286s ","date":"2021-07-17","objectID":"/2021/07/17/go-benchmark-test/:4:3","tags":["Go"],"title":"Go åŸºå‡†æµ‹è¯•","uri":"/2021/07/17/go-benchmark-test/"},{"categories":["Go"],"content":"å†…å­˜ç»Ÿè®¡ ReportAllocs æ–¹æ³•ç”¨äºæ‰“å¼€å½“å‰åŸºå‡†æµ‹è¯•çš„å†…å­˜ç»Ÿè®¡åŠŸèƒ½ï¼Œ ä¸ go test ä½¿ç”¨ -benchmem æ ‡å¿—ç±»ä¼¼ï¼Œä½† ReportAllocs åªå½±å“é‚£äº›è°ƒç”¨äº†è¯¥å‡½æ•°çš„åŸºå‡†æµ‹è¯•ã€‚ package hello import ( \"bytes\" \"html/template\" \"testing\" ) func BenchmarkTmplExucte(b *testing.B) { b.ReportAllocs() tpl := template.Must(template.New(\"test\").Parse(\"Hello, {{.}}!\")) b.RunParallel(func(pb *testing.PB) { // Each goroutine has its own bytes.Buffer. var buf bytes.Buffer for pb.Next() { // The loop body is executed b.N times total across all goroutines. buf.Reset() tpl.Execute(\u0026buf, \"World\") } }) } $ go test -v -benchmem -run=^$ -bench '^(BenchmarkTplExucte)$' example.com/hello goos: darwin goarch: amd64 pkg: example.com/hello cpu: Intel(R) Core(TM) i5-5257U CPU @ 2.70GHz BenchmarkTmplExucte BenchmarkTmplExucte-4 1525129 875.6 ns/op 240 B/op 8 allocs/op PASS ok example.com/hello 2.152s ","date":"2021-07-17","objectID":"/2021/07/17/go-benchmark-test/:4:4","tags":["Go"],"title":"Go åŸºå‡†æµ‹è¯•","uri":"/2021/07/17/go-benchmark-test/"},{"categories":["Go"],"content":"åŸºå‡†æµ‹è¯•ç»“æœ // å¾ªç¯æ‰§è¡Œäº† 238396 æ¬¡ï¼Œæ¯æ¬¡å¾ªç¯èŠ±è´¹ 4793 ns BenchmarkFib-4 238396 4793 ns/op 0 B/op 0 allocs/op BenchmarkFib-4ï¼šBenchmarkFib-8 ä¸­çš„ -8 å³ GOMAXPROCSï¼Œé»˜è®¤ç­‰äº CPU æ ¸æ•°ã€‚å¯ä»¥é€šè¿‡ -cpu å‚æ•°æ”¹å˜ GOMAXPROCSï¼Œ-cpu æ”¯æŒä¼ å…¥ä¸€ä¸ªåˆ—è¡¨ä½œä¸ºå‚æ•°ï¼ˆæ¯”å¦‚ï¼š-cpu=2,4,8,...ï¼‰ï¼› 238396ï¼šåŸºå‡†æµ‹è¯•çš„è¿­ä»£æ€»æ¬¡æ•° b.Nï¼› 4793 ns/opï¼šå¹³å‡æ¯æ¬¡è¿­ä»£æ‰€æ¶ˆè€—çš„çº³ç§’æ•°ï¼› 0 B/opï¼šå¹³å‡æ¯æ¬¡è¿­ä»£å†…å­˜æ‰€åˆ†é…çš„å­—èŠ‚æ•°ï¼› 0 allocs/opï¼šå¹³å‡æ¯æ¬¡è¿­ä»£çš„å†…å­˜åˆ†é…æ¬¡æ•°ï¼› åœ¨ testing åŒ…ä¸­çš„ BenchmarkResult ç±»å‹ä¿å­˜äº†åŸºå‡†æµ‹è¯•çš„ç»“æœï¼Œå®šä¹‰å¦‚ä¸‹ï¼š // BenchmarkResult contains the results of a benchmark run. type BenchmarkResult struct { N int // The number of iterations. T time.Duration // The total time taken. Bytes int64 // Bytes processed in one iteration. MemAllocs uint64 // The total number of memory allocations. MemBytes uint64 // The total number of bytes allocated. // Extra records additional metrics reported by ReportMetric. Extra map[string]float64 } package main import ( \"bytes\" \"fmt\" \"testing\" \"text/template\" ) func main() { res := testing.Benchmark(func(b *testing.B) { tpl := template.Must(template.New(\"test\").Parse(\"Hello, {{.}}!\")) b.RunParallel(func(pb *testing.PB) { var buf bytes.Buffer for pb.Next() { buf.Reset() tpl.Execute(\u0026buf, \"World\") } }) }) fmt.Printf(\"%8d\\t%10d ns/op\\t%10d B/op\\t%10d allocs/op\\n\", res.N, res.NsPerOp(), res.AllocedBytesPerOp(), res.AllocsPerOp(), ) } $ go run main.go 5220064 196 ns/op 48 B/op 1 allocs/op ","date":"2021-07-17","objectID":"/2021/07/17/go-benchmark-test/:4:5","tags":["Go"],"title":"Go åŸºå‡†æµ‹è¯•","uri":"/2021/07/17/go-benchmark-test/"},{"categories":["Go"],"content":"Go è¯­è¨€ä»å¼€å‘åˆæœŸå°±æ³¨æ„äº†æµ‹è¯•ç”¨ä¾‹çš„ç¼–å†™ã€‚ç‰¹åˆ«æ˜¯é™æ€è¯­è¨€ï¼Œç”±äºè°ƒè¯•æ²¡æœ‰åŠ¨æ€è¯­è¨€é‚£ä¹ˆæ–¹ä¾¿ï¼Œæ‰€ä»¥èƒ½æœ€å¿«æœ€æ–¹ä¾¿åœ°ç¼–å†™ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹å°±æ˜¾å¾—éå¸¸é‡è¦äº†ã€‚ Go èµ·æ­¥ Go æ•°æ®ç±»å‹ Go æ—¥æœŸæ—¶é—´ Go éšæœºæ•° Go å•å…ƒæµ‹è¯• Go åŸºå‡†æµ‹è¯• Go å…¶å®ƒæµ‹è¯• Go æ­£ç¡®å§¿åŠ¿ Go è¿æ¥å­—ç¬¦ä¸² ","date":"2021-07-16","objectID":"/2021/07/16/go-unit-test/:0:0","tags":["Go"],"title":"Go å•å…ƒæµ‹è¯•","uri":"/2021/07/16/go-unit-test/"},{"categories":["Go"],"content":"å•å…ƒæµ‹è¯•å‘½ä»¤ ","date":"2021-07-16","objectID":"/2021/07/16/go-unit-test/:1:0","tags":["Go"],"title":"Go å•å…ƒæµ‹è¯•","uri":"/2021/07/16/go-unit-test/"},{"categories":["Go"],"content":"å•å…ƒæµ‹è¯•å‘½ä»¤å®ä¾‹ $ go test -v hello.go hello_test.go $ go test -v . $ go test -v -run TestFib . $ go test -v -timeout 30s -run '^TestFib$' example.com/hello . ","date":"2021-07-16","objectID":"/2021/07/16/go-unit-test/:1:1","tags":["Go"],"title":"Go å•å…ƒæµ‹è¯•","uri":"/2021/07/16/go-unit-test/"},{"categories":["Go"],"content":"ä¸€äº›æµ‹è¯•é€‰é¡¹ -bench regexpï¼šæ‰§è¡Œç›¸åº”çš„ benchmarksï¼Œä¾‹å¦‚ï¼š-bench=.ï¼› -coverï¼šå¼€æˆ·æµ‹è¯•è¦†ç›–ç‡ï¼› -run regexpï¼šåªè¿è¡Œ regexp åŒ¹é…çš„å‡½æ•°ï¼Œä¾‹å¦‚ï¼š-run=Array ä»…æ‰§è¡ŒåŒ…å«æœ‰ Array å¼€å¤´çš„å‡½æ•°ï¼› -vï¼šæ˜¾ç¤ºæµ‹è¯•çš„è¯¦ç»†å‘½ä»¤ï¼› $ go test -v -timeout 10s -run '^TestFib$' example.com/hello . === RUN TestFib --- PASS: TestFib (0.00s) PASS ok example.com/hello 0.006s ","date":"2021-07-16","objectID":"/2021/07/16/go-unit-test/:1:2","tags":["Go"],"title":"Go å•å…ƒæµ‹è¯•","uri":"/2021/07/16/go-unit-test/"},{"categories":["Go"],"content":"å•å…ƒæµ‹è¯•å‡½æ•° ","date":"2021-07-16","objectID":"/2021/07/16/go-unit-test/:2:0","tags":["Go"],"title":"Go å•å…ƒæµ‹è¯•","uri":"/2021/07/16/go-unit-test/"},{"categories":["Go"],"content":"å•å…ƒæµ‹è¯•å‡½æ•°æ ¼å¼ è­¦å‘Š TestXxx ä¸­ Xxx å¯ä»¥æ˜¯ä»»ä½•å­—æ¯æ•°å­—å­—ç¬¦ä¸²ï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ªå­—æ¯ä¸èƒ½æ˜¯å°å†™å­—æ¯ã€‚ å•å…ƒæµ‹è¯•æºç æ–‡ä»¶å¯ä»¥ç”±å¤šä¸ªæµ‹è¯•ç”¨ä¾‹ç»„æˆï¼Œæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹å‡½æ•°éœ€è¦ä»¥ Test ä¸ºå‰ç¼€ï¼š å‰ç¼€ç”¨ä¾‹æ–‡ä»¶ä¸ä¼šå‚ä¸æ­£å¸¸æºç ç¼–è¯‘ï¼Œä¸ä¼šè¢«åŒ…å«åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼› å•å…ƒæµ‹è¯•ç”¨ä¾‹ä½¿ç”¨ go test æŒ‡ä»¤æ¥æ‰§è¡Œï¼Œæ²¡æœ‰ä¹Ÿä¸éœ€è¦ main() ä½œä¸ºå‡½æ•°å…¥å£ã€‚æ‰€æœ‰ä»¥ _test ç»“å°¾çš„æºç å†…ä»¥ Test å¼€å¤´çš„å‡½æ•°ä¼šè¢«è‡ªåŠ¨æ‰§è¡Œï¼› å•å…ƒæµ‹è¯•å‡½æ•°çš„å‚æ•° t *test.T å¿…é¡»ä¼ å…¥ï¼Œå¦åˆ™ä¼šæŠ¥å‡½æ•°ç­¾åé”™è¯¯ï¼Œå³ï¼šwrong signature for TestXxx, must be: func TestXxx(t *testing.T)ï¼› func TestXxx(t *testing.T) // ä»¥ä¸‹å‘½åæ˜¯åˆæ³•çš„ func Test123(t *testing.T) func Testä¸­å›½(t *testing.T) func TestMac(t *testing.T) è¦ç¼–å†™ä¸€ä¸ªæ–°çš„æµ‹è¯•å¥—ä»¶ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªåç§°ä»¥ _test.go ç»“å°¾çš„æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åŒ…å« TestXxx å‡½æ•°ã€‚ ","date":"2021-07-16","objectID":"/2021/07/16/go-unit-test/:2:1","tags":["Go"],"title":"Go å•å…ƒæµ‹è¯•","uri":"/2021/07/16/go-unit-test/"},{"categories":["Go"],"content":"å„ç§ä¸åŒæµ‹è¯•ç”¨ä¾‹ TestSomething(t *testing.T)ï¼šåŸºæœ¬æµ‹è¯•ç”¨ä¾‹ï¼› BenchmarkSomething(b *testing.B)ï¼šåŸºå‡†æµ‹è¯•ç”¨ä¾‹ï¼› ExampleSomething()ï¼šæ§åˆ¶å°æµ‹è¯•ç”¨ä¾‹ï¼› TestMain(m *testing.M)ï¼šä¸»å‡½æ•°æµ‹è¯•ç”¨ä¾‹ï¼› ","date":"2021-07-16","objectID":"/2021/07/16/go-unit-test/:2:2","tags":["Go"],"title":"Go å•å…ƒæµ‹è¯•","uri":"/2021/07/16/go-unit-test/"},{"categories":["Go"],"content":"å•å…ƒæµ‹è¯•ç”¨ä¾‹ ","date":"2021-07-16","objectID":"/2021/07/16/go-unit-test/:3:0","tags":["Go"],"title":"Go å•å…ƒæµ‹è¯•","uri":"/2021/07/16/go-unit-test/"},{"categories":["Go"],"content":"åŸºæœ¬æµ‹è¯•å®ä¾‹ å¾…æµ‹ä»£ç ï¼š func Fib(n int) int { if n \u003c 2 { return n } return Fib(n-1) + Fib(n-2) } æµ‹è¯•ä»£ç ï¼š func TestFib(t *testing.T) { var ( in = 7 expect = 13 ) actual := Fib(in) if actual != expect { t.Errorf(\"Fib(%d) = %d; want %d\", in, actual, expect) } } $ go test -v -timeout 30s -run '^TestFib$' example.com/hello === RUN TestFib --- PASS: TestFib (0.00s) PASS ok example.com/hello 0.007s ","date":"2021-07-16","objectID":"/2021/07/16/go-unit-test/:3:1","tags":["Go"],"title":"Go å•å…ƒæµ‹è¯•","uri":"/2021/07/16/go-unit-test/"},{"categories":["Go"],"content":"è¡¨é©±åŠ¨æµ‹è¯•å®ä¾‹ Table-Driven çš„æµ‹è¯•æ–¹å¼åœ¨ Go çš„æºç ä¸­å¸ç©ºè§æƒ¯ï¼Œæ¯”å¦‚ï¼štime_test.goã€‚ func TestFib(t *testing.T) { var fibTests = []struct { in int expect int }{ {1, 1}, {2, 1}, {3, 2}, {4, 3}, {5, 5}, {6, 8}, {7, 13}, {8, 21}, {9, 34}, } for i, tt := range fibTests { actual := Fib(tt.in) if actual != tt.expect { t.Errorf(\"#%d: Fib(%d) = %d; want %d\", i, tt.in, actual, tt.expect) } } } $ go test -v -timeout 30s -run '^TestFib$' example.com/hello === RUN TestFib --- PASS: TestFib (0.00s) PASS ok example.com/hello (cached) ","date":"2021-07-16","objectID":"/2021/07/16/go-unit-test/:3:2","tags":["Go"],"title":"Go å•å…ƒæµ‹è¯•","uri":"/2021/07/16/go-unit-test/"},{"categories":["Go"],"content":"å­æµ‹è¯•å®ä¾‹ å¾…æµ‹ä»£ç ï¼š package hello func Add(x, y int) int { return x + y } æµ‹è¯•ä»£ç ï¼š package hello import ( \"testing\" ) func TestAll(t *testing.T) { var positiveNumberTests = []struct { name string x, y, expected int }{ {\"positive number\", 1, 1, 2}, {\"negative number\", 0, 9, 9}, {\"zero number\", 0, 0, 0}, } for _, tt := range positiveNumberTests { t.Run(tt.name, func(t *testing.T) { if actual := Add(tt.x, tt.y); actual != tt.expected { t.Errorf(\"Add(%d, %d) = %d, want %d\", tt.x, tt.y, actual, tt.expected) } }) } } $ go test -v -timeout 30s -run '^TestAll$' example.com/hello === RUN TestAll === RUN TestAll/positive_number === RUN TestAll/negative_number === RUN TestAll/zero_number --- PASS: TestAll (0.00s) --- PASS: TestAll/positive_number (0.00s) --- PASS: TestAll/negative_number (0.00s) --- PASS: TestAll/zero_number (0.00s) PASS ok example.com/hello 0.013s ","date":"2021-07-16","objectID":"/2021/07/16/go-unit-test/:3:3","tags":["Go"],"title":"Go å•å…ƒæµ‹è¯•","uri":"/2021/07/16/go-unit-test/"},{"categories":["Go"],"content":"æ¨¡ä»¿æµ‹è¯•å®ä¾‹ å¾…æµ‹ä»£ç ï¼š package hello import \"context\" type API interface { FetchPostByID(ctx context.Context, id int) (*APIPost, error) } type APIPost struct { ID int `json:\"id\"` UserID int `json:\"user_id\"` Title string `json:\"title\"` Body string `json:\"body\"` } æµ‹è¯•ä»£ç ï¼š package hello import ( \"context\" \"encoding/json\" \"fmt\" \"io\" \"net/http\" \"reflect\" \"strings\" \"testing\" \"time\" ) type APIMock struct{} func (a *APIMock) FetchPostByID(ctx context.Context, id int) (*APIPost, error) { return nil, fmt.Errorf(http.StatusText(http.StatusNotFound)) } type HTTPClient interface { Do(*http.Request) (*http.Response, error) } type HTTPClientMock struct { DoFunc func(*http.Request) (*http.Response, error) } func (h HTTPClientMock) Do(r *http.Request) (*http.Response, error) { return h.DoFunc(r) } func New(client HTTPClient, baseURL string, timeout time.Duration) API { return \u0026v1{ c: client, baseURL: baseURL, timeout: timeout, } } type v1 struct { c HTTPClient baseURL string timeout time.Duration } func (v v1) FetchPostByID(ctx context.Context, id int) (*APIPost, error) { u := fmt.Sprintf(\"%s/posts/%d\", v.baseURL, id) ctx, cancel := context.WithTimeout(ctx, v.timeout) defer cancel() req, err := http.NewRequestWithContext(ctx, http.MethodGet, u, nil) if err != nil { return nil, err } res, err := v.c.Do(req) if err != nil { return nil, err } defer res.Body.Close() if res.StatusCode != http.StatusOK { return nil, fmt.Errorf(http.StatusText(res.StatusCode)) } var result *APIPost return result, json.NewDecoder(res.Body).Decode(\u0026result) } var ( client = \u0026HTTPClientMock{} api = New(client, \"\", 0) ) func TestV1FetchPostByID(t *testing.T) { postTests := []struct { Body string StatusCode int Result *APIPost Error error }{ { Body: `{\"id\":1,\"user_id\":1001,\"title\":\"title 1\",\"body\":\"body 1\"}`, StatusCode: 200, Result: \u0026APIPost{1, 1001, \"title 1\", \"body 1\"}, Error: nil, }, { Body: `{\"id\":2,\"user_id\":1002,\"title\":\"title 2\",\"body\":\"body 2\"}`, StatusCode: 200, Result: \u0026APIPost{2, 1002, \"title 2\", \"body 2\"}, Error: nil, }, { Body: ``, StatusCode: http.StatusBadRequest, Result: nil, Error: fmt.Errorf(http.StatusText(http.StatusBadRequest)), }, { Body: ``, StatusCode: http.StatusBadRequest, Result: nil, Error: fmt.Errorf(http.StatusText(http.StatusBadRequest)), }, } for _, tt := range postTests { client.DoFunc = func(r *http.Request) (*http.Response, error) { return \u0026http.Response{ Body: io.NopCloser(strings.NewReader(tt.Body)), StatusCode: tt.StatusCode, }, nil } post, err := api.FetchPostByID(context.Background(), 0) if err != nil \u0026\u0026 err.Error() != tt.Error.Error() { t.Fatalf(\"want %v, got %v\", tt.Error, err) } if !reflect.DeepEqual(post, tt.Result) { t.Fatalf(\"want %v, got %v\", tt.Result, post) } } } $ go test -v -timeout 30s -run '^TestV1FetchPostByID$' example.com/hello === RUN TestV1FetchPostByID --- PASS: TestV1FetchPostByID (0.00s) PASS ok example.com/hello (cached) ","date":"2021-07-16","objectID":"/2021/07/16/go-unit-test/:3:4","tags":["Go"],"title":"Go å•å…ƒæµ‹è¯•","uri":"/2021/07/16/go-unit-test/"},{"categories":["Go"],"content":"T ç±»å‹ å•å…ƒæµ‹è¯•ä¸­ï¼Œä¼ é€’ç»™æµ‹è¯•å‡½æ•°çš„å‚æ•°æ˜¯ *testing.T ç±»å‹ã€‚å®ƒç”¨äºç®¡ç†æµ‹è¯•çŠ¶æ€å¹¶æ”¯æŒæ ¼å¼åŒ–æµ‹è¯•æ—¥å¿—ã€‚æµ‹è¯•æ—¥å¿—ä¼šåœ¨æ‰§è¡Œæµ‹è¯•çš„è¿‡ç¨‹ä¸­ä¸æ–­ç´¯ç§¯ï¼Œå¹¶åœ¨æµ‹è¯•å®Œæˆæ—¶è½¬å‚¨è‡³æ ‡å‡†è¾“å‡ºã€‚ ","date":"2021-07-16","objectID":"/2021/07/16/go-unit-test/:4:0","tags":["Go"],"title":"Go å•å…ƒæµ‹è¯•","uri":"/2021/07/16/go-unit-test/"},{"categories":["Go"],"content":"æŠ¥å‘Šæ–¹æ³• é”™è¯¯æ–¹æ³• package hello import ( \"errors\" \"testing\" ) func TestErrorFunc(t *testing.T) { t.Error(\"this is a error\") t.Errorf(\"%s\", errors.New(\"this is a error\")) } $ go test -v -timeout 30s -run '^TestErrorFunc$' example.com/hello === RUN TestErrorFunc /Users/majinyun/Codes/go/src/github.com/imajinyun/hello/hello_test.go:9: this is a error /Users/majinyun/Codes/go/src/github.com/imajinyun/hello/hello_test.go:10: this is a error --- FAIL: TestErrorFunc (0.00s) FAIL FAIL example.com/hello 0.010s å¤±è´¥æ–¹æ³• package hello import ( \"testing\" ) func TestFailFunc(t *testing.T) { t.Fail() t.Log(\"see if this line will output #1\") } func TestFailedFunc(t *testing.T) { t.Failed() t.Log(\"see if this line will output #2\") } func TestFailNowFunc(t *testing.T) { t.FailNow() t.Log(\"see if this line will output #3\") } $ go test -v -timeout 30s -run '^(TestFailFunc|TestFailedFunc|TestFailNowFunc)$' example.com/hello === RUN TestFailFunc /Users/majinyun/Codes/go/src/github.com/imajinyun/hello/hello_test.go:9: see if this line will output #1 --- FAIL: TestFailFunc (0.00s) === RUN TestFailedFunc /Users/majinyun/Codes/go/src/github.com/imajinyun/hello/hello_test.go:14: see if this line will output #2 --- PASS: TestFailedFunc (0.00s) === RUN TestFailNowFunc --- FAIL: TestFailNowFunc (0.00s) FAIL FAIL example.com/hello 0.008s è‡´å‘½æ–¹æ³• package hello import ( \"errors\" \"testing\" ) func TestFatalFunc(t *testing.T) { t.Fatal(\"this is a fatal\") t.Log(\"see if this line will output #1\") } func TestFatalfFunc(t *testing.T) { t.Fatalf(\"%s\", errors.New(\"this is a fatal\")) t.Log(\"see if this line will output #2\") } $ go test -v -timeout 30s -run '^(TestFatalFunc|TestFatalfFunc)$' example.com/hello === RUN TestFatalFunc /Users/majinyun/Codes/go/src/github.com/imajinyun/hello/hello_test.go:9: this is a fatal --- FAIL: TestFatalFunc (0.00s) === RUN TestFatalfFunc /Users/majinyun/Codes/go/src/github.com/imajinyun/hello/hello_test.go:14: this is a fatal --- FAIL: TestFatalfFunc (0.00s) FAIL FAIL example.com/hello 0.012s æ—¥å¿—æ–¹æ³• package hello import ( \"errors\" \"testing\" ) func TestLogFunc(t *testing.T) { t.Log(\"this is a log\") } func TestLogfFunc(t *testing.T) { t.Logf(\"%s\", errors.New(\"this is a log\")) } $ go test -v -timeout 30s -run '^(TestLogFunc|TestLogfFunc)$' example.com/hello === RUN TestLogFunc /Users/majinyun/Codes/go/src/github.com/imajinyun/hello/hello_test.go:9: this is a log --- PASS: TestLogFunc (0.00s) === RUN TestLogfFunc /Users/majinyun/Codes/go/src/github.com/imajinyun/hello/hello_test.go:13: this is a log --- PASS: TestLogfFunc (0.00s) PASS ok example.com/hello 0.015s è·³è¿‡æ–¹æ³• package hello import ( \"errors\" \"testing\" ) func TestSkipFunc(t *testing.T) { t.Skip(\"this is a skip\") t.Log(\"see if this line will output #1\") } func TestSkipfFunc(t *testing.T) { t.Logf(\"%s\", errors.New(\"this is a skip\")) t.Log(\"see if this line will output #2\") } func TestSkipNowFunc(t *testing.T) { t.SkipNow() t.Log(\"see if this line will output #3\") } func TestSkippedFunc(t *testing.T) { if t.Skipped() { t.Log(\"see if this line will output #4\") } } $ go test -timeout 30s -run '^(TestSkipFunc|TestSkipfFunc|TestSkipNowFunc|TestSkippedFunc)$' example.com/hello -v === RUN TestSkipFunc /Users/majinyun/Codes/go/src/github.com/imajinyun/hello/hello_test.go:9: this is a skip --- SKIP: TestSkipFunc (0.00s) === RUN TestSkipfFunc /Users/majinyun/Codes/go/src/github.com/imajinyun/hello/hello_test.go:14: this is a skip /Users/majinyun/Codes/go/src/github.com/imajinyun/hello/hello_test.go:15: see if this line will output #2 --- PASS: TestSkipfFunc (0.00s) === RUN TestSkipNowFunc --- SKIP: TestSkipNowFunc (0.00s) === RUN TestSkippedFunc --- PASS: TestSkippedFunc (0.00s) PASS ok example.com/hello 0.011s ","date":"2021-07-16","objectID":"/2021/07/16/go-unit-test/:4:1","tags":["Go"],"title":"Go å•å…ƒæµ‹è¯•","uri":"/2021/07/16/go-unit-test/"},{"categories":["Go"],"content":"å¹¶è¡Œæµ‹è¯• é»˜è®¤æƒ…å†µä¸‹ï¼ŒæŒ‡å®šåŒ…çš„æµ‹è¯•æ˜¯æŒ‰ç…§é¡ºåºæ‰§è¡Œçš„ï¼Œä½†ä¹Ÿå¯ä»¥é€šè¿‡åœ¨æµ‹è¯•çš„å‡½æ•°å†…éƒ¨ä½¿ç”¨ t.Parallel() æ¥æ ‡å¿—æŸäº›æµ‹è¯•ä¹Ÿå¯ä»¥è¢«å®‰å…¨çš„å¹¶å‘æ‰§è¡Œï¼ˆå’Œé»˜è®¤çš„ä¸€æ ·ï¼Œå‡è®¾å‚æ•°åä¸º tï¼‰ã€‚åœ¨å¹¶è¡Œæ‰§è¡Œçš„æƒ…å†µä¸‹ï¼Œåªæœ‰å½“é‚£äº›è¢«æ ‡è®°ä¸ºå¹¶è¡Œçš„æµ‹è¯•æ‰ä¼šè¢«å¹¶è¡Œæ‰§è¡Œï¼Œæ‰€ä»¥åªæœ‰ä¸€ä¸ªæµ‹è¯•å‡½æ•°æ—¶æ˜¯æ²¡æ„ä¹‰çš„ã€‚å®ƒåº”è¯¥åœ¨æµ‹è¯•å‡½æ•°ä½“ä¸­ç¬¬ä¸€ä¸ªè¢«è°ƒç”¨ï¼ˆåœ¨ä»»ä½•éœ€è¦è·³è¿‡çš„æ¡ä»¶ä¹‹åï¼‰ï¼Œå› ä¸ºå®ƒä¼šé‡ç½®æµ‹è¯•æ—¶é—´ï¼š func TestParallel(t *testing.T) { t.Parallel() // actual test... } åœ¨å¹¶å‘æƒ…å†µä¸‹ï¼ŒåŒæ—¶è¿è¡Œçš„æµ‹è¯•çš„æ•°é‡é»˜è®¤å–å†³äº GOMAXPROCSã€‚å®ƒå¯ä»¥é€šè¿‡ -parallel n è¢«æŒ‡å®šï¼ˆgo test -parallel 4ï¼‰ã€‚ å¦å¤–ä¸€ä¸ªå¯ä»¥å®ç°å¹¶è¡Œçš„æ–¹æ³•ï¼Œå°½ç®¡ä¸æ˜¯å‡½æ•°çº§ç²’åº¦ï¼Œä½†å´æ˜¯åŒ…çº§ç²’åº¦ï¼Œå°±æ˜¯ç±»ä¼¼è¿™æ ·æ‰§è¡Œ go test p1 p2 p3ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒæ—¶è°ƒç”¨å¤šä¸ªæµ‹è¯•åŒ…ï¼‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒåŒ…ä¼šè¢«å…ˆç¼–è¯‘ï¼Œå¹¶åŒæ—¶è¢«æ‰§è¡Œã€‚å½“ç„¶ï¼Œè¿™å¯¹äºæ€»çš„æ—¶é—´æ¥è¯´æ˜¯æœ‰å¥½å¤„çš„ï¼Œä½†å®ƒä¹Ÿå¯èƒ½ä¼šå¯¼è‡´é”™è¯¯å˜å¾—å…·æœ‰ä¸å¯é¢„æµ‹æ€§ï¼Œæ¯”å¦‚ä¸€äº›èµ„æºè¢«å¤šä¸ªåŒ…åŒæ—¶ä½¿ç”¨æ—¶ï¼ˆä¾‹å¦‚ï¼Œä¸€äº›æµ‹è¯•éœ€è¦è®¿é—®æ•°æ®åº“ï¼Œå¹¶åˆ é™¤ä¸€äº›è¡Œï¼Œè€Œè¿™äº›è¡Œåˆåˆšå¥½è¢«å…¶ä»–çš„æµ‹è¯•åŒ…ä½¿ç”¨çš„è¯ï¼‰ã€‚ ä¸ºäº†ä¿æŒå¯æ§æ€§ï¼Œ-p æ ‡å¿—å¯ä»¥ç”¨æ¥æŒ‡å®šç¼–è¯‘å’Œæµ‹è¯•çš„å¹¶å‘æ•°ã€‚å½“ä»“åº“ä¸­æœ‰å¤šä¸ªæµ‹è¯•åŒ…ï¼Œå¹¶ä¸”æ¯ä¸ªåŒ…åœ¨ä¸åŒçš„å­ç›®å½•ä¸­ï¼Œä¸€ä¸ªå¯ä»¥æ‰§è¡Œæ‰€æœ‰åŒ…çš„å‘½ä»¤æ˜¯ go test ./...ï¼Œè¿™åŒ…å«å½“å‰ç›®å½•å’Œæ‰€æœ‰å­ç›®å½•ã€‚æ²¡æœ‰å¸¦ -p æ ‡å¿—æ‰§è¡Œæ—¶ï¼Œæ€»çš„è¿è¡Œæ—¶é—´åº”è¯¥æ¥è¿‘äºè¿è¡Œæ—¶é—´æœ€é•¿çš„åŒ…çš„æ—¶é—´ï¼ˆåŠ ä¸Šç¼–è¯‘æ—¶é—´ï¼‰ã€‚è¿è¡Œ go test -p 1 ./...ï¼Œä½¿ç¼–è¯‘å’Œæµ‹è¯•å·¥å…·åªèƒ½åœ¨ä¸€ä¸ªåŒ…ä¸­æ‰§è¡Œæ—¶ï¼Œæ€»çš„æ—¶é—´åº”è¯¥æ¥è¿‘äºæ‰€æœ‰ç‹¬ç«‹çš„åŒ…æµ‹è¯•çš„æ—¶é—´åŠ ä¸Šç¼–è¯‘çš„æ—¶é—´çš„æ€»å’Œã€‚å…·ä½“å¯ä»¥æ‰§è¡Œ go test -p 3 ./... æ¥çœ‹ä¸€ä¸‹å¯¹è¿è¡Œæ—¶é—´çš„å½±å“ã€‚ è¿˜æœ‰ï¼Œå¦å¤–ä¸€ä¸ªå¯ä»¥å¹¶è¡ŒåŒ–çš„åœ°æ–¹æ˜¯åœ¨åŒ…çš„ä»£ç é‡Œé¢ã€‚å¤šäºäº† Go éå¸¸æ£’çš„å¹¶è¡ŒåŸè¯­ï¼Œå®é™…ä¸Šï¼Œé™¤é GOMAXPROCS é€šè¿‡ç¯å¢ƒå˜é‡æˆ–è€…åœ¨ä»£ç ä¸­æ˜¾å¼è®¾ç½®ä¸º GOMAXPROCS=1ï¼Œå¦åˆ™ï¼ŒåŒ…ä¸­ä¸€ä¸ª goroutines éƒ½æ²¡æœ‰ç”¨æ˜¯ä¸å¤ªå¸¸è§çš„ã€‚æƒ³è¦ä½¿ç”¨ 2 ä¸ª CPUï¼Œå¯ä»¥æ‰§è¡Œ GOMAXPROCS=2 go testï¼Œæƒ³è¦ä½¿ç”¨ 4 ä¸ª CPUï¼Œå¯ä»¥æ‰§è¡Œ GOMAXPROCS=4 go testï¼Œä½†è¿˜æœ‰æ›´å¥½çš„æ–¹æ³•ï¼šgo test -cpu=1,2,4 å°†ä¼šæ‰§è¡Œ 3 æ¬¡ï¼Œå…¶ä¸­ GOMAXPROCS å€¼åˆ†åˆ«ä¸º 1,2,4ã€‚ å¾…æµ‹ä»£ç ï¼š package hello import \"sync\" var ( data = make(map[string]string) locker sync.RWMutex ) func SetToMap(k, v string) { locker.Lock() defer locker.Unlock() data[k] = v } func GetToMap(k string) string { locker.Lock() defer locker.RUnlock() return data[k] } æµ‹è¯•ä»£ç ï¼š package hello import \"testing\" var mapTests = []struct { k, v string }{ {\"name\", \"ğŸ‰ Hello World\"}, {\"nickname\", \"Golang\"}, {\"email\", \"example@golang.com\"}, {\"phone\", \"12311118888\"}, {\"address\", \"Nanyang Technological University\"}, {\"compony\", \"Amazon\"}, } func TestSetToMap(t *testing.T) { t.Parallel() for _, tt := range mapTests { SetToMap(tt.k, tt.v) } } func TestGetToMap(t *testing.T) { t.Parallel() for _, tt := range mapTests { actual := GetToMap(tt.k) if actual != tt.v { t.Errorf(\"GetToMap(%s) = %v, want: %v\", tt.k, actual, tt.v) } } } $ go test -v -timeout 30s -run ^(TestSetToMap|TestGetToMap)$ example.com/hello === RUN TestSetToMap --- PASS: TestSetToMap (0.00s) === RUN TestGetToMap fatal error: sync: RUnlock of unlocked RWMutex ... å› æ­¤ï¼Œå¦‚æœä»£ç èƒ½å¤Ÿè¿›è¡Œå¹¶è¡Œæµ‹è¯•ï¼Œåœ¨å†™æµ‹è¯•æ—¶ï¼Œå°½é‡åŠ ä¸Š Parallelï¼Œè¿™æ ·å¯ä»¥æµ‹è¯•å‡ºä¸€äº›å¯èƒ½çš„é—®é¢˜ã€‚ ","date":"2021-07-16","objectID":"/2021/07/16/go-unit-test/:4:2","tags":["Go"],"title":"Go å•å…ƒæµ‹è¯•","uri":"/2021/07/16/go-unit-test/"},{"categories":["Go"],"content":"åœ¨ Go ä¸­çš„ç”Ÿæˆçš„éšæœºæ•°æ ¹æœ¬å°±ä¸æ˜¯éšæœºçš„ï¼Œå«ä¼ªéšæœºæ•°ã€‚å®ƒä»¬æ˜¯ç”¨å›ºå®šçš„å†³å®šè®ºç®—æ³•è®¡ç®—çš„ã€‚ Go èµ·æ­¥ Go æ•°æ®ç±»å‹ Go æ—¥æœŸæ—¶é—´ Go éšæœºæ•° Go å•å…ƒæµ‹è¯• Go åŸºå‡†æµ‹è¯• Go å…¶å®ƒæµ‹è¯• Go æ­£ç¡®å§¿åŠ¿ Go è¿æ¥å­—ç¬¦ä¸² ","date":"2021-07-14","objectID":"/2021/07/14/go-random-number/:0:0","tags":["Go"],"title":"Go éšæœºæ•°","uri":"/2021/07/14/go-random-number/"},{"categories":["Go"],"content":"ç”Ÿæˆä¼ªéšæœºæ•° è­¦å‘Š å¦‚æœåˆå§‹åŒ–æ—¶æ²¡æœ‰è°ƒç”¨ rand.Seed æ–¹æ³•ï¼Œä½ æ¯æ¬¡è¿è¡Œç¨‹åºéƒ½ä¼šå¾—åˆ°ç›¸åŒçš„æ•°å­—åºåˆ—ã€‚ ä½¿ç”¨ math/rand åŒ…ä¸­çš„ rand.Seed å’Œ rand.Int63 æ–¹æ³•å»ç”Ÿæˆ int64 ç±»å‹çš„çš„éè´Ÿä¼ªéšæœºæ•°ï¼š rand.Seed(time.Now().UnixNano()) n := rand.Int63() // 4394549077322118751 ä½¿ç”¨ rand.Float64 ç”Ÿæˆä¸€ä¸ªæµ®ç‚¹ä¼ªéšæœºæ•° xï¼Œå…¶ä¸­ 0 \u003c= x \u003c= 1ï¼š rand.Seed(time.Now().UnixNano()) n := rand.Float64() // 0.41473976189141065 math/rand åŒ…ä¸­çš„å‡½æ•°éƒ½ä½¿ç”¨å•ä¸ªéšæœºæºï¼š generator := rand.New(rand.NewSource(time.Now().UnixNano())) x := generator.Int63() // 1449278222774694185 y := generator.Float64() // 0.947309190343705 ","date":"2021-07-14","objectID":"/2021/07/14/go-random-number/:1:0","tags":["Go"],"title":"Go éšæœºæ•°","uri":"/2021/07/14/go-random-number/"},{"categories":["Go"],"content":"ç”ŸæˆæŒ‡å®šèŒƒå›´éšæœºæ•° // a \u003c= n \u003c= b a, b := 0, 100 generator := rand.New(rand.NewSource(time.Now().UnixNano())) n := a + generator.Intn(b-a+1) // 0 \u003c= n \u003c= 100 ","date":"2021-07-14","objectID":"/2021/07/14/go-random-number/:2:0","tags":["Go"],"title":"Go éšæœºæ•°","uri":"/2021/07/14/go-random-number/"},{"categories":["Go"],"content":"ç”ŸæˆæŒ‡å®šèŒƒå›´éšæœºå­—ç¬¦ // 'a' \u003c= n \u003c= 'z' var ( x = 'a' y = 'z' ) generator := rand.New(rand.NewSource(time.Now().UnixNano())) n := x + rune(generator.Intn(int(y)-int(x)+1)) // 97 \u003c= n \u003c= 122 m := 'a' + rune(generator.Intn('z'-'a'+1)) // 92 \u003c= m \u003c= 122 ","date":"2021-07-14","objectID":"/2021/07/14/go-random-number/:3:0","tags":["Go"],"title":"Go éšæœºæ•°","uri":"/2021/07/14/go-random-number/"},{"categories":["Go"],"content":"ç”Ÿæˆéšæœºå­—ç¬¦ä¸² package main import ( \"fmt\" \"math/rand\" \"time\" ) func init() { rand.Seed(time.Now().UnixNano()) } func main() { for i := 0; i \u003c 10; i++ { fmt.Println(randomString(10)) } } func randomString(size int) string { bytes := make([]byte, size) for i := 0; i \u003c size; i++ { bytes[i] = byte(randInt(97, 122)) } return string(bytes) } func randInt(min, max int) int { return min + rand.Intn(max-min+1) } /* tcjrkupnct twdvwjihfb lkemigoqne vqxyasbrqx iwdncpibxg ugtsutgmjt namoonwvyh mcxnbbjfgf ufradkxsjq blnweycudh */ ","date":"2021-07-14","objectID":"/2021/07/14/go-random-number/:4:0","tags":["Go"],"title":"Go éšæœºæ•°","uri":"/2021/07/14/go-random-number/"},{"categories":["Go"],"content":"ä»åˆ‡ç‰‡ä¸­è·å–éšæœºå…ƒç´  å®ä¾‹ä¸€ï¼š package main import ( \"fmt\" \"math/rand\" \"time\" ) func init() { rand.Seed(time.Now().UnixNano()) } func main() { runes := []rune(\"Aâ„¢BÂ£CÂ¢\") char := runes[rand.Intn(len(runes))] fmt.Println(string(char)) // Â£ } å®ä¾‹äºŒï¼š package main import ( \"fmt\" \"math/rand\" \"time\" ) func init() { rand.Seed(time.Now().UnixNano()) } func main() { slices := make([]string, 0) slices = append(slices, \"Apple\", \"Google\", \"Microsoft\", \"Amazon\", \"Facebook\") element := slices[rand.Intn(len(slices))] // Get random element from slices: Amazon fmt.Println(fmt.Sprintf(\"Get random element from slices: %v\", element)) } ","date":"2021-07-14","objectID":"/2021/07/14/go-random-number/:5:0","tags":["Go"],"title":"Go éšæœºæ•°","uri":"/2021/07/14/go-random-number/"},{"categories":["Go"],"content":"ç”Ÿæˆå®‰å…¨çš„éšæœºæ•° randomCrypto, _ := rand.Prime(rand.Reader, 128) fmt.Println(randomCrypto) // 332362372159551722027736589221875117617 ","date":"2021-07-14","objectID":"/2021/07/14/go-random-number/:6:0","tags":["Go"],"title":"Go éšæœºæ•°","uri":"/2021/07/14/go-random-number/"},{"categories":["Go"],"content":"Go ä¸­çš„æ—¥æœŸæ—¶é—´ä½¿ç”¨å¸ƒå±€æ¥æ ¼å¼åŒ–ï¼Œé€šè¿‡å¸ƒå±€æ¥å®Œæˆæ—¥æœŸæ—¶é—´çš„æ ¼å¼åŒ–å’Œè§£æã€‚ Go èµ·æ­¥ Go æ•°æ®ç±»å‹ Go æ—¥æœŸæ—¶é—´ Go éšæœºæ•° Go å•å…ƒæµ‹è¯• Go åŸºå‡†æµ‹è¯• Go å…¶å®ƒæµ‹è¯• Go æ­£ç¡®å§¿åŠ¿ Go è¿æ¥å­—ç¬¦ä¸² å½“å‰æ—¥æœŸæ—¶é—´ ","date":"2021-07-11","objectID":"/2021/07/11/go-date-time/:0:0","tags":["Go"],"title":"Go æ—¥æœŸæ—¶é—´","uri":"/2021/07/11/go-date-time/"},{"categories":["Go"],"content":"æ ‡å‡†æ—¥æœŸæ—¶é—´æ ¼å¼ å¸ƒå±€æ ¼å¼ï¼š Layout Note January 2, 2006 Date 01/02/06 Date Jan-02-06 Date 15:04:05 Time 3:04:05 PM Time Jan _2 15:04:05 Timestamp Jan _2 15:04:05.000000 With microseconds 2006-01-02T15:04:05-0700 ISO 8601(RFC 3339) 2006-01-02 ISO 8601(RFC 3339) 15:04:05 ISO 8601(RFC 3339) 02 Jan 06 15:04 MST RFC 822 02 Jan 06 15:04 -0700 With numeric zone Mon, 02 Jan 2006 15:04:05 MST RFC 1123 Mon, 02 Jan 2006 15:04:05 -0700 With numeric zone å¸ƒå±€é€‰é¡¹ï¼š Type Options Year 06 2006 Month 01 1 Jan January Day 02 2 _2(width two, right justified) Weekday Mon Monday Hours 03 3 15 Minutes 04 4 Seconds 05 5 ms us ns .000 .000000 .000000000 ms us ns .999 .999999 .999999999(trailing zeros removed) am/pm AM am PM pm Timezone MST Offset -0700 -07 -07:00 Z0700 Z07:00 ä»¥ä¸‹æ˜¯ Go æºç ä¸­é¢„å®šä¹‰æ—¥æœŸå’Œæ—¶é—´æ ¼å¼å¸¸é‡ï¼š // These are predefined layouts for use in Time.Format and time.Parse. // The reference time used in the layouts is the specific time: // Mon Jan 2 15:04:05 MST 2006 // which is Unix time 1136239445. Since MST is GMT-0700, // the reference time can be thought of as // 01/02 03:04:05PM '06 -0700 // To define your own format, write down what the reference time would look // like formatted your way; see the values of constants like ANSIC, // StampMicro or Kitchen for examples. The model is to demonstrate what the // reference time looks like so that the Format and Parse methods can apply // the same transformation to a general time value. // // Some valid layouts are invalid time values for time.Parse, due to formats // such as _ for space padding and Z for zone information. // // Within the format string, an underscore _ represents a space that may be // replaced by a digit if the following number (a day) has two digits; for // compatibility with fixed-width Unix time formats. // // A decimal point followed by one or more zeros represents a fractional // second, printed to the given number of decimal places. A decimal point // followed by one or more nines represents a fractional second, printed to // the given number of decimal places, with trailing zeros removed. // When parsing (only), the input may contain a fractional second // field immediately after the seconds field, even if the layout does not // signify its presence. In that case a decimal point followed by a maximal // series of digits is parsed as a fractional second. // // Numeric time zone offsets format as follows: // -0700 Â±hhmm // -07:00 Â±hh:mm // -07 Â±hh // Replacing the sign in the format with a Z triggers // the ISO 8601 behavior of printing Z instead of an // offset for the UTC zone. Thus: // Z0700 Z or Â±hhmm // Z07:00 Z or Â±hh:mm // Z07 Z or Â±hh // // The recognized day of week formats are \"Mon\" and \"Monday\". // The recognized month formats are \"Jan\" and \"January\". // // The formats 2, _2, and 02 are unpadded, space-padded, and zero-padded // day of month. The formats __2 and 002 are space-padded and zero-padded // three-character day of year; there is no unpadded day of year format. // // Text in the format string that is not recognized as part of the reference // time is echoed verbatim during Format and expected to appear verbatim // in the input to Parse. // // The executable example for Time.Format demonstrates the working // of the layout string in detail and is a good reference. // // Note that the RFC822, RFC850, and RFC1123 formats should be applied // only to local times. Applying them to UTC times will use \"UTC\" as the // time zone abbreviation, while strictly speaking those RFCs require the // use of \"GMT\" in that case. // In general RFC1123Z should be used instead of RFC1123 for servers // that insist on that format, and RFC3339 should be preferred for new protocols. // RFC3339, RFC822, RFC822Z, RFC1123, and RFC1123Z are useful for formatting; // when used with time.Parse they do not accept all the time formats // permitted by the RFCs and they do accept time formats not formally defined. // The RFC3339Nano format removes trailing zeros from the seconds field // and thus may not sort correc","date":"2021-07-11","objectID":"/2021/07/11/go-date-time/:1:0","tags":["Go"],"title":"Go æ—¥æœŸæ—¶é—´","uri":"/2021/07/11/go-date-time/"},{"categories":["Go"],"content":"è·å–å½“å‰æ—¥æœŸæ—¶é—´ package main import ( \"fmt\" \"time\" ) func main() { now := time.Now() fmt.Printf(\"å½“å‰æ—¥æœŸæ—¶é—´ï¼š%v\\n\", now) fmt.Printf(\"å¹´ï¼š%v\\n\", now.Year()) fmt.Printf(\"æœˆï¼š%v\\n\", now.Month()) fmt.Printf(\"æ—¥ï¼š%v\\n\", now.Day()) fmt.Printf(\"æ—¶ï¼š%v\\n\", now.Hour()) fmt.Printf(\"åˆ†ï¼š%v\\n\", now.Minute()) fmt.Printf(\"ç§’ï¼š%v\\n\", now.Second()) fmt.Printf(\"çº³ç§’ï¼š%v\\n\", now.Nanosecond()) fmt.Printf(\"\\n\") } /* å½“å‰æ—¥æœŸæ—¶é—´ï¼š2021-07-11 11:12:59.787921 +0800 CST m=+0.000104353 å¹´ï¼š2021 æœˆï¼šJuly æ—¥ï¼š11 æ—¶ï¼š11 åˆ†ï¼š12 ç§’ï¼š59 çº³ç§’ï¼š787921000 /* ","date":"2021-07-11","objectID":"/2021/07/11/go-date-time/:2:0","tags":["Go"],"title":"Go æ—¥æœŸæ—¶é—´","uri":"/2021/07/11/go-date-time/"},{"categories":["Go"],"content":"è·å–å½“å‰æ—¶é—´æˆ³ package main import ( \"fmt\" \"time\" ) func main() { now := time.Now() fmt.Printf(\"å½“å‰æ—¶é—´æˆ³ï¼ˆå•ä½ä¸ºç§’ï¼‰ï¼š%v\\n\", now.Unix()) fmt.Printf(\"å½“å‰æ—¶é—´æˆ³ï¼ˆå•ä½ä¸ºçº³ç§’ï¼‰ï¼š%v\\n\", now.UnixNano()) } /* å½“å‰æ—¶é—´æˆ³ï¼ˆå•ä½ä¸ºç§’ï¼‰ï¼š1625973361 å½“å‰æ—¶é—´æˆ³ï¼ˆå•ä½ä¸ºçº³ç§’ï¼‰ï¼š1625973361766745000 */ ","date":"2021-07-11","objectID":"/2021/07/11/go-date-time/:3:0","tags":["Go"],"title":"Go æ—¥æœŸæ—¶é—´","uri":"/2021/07/11/go-date-time/"},{"categories":["Go"],"content":"è·å–å½“å‰æ—¶é—´çš„å­—ç¬¦ä¸²æ ¼å¼ package main import ( \"fmt\" \"time\" ) func main() { now := time.Now() fmt.Printf(\"å½“å‰æ—¥æœŸæ—¶é—´ï¼š%v\\n\", now.Format(time.RFC3339)) fmt.Printf(\"å½“å‰æ—¥æœŸæ—¶é—´ï¼š%v\\n\", now.Format(\"2006-01-02 15:04:05\")) } /* å½“å‰æ—¥æœŸæ—¶é—´ï¼š2021-07-11T11:42:19+08:00 å½“å‰æ—¥æœŸæ—¶é—´ï¼š2021-07-11 11:42:19 */ æŒ‡å®šæ—¶åŒºè·å–æ—¥æœŸæ—¶é—´ ","date":"2021-07-11","objectID":"/2021/07/11/go-date-time/:4:0","tags":["Go"],"title":"Go æ—¥æœŸæ—¶é—´","uri":"/2021/07/11/go-date-time/"},{"categories":["Go"],"content":"ä½¿ç”¨ FixedZone æŒ‡å®š package main import ( \"testing\" \"time\" ) const TheCSTLayout = \"2006-01-02T15:04:05\" var theCSTZone *time.Location func init() { theCSTZone = time.FixedZone(\"CST\", 8*3600) } func TestNowDateTime(t *testing.T) { dateTime := time.Now().In(theCSTZone).Format(TheCSTLayout) t.Logf(\"The date time: %v\", dateTime) now, _ := time.ParseInLocation(TheCSTLayout, dateTime, theCSTZone) t.Logf(\"Now date time: %v\", now) } /* $ go test -v -timeout 30s -run ^TestNowDateTime$ example.org/hello/v2 === RUN TestNowDateTime main_test.go:18: The date time: 2021-09-25T09:02:03 main_test.go:20: Now date time: 2021-09-25 09:02:03 +0800 CST --- PASS: TestNowDateTime (0.00s) PASS ok example.org/hello/v2 0.234s */ ","date":"2021-07-11","objectID":"/2021/07/11/go-date-time/:5:0","tags":["Go"],"title":"Go æ—¥æœŸæ—¶é—´","uri":"/2021/07/11/go-date-time/"},{"categories":["Go"],"content":"ä½¿ç”¨ LoadLocation æŒ‡å®š package main import ( \"log\" \"testing\" \"time\" ) const TheCSTLayout = \"2006-01-02T15:04:05\" var theCSTLocation *time.Location func init() { var err error theCSTLocation, err = time.LoadLocation(\"Asia/Shanghai\") if err != nil { log.Fatalf(\"Load location failed, %v\", err) } } func TestNowDateTime(t *testing.T) { dateTime := time.Now().In(theCSTLocation).Format(TheCSTLayout) t.Logf(\"The date time: %v\", dateTime) now, _ := time.ParseInLocation(TheCSTLayout, dateTime, theCSTLocation) t.Logf(\"Now date time: %v\", now) } /* $ go test -v -timeout 30s -run ^TestNowDateTime$ example.org/hello/v2 === RUN TestNowDateTime main_test.go:23: The date time: 2021-09-25T09:39:02 main_test.go:25: Now date time: 2021-09-25 09:39:02 +0800 CST --- PASS: TestNowDateTime (0.00s) PASS ok example.org/hello/v2 1.777s */ å¸¸ç”¨æ—¥æœŸæ—¶é—´è½¬æ¢ ","date":"2021-07-11","objectID":"/2021/07/11/go-date-time/:6:0","tags":["Go"],"title":"Go æ—¥æœŸæ—¶é—´","uri":"/2021/07/11/go-date-time/"},{"categories":["Go"],"content":"æ—¶é—´æˆ³è½¬æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸² package main import ( \"fmt\" \"strconv\" \"time\" ) func main() { layout := \"2006-01-02 15:04:05\" now := time.Now().Unix() fmt.Printf(\"è½¬æ¢åçš„æ—¥æœŸæ—¶é—´ï¼š%v\\n\", time.Unix(now, 0).Format(layout)) a, b := 1626005415, \"1626005415\" c, _ := strconv.ParseInt(b, 10, 64) fmt.Printf(\"è½¬æ¢åçš„æ—¥æœŸæ—¶é—´ï¼š%v\\n\", time.Unix(int64(a), 0).Format(layout)) fmt.Printf(\"è½¬æ¢åçš„æ—¥æœŸæ—¶é—´ï¼š%v\\n\", time.Unix(c, 0).Format(layout)) } /* è½¬æ¢åçš„æ—¥æœŸæ—¶é—´ï¼š2021-07-11 20:35:31 è½¬æ¢åçš„æ—¥æœŸæ—¶é—´ï¼š2021-07-11 20:10:15 è½¬æ¢åçš„æ—¥æœŸæ—¶é—´ï¼š2021-07-11 20:10:15 */ ","date":"2021-07-11","objectID":"/2021/07/11/go-date-time/:7:0","tags":["Go"],"title":"Go æ—¥æœŸæ—¶é—´","uri":"/2021/07/11/go-date-time/"},{"categories":["Go"],"content":"æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²è½¬æ—¶é—´æˆ³ package main import ( \"fmt\" \"time\" ) const ( ChinaFormat = \"2006-01-02 15:04:05\" ) func main() { a, b := \"2021-07-11 20:27:33\", \"Sun, 11 Jul 2021 15:04:05 UTC\" at1, _ := time.Parse(ChinaFormat, a) at2, _ := time.Parse(time.RFC1123, b) fmt.Printf(\"è½¬æ¢åçš„æ—¶é—´æˆ³ï¼š%v\\n\", at1.Unix()) fmt.Printf(\"è½¬æ¢åçš„æ—¶é—´æˆ³ï¼š%v\\n\", at2.Unix()) } /* è½¬æ¢åçš„æ—¶é—´æˆ³ï¼š1626035253 è½¬æ¢åçš„æ—¶é—´æˆ³ï¼š1626015845 */ ","date":"2021-07-11","objectID":"/2021/07/11/go-date-time/:8:0","tags":["Go"],"title":"Go æ—¥æœŸæ—¶é—´","uri":"/2021/07/11/go-date-time/"},{"categories":["Go"],"content":"æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²è½¬æ—¶é—´å¯¹è±¡ package main import ( \"fmt\" \"time\" ) func main() { str := \"2008-08-08 08:08:08\" // Parse the date string into Go's time object at, _ := time.Parse(\"2006-01-02 15:04:05\", str) fmt.Printf(\"è½¬æ¢åçš„æ—¥æœŸæ—¶é—´ï¼š%v\\n\", at) fmt.Println(at.Date()) } /* è½¬æ¢åçš„æ—¥æœŸæ—¶é—´ï¼š2008-08-08 08:08:08 +0000 UTC 2008 August 8 */ å¸¸ç”¨æ—¥æœŸæ—¶é—´è®¡ç®— ","date":"2021-07-11","objectID":"/2021/07/11/go-date-time/:9:0","tags":["Go"],"title":"Go æ—¥æœŸæ—¶é—´","uri":"/2021/07/11/go-date-time/"},{"categories":["Go"],"content":"è®¡ç®—ä¸¤ä¸ªç»™å®šæ—¥æœŸä¹‹å‰ç›¸å·®çš„å¤©æ•° package main import ( \"fmt\" \"time\" ) func main() { t1, t2 := Date(2020, 1, 1), Date(2021, 1, 1) days := t2.Sub(t1).Hours() / 24 fmt.Printf(\"ä¸¤ä¸ªç»™å®šæ—¥æœŸä¹‹å‰ç›¸å·®çš„å¤©æ•°ä¸ºï¼š%v\\n\", days) } func Date(year, month, day int) time.Time { return time.Date(year, time.Month(month), day, 0, 0, 0, 0, time.UTC) } /* ä¸¤ä¸ªç»™å®šæ—¥æœŸä¹‹å‰ç›¸å·®çš„å¤©æ•°ä¸ºï¼š366 */ ","date":"2021-07-11","objectID":"/2021/07/11/go-date-time/:10:0","tags":["Go"],"title":"Go æ—¥æœŸæ—¶é—´","uri":"/2021/07/11/go-date-time/"},{"categories":["Go"],"content":"ç»Ÿè®¡ä»£ç è¿è¡Œæ—¶é—´ package main import ( \"fmt\" \"time\" ) func main() { fn := TimeSpent(execSlowFunc) fmt.Printf(\"Exec result: %v\\n\", fn(9999)) } func execSlowFunc(x int) int { time.Sleep(3 * time.Second) return x + 1 } func TimeSpent(fn func(x int) int) func(n int) int { return func(x int) int { start := time.Now() ret := fn(x) fmt.Println(\"Time spent:\", time.Since(start).Seconds()) return ret } } /* Time spent: 3.004356442 Exec result: 10000 */ package main import ( \"log\" \"time\" ) func main() { defer TimeSpent(execSlowFunc(\"Hello World!\")) } func execSlowFunc(s string) (string, time.Time) { time.Sleep(1 * time.Second) return s + \" ğŸŒğŸŒˆğŸ’«ğŸ”¥ğŸ‰ğŸš€ğŸ™\", time.Now() } func TimeSpent(s string, start time.Time) { log.Printf(\"%v: %v\\n\", s, time.Since(start)) } /* 2021/07/14 08:22:38 Hello World! ğŸŒğŸŒˆğŸ’«ğŸ”¥ğŸ‰ğŸš€ğŸ™: 4.582Âµs */ ","date":"2021-07-11","objectID":"/2021/07/11/go-date-time/:11:0","tags":["Go"],"title":"Go æ—¥æœŸæ—¶é—´","uri":"/2021/07/11/go-date-time/"},{"categories":["Go"],"content":"Go æ˜¯é™æ€ç±»å‹çš„ç¼–ç¨‹è¯­è¨€ï¼Œè¿™æ„å‘³ç€æ¯ä¸ªå˜é‡éƒ½æœ‰ä¸€ç§ç±»å‹ã€‚ä»å¤§çš„æ–¹é¢æ¥è¯´ Go æœ‰ä¸¤ç§ç±»å‹ï¼Œå³åŸºæœ¬ç±»å‹å’Œç»„åˆç±»å‹ã€‚æ•°æ®ç±»å‹æŒ‡å®šæœ‰æ•ˆçš„ Go å˜é‡å¯ä»¥ä¿æŒçš„æ•°æ®ç±»å‹ã€‚ Go èµ·æ­¥ Go æ•°æ®ç±»å‹ Go æ—¥æœŸæ—¶é—´ Go éšæœºæ•° Go å•å…ƒæµ‹è¯• Go åŸºå‡†æµ‹è¯• Go å…¶å®ƒæµ‹è¯• Go æ­£ç¡®å§¿åŠ¿ Go è¿æ¥å­—ç¬¦ä¸² ","date":"2021-07-02","objectID":"/2021/07/02/go-data-type/:0:0","tags":["Go"],"title":"Go æ•°æ®ç±»å‹","uri":"/2021/07/02/go-data-type/"},{"categories":["Go"],"content":"æŒ‰åŸºæœ¬æ•°æ®ç±»å‹åˆ†ç±» ","date":"2021-07-02","objectID":"/2021/07/02/go-data-type/:1:0","tags":["Go"],"title":"Go æ•°æ®ç±»å‹","uri":"/2021/07/02/go-data-type/"},{"categories":["Go"],"content":"åŸºæœ¬ç±»å‹ å¸ƒå°”å‹ ä¿¡æ¯ bool çš„é›¶å€¼ä¸º falseã€‚ ä»…èµ‹å€¼ä¸º true å’Œ false æ¥è¡¨ç¤ºçœŸå‡ã€‚Go æ²¡æœ‰å®šä¹‰å¸ƒå°”ç±»å‹çš„å­—é¢é‡å½¢å¼ï¼Œå¯ä»¥å°† true å’Œ false è¿™ä¸¤ä¸ªé¢„å£°æ˜çš„æœ‰åå¸¸é‡å½“ä½œå¸ƒå°”ç±»å‹çš„å­—é¢é‡å½¢å¼ã€‚ package main import ( \"fmt\" \"reflect\" \"unsafe\" ) var b1 bool func main() { b2 := true fmt.Printf(\"b1: %s type, %d bytes\\n\", reflect.TypeOf(b1), unsafe.Sizeof(b1)) fmt.Printf(\"b2: %s type, %d bytes\\n\\n\", reflect.TypeOf(b2), unsafe.Sizeof(b2)) } /* b1: bool type, 1 bytes b2: bool type, 1 bytes */ æ•°å€¼ç±»å‹ ä¿¡æ¯ numeric çš„é›¶å€¼ä¸º 0ï¼ˆä½†æ˜¯ä¸åŒç±»å‹çš„é›¶å€¼åœ¨å†…å­˜ä¸­å ç”¨çš„ç©ºé—´å¯èƒ½ä¸åŒï¼‰ã€‚ æ•´æ•°å‹ åŒ…æ‹¬æœ‰ç¬¦å·ï¼ˆSignedï¼‰å’Œæ— ç¬¦å·ï¼ˆUnsignedï¼‰ç±»å‹ã€‚ Type Size Range Description int8 1 -128~127 or -2^7~2^7-1 æœ‰ç¬¦å· 8 ä½æ•´å½¢ uint8 1 0~255 or 2^8 æ— ç¬¦å· 8 ä½æ•´å½¢ int16 2 -32768~32767 or -2^15~2^15-1 æœ‰ç¬¦å· 16 ä½æ•´å½¢ uint16 2 0~65535 or 2^16 æ— ç¬¦å· 16 ä½æ•´å½¢ int32 4 -2147483648~2147483647 or -2^31~2^31-1 æœ‰ç¬¦å· 32 ä½æ•´å½¢ uint32 4 0~4294967295 or 2^31 æ— ç¬¦å· 32 ä½æ•´å½¢ int64 8 -9223372036854775808~9223372036854775807 or -2^63~2^63-1 æœ‰ç¬¦å· 64 ä½æ•´å½¢ uint64 8 0~18446744073709551615 or 0~2^64 æ— ç¬¦å· 64 ä½æ•´å½¢ int 4 or 8 Platform dependent æœ‰ç¬¦å· 32 æˆ– 64 ä½æ•´å½¢ uint 4 or 8 Platform dependent æ— ç¬¦å· 32 æˆ– 64 ä½æ•´å½¢ uintptr 4 or 8 Platform dependent ç”¨äºå­˜æ”¾ä¸€ä¸ªæŒ‡é’ˆ ä¿¡æ¯ uintptr ç‰¹æ€§ï¼š å¯ä»¥è¢«è½¬æ¢ä¸º unsafe.Pointerï¼Œåä¹‹äº¦ç„¶ï¼› å¯ä»¥åœ¨å…¶ä¸Šæ‰§è¡Œç®—æœ¯è¿ç®—ï¼› å³ä½¿åŒ…å«æŒ‡é’ˆåœ°å€ï¼Œä¹Ÿåªæ˜¯ä¸€ä¸ªå€¼ï¼Œä¹Ÿä¸å¼•ç”¨ä»»ä½•å¯¹è±¡ã€‚æ‰€ä»¥ï¼š å¦‚æœç›¸åº”å¯¹è±¡ç§»åŠ¨ï¼Œåˆ™ä¸ä¼šæ›´æ–°å…¶å€¼ã€‚ä¾‹å¦‚ï¼šå½“ Goroutine å †æ ˆå‘ç”Ÿå˜åŒ–æ—¶ï¼› ç›¸åº”çš„å¯¹è±¡å¯ä»¥æ˜¯è¢«æ”¶é›†çš„åƒåœ¾ï¼› uintptr åœºæ™¯ï¼š å…¶ä¸Šçš„æ˜¯ä¸ unsafe.Pointer ä¸€èµ·ä¸»è¦ç”¨äºä¸å®‰å…¨çš„å†…å­˜è®¿é—®ï¼› å½“ä½ æƒ³è¦ä¿å­˜æŒ‡é’ˆåœ°å€å€¼ä»¥è¿›è¡Œæ‰“å°æˆ–å­˜å‚¨å®ƒã€‚ç”±äºåœ°å€åˆšåˆšå­˜å‚¨å¹¶ä¸”ä¸å¼•ç”¨ä»»ä½•å†…å®¹ï¼Œå› æ­¤ç›¸åº”çš„å¯¹è±¡å¯ä»¥æ˜¯åƒåœ¾æ”¶é›†çš„ï¼› package main import ( \"fmt\" \"math/bits\" \"reflect\" \"unsafe\" ) var ( i8 int8 u8 uint8 i16 int16 u16 uint16 i32 int32 u32 uint32 i64 int64 u64 uint64 i int u uint ) type student struct { name string age int } func main() { fmt.Printf(\"i8: %d bits, %s type, %d bytes\\n\", bits.UintSize, reflect.TypeOf(i8), unsafe.Sizeof(i8)) fmt.Printf(\"u8: %d bits, %s type, %d bytes\\n\\n\", bits.UintSize, reflect.TypeOf(u8), unsafe.Sizeof(u8)) fmt.Printf(\"i16: %d bits, %s type, %d bytes\\n\", bits.UintSize, reflect.TypeOf(i16), unsafe.Sizeof(i16)) fmt.Printf(\"u16: %d bits, %s type, %d bytes\\n\\n\", bits.UintSize, reflect.TypeOf(u16), unsafe.Sizeof(u16)) fmt.Printf(\"i32: %d bits, %s type, %d bytes\\n\", bits.UintSize, reflect.TypeOf(i32), unsafe.Sizeof(i32)) fmt.Printf(\"u32: %d bits, %s type, %d bytes\\n\\n\", bits.UintSize, reflect.TypeOf(u32), unsafe.Sizeof(u32)) fmt.Printf(\"i64: %d bits, %s type, %d bytes\\n\", bits.UintSize, reflect.TypeOf(i64), unsafe.Sizeof(i64)) fmt.Printf(\"u64: %d bits, %s type, %d bytes\\n\\n\", bits.UintSize, reflect.TypeOf(u64), unsafe.Sizeof(u64)) fmt.Printf(\"i: %d bits, %s type, %d bytes\\n\", bits.UintSize, reflect.TypeOf(i), unsafe.Sizeof(i)) fmt.Printf(\"u: %d bits, %s type, %d bytes\\n\\n\", bits.UintSize, reflect.TypeOf(u), unsafe.Sizeof(u)) s := \u0026student{name: \"tony\", age: 18} // Get the address of field name in struct s p := unsafe.Pointer(uintptr(unsafe.Pointer(s)) + unsafe.Offsetof(s.name)) // Typecast it to a string pointer and print the value of it fmt.Printf(\"p: %s\", *(*string)(p)) } /* i8: 64 bits, int8 type, 1 bytes u8: 64 bits, uint8 type, 1 bytes i16: 64 bits, int16 type, 2 bytes u16: 64 bits, uint16 type, 2 bytes i32: 64 bits, int32 type, 4 bytes u32: 64 bits, uint32 type, 4 bytes i64: 64 bits, int64 type, 8 bytes u64: 64 bits, uint64 type, 8 bytes i: 64 bits, int type, 8 bytes u: 64 bits, uint type, 8 bytes p: tony */ ä¿¡æ¯ byte ä¸º uint8 çš„åˆ«åã€‚å› æ­¤å®ƒæ˜¯ä¸€ä¸ªæ•´æ•°å€¼ï¼Œæ­¤æ•´æ•°å€¼ä¸º 8 ä½ï¼Œå®ƒè¡¨ç¤º 0~255 ä¹‹é—´çš„ä¸€ä¸ªå­—èŠ‚ã€‚å•ä¸ªå­—èŠ‚å¯ä»¥ä»£è¡¨ ASCII å­—ç¬¦ã€‚Go æ²¡æœ‰ä»»ä½• char æ•°æ®ç±»å‹ï¼Œå› æ­¤å­—èŠ‚ç”¨äºè¡¨ç¤º ASCII å­—ç¬¦ã€‚ package main import ( \"fmt\" \"reflect\" \"unsafe\" ) func main() { var char byte = 'a' fmt.Printf(\"Type: %s, Size: %d\\n\", reflect.TypeOf(char), unsafe.Sizeof(char)) fmt.Printf(\"Character: %c\\n\", char) s := \"abc\" fmt.Println([]byte(s)) } /* Type: uint8, Size: 1 Character: a [97 98 99] */ ä¿¡æ¯ rune ä¸º int32 çš„åˆ«åã€‚å› æ­¤å®ƒæ˜¯ä¸€ä¸ªæ•´æ•°å€¼ï¼Œæ­¤æ•´æ•°å€¼æ—¨åœ¨è¡¨ç¤º Unicode Code Pointã€‚å…³äº Unicode å’Œå­—ç¬¦é›†è¯·æˆ³ The Absolute Minimum Every Software Developer Absolutely, Positively. Must Know About Unicode and Character Sets(No Excuses!)ã€‚ package main import ( \"fmt\" \"reflect\" \"unsafe\" ) func main() { char := 'a' fmt.Printf(\"Type: %s, Size: %d\\n\", reflect.TypeOf(char), unsafe.Sizeof(char)) fmt.Printf(\"Character: %c\\n\", char) fmt.Printf(\"Unicode Code Point: %U\\n\", char) s := \"0bâ„¢\" // This will pri","date":"2021-07-02","objectID":"/2021/07/02/go-data-type/:1:1","tags":["Go"],"title":"Go æ•°æ®ç±»å‹","uri":"/2021/07/02/go-data-type/"},{"categories":["Go"],"content":"ç»„åˆç±»å‹ éå¼•ç”¨ç±»å‹ æ•°ç»„ package main import ( \"fmt\" ) func main() { var arr1 [2]string arr1[0] = \"a\" arr1[1] = \"b\" dump(\"arr1\", arr1) arr2 := [2]string{\"Hello\", \"World\"} dump(\"arr2\", arr2) } func dump(name string, array [2]string) { fmt.Printf(\"%s: %v\\n\", name, array) } /* arr1: [a b] arr2: [Hello World] */ ç»“æ„ä½“ package main import ( \"fmt\" ) type employee struct { name string age int salary float64 } func main() { e1 := employee{\"John\", 28, 12000.00} fmt.Printf(\"e1: %v\\n\", e1) e2 := employee{name: \"Jack\", age: 26, salary: 8000.00} fmt.Printf(\"e2: %v\\n\", e2) e3 := employee{name: \"Pony\", age: 27} fmt.Printf(\"e3: %v\\n\", e3) } /* e1: {John 28 12000} e2: {Jack 26 8000} e3: {Pony 27 0} */ å¼•ç”¨ç±»å‹ åˆ‡ç‰‡ åˆ‡ç‰‡æ˜¯åŠ¨æ€å¤§å°çš„ï¼Œæ•°ç»„æ˜¯å›ºå®šå¤§å°çš„ï¼Œå› æ­¤åˆ‡ç‰‡æä¾›æ›´çµæ´»çš„æ¥å£ã€‚åˆ‡ç‰‡æ˜¯å¼•ç”¨ç±»å‹ï¼Œå› ä¸ºå®ƒåœ¨å†…éƒ¨å¼•ç”¨æ•°ç»„ã€‚å®ƒçš„å†…éƒ¨è¡¨ç¤ºé€šè¿‡ä¸‰ä¸ªå­—æ®µï¼š åº•å±‚æ•°ç»„çš„åœ°å€ï¼› åˆ‡ç‰‡çš„é•¿åº¦ï¼› åˆ‡ç‰‡çš„å®¹é‡ï¼› package main import ( \"fmt\" \"reflect\" ) func main() { s := make([]string, 2, 3) fmt.Printf(\"Slice: %v, Type: %s, Len: %d, Cap: %d\\n\", s, reflect.TypeOf(s), len(s), cap(s)) p := []string{\"a\", \"b\", \"c\"} fmt.Printf(\"Slice: %v, Type: %s, Len: %d, Cap: %d\\n\", p, reflect.TypeOf(p), len(p), cap(s)) p = append(p, \"d\") fmt.Printf(\"Slice: %v, Type: %s, Len: %d, Cap: %d\\n\", p, reflect.TypeOf(p), len(p), cap(s)) for _, v := range p { fmt.Println(v) } } /* Slice: [ ], Type: []string, Len: 2, Cap: 3 Slice: [a b c], Type: []string, Len: 3, Cap: 3 Slice: [a b c d], Type: []string, Len: 4, Cap: 3 a b c d */ æ˜ å°„ ä¿¡æ¯ map çš„é›¶å€¼æ˜¯ nilã€‚ package main import ( \"fmt\" \"reflect\" ) func main() { var student map[string]interface{} fmt.Printf(\"Type: %s, Value: %v\\n\", reflect.TypeOf(student), student) stu1 := make(map[string]int) fmt.Printf(\"Type: %s, Value: %v\\n\", reflect.TypeOf(stu1), stu1) stu2 := map[string]int{\"John\": 18, \"Jack\": 20} stu2[\"Carl\"] = 28 fmt.Printf(\"John age is %d\\n\", stu2[\"John\"]) delete(stu2, \"Carl\") fmt.Printf(\"\\nPrint stu2 map:\") fmt.Println(stu2) } /* Type: map[string]interface {}, Value: map[] Type: map[string]int, Value: map[] John age is 18 Print stu2 map:map[Jack:20 John:18] */ é€šé“ ä¿¡æ¯ é€šé“æä¾› Goroutine ä¹‹é—´çš„åŒæ­¥å’Œé€šä¿¡ã€‚ä½ å¯ä»¥å°†å…¶è§†ä¸ºç®¡é“ï¼ŒGoroutine å¯ä»¥å‘é€å€¼å’Œæ¥æ”¶å€¼ã€‚æ“ä½œ \u003c- ç”¨äºå‘é€æˆ–æ¥æ”¶ï¼Œå¹¶æŒ‡å®šæ•°æ®æµåŠ¨æ–¹å‘çš„ç®­å¤´æ–¹å‘ã€‚ ä¸¤ç§ç±»å‹çš„é€šé“ï¼š æ— ç¼“å†²é€šé“ï¼ˆUnbuffered Channelï¼‰ï¼šå®ƒæ²¡æœ‰ä»»ä½•å®¹çº³èƒ½åŠ›å’Œå€¼ï¼š é™¤éæœ‰å¦ä¸€ä¸ª Goroutine æ¥æ”¶ï¼Œå¦åˆ™å‘é€åœ¨é¢‘é“ä¸Šæ˜¯é˜»å¡çš„ï¼› æ¥æ”¶æ˜¯é˜»å¡çš„ï¼Œç›´åˆ°å¦ä¸€ä¸ª Goroutine åœ¨ä¸€è¾¹å»å‘é€ï¼› å¸¦ç¼“å†²é€šé“ï¼ˆBuffered Channelï¼‰ï¼šå¯ä»¥åœ¨æ­¤å¤„æŒ‡å®šç¼“å†²åŒºçš„å¤§å°ï¼š å¦‚æœç¼“å†²åŒºå·²æ»¡ï¼Œåˆ™ä»…å‘é€é˜»å¡çš„ç¼“å†²é€šé“ï¼› æ¥æ”¶å”¯ä¸€çš„é˜»å¡æ˜¯é€šé“çš„ç¼“å†²åŒºæ˜¯ç©ºçš„ï¼› package main import ( \"fmt\" ) func main() { // Creating a buffered channel of length 4 bufChan := make(chan string, 4) bufChan \u003c- \"ğŸš€ Hello \" bufChan \u003c- \"World, \" bufChan \u003c- \"Hello \" bufChan \u003c- \"Go!\\n\" close(bufChan) for ch := range bufChan { fmt.Print(ch) } // Creating a unbuffered channel unbufChan := make(chan string) go sendChan(unbufChan) for ch := range unbufChan { fmt.Print(ch) } } func sendChan(ch chan\u003c- string) { ch \u003c- \"ğŸš€ Hello \" ch \u003c- \"World, \" ch \u003c- \"Hello \" ch \u003c- \"Go!\" close(ch) } /* ğŸš€ Hello World, Hello Go! ğŸš€ Hello World, Hello Go! */ å‡½æ•° package main import \"fmt\" func main() { add := func(x, y int) int { return x + y } fmt.Println(doExecute(add, 10, 20)) } func doExecute(fn func(int, int) int, x, y int) int { return fn(x, y) } /* 30 */ æŒ‡é’ˆ package main import \"fmt\" func main() { var b *int a := 88 b = \u0026a fmt.Printf(\"b: %v, *b: %v\\n\", b, *b) b = new(int) *b = 99 fmt.Printf(\"b: %v, *b: %v\\n\", b, *b) } /* b: 0xc0000ac008, *b: 88 b: 0xc0000ac018, *b: 99 */ Interface ä¿¡æ¯ interface çš„é›¶å€¼æ˜¯ nilã€‚ package main import \"fmt\" type shape interface { area() float64 } type square struct { side float64 } type triangle struct { bottom float64 height float64 } func (s *square) area() float64 { return s.side * s.side } func (t *triangle) area() float64 { return (t.bottom * t.height) / 2 } func main() { var s shape s = \u0026square{side: 4} fmt.Printf(\"Square area is %v\\n\", s.area()) t := \u0026triangle{bottom: 10, height: 12} fmt.Printf(\"Triangle area is %v\\n\", t.area()) } /* Square area is 16 Triangle area is 60 */ ç©ºæ¥å£çš„ç‰¹æ®Šæƒ…å†µï¼š package main import \"fmt\" func main() { var a = [2]string{\"go\", \"js\"} var m = map[int]string{1: \"hello\", 2: \"world\"} dump(\"ğŸš€ Hello World, Hello Go!\") dump(123456780) dump(true) dump(a) dump(m) } func dump(v interface{}) { f","date":"2021-07-02","objectID":"/2021/07/02/go-data-type/:1:2","tags":["Go"],"title":"Go æ•°æ®ç±»å‹","uri":"/2021/07/02/go-data-type/"},{"categories":["Go"],"content":"æ•°å€¼ç±»å‹è¿ç®—ç¬¦ ç®—æœ¯è¿ç®—ç¬¦ï¼š+ã€-ã€*ã€/ã€% æ¯”è¾ƒè¿ç®—ç¬¦ï¼š==ã€!=ã€\u003eã€\u003e=ã€\u003c=ã€\u003c é€»è¾‘è¿ç®—ç¬¦ï¼š\u0026\u0026ã€||ã€! å¢å‡è¿ç®—ç¬¦ï¼š++ã€-- æŒ‰ä½è¿ç®—ç¬¦ï¼š\u0026ã€|ã€^ã€\u003c\u003cã€\u003e\u003eã€\u0026^ èµ‹å€¼è¿ç®—ç¬¦ï¼š+=ã€-=ã€*=ã€/=ã€%=ã€\u003c\u003c=ã€\u003e\u003e=ã€\u0026=ã€|=ã€^= ","date":"2021-07-02","objectID":"/2021/07/02/go-data-type/:2:0","tags":["Go"],"title":"Go æ•°æ®ç±»å‹","uri":"/2021/07/02/go-data-type/"},{"categories":["Go"],"content":"è¿ç®—ç¬¦ä¼˜åŒ–çº§ Priority Category Operator Associativity 1 Postfix () [] -\u003e . ++ -- Left to right 2 Unary + - ! ~ ++ -- (type)* \u0026 sizeof Right to left 3 Multiplicative * / % Left to right 4 Additive + - Left to right 5 Shift \u003c\u003c \u003e\u003e Left to right 6 Relational \u003c \u003c= \u003e= \u003e Left to right 7 Equality == != Left to right 8 Bitwise AND \u0026 Left to right 9 Bitwise XOR ^ Left to right 10 Bitwise OR â® Left to right 11 Logical AND \u0026\u0026 Left to right 12 Logical OR â®â® Left to right 13 Assignment = += -= *= /= %= = \u003e\u003e= \u003c\u003c= \u0026= ^= â®= Right to right 14 Comma , Left to right ","date":"2021-07-02","objectID":"/2021/07/02/go-data-type/:3:0","tags":["Go"],"title":"Go æ•°æ®ç±»å‹","uri":"/2021/07/02/go-data-type/"},{"categories":["PHP"],"content":"åœ¨ PHP ä¸­æœ‰å¾ˆå¤šé’ˆå¯¹æ•°ç»„çš„æ’åºå‡½æ•°ï¼Œéå¸¸æ–¹ä¾¿ã€‚è¿™äº›å‡½æ•°å¯¹ä¸€ç»´æ•°ç»„è¿›è¡Œå…³é”®å­—æ’åºã€æŒ‰å€¼æ’åºã€é€†æ’åºç­‰ã€‚ä½†å¯¹äºå¤šç»´æ•°ç»„çš„æŒ‰éœ€æ’åºéœ€è¦è‡ªå·±ç¼–å†™ç‰¹å®šçš„å‡½æ•°å»ç°å®ã€‚ ","date":"2021-07-02","objectID":"/2021/07/02/php-array-sort/:0:0","tags":["PHP"],"title":"PHP æ•°ç»„æ’åº","uri":"/2021/07/02/php-array-sort/"},{"categories":["PHP"],"content":"æ•°ç»„å€¼æ’åº å‡½æ•°åç§° æ•°ç»„ç´¢å¼•é”®ä¿æŒ é¡ºåº ç›¸å…³å‡½æ•° array_multisort() é”®å€¼å…³è”çš„ä¿æŒï¼Œæ•°å­—ç±»å‹çš„ä¸ä¿æŒ ç¬¬ä¸€ä¸ªæ•°ç»„æˆ–è€…ç”±é€‰é¡¹æŒ‡å®š array_walk() asort() æ˜¯ ç”±ä½åˆ°é«˜ arsort() arsort() æ˜¯ ç”±é«˜åˆ°ä½ asort() natcasesort() æ˜¯ è‡ªç„¶æ’åºï¼Œå¤§å°å†™ä¸æ•æ„Ÿ natsort() natsort() æ˜¯ è‡ªç„¶æ’åº natcasesort() rsort() å¦ ç”±é«˜åˆ°ä½ sort() sort() å¦ ç”±ä½åˆ°é«˜ rsort() shuffle() å¦ éšæœº array_rand() uasort() æ˜¯ ç”±ç”¨æˆ·å®šä¹‰ uksort() usort() å¦ ç”±ç”¨æˆ·å®šä¹‰ uasort() \u003c?php $array = [ 'c' =\u003e ['id' =\u003e 4000, 'name' =\u003e 'Jack'], 'e' =\u003e ['id' =\u003e 2000, 'name' =\u003e 'Dane'], 'd' =\u003e ['id' =\u003e 1000, 'name' =\u003e 'Mark'], 'a' =\u003e ['id' =\u003e 5000, 'name' =\u003e 'Alan'], 'b' =\u003e ['id' =\u003e 3000, 'name' =\u003e 'Toby'], ]; function sort_by_id($left, $right) { return $left['id'] \u003c=\u003e $right['id']; } function sort_by_name($left, $right) { return strcasecmp($left['name'], $right['name']); } ","date":"2021-07-02","objectID":"/2021/07/02/php-array-sort/:1:0","tags":["PHP"],"title":"PHP æ•°ç»„æ’åº","uri":"/2021/07/02/php-array-sort/"},{"categories":["PHP"],"content":"uasort ä½¿ç”¨ç”¨æˆ·è‡ªå®šä¹‰çš„æ¯”è¾ƒå‡½æ•°å¯¹æ•°ç»„ä¸­çš„å€¼è¿›è¡Œæ’åºå¹¶ä¿æŒç´¢å¼•å…³è” æŒ‰ id å€¼ç”±å°åˆ°å¤§æ’åº \u003c?php uasort($array, 'sort_by_id'); print_r($array); // ç»“æœ Array ( [d] =\u003e Array ( [id] =\u003e 1000 [name] =\u003e Mark ) [e] =\u003e Array ( [id] =\u003e 2000 [name] =\u003e Dane ) [b] =\u003e Array ( [id] =\u003e 3000 [name] =\u003e Toby ) [c] =\u003e Array ( [id] =\u003e 4000 [name] =\u003e Jack ) [a] =\u003e Array ( [id] =\u003e 5000 [name] =\u003e Alan ) ) æŒ‰ name å€¼ä¾å­—æ¯è¡¨é¡ºåºæ’åº strcasecmp() - äºŒè¿›åˆ¶å®‰å…¨æ¯”è¾ƒå­—ç¬¦ä¸²ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰ strcmp() - äºŒè¿›åˆ¶å®‰å…¨æ¯”è¾ƒå­—ç¬¦ä¸²ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰ \u003c?php uasort($array, 'sort_by_name'); print_r($array); // ç»“æœ Array ( [d] =\u003e Array ( [id] =\u003e 1000 [name] =\u003e Mark ) [e] =\u003e Array ( [id] =\u003e 2000 [name] =\u003e Dane ) [b] =\u003e Array ( [id] =\u003e 3000 [name] =\u003e Toby ) [c] =\u003e Array ( [id] =\u003e 4000 [name] =\u003e Jack ) [a] =\u003e Array ( [id] =\u003e 5000 [name] =\u003e Alan ) ) Array ( [a] =\u003e Array ( [id] =\u003e 5000 [name] =\u003e Alan ) [e] =\u003e Array ( [id] =\u003e 2000 [name] =\u003e Dane ) [c] =\u003e Array ( [id] =\u003e 4000 [name] =\u003e Jack ) [d] =\u003e Array ( [id] =\u003e 1000 [name] =\u003e Mark ) [b] =\u003e Array ( [id] =\u003e 3000 [name] =\u003e Toby ) ) ","date":"2021-07-02","objectID":"/2021/07/02/php-array-sort/:1:1","tags":["PHP"],"title":"PHP æ•°ç»„æ’åº","uri":"/2021/07/02/php-array-sort/"},{"categories":["PHP"],"content":"usort ä½¿ç”¨ç”¨æˆ·è‡ªå®šä¹‰çš„æ¯”è¾ƒå‡½æ•°å¯¹æ•°ç»„ä¸­çš„å€¼è¿›è¡Œæ’åºï¼Œæ­¤å‡½æ•°ä¸º array ä¸­çš„å…ƒç´ èµ‹ä¸æ–°çš„é”®åã€‚è¿™å°†åˆ é™¤åŸæœ‰çš„é”®åï¼Œè€Œä¸æ˜¯ä»…ä»…å°†é”®åé‡æ–°æ’åº æŒ‰ id å€¼ç”±å°åˆ°å¤§æ’åº \u003c?php usort($array, 'sort_by_id'); print_r($array); // ç»“æœ Array ( [0] =\u003e Array ( [id] =\u003e 1000 [name] =\u003e Mark ) [1] =\u003e Array ( [id] =\u003e 2000 [name] =\u003e Dane ) [2] =\u003e Array ( [id] =\u003e 3000 [name] =\u003e Toby ) [3] =\u003e Array ( [id] =\u003e 4000 [name] =\u003e Jack ) [4] =\u003e Array ( [id] =\u003e 5000 [name] =\u003e Alan ) ) æŒ‰ name å€¼ä¾å­—æ¯è¡¨é¡ºåºæ’åº \u003c?php usort($array, 'sort_by_name'); print_r($array); // ç»“æœ Array ( [0] =\u003e Array ( [id] =\u003e 5000 [name] =\u003e Alan ) [1] =\u003e Array ( [id] =\u003e 2000 [name] =\u003e Dane ) [2] =\u003e Array ( [id] =\u003e 4000 [name] =\u003e Jack ) [3] =\u003e Array ( [id] =\u003e 1000 [name] =\u003e Mark ) [4] =\u003e Array ( [id] =\u003e 3000 [name] =\u003e Toby ) ) ","date":"2021-07-02","objectID":"/2021/07/02/php-array-sort/:1:2","tags":["PHP"],"title":"PHP æ•°ç»„æ’åº","uri":"/2021/07/02/php-array-sort/"},{"categories":["PHP"],"content":"æ•°ç»„é”®æ’åº å‡½æ•°åç§° æ•°ç»„ç´¢å¼•é”®ä¿æŒ é¡ºåº ç›¸å…³å‡½æ•° krsort() æ˜¯ ç”±é«˜åˆ°ä½ ksort() ksort() æ˜¯ ç”±ä½åˆ°é«˜ asort() uksort() æ˜¯ ç”±ç”¨æˆ·å®šä¹‰ uasort() \u003c?php $array = [ 'b' =\u003e ['a' =\u003e 1, 'c' =\u003e 0.01, 'b' =\u003e null], 'a' =\u003e ['b' =\u003e 3, 'a' =\u003e 0.03, 'c' =\u003e null], 'c' =\u003e ['c' =\u003e 2, 'b' =\u003e 0.02, 'a' =\u003e null], ]; function sort_by_key($left, $right) { return strcasecmp($left, $right); } ","date":"2021-07-02","objectID":"/2021/07/02/php-array-sort/:2:0","tags":["PHP"],"title":"PHP æ•°ç»„æ’åº","uri":"/2021/07/02/php-array-sort/"},{"categories":["PHP"],"content":"uksort \u003c?php uksort($array, 'sort_by_key'); print_r($array); // ç»“æœ Array ( [a] =\u003e Array ( [b] =\u003e 3 [a] =\u003e 0.03 [c] =\u003e ) [b] =\u003e Array ( [a] =\u003e 1 [c] =\u003e 0.01 [b] =\u003e ) [c] =\u003e Array ( [c] =\u003e 2 [b] =\u003e 0.02 [a] =\u003e ) ) æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚ ","date":"2021-07-02","objectID":"/2021/07/02/php-array-sort/:2:1","tags":["PHP"],"title":"PHP æ•°ç»„æ’åº","uri":"/2021/07/02/php-array-sort/"},{"categories":["Go"],"content":"Go æ˜¯äº’è”ç½‘æ—¶ä»£çš„ C è¯­è¨€ï¼Œæ­¤è¨€éè™šï¼Œä½†å‡¡çœ‹çœ‹å¸‚åœºçš„æ‹›è˜éœ€æ±‚ï¼Œä¸å¾—ä¸è®©äººè·ƒè·ƒæ¬²è¯•ï¼Œä¸å…¶è¯´æ˜¯ä¸»åŠ¨å‡ºå‡»ï¼Œå€’ä¸å¦‚è¯´æ˜¯è£¹æŒŸå‰è¿›ã€‚å¥½å§ï¼Œæˆ‘è¡¨ç¤ºå­¦ä¸åŠ¨äº†ã€‚ Go èµ·æ­¥ Go æ•°æ®ç±»å‹ Go æ—¥æœŸæ—¶é—´ Go éšæœºæ•° Go å•å…ƒæµ‹è¯• Go åŸºå‡†æµ‹è¯• Go å…¶å®ƒæµ‹è¯• Go æ­£ç¡®å§¿åŠ¿ Go è¿æ¥å­—ç¬¦ä¸² Go is an open source programming language that makes it easy to build simple, reliable, and efficient software. Go æ˜¯æœ‰è¡¨ç°åŠ›çš„ã€ç®€æ´çš„ã€å¹²å‡€çš„å’Œé«˜æ•ˆçš„ã€‚å®ƒçš„å¹¶å‘æœºåˆ¶ä½¿ç¼–å†™ç¨‹åºæ›´å®¹æ˜“ï¼Œä»¥æœ€å¤§é™åº¦åœ°åˆ©ç”¨å¤šæ ¸å’Œè”ç½‘æœºå™¨ï¼Œè€Œå…¶æ–°é¢–çš„ç±»å‹ç³»ç»Ÿä½¿ç¨‹åºæ„é€ çµæ´»å’Œæ¨¡å—åŒ–ã€‚Go å¯ä»¥å¿«é€Ÿç¼–è¯‘æˆæœºå™¨ç ï¼ŒåŒæ—¶è¿˜å…·æœ‰åƒåœ¾æ”¶é›†çš„ä¾¿åˆ©å’Œè¿è¡Œæ—¶åå°„çš„å¼ºå¤§åŠŸèƒ½ã€‚å®ƒæ˜¯ä¸€ç§å¿«é€Ÿã€é™æ€ç±»å‹çš„ç¼–è¯‘è¯­è¨€ï¼Œæ„Ÿè§‰å°±åƒä¸€ç§åŠ¨æ€ç±»å‹çš„è§£é‡Šè¯­è¨€ã€‚ Go æœ‰å¾ˆå¤šç‰¹æ€§ï¼Œæœ‰ä¸€äº›æ˜¯ç‹¬ç‰¹çš„ï¼Œæœ‰ä¸€äº›æ˜¯å€Ÿé‰´å…¶å®ƒç¼–ç¨‹è¯­è¨€çš„ï¼š å†…ç½®å¹¶å‘ç¼–ç¨‹æ”¯æŒï¼š ä½¿ç”¨åç¨‹ï¼ˆGoroutineï¼‰åšä¸ºåŸºæœ¬çš„è®¡ç®—å•å…ƒã€‚è½»æ¾åœ°åˆ›å»ºåå’Œï¼› ä½¿ç”¨é€šé“ï¼ˆChannelï¼‰æ¥å®ç°åç¨‹é—´çš„åŒæ­¥å’Œé€šä¿¡ï¼› å†…ç½®äº†æ˜ å°„ï¼ˆMapï¼‰å’Œåˆ‡ç‰‡ï¼ˆSliceï¼‰ç±»å‹ï¼› æ”¯æŒå¤šæ€ï¼ˆPolymorphismï¼‰ï¼› ä½¿ç”¨æ¥å£ï¼ˆInterfaceï¼‰æ¥å®ç°è£…ç›’ï¼ˆValue Boxingï¼‰å’Œåå°„ï¼ˆReflectionï¼‰ï¼› æ”¯æŒæŒ‡é’ˆï¼ˆPointerï¼‰ï¼› æ”¯æŒå‡½æ•°é—­åŒ…ï¼ˆClosureï¼‰ï¼› æ”¯æŒæ–¹æ³•ï¼ˆMethodï¼‰ï¼› æ”¯æŒå»¶è¿Ÿå‡½æ•°è°ƒç”¨ï¼ˆDeferï¼‰ï¼› æ”¯æŒç±»å‹å†…åµŒï¼ˆType Embedingï¼‰ï¼› æ”¯æŒç±»å‹æ¨æ–­ï¼ˆType Deduction or Type Inferenceï¼‰ï¼› å†…å­˜å®‰å…¨ï¼› è‡ªåŠ¨åƒåœ¾å›æ”¶ï¼› è‰¯å¥½çš„ä»£ç è·¨å¹³å°ï¼› æ¯”è¾ƒç®€æ´çš„è¯­æ³•ï¼› æ¯”è¾ƒé½å…¨çš„æ ‡å‡†åº“ï¼› æ´»è·ƒå’Œå¿«é€Ÿå“åº”çš„ç¤¾åŒºï¼Œç¤¾åŒºä¸‰æ–¹åŒ…å’Œåº”ç”¨ è¿˜æœ‰ä¸€ä¸ªç»Ÿä¸€çš„ç§°å· gopher - ['É¡oÊŠfÉ™]ï¼Œå³ åœ°é¼ ï¼Œå°½ç®¡å…¶å®ƒè¯­è¨€ä¹Ÿæœ‰ç±»ä¼¼çš„ï¼› ","date":"2021-06-26","objectID":"/2021/06/26/go-get-started/:0:0","tags":["Go"],"title":"Go èµ·æ­¥","uri":"/2021/06/26/go-get-started/"},{"categories":["Go"],"content":"å®‰è£… Go installer // é€šè¿‡ brew å‘½ä»¤å®‰è£… Go \u003e brew install go // éªŒè¯å·²ç»å®‰è£…çš„ Go ç‰ˆæœ¬ \u003e go version go version go1.17.2 darwin/arm64 ","date":"2021-06-26","objectID":"/2021/06/26/go-get-started/:1:0","tags":["Go"],"title":"Go èµ·æ­¥","uri":"/2021/06/26/go-get-started/"},{"categories":["Go"],"content":"å‘½ä»¤ Go è¯­è¨€å†…ç½®çš„æ‰€æœ‰å‘½ä»¤ï¼š Go is a tool for managing Go source code. Usage: go \u003ccommand\u003e [arguments] The commands are: bug start a bug report build compile packages and dependencies clean remove object files and cached files doc show documentation for package or symbol env print Go environment information fix update packages to use new APIs fmt gofmt (reformat) package sources generate generate Go files by processing source get add dependencies to current module and install them install compile and install packages and dependencies list list packages or modules mod module maintenance run compile and run Go program test test packages tool run specified go tool version print Go version vet report likely mistakes in packages Use \"go help \u003ccommand\u003e\" for more information about a command. Additional help topics: buildconstraint build constraints buildmode build modes c calling between Go and C cache build and test caching environment environment variables filetype file types go.mod the go.mod file gopath GOPATH environment variable gopath-get legacy GOPATH go get goproxy module proxy protocol importpath import path syntax modules modules, module versions, and more module-get module-aware go get module-auth module authentication using go.sum packages package lists and patterns private configuration for downloading non-public code testflag testing flags testfunc testing functions vcs controlling version control with GOVCS Use \"go help \u003ctopic\u003e\" for more information about that topic. ","date":"2021-06-26","objectID":"/2021/06/26/go-get-started/:2:0","tags":["Go"],"title":"Go èµ·æ­¥","uri":"/2021/06/26/go-get-started/"},{"categories":["Go"],"content":"é…ç½® é…ç½® Go PATH è·¯å¾„ï¼š // æ‰“å¼€ .zshrc æˆ–è€… .bashrcï¼Œä¹‹æ‰€ä»¥è¿™æ ·è®¾ç½®æ˜¯å› ä¸ºæœ¬äººä¸å–œæ¬¢ go ç›®å½•ç›´æ¥è®¾ç½®åˆ° $HOME ä¸‹ï¼Œä»…æ­¤è€Œå·² \u003e vim ~/.zshrc export GOPATH=\"$HOME/Codes/go\" é…ç½® Go ENV ç¯å¢ƒå˜é‡ï¼š // å¼€å¯ GO111MODULE \u003e go env -w GO111MODULE=on // é…ç½®ä»£ç†ï¼Œä»…é™å¤§é™†åœ°åŒº \u003e go env -w GOPROXY=https://goproxy.cn,https://goproxy.io,direct // æŸ¥çœ‹ç¯å¢ƒå˜é‡ \u003e go evn GO111MODULE=\"on\" GOARCH=\"arm64\" GOBIN=\"\" GOCACHE=\"/Users/xxx/Library/Caches/go-build\" GOENV=\"/Users/xxx/Library/Application Support/go/env\" GOEXE=\"\" GOEXPERIMENT=\"\" GOFLAGS=\"\" GOHOSTARCH=\"arm64\" GOHOSTOS=\"darwin\" GOINSECURE=\"\" GOMODCACHE=\"/Users/xxx/Codes/go/pkg/mod\" GONOPROXY=\"\" GONOSUMDB=\"\" GOOS=\"darwin\" GOPATH=\"/Users/xxx/Codes/go\" GOPRIVATE=\"\" GOPROXY=\"https://proxy.golang.org,direct\" GOROOT=\"/opt/homebrew/Cellar/go/1.17.2/libexec\" GOSUMDB=\"sum.golang.org\" GOTMPDIR=\"\" GOTOOLDIR=\"/opt/homebrew/Cellar/go/1.17.2/libexec/pkg/tool/darwin_arm64\" GOVCS=\"\" GOVERSION=\"go1.17.2\" GCCGO=\"gccgo\" AR=\"ar\" CC=\"clang\" CXX=\"clang++\" CGO_ENABLED=\"1\" GOMOD=\"/dev/null\" CGO_CFLAGS=\"-g -O2\" CGO_CPPFLAGS=\"\" CGO_CXXFLAGS=\"-g -O2\" CGO_FFLAGS=\"-g -O2\" CGO_LDFLAGS=\"-g -O2\" PKG_CONFIG=\"pkg-config\" GOGCCFLAGS=\"-fPIC -arch arm64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0 -fdebug-prefix-map=/var/folders/nk/dtkbhx993b57y5kt49l4qsb40000gn/T/go-build1748431349=/tmp/go-build -gno-record-gcc-switches -fno-common\" ","date":"2021-06-26","objectID":"/2021/06/26/go-get-started/:3:0","tags":["Go"],"title":"Go èµ·æ­¥","uri":"/2021/06/26/go-get-started/"},{"categories":["Go"],"content":"è¿è¡Œ åˆ‡æ¢åˆ°æŸä¸ªç›®å½•ï¼š cd /path/to åˆ›å»º Go çš„æºä»£ç ç›®å½•ï¼š \u003e mkdir hello \u003e cd hello å¯ç”¨ä¾èµ–ç®¡ç†ï¼š \u003e go mod init github.com/xxx/hello/ go: creating new go.mod: module github.com/xxx/hello åˆ›å»ºç¨‹åºæ–‡ä»¶ï¼š \u003e touch main.go \u003e vim main.go ç¼–å†™ç®€å•ç¨‹åºï¼š package main import \"fmt\" func main() { fmt.Println(\"Hello World, Hello Go!\") } ç¼–è¯‘å¹¶è¿è¡Œç¨‹åºï¼š \u003e go build -o main ./main.go \u003e go run . æˆ–è€… \u003e go run main.go Hello World, Hello Go! è‡³æ­¤ï¼Œä¸€ä¸ª Hello World çš„ Go ç¨‹åºå·²ç»è·‘èµ·æ¥äº†ï¼ ","date":"2021-06-26","objectID":"/2021/06/26/go-get-started/:4:0","tags":["Go"],"title":"Go èµ·æ­¥","uri":"/2021/06/26/go-get-started/"},{"categories":["Go"],"content":"æ¨¡å— åœ¨æ‰§è¡Œæ„å»ºå‰è‡ªåŠ¨åˆ†ææºç ä¸­çš„ä¾èµ–å˜åŒ–ï¼Œè¯†åˆ«æ–°å¢ä¾èµ–é¡¹å¹¶ä¸‹è½½ï¼š \u003e go mod tidy æŸ¥è¯¢å‘å¸ƒç‰ˆæœ¬ï¼š \u003e go list -m -versions github.com/sirupsen/logrus github.com/sirupsen/logrus v0.1.0 v0.1.1 v0.2.0 v0.3.0 v0.4.0 v0.4.1 v0.5.0 v0.5.1 v0.6.0 v0.6.1 v0.6.2 v0.6.3 v0.6.4 v0.6.5 v0.6.6 v0.7.0 v0.7.1 v0.7.2 v0.7.3 v0.8.0 v0.8.1 v0.8.2 v0.8.3 v0.8.4 v0.8.5 v0.8.6 v0.8.7 v0.9.0 v0.10.0 v0.11.0 v0.11.1 v0.11.2 v0.11.3 v0.11.4 v0.11.5 v1.0.0 v1.0.1 v1.0.3 v1.0.4 v1.0.5 v1.0.6 v1.1.0 v1.1.1 v1.2.0 v1.3.0 v1.4.0 v1.4.1 v1.4.2 v1.5.0 v1.6.0 v1.7.0 v1.7.1 v1.8.0 v1.8.1 å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼š \u003e go get github.com/sirupsen/logrus å®‰è£…æŒ‡å®šç‰ˆæœ¬ï¼š \u003e go get github.com/sirupsen/logrus@v1.7.0 ä½¿ç”¨ go mod edit æŒ‡å®šç‰ˆæœ¬ï¼ˆå‡å¦‚è¦ä¿®æ”¹å¤šä¸ªåŒ…ç‰ˆæœ¬ï¼‰å¹¶ç”¨ go mod tidy æ‰¹é‡æ›´æ–°ï¼š \u003e go mod edit -require=github.com/sirupsen/logrus@v1.7.0 \u003e go mod tidy æŸ¥è¯¢å½“å‰é¡¹ç›®çš„æ‰€æœ‰ä¾èµ–ï¼š \u003e go list -m all é¡¹ç›®å»ºç«‹ vendor ä¾èµ–ç›®å½•ï¼Œå¦‚æœåŸºäº vendor æ„å»ºï¼Œéœ€è¦åœ¨ go build åé¢åŠ ä¸Š -mod=vendor å‚æ•°ï¼š \u003e go mod vendor ","date":"2021-06-26","objectID":"/2021/06/26/go-get-started/:5:0","tags":["Go"],"title":"Go èµ·æ­¥","uri":"/2021/06/26/go-get-started/"},{"categories":["Linux"],"content":"Linux çš„å†…æ ¸å°†æ‰€æœ‰å¤–éƒ¨è®¾å¤‡éƒ½çœ‹åšä¸€ä¸ªæ–‡ä»¶æ¥æ“ä½œï¼ˆä¸€åˆ‡çš†æ–‡ä»¶ï¼‰ï¼Œå¯¹ä¸€ä¸ª File çš„è¯»å†™æ“ä½œä¼šè°ƒç”¨å†…æ ¸æä¾›çš„ç³»ç»Ÿå‘½ä»¤ï¼Œè¿”å›ä¸€ä¸ª File Descriptorï¼ˆFD æ–‡ä»¶æè¿°ç¬¦ï¼‰ã€‚è€Œå¯¹ä¸€ä¸ª Socket çš„è¯»å†™ä¹Ÿä¼šæœ‰å“åº”çš„æè¿°ç¬¦ï¼Œç§°ä¸º Socket File Descriptorï¼ˆSocket æ–‡ä»¶æè¿°ç¬¦ï¼‰ï¼Œæè¿°ç¬¦å°±æ˜¯ä¸€ä¸ªæ•°å­—ï¼ŒæŒ‡å‘å†…æ ¸ä¸­çš„ä¸€ä¸ªç»“æ„ä½“ï¼ˆæ–‡ä»¶è·¯å¾„ï¼Œæ•°æ®åŒºç­‰ä¸€äº›å±æ€§ï¼‰ã€‚ æ ¹æ® UNIX ç½‘ç»œç¼–ç¨‹å¯¹ IO æ¨¡å‹çš„åˆ†ç±»ï¼ŒUNIX æä¾›äº† 5 ç§ IO æ¨¡å‹ã€‚ ","date":"2021-01-21","objectID":"/2021/01/21/linux-network-io-model/:0:0","tags":["Linux"],"title":"Linux ç½‘ç»œ IO æ¨¡å‹","uri":"/2021/01/21/linux-network-io-model/"},{"categories":["Linux"],"content":"è®¾å¤‡å¤„ç†é€Ÿåº¦ å†…å­˜è¯»æ•°æ®ï¼šçº³ç§’çº§åˆ«ï¼› åƒå…†ç½‘å¡è¯»æ•°æ®ï¼šå¾®å¦™çº§åˆ«ï¼Œ1 å¾®ç§’ç­‰äº 1000 çº³ç§’ï¼Œç½‘å¡æ¯”å†…å­˜æ…¢äº†åƒå€ï¼› ç£ç›˜è¯»æ•°æ®ï¼šæ¯«ç§’çº§åˆ«ã€‚1 æ¯«ç§’ç­‰äº 10 ä¸‡çº³ç§’ ï¼Œç¡¬ç›˜æ¯”å†…å­˜æ…¢äº† 10 ä¸‡å€ï¼› CPU ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸ 1 çº³ç§’ä¸Šä¸‹ï¼Œå†…å­˜ç®—æ˜¯æ¯”è¾ƒæ¥è¿‘ CPU çš„ï¼Œå…¶ä»–è®¾å¤‡éƒ½ç­‰ä¸èµ·ï¼› CPU å¤„ç†æ•°æ®çš„é€Ÿåº¦è¿œå¤§äº IO å‡†å¤‡æ•°æ®çš„é€Ÿåº¦ ã€‚æ‰€ä»¥ç†è®ºä¸Š ä»»ä½•ç¼–ç¨‹è¯­è¨€ éƒ½ä¼šé‡åˆ°è¿™ç§ CPU å¤„ç†é€Ÿåº¦å’Œ IO é€Ÿåº¦ä¸åŒ¹é…çš„é—®é¢˜ï¼Œåœ¨ç½‘ç»œç¼–ç¨‹ä¸­å¦‚ä½•è¿›è¡Œç½‘ç»œ IO ä¼˜åŒ–ï¼Œæ€ä¹ˆé«˜æ•ˆåœ°åˆ©ç”¨ CPU è¿›è¡Œç½‘ç»œæ•°æ®å¤„ç†å°±å˜å¾—éå¸¸é‡è¦ã€‚ ","date":"2021-01-21","objectID":"/2021/01/21/linux-network-io-model/:1:0","tags":["Linux"],"title":"Linux ç½‘ç»œ IO æ¨¡å‹","uri":"/2021/01/21/linux-network-io-model/"},{"categories":["Linux"],"content":"ç¨‹åºç©ºé—´ä¸å†…æ ¸ç©ºé—´ äº”ç§æ¨¡å‹ç»å†çš„ä¸¤ä¸ªé˜¶æ®µï¼š ç­‰å¾…æ•°æ®å‡†å¤‡å¥½ï¼ˆWaiting for the data to be readyï¼‰ï¼› å°†å‡†å¤‡å¥½çš„æ•°æ®ï¼Œä»å†…æ ¸ç©ºé—´å¤åˆ¶åˆ°è¿›ç¨‹ç©ºé—´ï¼ˆCopying the data from the kernel to the processï¼‰ï¼› ","date":"2021-01-21","objectID":"/2021/01/21/linux-network-io-model/:2:0","tags":["Linux"],"title":"Linux ç½‘ç»œ IO æ¨¡å‹","uri":"/2021/01/21/linux-network-io-model/"},{"categories":["Linux"],"content":"äº”ç§æ¨¡å‹æ¦‚å¿µ Linux åœ¨å¤„ç†æ–‡ä»¶å’Œç½‘ç»œè¿æ¥æ—¶ï¼Œéƒ½éœ€è¦æ‰“å¼€å’Œå…³é—­ FDï¼ˆFile Descriptorï¼‰ã€‚æ¯ä¸ªè¿›ç¨‹éƒ½ä¼šæœ‰é»˜è®¤çš„ FDï¼š 0ï¼šæ ‡å‡†è¾“å…¥ stdinï¼› 1ï¼šæ ‡å‡†è¾“å‡º stdoutï¼› 2ï¼šé”™è¯¯è¾“å‡º stderrï¼› ","date":"2021-01-21","objectID":"/2021/01/21/linux-network-io-model/:3:0","tags":["Linux"],"title":"Linux ç½‘ç»œ IO æ¨¡å‹","uri":"/2021/01/21/linux-network-io-model/"},{"categories":["Linux"],"content":"é˜»å¡ IO æ¨¡å‹ é˜»å¡ IO æ¨¡å‹ï¼ˆBlocking IOï¼‰æ˜¯æœ€å¸¸ç”¨çš„ IO æ¨¡å‹ï¼Œç¼ºçœæƒ…å†µä¸‹ï¼Œæ‰€æœ‰æ–‡ä»¶æ“ä½œéƒ½æ˜¯é˜»å¡çš„ã€‚ä»¥å¥—æ¥å­—ä¸ºä¾‹ï¼šåœ¨è¿›ç¨‹ç©ºé—´ä¸­è°ƒç”¨ recvfromï¼Œå…¶ç³»ç»Ÿè°ƒç”¨ç›´åˆ°æ•°æ®åŒ…åˆ°è¾¾ä¸”è¢«å¤åˆ¶åˆ°åº”ç”¨è¿›ç¨‹çš„ç¼“å†²åŒºä¸­æˆ–å‘ç”Ÿé”™è¯¯æ—¶æ‰è¿”å›ã€‚åœ¨æ­¤æœŸé—´ä¸€ç›´ä¼šç­‰å¾…ï¼Œè¿›ç¨‹ä»è°ƒç”¨ recvfrom å¼€å§‹åˆ°å®ƒè¿”å›çš„æ•´æ®µæ—¶é—´éƒ½æ˜¯è¢«é˜»å¡çš„ã€‚å³ recvfrom çš„è°ƒç”¨ä¼šè¢«é˜»å¡ã€‚ ","date":"2021-01-21","objectID":"/2021/01/21/linux-network-io-model/:3:1","tags":["Linux"],"title":"Linux ç½‘ç»œ IO æ¨¡å‹","uri":"/2021/01/21/linux-network-io-model/"},{"categories":["Linux"],"content":"éé˜»å¡ IO æ¨¡å‹ éé˜»å¡ IO æ¨¡å‹ï¼ˆNon-blocking IOï¼‰ï¼Œrecvfrom ä»åº”ç”¨å±‚åˆ°å†…æ ¸çš„æ—¶å€™ï¼Œå¦‚æœç¼“å†²åŒºæ²¡æœ‰æ•°æ®çš„è¯ï¼Œå°±ç›´æ¥è¿”å›ä¸€ä¸ª EWOULDBLOCK é”™è¯¯ï¼Œä¸€èˆ¬å¯¹éé˜»å¡ IO æ¨¡å‹è¿›è¡Œè½®è¯¢æ£€æŸ¥è¿™ä¸ªçŠ¶æ€ï¼Œçœ‹å†…æ ¸æ˜¯ä¸æ˜¯æœ‰æ•°æ®åˆ°æ¥ã€‚å³åå¤è°ƒç”¨ recvfrom ç­‰å¾…æˆåŠŸæŒ‡ç¤ºï¼ˆè½®è¯¢ï¼‰ã€‚ ","date":"2021-01-21","objectID":"/2021/01/21/linux-network-io-model/:3:2","tags":["Linux"],"title":"Linux ç½‘ç»œ IO æ¨¡å‹","uri":"/2021/01/21/linux-network-io-model/"},{"categories":["Linux"],"content":"IO å¤ç”¨æ¨¡å‹ IO å¤ç”¨æ¨¡å‹ï¼ˆIO Multiplexingï¼‰ï¼ŒLinux æä¾› select/pollï¼Œè¿›ç¨‹é€šè¿‡å°†ä¸€ä¸ªæˆ–è€…å¤šä¸ª fd ä¼ é€’ç»™ select æˆ– poll ç³»ç»Ÿè°ƒç”¨ï¼Œé˜»å¡åœ¨ select æ“ä½œä¸Šï¼Œé˜»å¡åœ¨ select æ“ä½œä¸Šï¼Œè¿™æ · select/poll å¯ä»¥å¸®æˆ‘ä»¬ä¾¦æµ‹åˆ°å¤šä¸ª fd æ˜¯å¦å¤„äºå°±ç»ªçŠ¶æ€ã€‚select/poll æ˜¯é¡ºåºæ‰«æ fd æ˜¯å¦å°±ç»ªï¼Œè€Œä¸”æ”¯æŒçš„ fd æ•°é‡æœ‰é™ï¼Œå› æ­¤å®ƒçš„ä½¿ç”¨å—åˆ°äº†ä¸€äº›åˆ¶çº¦ã€‚Linux è¿˜æä¾›äº† epoll ç³»ç»Ÿè°ƒç”¨ï¼Œepoll ä½¿ç”¨åŸºäºäº‹ä»¶é©±åŠ¨æ–¹å¼ä»£æ›¿é¡ºåºæ‰«æï¼Œå› æ­¤æ€§èƒ½æ›´é«˜ã€‚å½“æœ‰ fd å°±ç»ªæ—¶ï¼Œç«‹å³å›è°ƒå‡½æ•° callbackã€‚å³é˜»å¡åœ¨ select/poll/epollï¼Œä»¥åŠæ•°æ®å¤åˆ¶æ‹·è´çš„è¿™æ®µæ—¶é—´ã€‚ ","date":"2021-01-21","objectID":"/2021/01/21/linux-network-io-model/:3:3","tags":["Linux"],"title":"Linux ç½‘ç»œ IO æ¨¡å‹","uri":"/2021/01/21/linux-network-io-model/"},{"categories":["Linux"],"content":"ä¿¡å·é©±åŠ¨ IO æ¨¡å‹ ä¿¡å·é©±åŠ¨ IO æ¨¡å‹ï¼ˆSignal Driven IOï¼‰ï¼Œé¦–å…ˆå¼€å¯ä¿¡å·æ›²é©±åŠ¨ IO åŠŸèƒ½ï¼Œå¹¶é€šè¿‡ç³»ç»Ÿè°ƒç”¨ Sigaction æ‰§è¡Œä¸€ä¸ªä¿¡å·å¤„ç†å‡½æ•°ï¼ˆæ­¤ç³»ç»Ÿè°ƒç”¨ç«‹å³è¿”å›ï¼Œè¿›ç¨‹ç»§ç»­å·¥ä½œï¼Œå®ƒæ˜¯éé˜»å¡çš„ï¼‰ã€‚å½“æ•°æ®å‡†å¤‡å°±ç»ªæ—¶ï¼Œå°±ä¸ºè¯¥è¿›ç¨‹ç”Ÿæˆä¸€ä¸ª SIGIO ä¿¡å·ï¼Œé€šè¿‡ä¿¡å·å›è°ƒé€šçŸ¥åº”ç”¨ç¨‹åºè°ƒç”¨ recvfrom æ¥è¯»å–æ•°æ®ï¼Œå¹¶é€šçŸ¥ä¸»å¾ªç¯å‡½æ•°å¤„ç†æ•°æ®ã€‚å³é˜»å¡åœ¨æ•°æ®å¤åˆ¶æ‹·è´çš„è¿™æ®µæ—¶é—´ã€‚ ","date":"2021-01-21","objectID":"/2021/01/21/linux-network-io-model/:3:4","tags":["Linux"],"title":"Linux ç½‘ç»œ IO æ¨¡å‹","uri":"/2021/01/21/linux-network-io-model/"},{"categories":["Linux"],"content":"å¼‚æ­¥ IO å¼‚æ­¥ IOï¼ˆAsynchronous IOï¼‰ï¼Œå‘ŠçŸ¥å†…æ ¸å¯åŠ¨æŸä¸ªæ–‡ä»¶ï¼Œå¹¶è®©å†…æ ¸æ•´ä¸ªæ“ä½œå®Œæˆåï¼ˆåŒ…æ‹¬å°†æ•°æ®ä»å†…æ ¸å¤åˆ¶åˆ°ç”¨æˆ·è‡ªå·±çš„ç¼“å†²åŒºï¼‰é€šçŸ¥æˆ‘ä»¬ã€‚è¿™ç§æ¨¡å‹ä¸ä¿¡å·æ¨¡å‹çš„ç»„è¦åŒºåˆ«æ˜¯ï¼šä¿¡å·é©±åŠ¨ IO ç”±å†…æ ¸é€šçŸ¥æˆ‘ä»¬ä½•æ—¶å¯ä»¥å¼€å§‹ä¸€ä¸ª IO æ“ä½œï¼šå¼‚æ­¥ IO æ¨¡å‹ç”±å†…æ ¸é€šçŸ¥æˆ‘ä»¬ IO æ“ä½œä½•æ—¶å·²å®Œæˆã€‚ ","date":"2021-01-21","objectID":"/2021/01/21/linux-network-io-model/:3:5","tags":["Linux"],"title":"Linux ç½‘ç»œ IO æ¨¡å‹","uri":"/2021/01/21/linux-network-io-model/"},{"categories":["Linux"],"content":"äº”ç§æ¨¡å‹çš„åŒºåˆ« é˜»å¡ IOã€éé˜»å¡ IOã€å¤šè·¯å¤ç”¨ IOã€ä¿¡å·é©±åŠ¨ IO éƒ½æ˜¯åŒæ­¥ IOï¼Œäº”ç§æ¨¡å‹åœ¨å†…æ ¸æ•°æ® Copy åˆ°ç”¨æˆ·ç©ºé—´æ—¶éƒ½æ˜¯é˜»å¡çš„ã€‚ é˜»å¡ä¸éé˜»å¡ IOï¼šå‘èµ· IO è¯·æ±‚æ˜¯å¦ä¼šè¢«é˜»å¡ï¼Œå¦‚æœé˜»å¡å°±æ˜¯ä¼ ç»Ÿçš„é˜»å¡ IOï¼Œä¸å¦‚ä¸é˜»å¡å°±æ˜¯éé˜»å¡ IOï¼› åŒæ­¥ä¸å¼‚æ­¥ IOï¼šå¦‚æœå®é™…çš„ IO è¯»å†™é˜»å¡è¯·æ±‚è¿‡ç¨‹ï¼Œé‚£ä¹ˆå°±æ˜¯åŒæ­¥ IOï¼Œå¦‚æœä¸é˜»å¡ï¼Œè€Œæ˜¯æ“ä½œç³»ç»ŸååŠ©åšå®Œ IO æ“ä½œå†å°†ç»“æœè¿”å›ç»™ä½ ï¼Œé‚£ä¹ˆå°±æ˜¯å¼‚æ­¥ IOï¼› ","date":"2021-01-21","objectID":"/2021/01/21/linux-network-io-model/:4:0","tags":["Linux"],"title":"Linux ç½‘ç»œ IO æ¨¡å‹","uri":"/2021/01/21/linux-network-io-model/"},{"categories":["Linux"],"content":"IO å¤šè·¯å¤ç”¨æŠ€æœ¯ ","date":"2021-01-21","objectID":"/2021/01/21/linux-network-io-model/:5:0","tags":["Linux"],"title":"Linux ç½‘ç»œ IO æ¨¡å‹","uri":"/2021/01/21/linux-network-io-model/"},{"categories":["Linux"],"content":"åº”ç”¨åœºæ™¯ IO å¤šè·¯å¤ç”¨å°±æ˜¯é€šè¿‡ä¸€ç§æœºåˆ¶ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥ç›‘è§†å¤šä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œä¸€æ—¦æŸä¸ªæè¿°ç¬¦å°±ç»ªï¼ˆè¯»å°±ç»ªæˆ–å†™å°±ç»ªï¼‰ï¼Œèƒ½å¤Ÿé€šçŸ¥ç¨‹åºè¿›è¡Œç›¸åº”çš„è¯»å†™æ“ä½œã€‚ å½“å®¢æˆ·å¤„ç†å¤šä¸ªæè¿°å­—æ—¶ï¼ˆä¸€èˆ¬æ˜¯äº¤äº’å¼è¾“å…¥å’Œç½‘ç»œå¥—æ¥å£ï¼‰ï¼Œå¿…é¡»ä½¿ç”¨ IO å¤ç”¨ï¼› å½“ä¸€ä¸ªå®¢æˆ·åŒæ—¶å¤„ç†å¤šä¸ªå¥—æ¥å£æ—¶ï¼Œè€Œè¿™ç§æƒ…å†µæ˜¯å¯èƒ½çš„ï¼Œä½†å¾ˆå°‘å‡ºç°ï¼› æœåŠ¡å™¨éœ€è¦åŒæ—¶å¤„ç†å¤šä¸ªå¤„äºç›‘å¬çŠ¶æ€æˆ–å¤šä¸ªè¿æ¥çŠ¶æ€çš„å¥—æ¥å­—ï¼› æœåŠ¡å™¨éœ€è¦åŒæ—¶å¤„ç†å¤šä¸ªæœåŠ¡æˆ–å¤šä¸ªåè®®çš„å¥—æ¥å­—ï¼› ä¸å¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹æŠ€æœ¯ç›¸æ¯”ï¼ŒIO å¤šè·¯å¤ç”¨æŠ€æœ¯çš„æœ€å¤§ä¼˜åŠ¿æ˜¯ç³»ç»Ÿå¼€é”€å°ï¼Œç³»ç»Ÿä¸å¿…åˆ›å»ºè¿›ç¨‹/çº¿ç¨‹ï¼Œä¹Ÿä¸å¿…ç»´æŠ¤è¿™äº›è¿›ç¨‹/çº¿ç¨‹ï¼Œä»è€Œå¤§å¤§å‡å°äº†ç³»ç»Ÿçš„å¼€é”€ã€‚ ","date":"2021-01-21","objectID":"/2021/01/21/linux-network-io-model/:5:1","tags":["Linux"],"title":"Linux ç½‘ç»œ IO æ¨¡å‹","uri":"/2021/01/21/linux-network-io-model/"},{"categories":["Linux"],"content":"ä½¿ç”¨æŠ€æœ¯ select è‰¯å¥½è·¨å¹³å°æ”¯æŒï¼› å•ä¸ªè¿›ç¨‹å¯ç›‘è§†çš„ FD æ•°é‡è¢«é™åˆ¶ï¼Œå³èƒ½ç›‘å¬ç«¯å£çš„å¤§å°æœ‰é™ã€‚ä¸€èˆ¬æ¥è¯´è¿™ä¸ªæ•°ç›®å’Œç³»ç»Ÿå†…å­˜å…³ç³»å¾ˆå¤§ï¼Œå…·ä½“æ•°ç›®å¯ä»¥ cat /proc/sys/fs/file-max æŸ¥çœ‹ã€‚32 ä½æœºé»˜è®¤æ˜¯ 1024 ä¸ªã€‚64 ä½æœºé»˜è®¤æ˜¯ 2048 ä¸ªï¼› å¯¹ Socket è¿›è¡Œæ‰«ææ—¶æ˜¯çº¿æ€§æ‰«æï¼Œå³é‡‡ç”¨è½®è¯¢çš„æ–¹æ³•ï¼Œæ•ˆç‡è¾ƒä½ï¼šå½“å¥—æ¥å­—æ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œæ¯æ¬¡ select() éƒ½è¦é€šè¿‡éå† FD_SETSIZE ä¸ª Socket æ¥å®Œæˆè°ƒåº¦,ä¸ç®¡å“ªä¸ª Socket æ˜¯æ´»è·ƒçš„ï¼Œéƒ½éå†ä¸€éã€‚è¿™ä¼šæµªè´¹å¾ˆå¤š CPU æ—¶é—´ã€‚å¦‚æœèƒ½ç»™å¥—æ¥å­—æ³¨å†ŒæŸä¸ªå›è°ƒå‡½æ•°ï¼Œå½“ä»–ä»¬æ´»è·ƒæ—¶ï¼Œè‡ªåŠ¨å®Œæˆç›¸å…³æ“ä½œï¼Œé‚£å°±é¿å…äº†è½®è¯¢ï¼Œè¿™æ­£æ˜¯ epoll ä¸ kqueue åšçš„ï¼› éœ€è¦ç»´æŠ¤ä¸€ä¸ªç”¨æ¥å­˜æ”¾å¤§é‡ FD çš„æ•°æ®ç»“æ„ï¼Œè¿™æ ·ä¼šä½¿å¾—ç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´åœ¨ä¼ é€’è¯¥ç»“æ„æ—¶å¤åˆ¶å¼€é”€å¤§ï¼› å¯ä»¥åœ¨ä¸€ä¸ªçº¿ç¨‹å†…åŒæ—¶å¤„ç†å¤šä¸ª Socket çš„ IO è¯·æ±‚ã€‚åœ¨ç½‘ç»œç¼–ç¨‹ä¸­ï¼Œå½“æ¶‰åŠåˆ°å¤šå®¢æˆ·è®¿é—®æœåŠ¡å™¨çš„æƒ…å†µï¼Œæˆ‘ä»¬é¦–å…ˆæƒ³åˆ°çš„åŠæ³•å°±æ˜¯ fork å‡ºå¤šä¸ªè¿›ç¨‹æ¥å¤„ç†æ¯ä¸ªå®¢æˆ·è¿æ¥ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥ä½¿ç”¨ select æ¥å¤„ç†å¤šå®¢æˆ·é—®é¢˜ï¼Œè€Œä¸ç”¨ forkï¼› ç”¨ select å¤„ç†å¸¦å¤–æ•°æ®ï¼Œç½‘ç»œç¨‹åºä¸­ï¼Œselect èƒ½å¤„ç†çš„å¼‚å¸¸æƒ…å†µåªæœ‰ä¸€ç§ï¼šsocket ä¸Šæ¥æ”¶åˆ°å¸¦å¤–æ•°æ®ã€‚ å¸¦å¤–æ•°æ®ï¼šå¸¦å¤–æ•°æ®ï¼ˆoutâ€”ofâ€”band dataï¼‰ï¼Œæœ‰æ—¶ä¹Ÿç§°ä¸ºåŠ é€Ÿæ•°æ®ï¼ˆexpedited dataï¼‰ï¼Œæ˜¯æŒ‡è¿æ¥åŒæ–¹ä¸­çš„ä¸€æ–¹å‘ç”Ÿé‡è¦äº‹æƒ…ï¼Œæƒ³è¦è¿…é€Ÿåœ°é€šçŸ¥å¯¹æ–¹ã€‚è¿™ç§é€šçŸ¥åœ¨å·²ç»æ’é˜Ÿç­‰å¾…å‘é€çš„ä»»ä½•æ™®é€šï¼ˆæœ‰æ—¶ç§°ä¸ºã€å¸¦å†…ã€ï¼‰æ•°æ®ä¹‹å‰å‘é€ã€‚å¸¦å¤–æ•°æ®è®¾è®¡ä¸ºæ¯”æ™®é€šæ•°æ®æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚å¸¦å¤–æ•°æ®æ˜¯æ˜ å°„åˆ°ç°æœ‰çš„è¿æ¥ä¸­çš„ï¼Œè€Œä¸æ˜¯åœ¨å®¢æˆ·æœºå’ŒæœåŠ¡å™¨é—´å†ç”¨ä¸€ä¸ªè¿æ¥ã€‚ poll æ²¡æœ‰æœ€å¤§æ–‡ä»¶æè¿°ç¬¦æ•°é‡çš„é™åˆ¶ï¼› å’Œ select ä¸€æ ·ï¼ŒåŒ…å«å¤§é‡æ–‡ä»¶æè¿°ç¬¦çš„æ•°ç»„è¢«æ•´ä½“å¤åˆ¶äºç”¨æˆ·æ€å’Œå†…æ ¸çš„åœ°å€ç©ºé—´ä¹‹é—´ï¼Œè€Œä¸è®ºè¿™äº›æ–‡ä»¶æè¿°ç¬¦æ˜¯å¦å°±ç»ªï¼Œå®ƒçš„å¼€é”€éšç€æ–‡ä»¶æè¿°ç¬¦æ•°é‡çš„å¢åŠ è€Œçº¿æ€§å¢å¤§ï¼› åŒ select ä¸€æ ·ï¼Œå†…æ ¸éœ€è¦å°†æ¶ˆæ¯ä¼ é€’åˆ°ç”¨æˆ·ç©ºé—´ï¼Œéƒ½éœ€è¦å†…æ ¸æ‹·è´åŠ¨ä½œï¼› epoll æ²¡æœ‰æœ€å¤§å¹¶å‘è¿æ¥çš„é™åˆ¶ï¼Œèƒ½æ‰“å¼€çš„ FD çš„ä¸Šé™è¿œå¤§äº 1024ï¼ˆ1G çš„å†…å­˜ä¸Šèƒ½ç›‘å¬çº¦ 10 ä¸‡ä¸ªç«¯å£ï¼‰ï¼› IO æ•ˆç‡ä¸ä¼šéšç€ FD æ•°ç›®çš„å¢åŠ è€Œçº¿æ€§ä¸‹å°†ï¼Œåªæœ‰æ´»è·ƒå¯ç”¨çš„ FD æ‰ä¼šè°ƒç”¨ callback å‡½æ•°ï¼› å†…å­˜æ‹·è´ï¼Œåˆ©ç”¨ mmap æ–‡ä»¶æ˜ å°„å†…å­˜åŠ é€Ÿä¸å†…æ ¸ç©ºé—´çš„æ¶ˆæ¯ä¼ é€’ã€‚epoll ä½¿ç”¨ mmap å‡å°‘å¤åˆ¶å¼€é”€ï¼Œå³ epoll ä½¿ç”¨ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ç®¡ç†å¤šä¸ªæè¿°ç¬¦ï¼Œå°†ç”¨æˆ·å…³ç³»çš„æ–‡ä»¶æè¿°ç¬¦çš„äº‹ä»¶å­˜æ”¾åˆ°å†…æ ¸çš„ä¸€ä¸ªäº‹ä»¶è¡¨ä¸­ï¼Œè¿™æ ·åœ¨ç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´çš„ copy åªéœ€ä¸€æ¬¡ï¼› é€šè¿‡å†…æ ¸å’Œç”¨æˆ·ç©ºé—´å…±äº«ä¸€å—å†…å­˜æ¥å®ç°ï¼Œä¸éœ€è¦å†…æ ¸æ‹·è´åŠ¨ä½œï¼› epoll æ‹¥æœ‰æ›´åŠ ç®€å•çš„ APIï¼› epoll å¯¹æ–‡ä»¶æè¿°ç¬¦çš„æ“ä½œæœ‰ä¸¤ç§æ¨¡å¼ï¼š LTï¼ˆLevel Triggerï¼Œæ°´å¹³è§¦å‘ï¼‰æ¨¡å¼ï¼šæ˜¯ç¼ºçœçš„å·¥ä½œæ–¹å¼ï¼Œå¹¶ä¸”åŒæ—¶æ”¯æŒ block å’Œ non-block socketã€‚å½“ epoll_wait æ£€æµ‹åˆ°æè¿°ç¬¦äº‹ä»¶å‘ç”Ÿå¹¶å°†æ­¤äº‹ä»¶é€šçŸ¥åº”ç”¨ç¨‹åºï¼Œåº”ç”¨ç¨‹åºå¯ä»¥ä¸ç«‹å³å¤„ç†è¯¥äº‹ä»¶ã€‚ä¸‹æ¬¡è°ƒç”¨ epoll_wait æ—¶ï¼Œä¼šå†æ¬¡å“åº”åº”ç”¨ç¨‹åºå¹¶é€šçŸ¥æ­¤äº‹ä»¶ï¼Œè¿™ç§æœºåˆ¶å¯ä»¥æ¯”è¾ƒå¥½çš„ä¿è¯æ¯ä¸ªæ•°æ®ç”¨æˆ·éƒ½å¤„ç†æ‰äº†ï¼› ETï¼ˆEdge Triggerï¼Œè¾¹ç¼˜è§¦å‘ï¼‰æ¨¡å¼ï¼šæ˜¯é«˜é€Ÿå·¥ä½œæ–¹å¼ï¼Œåªæ”¯æŒ non-block socketã€‚,å½“ epoll_wait æ£€æµ‹åˆ°æè¿°ç¬¦äº‹ä»¶å‘ç”Ÿå¹¶å°†æ­¤äº‹ä»¶é€šçŸ¥åº”ç”¨ç¨‹åºï¼Œåº”ç”¨ç¨‹åºå¿…é¡»ç«‹å³å¤„ç†è¯¥äº‹ä»¶ã€‚å¦‚æœä¸å¤„ç†ï¼Œä¸‹æ¬¡è°ƒç”¨ epoll_wait æ—¶ï¼Œä¸ä¼šå†æ¬¡å“åº”åº”ç”¨ç¨‹åºå¹¶é€šçŸ¥æ­¤äº‹ä»¶ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯å†…æ ¸é€šçŸ¥è¿‡çš„äº‹æƒ…ä¸ä¼šå†è¯´ç¬¬äºŒéï¼Œæ•°æ®é”™è¿‡æ²¡è¯»ï¼Œä½ è‡ªå·±è´Ÿè´£ã€‚è¿™ç§æœºåˆ¶ç¡®å®é€Ÿåº¦æé«˜äº†ï¼Œä½†æ˜¯é£é™©ç›¸ä¼´è€Œè¡Œï¼› ET æ¨¡å¼åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå‡å°‘äº† epoll äº‹ä»¶è¢«é‡å¤è§¦å‘çš„æ¬¡æ•°ï¼Œå› æ­¤æ•ˆç‡è¦æ¯” LT æ¨¡å¼é«˜ã€‚epoll å·¥ä½œåœ¨ ET æ¨¡å¼çš„æ—¶å€™ï¼Œå¿…é¡»ä½¿ç”¨éé˜»å¡å¥—æ¥å£ï¼Œä»¥é¿å…ç”±äºä¸€ä¸ªæ–‡ä»¶å¥æŸ„çš„é˜»å¡è¯»/é˜»å¡å†™æ“ä½œæŠŠå¤„ç†å¤šä¸ªæ–‡ä»¶æè¿°ç¬¦çš„ä»»åŠ¡é¥¿æ­»ã€‚ ","date":"2021-01-21","objectID":"/2021/01/21/linux-network-io-model/:5:2","tags":["Linux"],"title":"Linux ç½‘ç»œ IO æ¨¡å‹","uri":"/2021/01/21/linux-network-io-model/"},{"categories":["Linux"],"content":"æŠ€æœ¯åŒºåˆ« select poll epoll äº‹ä»¶é›†åˆ é€šè¿‡ 3 ä¸ªå‚æ•°åˆ†åˆ«ä¼ å…¥æ„Ÿå…´è¶£çš„å¯è¯»å¯å†™åŠå¼‚å¸¸äº‹ä»¶ã€‚å†…æ ¸é€šè¿‡å¯¹è¿™äº›å‚æ•°çš„åœ¨çº¿ä¿®æ”¹æ¥åé¦ˆå…¶ä¸­çš„å°±ç»ªäº‹ä»¶ï¼Œè¿™è¿™ä½¿å¾—ç”¨æˆ·æ¯æ¬¡è°ƒç”¨ select éƒ½è¦é‡ç½®è¿™ 3 ä¸ª å‚æ•° ç»Ÿä¸€å¤„ç†æ‰€æœ‰äº‹ä»¶ç±»å‹ï¼Œå› æ­¤åªéœ€è¦ä¸€ä¸ªäº‹ä»¶å‚æ•°ï¼Œç”¨æˆ·é€šè¿‡ pollfd.events ä¼ å…¥æ„Ÿå…´è¶£çš„äº‹ä»¶ï¼Œå†…æ ¸é€šè¿‡ä¿®æ”¹ pollfd.revents å‚æ•°åé¦ˆå…¶ä¸­å°±ç»ªçš„äº‹ä»¶ å†…æ ¸é€šè¿‡ä¸€ä¸ªäº‹ä»¶ç›´æ¥ç®¡ç†ç”¨æˆ·æ„Ÿå…´è¶£çš„æ‰€æœ‰äº‹ä»¶ï¼Œå› æ­¤æ¯æ¬¡è°ƒç”¨ epoll_wait æ—¶ï¼Œæ— éœ€åå¤ä¼ å…¥ç”¨æˆ·æ„Ÿå…´è¶£çš„äº‹ä»¶ï¼Œepoll_wait ç³»ç»Ÿè°ƒç”¨çš„å‚æ•° events ä»…ç”¨æ¥åé¦ˆå°±ç»ªçš„äº‹ä»¶ å·¥ä½œåŸåˆ™ é‡‡ç”¨è½®è¯¢æ–¹å¼æ£€æµ‹å°±ç»ªäº‹ä»¶ï¼Œæ—¶é—´å¤æ‚åº¦ï¼šO(n) é‡‡ç”¨è½®è¯¢æ–¹å¼æ£€æµ‹å°±ç»ªäº‹ä»¶ï¼Œæ—¶é—´å¤æ‚åº¦ï¼šO(n) é‡‡ç”¨å›è°ƒæ–¹å¼æ£€æµ‹å°±ç»ªäº‹ä»¶ï¼Œæ—¶é—´å¤æ‚åº¦ï¼šO(1) æœ€å¤§è¿æ¥ 1024 æ— ä¸Šé™ æ— ä¸Šé™ å·¥ä½œæ¨¡å¼ LT LT LT å’Œ ET æ–‡ä»¶æè¿° æ¯æ¬¡è°ƒç”¨ï¼Œæ¯æ¬¡æ‹·è´ æ¯æ¬¡è°ƒç”¨ï¼Œæ¯æ¬¡æ‹·è´ é€šè¿‡ mmap çš„å†…å­˜æ˜ å°„æŠ€æœ¯ï¼Œé™ä½æ‹·è´çš„èµ„æºæ¶ˆè€— ","date":"2021-01-21","objectID":"/2021/01/21/linux-network-io-model/:5:3","tags":["Linux"],"title":"Linux ç½‘ç»œ IO æ¨¡å‹","uri":"/2021/01/21/linux-network-io-model/"},{"categories":["Git"],"content":"é€šå¾€ Git çš„è·¯ä¸Šå¹¶ä¸æ€»æ˜¯é‚£ä¹ˆä¸€å¸†é£é¡ºï¼Œä½ æ˜¯å¦å’Œæˆ‘ä¸€æ ·æ€»æ˜¯ä¸ºäº†é‚£ä¹ˆä¸€æ¡åº”æ™¯çš„å‘½ä»¤æŠ“ç‹‚ï¼Œè²Œä¼¼è®°å¾—å¤§æ¦‚æ˜¯è¿™ä¹ˆæ“ä½œçš„ï¼Œä½†æ€»æ˜¯æ•²ä¸å¯¹å¤´ï¼Œåœ¨æŠ«è†æ–©æ£˜çš„åƒé’§ä¸€å‘åˆ©åˆƒç«Ÿç„¶è¿˜æ²¡å‡ºé˜ï¼ŒçœŸç‰¹ä¹ˆæ°”äººï¼Œä¸ºäº†è§£ç‡ƒçœ‰ä¹‹æ€¥ï¼Œæˆ‘å«äº†ä¸€å—è¶…å¤§çš„ Git å‘½ä»¤å¤§å…¨ï¼Œä½†é‚£æ˜¯åˆ«äººå®¶çš„ï¼Œæˆ‘è¦çš„æ˜¯è‡ªå·±æ”¶é›†æ•´ç†çš„è¿™ç§ï¼Œè¿˜å¥½ï¼Œæˆ‘æ•´ç†äº†ä¸€ä»½ï¼Œæ€»ç®—æ˜¯å‡ºäº†å£æ¶æ°”ã€‚ Git èµ·æ­¥ Git åŸºæœ¬æ“ä½œ Git æŸ¥çœ‹æ—¥å¿— Git åˆ†æ”¯ Git ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªè´¦å· Git Workflow Git å‘½ä»¤å¤§å…¨ ","date":"2020-09-07","objectID":"/2020/09/07/git-collection-command/:0:0","tags":["Git"],"title":"Git å‘½ä»¤å¤§å…¨","uri":"/2020/09/07/git-collection-command/"},{"categories":["Git"],"content":"Git å‘½ä»¤åˆ†ç±» é…ç½®æ“ä½œï¼› åŸºæœ¬æ“ä½œï¼› åˆ†æ”¯æ“ä½œï¼› åˆå¹¶æ“ä½œï¼› æ ‡ç­¾æ“ä½œï¼› å›æ»šæ“ä½œï¼› æ—¥å¿—æ“ä½œï¼› è¿œç¨‹æ“ä½œï¼› ç»Ÿè®¡æ“ä½œï¼› ","date":"2020-09-07","objectID":"/2020/09/07/git-collection-command/:1:0","tags":["Git"],"title":"Git å‘½ä»¤å¤§å…¨","uri":"/2020/09/07/git-collection-command/"},{"categories":["Git"],"content":"git filter-repo Quickly rewrite git repository history git-filter-repo manual page // å®‰è£… git-filter-repo $ brew install git-filter-repo // å°†ç”¨æˆ·å tony æ›¿æ¢ä¸º pony $ git-filter-repo --name-callback 'return name.replace(b\"tony\", b\"pony\")' --force // å°†é‚®ç®± foo@gmail.com æ›¿æ¢ä¸º bar@gmail.com $ git-filter-repo --email-callback 'return email.replace(b\"foo@gmail.com\", b\"bar@gmail.com\")' --force ","date":"2020-09-07","objectID":"/2020/09/07/git-collection-command/:2:0","tags":["Git"],"title":"Git å‘½ä»¤å¤§å…¨","uri":"/2020/09/07/git-collection-command/"},{"categories":["Git"],"content":"git blame // æŸ¥æ‰¾æŒ‡å®šæ–‡ä»¶çš„ç¬¬ 40-60 è¡Œçš„å†å²ä¿¡æ¯ $ git blame -L 40,60 /path/to/file.txt å¦å¤–ï¼Œè¿™ä¸€ç¯‡å†™çš„å¤ªæ°´äº†ï¼Œè§è°…ã€‚ ","date":"2020-09-07","objectID":"/2020/09/07/git-collection-command/:3:0","tags":["Git"],"title":"Git å‘½ä»¤å¤§å…¨","uri":"/2020/09/07/git-collection-command/"},{"categories":["Redis"],"content":"Redis æ˜¯ä¸€ä¸ª K-V å­˜å‚¨ç³»ç»Ÿï¼Œæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ K-V æ•°æ®åº“ï¼Œæ˜¯ç›®å‰å¤§è§„æ¨¡ä½¿ç”¨çš„ç¼“å­˜ä¸­é—´ä»¶ã€‚å•èŠ‚ç‚¹çš„Redis å·²ç»å°±è¾¾åˆ°äº†å¾ˆé«˜çš„æ€§èƒ½ï¼Œä¸ºäº†æé«˜å¯ç”¨æ€§æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Redis é›†ç¾¤ã€‚ Redis Website ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:0:0","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"é›†ç¾¤ç®€ä»‹ Redis é›†ç¾¤æ˜¯ä¸€ä¸ªå¯ä»¥åœ¨å¤šä¸ª Redis èŠ‚ç‚¹ä¹‹é—´è¿›è¡Œæ•°æ®å…±äº«çš„è®¾æ–½ï¼ˆinstallationï¼‰ã€‚ Redis é›†ç¾¤ä¸æ”¯æŒé‚£äº›éœ€è¦åŒæ—¶å¤„ç†å¤šä¸ªé”®çš„ Redis å‘½ä»¤ï¼Œ å› ä¸ºæ‰§è¡Œè¿™äº›å‘½ä»¤éœ€è¦åœ¨å¤šä¸ª Redis èŠ‚ç‚¹ä¹‹é—´ç§»åŠ¨æ•°æ®ï¼Œ å¹¶ä¸”åœ¨é«˜è´Ÿè½½çš„æƒ…å†µä¸‹ï¼Œ è¿™äº›å‘½ä»¤å°†é™ä½ Redis é›†ç¾¤çš„æ€§èƒ½ï¼Œå¹¶å¯¼è‡´ä¸å¯é¢„æµ‹çš„è¡Œä¸ºã€‚ Redis é›†ç¾¤é€šè¿‡åˆ†åŒºï¼ˆpartitionï¼‰æ¥æä¾›ä¸€å®šç¨‹åº¦çš„å¯ç”¨æ€§ï¼ˆavailabilityï¼‰ï¼šå³ä½¿é›†ç¾¤ä¸­æœ‰ä¸€éƒ¨åˆ†èŠ‚ç‚¹å¤±æ•ˆæˆ–è€…æ— æ³•è¿›è¡Œé€šè®¯ï¼Œé›†ç¾¤ä¹Ÿå¯ä»¥ç»§ç»­å¤„ç†å‘½ä»¤è¯·æ±‚ã€‚ Redis é›†ç¾¤æä¾›äº†ä»¥ä¸‹ä¸¤ä¸ªå¥½å¤„ï¼š å°†æ•°æ®è‡ªåŠ¨åˆ‡åˆ†ï¼ˆsplitï¼‰åˆ°å¤šä¸ªèŠ‚ç‚¹çš„èƒ½åŠ› å½“é›†ç¾¤ä¸­çš„ä¸€éƒ¨åˆ†èŠ‚ç‚¹å¤±æ•ˆæˆ–è€…æ— æ³•è¿›è¡Œé€šè®¯æ—¶ï¼Œä»ç„¶å¯ä»¥ç»§ç»­å¤„ç†å‘½ä»¤è¯·æ±‚çš„èƒ½åŠ› ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:1:0","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"é›†ç¾¤è¯´æ˜ ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:2:0","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"é›†ç¾¤æ•°æ®å…±äº« Redis é›†ç¾¤ä½¿ç”¨æ•°æ®åˆ†ç‰‡ï¼ˆshardingï¼‰è€Œéä¸€è‡´æ€§å“ˆå¸Œï¼ˆconsistency hashingï¼‰æ¥å®ç°ï¼šä¸€ä¸ª Redis é›†ç¾¤åŒ…å« 16384 ä¸ªå“ˆå¸Œæ§½ï¼ˆhash slotï¼‰ï¼Œæ•°æ®åº“ä¸­çš„æ¯ä¸ªé”®éƒ½å±äºè¿™ 16384 ä¸ªå“ˆå¸Œæ§½çš„å…¶ä¸­ä¸€ä¸ªï¼Œé›†ç¾¤ä½¿ç”¨å…¬å¼ CRC16(key) % 16384 æ¥è®¡ç®—é”® key å±äºå“ªä¸ªæ§½ï¼Œå…¶ä¸­ CRC16(key) è¯­å¥ç”¨äºè®¡ç®—é”® key çš„ CRC16 æ ¡éªŒå’Œã€‚ ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:2:1","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"é›†ç¾¤ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹è´Ÿè´£å¤„ç†ä¸€éƒ¨åˆ†å“ˆå¸Œæ§½ ä¸€ä¸ªé›†ç¾¤å¯ä»¥æœ‰ä¸‰ä¸ªå“ˆå¸Œæ§½ï¼Œå…¶ä¸­ï¼š èŠ‚ç‚¹ A è´Ÿè´£å¤„ç† 0 å·è‡³ 5500 å·å“ˆå¸Œæ§½ èŠ‚ç‚¹ B è´Ÿè´£å¤„ç† 5501 å·è‡³ 11000 å·å“ˆå¸Œæ§½ èŠ‚ç‚¹ C è´Ÿè´£å¤„ç† 11001 å·è‡³ 16384 å·å“ˆå¸Œæ§½ ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:2:2","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"é›†ç¾¤ä¸­çš„ä¸»ä»å¤åˆ¶ ä¸ºäº†ä½¿å¾—é›†ç¾¤åœ¨ä¸€éƒ¨åˆ†èŠ‚ç‚¹ä¸‹çº¿æˆ–è€…æ— æ³•ä¸é›†ç¾¤çš„å¤§å¤šæ•°ï¼ˆmajorityï¼‰èŠ‚ç‚¹è¿›è¡Œé€šè®¯çš„æƒ…å†µä¸‹ï¼Œä»ç„¶å¯ä»¥æ­£å¸¸è¿ä½œï¼ŒRedis é›†ç¾¤å¯¹èŠ‚ç‚¹ä½¿ç”¨äº†ä¸»ä»å¤åˆ¶åŠŸèƒ½ï¼šé›†ç¾¤ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ 1 ä¸ªè‡³ N ä¸ªå¤åˆ¶å“ï¼ˆreplicaï¼‰ï¼Œå…¶ä¸­ä¸€ä¸ªå¤åˆ¶å“ä¸ºä¸»èŠ‚ç‚¹ï¼ˆmasterï¼‰ï¼Œè€Œå…¶ä½™çš„ N-1 ä¸ªå¤åˆ¶å“ä¸ºä»èŠ‚ç‚¹ï¼ˆslaveï¼‰ ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:2:3","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"é›†ç¾¤ TCP ç«¯å£ æ¯ä¸ª Redis Cluster èŠ‚ç‚¹éƒ½éœ€è¦ 2 ä¸ª TCP è¿æ¥æ‰“å¼€ï¼Œæ­£å¸¸çš„ Redis TCP ç«¯å£è¢«æœåŠ¡äºå®¢æˆ·ç«¯ï¼Œä¾‹å¦‚ï¼š6379ï¼ŒåŠ ä¸Šé€šè¿‡å¢åŠ  10000 åˆ°æ•°æ®ç«¯å£è·å–çš„ç«¯å£ï¼Œä¾‹å¦‚ï¼š16379ã€‚ ç¬¬äºŒä¸ªé«˜ç«¯å£è¢«ç”¨æ¥ Redis Cluster Busï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨äºŒè¿›åˆ¶åè®®çš„ä¸€ä¸ªèŠ‚ç‚¹åˆ°èŠ‚ç‚¹çš„é€šä¿¡ä¿¡é“ã€‚Redis Cluster Bus è¢«èŠ‚ç‚¹ç”¨äºæ•…éšœæ£€æµ‹ï¼Œé…ç½®æ›´æ–°ï¼Œæ•…éšœè½¬ç§»æˆæƒç­‰ç­‰ã€‚å®¢æˆ·ç«¯ä¸åº”è¯¥å°è¯•ä¸ Redis Cluster Bus ç«¯å£è¿›è¡Œé€šä¿¡ï¼Œè€Œæ˜¯å§‹ç»ˆä½¿ç”¨æ­£å¸¸çš„ Redis å‘½ä»¤ç«¯å£ï¼Œç„¶è€Œè¦ç¡®ä¿åœ¨é˜²ç«å¢™ä¸­æ‰“å¼€ä¸¤ä¸ªç«¯å£ï¼Œå¦åˆ™ Redis Cluster èŠ‚ç‚¹å°†æ— æ³•é€šä¿¡ã€‚ å‘½ä»¤ç«¯å£å’Œ Redis Cluster Bus ç«¯å£åç§»æ˜¯å›ºå®šçš„ï¼Œå§‹ç»ˆä¸º 10000ã€‚ æ³¨æ„ï¼Œä¸ºäº†ä½¿ Redis Cluster æ­£å¸¸å·¥ä½œï¼Œä½ éœ€è¦ä¸ºæ¯ä¸ªèŠ‚ç‚¹ï¼š ç”¨äºå®¢æˆ·ç«¯è¿›è¡Œé€šä¿¡çš„æ™®é€šå®¢æˆ·ç«¯é€šä¿¡ç«¯å£ï¼ˆé€šå¸¸ä½¿ç”¨ 6379ï¼‰å¯¹æ‰€æœ‰éœ€è¦åˆ°è¾¾é›†ç¾¤çš„å®¢æˆ·ç«¯ï¼Œä»¥åŠæ‰€æœ‰å…¶å®ƒé›†ç¾¤èŠ‚ç‚¹ï¼ˆä½¿ç”¨å®¢æˆ·ç«¯ç«¯å£è¿›è¡Œå¯†é’¥è¿ç§»ï¼‰éƒ½æ˜¯å¼€æ”¾çš„ Redis Cluster Bus ç«¯å£ï¼ˆå®¢æˆ·ç«¯ç«¯å£ +10000ï¼‰å¿…é¡»å¯ä»æ‰€æœ‰å…¶å®ƒé›†ç¾¤èŠ‚ç‚¹è®¿é—® å¦‚æœä¸æ‰“å¼€ä¸¤ä¸ª TCP ç«¯å£ï¼Œé›†ç¾¤å°†æ— æ³•æŒ‰é¢„æœŸå·¥ä½œ Redis Cluster Bus ä½¿ç”¨ä¸åŒçš„äºŒè¿›åˆ¶åè®®è¿›è¡ŒèŠ‚å åˆ°èŠ‚ç‚¹çš„æ•°æ®äº¤æ¢ï¼Œè¿™æ›´é€‚åˆäºä½¿ç”¨å°‘é‡çš„å¸¦å®½å’Œå¤„ç†æ—¶é—´äº¤æ¢èŠ‚ç‚¹ä¹‹é—´çš„ä¿¡æ¯ ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:2:4","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"å®‰è£…ä¾èµ– $ sudo gpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 $ sudo curl -sSL https://get.rvm.io | bash -s stable $ sudo source ~/.rvm/scripts/rvm $ sudo echo \"ruby_url=https://cache.ruby-china.org/pub/ruby\" \u003e ~/.rvm/user/db $ rvm -v $ sudo rvm install 2.4.1 $ sudo gem update $ sudo gem install redis ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:3:0","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"é›†ç¾¤é…ç½® ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:4:0","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"å®‰è£… Redis $ cd ~ $ wget http://download.redis.io/releases/redis-4.0.9.tar.gz $ tar xzf redis-4.0.9.tar.gz $ cd redis-4.0.9 $ sudo make ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:4:1","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"åˆ›å»ºé…ç½®ç›®å½• $ sudo mkdir -pv /usr/local/redis-cluster/{bin,etc,log,run,var} ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:4:2","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"åˆ›å»ºé…ç½®æ–‡ä»¶ $ sudo cp ~/redis-4.0.9/redis.conf /usr/local/redis-cluster/etc/redis-7001.conf ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:4:3","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"å¤åˆ¶å‘½ä»¤æ–‡ä»¶ $ cd ~/redis-4.0.9/src/ $ sudo cp mkreleasehdr.sh redis-benchmark redis-check-aof redis-check-rdb redis-sentinel redis-cli redis-server /usr/local/redis-cluster/bin ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:4:4","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"ä¿®æ”¹é…ç½®æ–‡ä»¶ $ sudo vim /usr/local/redis-cluster/etc/redis-7001.conf bind 192.168.33.110 port 7001 daemonize yes pidfile /user/local/redis-cluster/run/7001.pid logfile /usr/local/redis-cluster/log/7001.log dbfilename dump-7001.rdb dir /usr/local/redis-cluster/var appendonly yes appendfilename \"appendonly-7001.aof\" cluster-enabled yes cluster-config-file nodes-7001.conf cluster-node-timeout 15000 ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:4:5","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"å¤åˆ¶é…ç½®æ–‡ä»¶ å°†å¤åˆ¶åçš„æ–‡ä»¶ä¸­çš„ 7001 æ¢æˆç›¸åº”çš„åç§° $ sudo cp /usr/local/redis-cluster/etc/redis-7001.conf /usr/local/redis-cluster/etc/redis-7002.conf $ sudo cp /usr/local/redis-cluster/etc/redis-7001.conf /usr/local/redis-cluster/etc/redis-7003.conf $ sudo cp /usr/local/redis-cluster/etc/redis-7001.conf /usr/local/redis-cluster/etc/redis-7004.conf $ sudo cp /usr/local/redis-cluster/etc/redis-7001.conf /usr/local/redis-cluster/etc/redis-7005.conf $ sudo cp /usr/local/redis-cluster/etc/redis-7001.conf /usr/local/redis-cluster/etc/redis-7006.conf ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:4:6","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"é›†ç¾¤éƒ¨ç½² ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:5:0","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"å¯åŠ¨èŠ‚ç‚¹ // å¯åŠ¨é…ç½®çš„æ‰€æœ‰èŠ‚ç‚¹ $ sudo /usr/local/redis-cluster/bin/redis-cli /usr/local/redis-cluster/etc/redis-7001.conf $ sudo /usr/local/redis-cluster/bin/redis-cli /usr/local/redis-cluster/etc/redis-7002.conf $ sudo /usr/local/redis-cluster/bin/redis-cli /usr/local/redis-cluster/etc/redis-7003.conf $ sudo /usr/local/redis-cluster/bin/redis-cli /usr/local/redis-cluster/etc/redis-7004.conf $ sudo /usr/local/redis-cluster/bin/redis-cli /usr/local/redis-cluster/etc/redis-7005.conf $ sudo /usr/local/redis-cluster/bin/redis-cli /usr/local/redis-cluster/etc/redis-7006.conf ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:5:1","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"æ£€æŸ¥æœåŠ¡ $ ps -ef | grep redis root 20077 1 0 May18 ? 00:01:04 /usr/local/bin/redis-server 192.168.33.110:7001 [cluster] root 20079 1 0 May18 ? 00:01:03 /usr/local/bin/redis-server 192.168.33.110:7002 [cluster] root 20081 1 0 May18 ? 00:01:03 /usr/local/bin/redis-server 192.168.33.110:7003 [cluster] root 20089 1 0 May18 ? 00:01:03 /usr/local/bin/redis-server 192.168.33.110:7004 [cluster] root 20091 1 0 May18 ? 00:01:03 /usr/local/bin/redis-server 192.168.33.110:7005 [cluster] root 20096 1 0 May18 ? 00:01:03 /usr/local/bin/redis-server 192.168.33.110:7006 [cluster] ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:5:2","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"åœæ­¢èŠ‚ç‚¹ $ sudo /usr/local/redis-cluster/bin/redis-cli -c -h 192.168.33.110 -p 7001 shutdown ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:5:3","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"èŠ‚ç‚¹åŠ å…¥é›†ç¾¤ $ sudo cp ~/redis-4.0.9/src/redis-trib.rb /usr/local/redis-cluster/bin/redis-trib $ sudo chmod a+x /usr/local/redis-cluster/bin/redis-trib $ sudo /usr/local/redis-cluster/bin/redis-trib create --replicas 1 \\ \u003e 192.168.33.110:7001 \\ \u003e 192.168.33.110:7002 \\ \u003e 192.168.33.110:7003 \\ \u003e 192.168.33.110:7004 \\ \u003e 192.168.33.110:7005 \\ \u003e 192.168.33.110:7006 \\ \u003e\u003e\u003e Creating cluster \u003e\u003e\u003e Performing hash slots allocation on 6 nodes... Using 3 masters: 127.0.0.1:7001 127.0.0.1:7002 127.0.0.1:7003 Adding replica 127.0.0.1:7005 to 127.0.0.1:7001 Adding replica 127.0.0.1:7006 to 127.0.0.1:7002 Adding replica 127.0.0.1:7004 to 127.0.0.1:7003 \u003e\u003e\u003e Trying to optimize slaves allocation for anti-affinity [WARNING] Some slaves are in the same host as their master M: 4ed7d8f54311fb883431c1c5a4715c1ae59d5215 127.0.0.1:7001 slots:0-5460 (5461 slots) master M: 31030e4c35659d5de1146941a2d1f2c1524b53e9 127.0.0.1:7002 slots:5461-10922 (5462 slots) master M: 573752b8b0747bc2c7bb3e4a1edb0e467cfdef0e 127.0.0.1:7003 slots:10923-16383 (5461 slots) master S: 11f577639b081c1514f28a74764c9330d819dcb8 127.0.0.1:7004 replicates 573752b8b0747bc2c7bb3e4a1edb0e467cfdef0e S: ff6d7ca3ea29036385c89a5dc93f807f91307871 127.0.0.1:7005 replicates 4ed7d8f54311fb883431c1c5a4715c1ae59d5215 S: a6f79f4d1de8d7bef4911e934b802829ed29a2d3 127.0.0.1:7006 replicates 31030e4c35659d5de1146941a2d1f2c1524b53e9 Can I set the above configuration? (type 'yes' to accept): yes \u003e\u003e\u003e Nodes configuration updated \u003e\u003e\u003e Assign a different config epoch to each node \u003e\u003e\u003e Sending CLUSTER MEET messages to join the cluster Waiting for the cluster to join.. \u003e\u003e\u003e Performing Cluster Check (using node 127.0.0.1:7001) M: 4ed7d8f54311fb883431c1c5a4715c1ae59d5215 127.0.0.1:7001 slots:0-5460 (5461 slots) master 1 additional replica(s) S: 11f577639b081c1514f28a74764c9330d819dcb8 127.0.0.1:7004 slots: (0 slots) slave replicates 573752b8b0747bc2c7bb3e4a1edb0e467cfdef0e S: a6f79f4d1de8d7bef4911e934b802829ed29a2d3 127.0.0.1:7006 slots: (0 slots) slave replicates 31030e4c35659d5de1146941a2d1f2c1524b53e9 S: ff6d7ca3ea29036385c89a5dc93f807f91307871 127.0.0.1:7005 slots: (0 slots) slave replicates 4ed7d8f54311fb883431c1c5a4715c1ae59d5215 M: 31030e4c35659d5de1146941a2d1f2c1524b53e9 127.0.0.1:7002 slots:5461-10922 (5462 slots) master 1 additional replica(s) M: 573752b8b0747bc2c7bb3e4a1edb0e467cfdef0e 127.0.0.1:7003 slots:10923-16383 (5461 slots) master 1 additional replica(s) [OK] All nodes agree about slots configuration. \u003e\u003e\u003e Check for open slots... \u003e\u003e\u003e Check slots coverage... [OK] All 16384 slots covered. å¯ä»¥çœ‹åˆ°ï¼Œåˆ›å»ºé›†ç¾¤è¿™ä¸ªè¿‡ç¨‹æ¯”è¾ƒç¹çï¼Œå¯ä»¥åˆ›å»ºè„šæœ¬æ¥å®Œæˆè¿™äº›æ“ä½œ å¯åŠ¨è„šæœ¬ $ sudo vim /usr/local/redis-cluster/bin/start.sh #!/usr/bin/env bash RedisServerPath=/usr/local/redis-cluster/bin RedisConfPath=/usr/local/redis-cluster/etc for i in 1 2 3 4 5 6; do $RedisServerPath/redis-server $RedisConfPath/redis-700$i.conf done /usr/local/redis-cluster/bin/redis-trib.rb create --replicas 1 \\ 192.168.33.110:7001 \\ 192.168.33.110:7002 \\ 192.168.33.110:7003 \\ 192.168.33.110:7004 \\ 192.168.33.110:7005 \\ 192.168.33.110:7006 \\ $ sudo chmod a+x /usr/local/redis-cluster/bin/start.sh åœæ­¢è„šæœ¬ $ sudo vim /usr/local/redis-cluster/bin/stop.sh #!/usr/bin/env bash RedisClusterPath=/usr/local/redis-cluster RedisCliPath=/usr/local/redis-cluster/bin ip=192.168.33.110 for i in 1 2 3 4 5 6; do $RedisCliPath/redis-cli -c -h $ip -p 700$i shutdown done rm -rf $RedisClusterPath/log/* rm -rf $RedisClusterPath/run/* rm -rf $RedisClusterPath/var/* $ sudo chmod a+x /usr/local/redis-cluster/bin/stop.sh ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:5:4","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"æŸ¥çœ‹ä¿¡æ¯ $ /usr/local/redis-cluster/bin/redis-cli -c -h 192.168.33.110 -p 7001 192.168.33.110:7001\u003e cluster nodes # æŸ¥çœ‹èŠ‚ç‚¹ä¿¡æ¯ 5521b06a46910c873e7ee8a274f2cb9fc41ffed1 192.168.33.110:7003@17003 master - 0 1526681994008 3 connected 10923-16383 8153a1b35e0fab1e48f0171653f6cffd82cbc5a6 192.168.33.110:7004@17004 slave d7e0395152496f41fe73fbbdabc8499c79f6632e 0 1526681996033 4 connected a2ff29661185f6ad17c99232d0490b3814ba0164 192.168.33.110:7006@17006 slave affc237bf177fd4ac591314736a1358e16545d0c 0 1526681995020 6 connected d7e0395152496f41fe73fbbdabc8499c79f6632e 192.168.33.110:7002@17002 master - 0 1526681993000 2 connected 5461-10922 8b613e4b5abbdf3c2486dfcb8bc1e9dde1897820 192.168.33.110:7005@17005 slave 5521b06a46910c873e7ee8a274f2cb9fc41ffed1 0 1526681993000 5 connected affc237bf177fd4ac591314736a1358e16545d0c 192.168.33.110:7001@17001 myself,master - 0 1526681994000 1 connected 0-5460 192.168.33.110:7001\u003e cluster info # æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯ cluster_state:ok cluster_slots_assigned:16384 cluster_slots_ok:16384 cluster_slots_pfail:0 cluster_slots_fail:0 cluster_known_nodes:6 cluster_size:3 cluster_current_epoch:6 cluster_my_epoch:1 cluster_stats_messages_ping_sent:59501 cluster_stats_messages_pong_sent:61755 cluster_stats_messages_sent:121256 cluster_stats_messages_ping_received:61750 cluster_stats_messages_pong_received:59501 cluster_stats_messages_meet_received:5 cluster_stats_messages_received:121256 ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:5:5","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"ç›¸å…³å‘½ä»¤ å‘½ä»¤ è¯´æ˜ CLUSTER INFO æ‰“å°é›†ç¾¤ä¿¡æ¯ CLUSTER NODES åˆ—å‡ºé›†ç¾¤å½“å‰å·²çŸ¥çš„æ‰€æœ‰èŠ‚ç‚¹ä¿¡æ¯ CLUSTER MEET \u003cip\u003e \u003cport\u003e å°† ip å’Œ port æ‰€æŒ‡å®šçš„èŠ‚ç‚¹æ·»åŠ åˆ°é›†ç¾¤å½“ä¸­ CLUSTER FORGET \u003cnode_id\u003e ä»é›†ç¾¤ä¸­ç§»é™¤ node_id æŒ‡å®šçš„èŠ‚ç‚¹ CLUSTER REPLICATE \u003cnode_id\u003e å°†å½“å‰èŠ‚ç‚¹è®¾ç½®ä¸º node_id æŒ‡å®šçš„èŠ‚ç‚¹çš„ä»èŠ‚ç‚¹ CLUSTER SAVECONFIG å°†èŠ‚ç‚¹çš„é…ç½®æ–‡ä»¶ä¿å­˜åˆ°ç¡¬ç›˜é‡Œé¢ CLUSTER ADDSLOTS \u003cslot\u003e [slot ...] å°†ä¸€ä¸ªæˆ–å¤šä¸ªæ§½ï¼ˆslotï¼‰æŒ‡æ´¾ï¼ˆassignï¼‰ç»™å½“å‰èŠ‚ç‚¹ CLUSTER DELSLOTS \u003cslot\u003e [slot ...] ç§»é™¤ä¸€ä¸ªæˆ–å¤šä¸ªæ§½å¯¹å½“å‰èŠ‚ç‚¹çš„æŒ‡æ´¾ CLUSTER FLUSHSLOTS ç§»é™¤æŒ‡æ´¾ç»™å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰æ§½ï¼Œè®©å½“å‰èŠ‚ç‚¹å˜æˆä¸€ä¸ªæ²¡æœ‰æŒ‡æ´¾ä»»ä½•æ§½çš„èŠ‚ç‚¹ CLUSTER SETSLOT \u003cslot\u003e NODE \u003cnode_id\u003e å°†æ§½ slot æŒ‡æ´¾ç»™ node_id æŒ‡å®šçš„èŠ‚ç‚¹ï¼Œå¦‚æœæ§½å·²ç»æŒ‡æ´¾ç»™å¦ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆå…ˆè®©å¦ä¸€ä¸ªèŠ‚ç‚¹åˆ é™¤è¯¥æ§½ï¼Œç„¶åå†è¿›è¡ŒæŒ‡æ´¾ CLUSTER SETSLOT \u003cslot\u003e MIGRATING \u003cnode_id\u003e å°†æœ¬èŠ‚ç‚¹çš„æ§½ slot è¿ç§»åˆ° node_id æŒ‡å®šçš„èŠ‚ç‚¹ä¸­ CLUSTER SETSLOT \u003cslot\u003e IMPORTING \u003cnode_id\u003e ä» node_id æŒ‡å®šçš„èŠ‚ç‚¹ä¸­å¯¼å…¥æ§½ slot åˆ°æœ¬èŠ‚ç‚¹ CLUSTER SETSLOT \u003cslot\u003e STABLE å–æ¶ˆå¯¹æ§½ slot çš„å¯¼å…¥ï¼ˆimportï¼‰æˆ–è€…è¿ç§»ï¼ˆmigrateï¼‰ CLUSTER KEYSLOT \u003ckey\u003e è®¡ç®—é”® key åº”è¯¥è¢«æ”¾ç½®åœ¨å“ªä¸ªæ§½ä¸Š CLUSTER COUNTKEYSINSLOT \u003cslot\u003e è¿”å›æ§½ slot ç›®å‰åŒ…å«çš„é”®å€¼å¯¹æ•°é‡ CLUSTER GETKEYSINSLOT \u003cslot\u003e \u003ccount\u003e è¿”å› count ä¸ª slot æ§½ä¸­çš„é”® ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:5:6","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"å®ä¾‹æ“ä½œ ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:6:0","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"å®¢æˆ·ç«¯æ“ä½œ // ä»æŸä¸ªèŠ‚ç‚¹è®¾ç½®å€¼åï¼Œå»ä¸åŒçš„èŠ‚ç‚¹è·å–è®¾ç½®çš„å€¼ $ /usr/local/redis-cluster/bin/redis-cli -c -h 192.168.33.110 -p 7001 192.168.33.110:7001\u003e set foo bar -\u003e Redirected to slot [12182] located at 192.168.33.110:7003 OK $ /usr/local/redis-cluster/bin/redis-cli -c -h 192.168.33.110 -p 7001 192.168.33.110:7001\u003e get foo -\u003e Redirected to slot [12182] located at 192.168.33.110:7003 \"bar\" $ /usr/local/redis-cluster/bin/redis-cli -c -h 192.168.33.110 -p 7002 192.168.33.110:7002\u003e get foo -\u003e Redirected to slot [12182] located at 192.168.33.110:7003 \"bar\" $ /usr/local/redis-cluster/bin/redis-cli -c -h 192.168.33.110 -p 7003 192.168.33.110:7003\u003e get foo \"bar\" $ /usr/local/redis-cluster/bin/redis-cli -c -h 192.168.33.110 -p 7004 192.168.33.110:7004\u003e get foo -\u003e Redirected to slot [12182] located at 192.168.33.110:7003 \"bar\" $ /usr/local/redis-cluster/bin/redis-cli -c -h 192.168.33.110 -p 7005 192.168.33.110:7005\u003e get foo -\u003e Redirected to slot [12182] located at 192.168.33.110:7003 \"bar\" $ /usr/local/redis-cluster/bin/redis-cli -c -h 192.168.33.110 -p 7006 192.168.33.110:7006\u003e get foo -\u003e Redirected to slot [12182] located at 192.168.33.110:7003 \"bar\" ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:6:1","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Redis"],"content":"ç¨‹åºæ“ä½œ ä¸‹è½½å®‰è£… Flexible and feature-complete Redis client for PHP and HHVM Quick tour $ cd ~ $ mkdir test $ cd test $ composer init $ composer install $ composer require predis/predis æµ‹è¯•ä»£ç  \u003c?php require __DIR__ . '/vendor/autoload.php'; for ($i = 0; $i \u003c 6; $i++) { $parameters[] = [ 'host' =\u003e '192.168.33.110', 'port' =\u003e '700' . $i, 'password' =\u003e null, 'database' =\u003e 0, 'timeout' =\u003e 5, 'read_write_timeout' =\u003e 5, ]; } $options = ['cluster' =\u003e 'redis']; try { $cluster = new \\Predis\\Client($parameters, $options); } catch (\\Predis\\PredisException $e) { echo $e-\u003egetMessage(); exit(); } for ($i = 1; $i \u003c 100; $i++) { $format = 'No.%s is a RedisCluster test.'; $cluster-\u003eset(\"$i\", sprintf($format, $i)); echo $cluster-\u003eget(\"$i\") . PHP_EOL; } æµ‹è¯•ç»“æœ $ php cluster.php No.1 is a Redis cluster test. No.2 is a Redis cluster test. No.3 is a Redis cluster test. ... No.99 is a Redis cluster test. $ /usr/local/redis-cluster/bin/redis-cli -c -h 192.168.33.110 -p 7001 192.168.33.110:7001\u003e get 11 \"No.11 is a RedisCluster test.\" 192.168.33.110:7001\u003e get 23 -\u003e Redirected to slot [9671] located at 192.168.33.110:7002 \"No.23 is a RedisCluster test.\" 192.168.33.110:7002\u003e get 33 \"No.33 is a RedisCluster test.\" 192.168.33.110:7002\u003e get 67 \"No.67 is a RedisCluster test.\" 192.168.33.110:7002\u003e get 88 -\u003e Redirected to slot [15207] located at 192.168.33.110:7003 \"No.88 is a RedisCluster test.\" 192.168.33.110:7003\u003e get 99 -\u003e Redirected to slot [6263] located at 192.168.33.110:7002 \"No.99 is a RedisCluster test.\" 192.168.33.110:7002\u003e get 100 -\u003e Redirected to slot [339] located at 192.168.33.110:7001 (nil) 192.168.33.110:7001\u003e get 17 -\u003e Redirected to slot [12304] located at 192.168.33.110:7003 \"No.17 is a RedisCluster test.\" 192.168.33.110:7003\u003e get 42 -\u003e Redirected to slot [8000] located at 192.168.33.110:7002 \"No.42 is a RedisCluster test.\" 192.168.33.110:7002\u003e get 56 -\u003e Redirected to slot [11509] located at 192.168.33.110:7003 \"No.56 is a RedisCluster test.\" 192.168.33.110:7003\u003e get 61 -\u003e Redirected to slot [2369] located at 192.168.33.110:7001 \"No.61 is a RedisCluster test.\" ","date":"2020-01-16","objectID":"/2020/01/16/redis-cluster/:6:2","tags":["Redis"],"title":"Redis é›†ç¾¤æ­å»º","uri":"/2020/01/16/redis-cluster/"},{"categories":["Linux"],"content":"Crontab å‘½ä»¤è¢«ç”¨æ¥æäº¤å’Œç®¡ç†ç”¨æˆ·çš„éœ€è¦å‘¨æœŸæ€§æ‰§è¡Œçš„ä»»åŠ¡ã€‚ ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:0:0","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"ç®€ä»‹ é€šè¿‡ crontab å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å›ºå®šçš„é—´éš”æ—¶é—´æ‰§è¡ŒæŒ‡å®šçš„ç³»ç»ŸæŒ‡ä»¤æˆ– shell script è„šæœ¬ã€‚æ—¶é—´é—´éš”çš„å•ä½å¯ä»¥æ˜¯åˆ†é’Ÿã€å°æ—¶ã€æ—¥ã€æœˆã€å‘¨åŠä»¥ä¸Šçš„ä»»æ„ç»„åˆã€‚è¿™ä¸ªå‘½ä»¤éå¸¸é€‚åˆå‘¨æœŸæ€§çš„æ—¥å¿—åˆ†ææˆ–æ•°æ®å¤‡ä»½ç­‰å·¥ä½œã€‚ ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:1:0","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"é€‰é¡¹ -eï¼šç¼–è¾‘è¯¥ç”¨æˆ·çš„è®¡æ—¶å™¨è®¾ç½®ï¼› -lï¼šåˆ—å‡ºè¯¥ç”¨æˆ·çš„è®¡æ—¶å™¨è®¾ç½®ï¼› -rï¼šåˆ é™¤è¯¥ç”¨æˆ·çš„è®¡æ—¶å™¨è®¾ç½®ï¼› -u\u003cusername\u003eï¼šæŒ‡å®šè¦è®¾å®šè®¡æ—¶å™¨çš„ç”¨æˆ·åç§°ã€‚ ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:2:0","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"ä»»åŠ¡è°ƒåº¦ ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:3:0","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"ç³»ç»Ÿä»»åŠ¡è°ƒåº¦ ç³»ç»Ÿä»»åŠ¡è°ƒåº¦ æ˜¯ç³»ç»Ÿå‘¨æœŸæ€§æ‰€è¦æ‰§è¡Œçš„å·¥ä½œï¼Œæ¯”å¦‚å†™ç¼“å­˜æ•°æ®åˆ°ç¡¬ç›˜ã€æ—¥å¿—æ¸…ç†ç­‰ã€‚åœ¨ /etc ç›®å½•ä¸‹æœ‰ä¸€ä¸ª crontab æ–‡ä»¶ï¼Œè¿™ä¸ªå°±æ˜¯ç³»ç»Ÿä»»åŠ¡è°ƒåº¦çš„é…ç½®æ–‡ä»¶ã€‚ /etc/crontab æ–‡ä»¶åŒ…æ‹¬ä¸‹é¢å‡ è¡Œï¼š SHELL=/bin/bash # SHELLå˜é‡æŒ‡å®šäº†ç³»ç»Ÿè¦ä½¿ç”¨å“ªä¸ª shellï¼Œè¿™é‡Œæ˜¯ bash PATH=/sbin:/bin:/usr/sbin:/usr/bin # PATH å˜é‡æŒ‡å®šäº†ç³»ç»Ÿæ‰§è¡Œå‘½ä»¤çš„è·¯å¾„ MAILTO=\"\" # MAILTO å˜é‡æŒ‡å®šäº† crond çš„ä»»åŠ¡æ‰§è¡Œä¿¡æ¯å°†é€šè¿‡ç”µå­é‚®ä»¶å‘é€ç»™ root ç”¨æˆ·ï¼Œå¦‚æœ MAILTO å˜é‡çš„å€¼ä¸ºç©ºï¼Œåˆ™è¡¨ç¤ºä¸å‘é€ä»»åŠ¡æ‰§è¡Œä¿¡æ¯ç»™ç”¨æˆ· HOME=/ # HOME å˜é‡æŒ‡å®šäº†åœ¨æ‰§è¡Œå‘½ä»¤æˆ–è€…è„šæœ¬æ—¶ä½¿ç”¨çš„ä¸»ç›®å½• # run-parts 51 * * * * root run-parts /etc/cron.hourly 24 7 * * * root run-parts /etc/cron.daily 22 4 * * 0 root run-parts /etc/cron.weekly 42 4 1 * * root run-parts /etc/cron.monthly ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:3:1","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"ç”¨æˆ·ä»»åŠ¡è°ƒåº¦ ç”¨æˆ·ä»»åŠ¡è°ƒåº¦ æ˜¯ç”¨æˆ·å®šæœŸè¦æ‰§è¡Œçš„å·¥ä½œï¼Œæ¯”å¦‚ç”¨æˆ·æ•°æ®å¤‡ä»½ã€å®šæ—¶é‚®ä»¶æé†’ç­‰ã€‚ç”¨æˆ·å¯ä»¥ä½¿ç”¨ crontab å·¥å…·æ¥å®šåˆ¶è‡ªå·±çš„è®¡åˆ’ä»»åŠ¡ã€‚æ‰€æœ‰ç”¨æˆ·å®šä¹‰çš„ crontab æ–‡ä»¶éƒ½è¢«ä¿å­˜åœ¨ /var/spool/cron ç›®å½•ä¸­ã€‚å…¶æ–‡ä»¶åä¸ç”¨æˆ·åä¸€è‡´ï¼Œä½¿ç”¨è€…æƒé™æ–‡ä»¶å¦‚ä¸‹ï¼š /etc/cron.deny è¯¥æ–‡ä»¶ä¸­æ‰€åˆ—ç”¨æˆ·ä¸å…è®¸ä½¿ç”¨ crontab å‘½ä»¤ï¼› /etc/cron.allow è¯¥æ–‡ä»¶ä¸­æ‰€åˆ—ç”¨æˆ·å…è®¸ä½¿ç”¨ crontab å‘½ä»¤ï¼› /var/spool/cron/ æ‰€æœ‰ç”¨æˆ· crontab æ–‡ä»¶å­˜æ”¾çš„ç›®å½•ï¼Œä»¥ç”¨æˆ·åå‘½åã€‚ ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:3:2","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"æ–‡ä»¶æ ¼å¼ åœ¨ä»¥ä¸Šå„ä¸ªå­—æ®µä¸­ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç‰¹æ®Šå­—ç¬¦ï¼š *ï¼šä»£è¡¨æ‰€æœ‰å¯èƒ½çš„å€¼ï¼Œä¾‹å¦‚ month å­—æ®µå¦‚æœæ˜¯æ˜Ÿå·ï¼Œåˆ™è¡¨ç¤ºåœ¨æ»¡è¶³å…¶å®ƒå­—æ®µçš„åˆ¶çº¦æ¡ä»¶åæ¯æœˆéƒ½æ‰§è¡Œè¯¥å‘½ä»¤æ“ä½œï¼› ,ï¼šå¯ä»¥ç”¨é€—å·éš”å¼€çš„å€¼æŒ‡å®šä¸€ä¸ªåˆ—è¡¨èŒƒå›´ï¼Œä¾‹å¦‚ï¼š1,2,5,7,8,9ï¼› -ï¼šå¯ä»¥ç”¨æ•´æ•°ä¹‹é—´çš„ä¸­æ è¡¨ç¤ºä¸€ä¸ªæ•´æ•°èŒƒå›´ï¼Œä¾‹å¦‚ï¼š2-6 è¡¨ç¤º 2,3,4,5,6ï¼› /ï¼šå¯ä»¥ç”¨æ­£æ–œçº¿æŒ‡å®šæ—¶é—´çš„é—´éš”é¢‘ç‡ï¼Œä¾‹å¦‚ï¼š0-23/2 è¡¨ç¤ºæ¯ä¸¤å°æ—¶æ‰§è¡Œä¸€æ¬¡ã€‚åŒæ—¶æ­£æ–œçº¿å¯ä»¥å’Œæ˜Ÿå·ä¸€èµ·ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š*/10ï¼Œå¦‚æœç”¨åœ¨ minute å­—æ®µï¼Œè¡¨ç¤ºæ¯ååˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ã€‚ ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:4:0","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"ä½¿ç”¨å®ä¾‹ {% note info %} æœ€å¥½åœ¨ crontab æ–‡ä»¶çš„æ¯ä¸€ä¸ªæ¡ç›®ä¹‹ä¸ŠåŠ å…¥ä¸€æ¡æ³¨é‡Šï¼Œè¿™æ ·å°±å¯ä»¥çŸ¥é“å®ƒçš„åŠŸèƒ½ã€è¿è¡Œæ—¶é—´ï¼Œæ›´ä¸ºé‡è¦çš„æ˜¯ï¼ŒçŸ¥é“è¿™æ˜¯å“ªä½ç”¨æˆ·çš„å®šæ—¶ä½œä¸šã€‚ {%endnote %} ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:5:0","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"æ¯ 1 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡å‘½ä»¤ * * * * * command ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:5:1","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"æ¯å°æ—¶çš„ç¬¬ 3 å’Œç¬¬ 15 åˆ†é’Ÿæ‰§è¡Œ 3,15 * * * * command ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:5:2","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"ä¸Šåˆ 8 ç‚¹åˆ° 11 ç‚¹çš„ç¬¬ 3 å’Œç¬¬ 15 åˆ†é’Ÿæ‰§è¡Œ 3,15 8-11 * * * command ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:5:3","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"æ¯éš”ä¸¤å¤©çš„ä¸Šåˆ 8 ç‚¹åˆ° 11 ç‚¹çš„ç¬¬ 3 å’Œç¬¬ 15 åˆ†é’Ÿæ‰§è¡Œ 3,15 8-11 */2 * * command ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:5:4","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"æ¯ä¸ªæ˜ŸæœŸä¸€çš„ä¸Šåˆ 8 ç‚¹åˆ° 11 ç‚¹çš„ç¬¬ 3 å’Œç¬¬ 15 åˆ†é’Ÿæ‰§è¡Œ 3,15 8-11 * * 1 command ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:5:5","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"æ¯æ™šçš„ 21:30 é‡å¯ smb 30 21 * * * /etc/init.d/smb restart ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:5:6","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"æ¯æœˆ 1ã€10ã€22 æ—¥çš„ 4:45 é‡å¯ smb 45 4 1,10,22 * * /etc/init.d/smb restart ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:5:7","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"æ¯å‘¨å…­ã€å‘¨æ—¥çš„ 1:10 é‡å¯ smb 10 1 * * 6,0 /etc/init.d/smb restart ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:5:8","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"æ¯å¤© 18:00 è‡³ 23:00 ä¹‹é—´æ¯éš” 30 åˆ†é’Ÿé‡å¯ smb 0,30 18-23 * * * /etc/init.d/smb restart ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:5:9","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"æ¯æ˜ŸæœŸå…­çš„æ™šä¸Š 11:00 PM é‡å¯ smb 0 23 * * 6 /etc/init.d/smb restart ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:5:10","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"æ¯ä¸€å°æ—¶é‡å¯ smb * */1 * * * /etc/init.d/smb restart ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:5:11","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"æ™šä¸Š 11 ç‚¹åˆ°æ—©ä¸Š 7 ç‚¹ä¹‹é—´ï¼Œæ¯éš”ä¸€å°æ—¶é‡å¯ smb * 23-7/1 * * * /etc/init.d/smb restart ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:5:12","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"æ¯æœˆçš„ 4 å·ä¸æ¯å‘¨ä¸€åˆ°å‘¨ä¸‰çš„ 11 ç‚¹é‡å¯ smb 0 11 4 * mon-wed /etc/init.d/smb restart ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:5:13","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"ä¸€æœˆä¸€å·çš„ 4 ç‚¹é‡å¯ smb 0 4 1 jan * /etc/init.d/smb restart ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:5:14","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"æ¯å°æ—¶æ‰§è¡Œ /etc/cron.hourly ç›®å½•å†…çš„è„šæœ¬ 01 * * * * root run-parts /etc/cron.hourly ","date":"2019-12-29","objectID":"/2019/12/29/linux-crontab-command/:5:15","tags":["Linux"],"title":"Linux crontab å‘½ä»¤","uri":"/2019/12/29/linux-crontab-command/"},{"categories":["Linux"],"content":"æ˜¯æ—¶å€™ä½“éªŒä¸‹ iproute2 ç½‘ç»œé…ç½®å·¥å…·å…¨å®¶æ¡¶äº†ï¼Œnet-tools å®¶æ—æœ‰çš„ iproute2 ä¸€æ ·ä¹Ÿä¸å·®ã€‚æˆ‘èµ·åˆä¹Ÿä¸çŸ¥é“ï¼Œç›´åˆ°æ–°ä¹°çš„ç™¾åº¦äº‘æœåŠ¡å™¨æŸ¥çœ‹åœ°å€æ—¶å‡ºç°command not foundï¼Œæ‰æŸ¥é˜…èµ„æ–™äº†è§£äº†ä¸€ä¸‹ï¼ŒåŸæ¥ net-tools è¿™è´§å·²ç»å¯¿ç»ˆæ­£å¯äº†ã€‚Arch Linux å’Œ CentOS å·²ç»å®Œå…¨æŠ›å¼ƒäº† net-toolsï¼Œåªæ”¯æŒ iproute2ã€‚ ","date":"2019-12-04","objectID":"/2019/12/04/linux-network-conf-tools/:0:0","tags":["Linux"],"title":"Linux ç½‘ç»œé…ç½®å·¥å…·","uri":"/2019/12/04/linux-network-conf-tools/"},{"categories":["Linux"],"content":"net-tools net-tools å‘½ä»¤ æè¿° ifconfig -a æ˜¾ç¤ºæ‰€æœ‰å·²è¿æ¥çš„ç½‘ç»œæ¥å£ sudo ifconfig eth1 up æ¿€æ´»ç½‘ç»œæ¥å£ sudo ifconfig eth1 down åœç”¨ç½‘ç»œæ¥å£ sudo ifconfig eth1 10.0.0.1/24 ä¸ºç½‘ç»œæ¥å£åˆ†é… IPv4 åœ°å€ sudo ifconfig eth1 0 ç§»é™¤ç½‘ç»œæ¥å£çš„ IPv4 åœ°å€ ifconfig eth1 æ˜¾ç¤ºç½‘ç»œæ¥å£çš„ IPv4 æˆ– IPv6 åœ°å€ sudo ifconfig eth1 inet6 add 2080::f816:3ea1:fe98:7b20/64 ä¸ºç½‘ç»œæ¥å£åˆ†é… IPv6 åœ°å€ sudo ifconfig eth1 inet6 del 2080::f816:3ea1:fe98:7b20/64 ç§»é™¤ç½‘ç»œè®¾å¤‡çš„ IPv6 åœ°å€ sudo ifconfig eth1 hw ether 00:16:3e:04:d9:97 æ”¹å˜ç½‘ç»œæ¥å£çš„ MAC åœ°å€ route -n æˆ– netstat -rn æŸ¥çœ‹ IP è·¯ç”±è¡¨ sudo route add default gw 192.168.1.2 eth0 æ·»åŠ é»˜è®¤è·¯ç”± sudo route del default gw 192.168.1.1 eth0 ä¿®æ”¹é»˜è®¤è·¯ç”± sudo route add -net 172.16.32.0/24 gw 192.168.1.1 dev eth0 æ·»åŠ é™æ€è·¯ç”± sudo route del -net 172.16.32.0/24 ç§»é™¤é™æ€è·¯ç”± netstat æˆ– netstat -l æŸ¥çœ‹å¥—æ¥å­—ç»Ÿè®¡ä¿¡æ¯ arp -an æŸ¥çœ‹ ARP è¡¨ sudo arp -s 192.168.1.100 00:16:3e:04:d9:07 æ·»åŠ é™æ€ ARP é¡¹ sudo arp -d 192.168.1.100 åˆ é™¤é™æ€ ARP é¡¹ sudo ipmaddr add 33:44:00:00:00:01 dev eth0 æ·»åŠ å¤šæ’­åœ°å€ sudo ipmaddr del 33:44:00:00:00:01 dev eth0 åˆ é™¤å¤šæ’­åœ°å€ ipmaddr show dev eth0 æˆ– netstat -g æŸ¥çœ‹å¤šæ’­åœ°å€ ","date":"2019-12-04","objectID":"/2019/12/04/linux-network-conf-tools/:1:0","tags":["Linux"],"title":"Linux ç½‘ç»œé…ç½®å·¥å…·","uri":"/2019/12/04/linux-network-conf-tools/"},{"categories":["Linux"],"content":"iproute2 iproute2 Linux routing utilities å‘½ä»¤ æè¿° ip link show æ˜¾ç¤ºæ‰€æœ‰å·²è¿æ¥çš„ç½‘ç»œæ¥å£ sudo ip link set up eth1 æ¿€æ´»ç½‘ç»œæ¥å£ sudo ip link set down eth1 åœç”¨ç½‘ç»œæ¥å£ sudo ip addr add 10.0.0.1/24 dev eth1 ä¸ºç½‘ç»œæ¥å£åˆ†é… IPv4 åœ°å€ sudo ip addr del 10.0.0.1/24 dev eth1 ç§»é™¤ç½‘ç»œæ¥å£çš„ IPv4 åœ°å€ ip addr show dev eth1 æˆ– ip -6 addr show dev eth1 æ˜¾ç¤ºç½‘ç»œæ¥å£çš„ IPv4 æˆ– IPv6 åœ°å€ sudo ip -6 addr add 2002:0db5:0:f102::1/64 dev eth1 ä¸ºç½‘ç»œæ¥å£åˆ†é… IPv6 åœ°å€ sudo ip -6 addr del 2002:0db5:0:f102::1/64 dev eth1 ç§»é™¤ç½‘ç»œè®¾å¤‡çš„ IPv6 åœ°å€ sudo ip link set dev eth1 address 00:16:3e:04:d9:97 æ”¹å˜ç½‘ç»œæ¥å£çš„ MAC åœ°å€ ip route show æŸ¥çœ‹ IP è·¯ç”±è¡¨ sudo ip route add default via 192.168.1.2 dev eth0 æ·»åŠ é»˜è®¤è·¯ç”± sudo ip route replace default via 192.168.1.2 dev eth0 ä¿®æ”¹é»˜è®¤è·¯ç”± sudo ip route add 172.16.32.0/24 via 192.168.1.1 dev eth0 æ·»åŠ é™æ€è·¯ç”± sudo ip route del 172.16.32.0/24 ç§»é™¤é™æ€è·¯ç”± ss æˆ– ss -l æŸ¥çœ‹å¥—æ¥å­—ç»Ÿè®¡ä¿¡æ¯ ip neigh æŸ¥çœ‹ ARP è¡¨ sudo ip neigh add 192.168.1.100 lladdr 00:0c:29:c0:5a:ef dev eth0 æ·»åŠ é™æ€ ARP é¡¹ sudo ip neigh del 192.168.1.100 dev eth0 åˆ é™¤é™æ€ ARP é¡¹ sudo ip maddr add 33:44:00:00:00:01 dev eth0 æ·»åŠ å¤šæ’­åœ°å€ sudo ip maddr del 33:44:00:00:00:01 dev eth0 åˆ é™¤å¤šæ’­åœ°å€ ip maddr list dev eth0 æŸ¥çœ‹å¤šæ’­åœ°å€ ","date":"2019-12-04","objectID":"/2019/12/04/linux-network-conf-tools/:2:0","tags":["Linux"],"title":"Linux ç½‘ç»œé…ç½®å·¥å…·","uri":"/2019/12/04/linux-network-conf-tools/"},{"categories":["Linux"],"content":"å‚è€ƒ Linux TCP/IP networking: net-tools vs. iproute2 ","date":"2019-12-04","objectID":"/2019/12/04/linux-network-conf-tools/:3:0","tags":["Linux"],"title":"Linux ç½‘ç»œé…ç½®å·¥å…·","uri":"/2019/12/04/linux-network-conf-tools/"},{"categories":["PHP"],"content":"æ¯å½“çœ‹åˆ° PHP å†™çš„å¾ˆå†—é•¿å¥‡è‡­çš„ä»£ç äº¦æˆ–ç‰‡æ®µï¼Œæˆ‘å°±æœ‰ä¸€è‚¡å°†å®ƒæ–©æˆå‡ èŠ‚çš„å†²åŠ¨ï¼Œæ— å¥ˆä¸­è‡ªæœ‰ä¸€ç§æ‹”å‰‘å››é¡¾å¿ƒèŒ«ç„¶ä¹‹æ„Ÿï¼ˆç”±äºä¸åŒçš„ PHP ç‰ˆæœ¬ï¼ŒåŠ ä¸Šè¯­æ³•çš„é™åˆ¶ï¼‰ã€‚æˆ‘åœ¨å¼€å‘å·¥å…·ä¸Šæ˜¯ä¸€ä¸ªæ¯”è¾ƒæŒ‘å‰”çš„äººï¼Œåœ¨ macOS ä¹ŸèŠ±äº†ä¸å°‘é’±è´­ç½®å·¥å…·ï¼Œæ¯æ¬¡çœ‹åˆ°å…¶å®ƒäººä¸ºäº†ç ´è§£å·¥å…·æŠ˜è…¾çš„æ­»å»æ´»æ¥ç—›ä¸æ¬²ç”Ÿæ—¶ï¼Œæˆ‘å·´ä¸å¾—ä»–ä»¬å¤šæŠ˜è…¾ä¸€ä¼šå„¿ã€‚ ","date":"2019-12-02","objectID":"/2019/12/02/php-some-ingenious-ways/:0:0","tags":["PHP"],"title":"PHP ä¸­çš„ä¸€äº›å·§å¦™å†™æ³•","uri":"/2019/12/02/php-some-ingenious-ways/"},{"categories":["PHP"],"content":"æ›´åŠ ä¼˜é›…çš„åˆ¤æ–­è¯­å¥ ","date":"2019-12-02","objectID":"/2019/12/02/php-some-ingenious-ways/:1:0","tags":["PHP"],"title":"PHP ä¸­çš„ä¸€äº›å·§å¦™å†™æ³•","uri":"/2019/12/02/php-some-ingenious-ways/"},{"categories":["PHP"],"content":"isset è¯­å¥ isset å‚ä¸åˆ¤æ–­èµ‹å€¼ \u003c?php $array = $_REQUEST; $result = ''; if (is_array($array) \u0026\u0026 isset($array['key'])) { $result = $array['key']; } æ”¹å†™ä¸º \u003c?php $array = (array) $_REQUEST; $result = $array['key'] ?? ''; isset å‚ä¸å¹¶ä¸”çš„å¤šä¸ªåˆ¤æ–­ \u003c?php $array = (array) $_REQUEST; $result = false; if (isset($array['a']) \u0026\u0026 isset($array['b']) \u0026\u0026 isset($array['c'])) { $result = true; } æ”¹å†™ä¸º \u003c?php $array = (array) $_REQUEST; $result = isset($array['a'], $array['b'], $array['c']); isset å‚ä¸æˆ–è€…çš„å¤šä¸ªåˆ¤æ–­ \u003c?php $array = (array) $_REQUEST; $result = false; if (isset($array['a']) || isset($array['b']) || isset($array['c'])) { $result = true; } æ”¹å†™ä¸º \u003c?php $array = (array) $_REQUEST; $result = isset($array['a']) || isset($array['b']) || isset($array['c']); ","date":"2019-12-02","objectID":"/2019/12/02/php-some-ingenious-ways/:1:1","tags":["PHP"],"title":"PHP ä¸­çš„ä¸€äº›å·§å¦™å†™æ³•","uri":"/2019/12/02/php-some-ingenious-ways/"},{"categories":["PHP"],"content":"empty è¯­å¥ empty å‚ä¸åˆ¤æ–­èµ‹å€¼ \u003c?php $array = ['a' =\u003e 0, 'b' =\u003e false, 'c' =\u003e '0']; $result = 'oldValue'; if (! empty($array['a']) \u0026\u0026 ! empty($array['b']) \u0026\u0026 ! empty($array['c'])) { $result = 'newValue'; } æ”¹å†™ä¸º \u003c?php $array = ['a' =\u003e 0, 'b' =\u003e false, 'c' =\u003e '0']; $result = $array['a'] ?: $array['b'] ?: $array['c'] ?: 'oldValue'; empty å‚ä¸å¹¶ä¸”çš„å¤šä¸ªåˆ¤æ–­ \u003c?php $array = ['a' =\u003e 1, 'b' =\u003e true, 'c' =\u003e 'null']; $result = false; if (! empty($array['a']) \u0026\u0026 ! empty($array['b']) \u0026\u0026 ! empty($array['c'])) { $result = true; } æ”¹å†™ä¸º \u003c?php $array = ['a' =\u003e 1, 'b' =\u003e true, 'c' =\u003e 'null']; $result = ! empty($array['a']) \u0026\u0026 ! empty($array['b']) \u0026\u0026 ! empty($array['c']); empty å‚ä¸æˆ–è€…çš„å¤šä¸ªåˆ¤æ–­ \u003c?php $array = ['a' =\u003e 1, 'b' =\u003e true, 'c' =\u003e 'null']; $result = false; if (! empty($array['a']) || ! empty($array['b']) || ! empty($array['c'])) { $result = true; } æ”¹å†™ä¸º \u003c?php $array = ['a' =\u003e 1, 'b' =\u003e true, 'c' =\u003e 'null']; $result = ! empty($array['a']) || ! empty($array['b']) || ! empty($array['c']); ","date":"2019-12-02","objectID":"/2019/12/02/php-some-ingenious-ways/:1:2","tags":["PHP"],"title":"PHP ä¸­çš„ä¸€äº›å·§å¦™å†™æ³•","uri":"/2019/12/02/php-some-ingenious-ways/"},{"categories":["PHP"],"content":"åˆ¤æ–­å¤§å°è¯­å¥ \u003c?php function compare(int $a, int $b): int { if ($a === $b) { return 0; } return $a \u003e $b ? 1 : -1; } æ”¹å†™ä¸º \u003c?php function compare(int $a, int $b): int { return $a \u003c=\u003e $b; } ","date":"2019-12-02","objectID":"/2019/12/02/php-some-ingenious-ways/:1:3","tags":["PHP"],"title":"PHP ä¸­çš„ä¸€äº›å·§å¦™å†™æ³•","uri":"/2019/12/02/php-some-ingenious-ways/"},{"categories":["PHP"],"content":"Null åˆå¹¶è¿ç®—ç¬¦ \u003c?php $array = ['a' =\u003e 0, 'b' =\u003e false, 'c' =\u003e null, 'd']; if (is_null($array['c'])) { $array['c'] = 'c is null'; } if ($array['d'] === null) { $array['d'] = 'd is null'; } æ”¹å†™ä¸º \u003c?php $array = ['a' =\u003e 0, 'b' =\u003e false, 'c' =\u003e null, 'd']; $array['c'] ??= 'c is null'; $array['d'] ??= 'd is null'; ","date":"2019-12-02","objectID":"/2019/12/02/php-some-ingenious-ways/:1:4","tags":["PHP"],"title":"PHP ä¸­çš„ä¸€äº›å·§å¦™å†™æ³•","uri":"/2019/12/02/php-some-ingenious-ways/"},{"categories":["PHP"],"content":"æ–¹æ³•å‚æ•°å˜çŸ­ æ–¹æ³•å‚æ•°å˜çŸ­çš„é£é™©æ—¶å¢åŠ äº†è°ƒç”¨çš„éš¾åº¦ï¼Œæ‰€ä»¥æ³¨é‡Šå°±å¾ˆå¿…è¦äº†ã€‚ä¸è¿‡å¸¦æ¥çš„å¥½å¤„æ—¶ï¼Œæ–¹æ³•çš„å¤ç”¨æ€§è¿œç”šå›ºå®šå‚æ•°ã€‚å°¤å…¶é€‚åˆé‡æ„çš„åœºæ™¯ï¼Œæ¯”å¦‚ï¼šä¹‹å‰çš„æ–¹æ³•ï¼ˆN å¤šçš„åœ°æ–¹è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼‰å¤šåŠ ä¸€ä¸ªå‚æ•° å°±å¯ä»¥å¤„ç† ç°åœ¨çš„é€»è¾‘ çš„åœºæ™¯ï¼Œæˆ‘æƒ³ä½ ä¸€å®šä¼šé‡åˆ°è¿‡ï¼Œå¦‚æœæ²¡æœ‰é‡åˆ°è¿‡ï¼Œåˆ«ç€æ€¥ï¼Œè¿Ÿæ—©çš„äº‹ã€‚ \u003c?php function test(string $a, string $b, string $c, string $d, string $e, array $f, bool $g = false) { var_dump($a, $b, $c, $d, $e, $f, $e); } æ”¹å†™ä¸º function test(...$args) { var_dump($args); } // æˆ–è€… function test() { var_dump(func_get_args()); } ","date":"2019-12-02","objectID":"/2019/12/02/php-some-ingenious-ways/:2:0","tags":["PHP"],"title":"PHP ä¸­çš„ä¸€äº›å·§å¦™å†™æ³•","uri":"/2019/12/02/php-some-ingenious-ways/"},{"categories":["PHP"],"content":"æ›´åŠ ä¼˜é›…çš„é¢„å®šä¹‰å˜é‡ \u003c?php function test(array $array, bool $printed = false): array { $a = ''; $b = []; $c = false; $d = 0; $e = new \\stdClass(); // TODO: å¤„ç†... $result = doSomething(); return $result ?: []; } æ”¹å†™ä¸º \u003c?php function test(array $array, bool $printed = false): array { [$a, $b, $c, $d, $e] = ['', [], false, 0, new \\stdClass()]; // TODO: å¤„ç†... $result = doSomething(); return $result ?: []; } ","date":"2019-12-02","objectID":"/2019/12/02/php-some-ingenious-ways/:3:0","tags":["PHP"],"title":"PHP ä¸­çš„ä¸€äº›å·§å¦™å†™æ³•","uri":"/2019/12/02/php-some-ingenious-ways/"},{"categories":["PHP"],"content":"ä½¿ç”¨æ ‡å‡†ç±»åº“ PHPæ ‡å‡†åº“ (SPL) SPLï¼Œå³ PHP æ ‡å‡†åº“ï¼ˆStandard PHP Libraryï¼‰ï¼Œä» PHP 5.0 èµ·å†…ç½®çš„ç»„ä»¶å’Œæ¥å£ï¼Œå¹¶ä¸”ä» PHP5.3 å·²é€æ¸çš„æˆç†Ÿã€‚SPL å…¶å®åœ¨æ‰€æœ‰çš„ PHP5 å¼€å‘ç¯å¢ƒä¸­è¢«å†…ç½®ï¼ŒåŒæ—¶æ— éœ€ä»»ä½•è®¾ç½®ã€‚ç„¶è€Œ SPL äº†ä¼¼ä¹è¢«æˆ‘ä»¬æ— è§†äº†ï¼Œæˆ‘ä»¬æ€»æ˜¯å–œæ¬¢é€ ä¸€äº›ä¸é è°±çš„è½®å­ä¹Ÿä¸æ„¿æ„èŠ±æ—¶é—´å»å­¦ä¹ ä¸€äº›æˆç†Ÿçš„è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡ SPL å·¥å…·é›†åˆæˆ‘ä»¬å°±å¯ä»¥è½»æ¾ç»„è£…ä¸€æŠŠç‘å£«å†›åˆ€ï¼Œå½“ç„¶ï¼Œæˆ‘è¿™ä¹ˆè¯´å¯èƒ½æœ‰äº›è‹ç™½æ— åŠ›ï¼Œå¦‚æœä½ åˆ·è¿‡ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼Œä½ ä¸€å®šæ‡‚ SPL çš„åŒ å¿ƒã€‚ ","date":"2019-12-02","objectID":"/2019/12/02/php-some-ingenious-ways/:4:0","tags":["PHP"],"title":"PHP ä¸­çš„ä¸€äº›å·§å¦™å†™æ³•","uri":"/2019/12/02/php-some-ingenious-ways/"},{"categories":["PHP"],"content":"å®ä¾‹ä¹‹æ–‡ä»¶ä¿¡æ¯ç±» \u003c?php $filename = __DIR__ . '/a.txt'; $info = new SplFileInfo($filename); var_dump($info-\u003egetBasename('.txt')); var_dump($info-\u003egetExtension()); var_dump($info-\u003egetFilename()); var_dump($info-\u003egetGroup()); var_dump(date('Y-m-d H:i:s', $info-\u003egetCTime())); var_dump(date('Y-m-d H:i:s', $info-\u003egetATime())); var_dump($info-\u003eisDir()); var_dump($info-\u003eisFile()); var_dump($info-\u003eisReadable()); var_dump($info-\u003eisWritable()); var_dump($info-\u003eisExecutable()); var_dump($info-\u003egetOwner()); // ç»“æœ string(1) \"a\" string(3) \"txt\" string(5) \"a.txt\" int(20) string(19) \"2019-12-03 03:18:21\" string(19) \"2019-12-03 03:18:22\" bool(false) bool(true) bool(true) bool(true) bool(false) int(501) ","date":"2019-12-02","objectID":"/2019/12/02/php-some-ingenious-ways/:4:1","tags":["PHP"],"title":"PHP ä¸­çš„ä¸€äº›å·§å¦™å†™æ³•","uri":"/2019/12/02/php-some-ingenious-ways/"},{"categories":["PHP"],"content":"å®ä¾‹ä¹‹ä¼˜å…ˆçº§é˜Ÿåˆ— \u003c?php $queue = new SplPriorityQueue(); $queue-\u003einsert('A', 3); $queue-\u003einsert('B', 6); $queue-\u003einsert('C', 1); $queue-\u003einsert('D', 2); $queue-\u003einsert('E', 5); $queue-\u003einsert('F', 4); var_dump($queue-\u003ecount()); while ($queue-\u003evalid()) { echo $queue-\u003ecurrent(), ' '; $queue-\u003enext(); } echo PHP_EOL; var_dump($queue-\u003ecompare('A', 'F')); // ç»“æœ int(6) B E F A D C int(-1) ","date":"2019-12-02","objectID":"/2019/12/02/php-some-ingenious-ways/:4:2","tags":["PHP"],"title":"PHP ä¸­çš„ä¸€äº›å·§å¦™å†™æ³•","uri":"/2019/12/02/php-some-ingenious-ways/"},{"categories":["PHP"],"content":"å…¶å®ƒ ","date":"2019-12-02","objectID":"/2019/12/02/php-some-ingenious-ways/:5:0","tags":["PHP"],"title":"PHP ä¸­çš„ä¸€äº›å·§å¦™å†™æ³•","uri":"/2019/12/02/php-some-ingenious-ways/"},{"categories":["PHP"],"content":"äº¤æ¢ä¸¤ä¸ªå˜é‡ \u003c?php $a = 1; $b = 2; [$b, $a] = [$a, $b]; var_dump($a, $b); // ç»“æœ int(2) int(1) æˆ–è€… \u003c?php $a = 1; $b = 2; $a ^= $b; $b ^= $a; $a ^= $b; var_dump($a, $b); // ç»“æœ int(2) int(1) \u003c?php $a = 1; $b = 2; $tmp = $a; $a = $b; $b = $tmp; var_dump($a, $b); // ç»“æœ int(2) int(1) ","date":"2019-12-02","objectID":"/2019/12/02/php-some-ingenious-ways/:5:1","tags":["PHP"],"title":"PHP ä¸­çš„ä¸€äº›å·§å¦™å†™æ³•","uri":"/2019/12/02/php-some-ingenious-ways/"},{"categories":["PHP"],"content":"å®šä¹‰å‡½æ•°å¹¶ç«‹å³æ‰§è¡Œ \u003c?php call_user_func(static function () { echo 'Hello World!'; }); ","date":"2019-12-02","objectID":"/2019/12/02/php-some-ingenious-ways/:5:2","tags":["PHP"],"title":"PHP ä¸­çš„ä¸€äº›å·§å¦™å†™æ³•","uri":"/2019/12/02/php-some-ingenious-ways/"},{"categories":["PHP"],"content":"é—­åŒ…å½“æˆå¯¹è±¡çš„æˆå‘˜æ–¹æ³•æˆ–è€…é™æ€æˆå‘˜æ–¹æ³• å…³äº bind å’Œ bindTo çš„å®˜ç½‘æ–‡æ¡£è§£é‡Šæœ‰ç‚¹ç»•ï¼Œå…¶å®å®ƒä»¬çš„åŠŸèƒ½ä¸ JS ä¸­çš„ call å’Œ apply å·®æ±‚ä¸å¤šï¼Œå¦å¤– JavaScript ä¸­ apply ã€call çš„è¯¦è§£ å®ä¾‹ä¸€ \u003c?php class Test { private function doSomething(array $array): array { return array_map('strtoupper', $array); } } $test = new Test(); $func = function (array $array) { return $this-\u003edoSomething($array); }; $result = $func-\u003ebindTo($test, $test)(['a', 'b', 'c', 'd']); var_dump($result); // ç»“æœ array(4) { [0]=\u003e string(1) \"A\" [1]=\u003e string(1) \"B\" [2]=\u003e string(1) \"C\" [3]=\u003e string(1) \"D\" } å®ä¾‹äºŒ \u003c?php trait DynamicDefinition { public function __call(string $name, $args = null) { if (is_callable($this-\u003e{$name})) { return call_user_func($this-\u003e{$name}, $args); } throw new \\RuntimeException(\"Method {$name} does not exist\"); } public function __set(string $name, $value = null) { $this-\u003e{$name} = is_callable($value) ? $value-\u003ebindTo($this, $this) : $value; } } class Foo { use DynamicDefinition; private string $privateValue = 'I am private'; } $foo = new Foo; $foo-\u003ebar = function (...$arguments) { $args = $arguments[0]; $prefix = implode('â£', $args); return $prefix . ' ' . $this-\u003eprivateValue; }; print $foo-\u003ebar('ğŸ™', 'ğŸ§¨', 'ğŸ‰'); // ç»“æœ ğŸ™â£ğŸ§¨â£ğŸ‰ I am private å®ä¾‹ä¸‰ \u003c?php class Foo { private static int $a = 11; private int $b = 22; } $aFunc = static function () { return Foo::$a; }; $bFunc = function () { return $this-\u003eb; }; $aResult = Closure::bind($aFunc, null, Foo::class); $bResult = Closure::bind($bFunc, new Foo(), Foo::class); var_dump($aResult(), $bResult()); ","date":"2019-12-02","objectID":"/2019/12/02/php-some-ingenious-ways/:5:3","tags":["PHP"],"title":"PHP ä¸­çš„ä¸€äº›å·§å¦™å†™æ³•","uri":"/2019/12/02/php-some-ingenious-ways/"},{"categories":["PHP"],"content":"æ•´ç†ä¸€ä¸‹ PHP-7.4.0 æä¾›çš„ä¸€äº›æ”¹è¿›å’Œæ–°ç‰¹æ€§ã€‚ Typed Properties Array Functions Limited Return Type Convariance and Argument Type Contravariance Unpacking Inside Arrays Numeric Literal Separator Weak References Allow Exception from __toString() Opcache Preloading Several Deprecations Extensions Removed from the Core ","date":"2019-11-29","objectID":"/2019/11/29/php-php74-new-features/:0:0","tags":["PHP"],"title":"PHP74 æ–°ç‰¹æ€§","uri":"/2019/11/29/php-php74-new-features/"},{"categories":["PHP"],"content":"æœ‰ç±»å‹çš„ç±»å±æ€§ ç±»å±æ€§ç°åœ¨æ”¯æŒç±»å‹å£°æ˜ã€‚ \u003c?php class User { public int $id; public string $name; } $user = new User(); $user-\u003eid = '123'; $user-\u003ename = 123; var_dump($user-\u003eid, $user-\u003ename); // ç»“æœ int(123) string(3) \"123\" ","date":"2019-11-29","objectID":"/2019/11/29/php-php74-new-features/:1:0","tags":["PHP"],"title":"PHP74 æ–°ç‰¹æ€§","uri":"/2019/11/29/php-php74-new-features/"},{"categories":["PHP"],"content":"ç®­å¤´å‡½æ•° ç®­å¤´å‡½æ•°ä¸ºä½¿ç”¨éšå¼æŒ‰å€¼èŒƒå›´ç»‘å®šå®šä¹‰å‡½æ•°æä¾›äº†ä¸€ç§ç®€å†™è¯­æ³•ã€‚ \u003c?php $factor = 10; $nums = array_map(fn($n) =\u003e $n * $factor, [1, 2, 3, 4]); var_dump($nums); // ç»“æœ array(4) { [0]=\u003e int(10) [1]=\u003e int(20) [2]=\u003e int(30) [3]=\u003e int(40) } ","date":"2019-11-29","objectID":"/2019/11/29/php-php74-new-features/:2:0","tags":["PHP"],"title":"PHP74 æ–°ç‰¹æ€§","uri":"/2019/11/29/php-php74-new-features/"},{"categories":["PHP"],"content":"æœ‰é™è¿”å›ç±»å‹åå˜å’Œå‚æ•°ç±»å‹é€†å˜ \u003c?php class A { } class B extends A { } class Producer { public function method(): A { echo __METHOD__, PHP_EOL; return new A(); } } class ChildProducer extends Producer { public function method(): B { echo __METHOD__, PHP_EOL; return new B(); } } $producer = new Producer(); $childProducer = new ChildProducer(); if ($producer-\u003emethod() instanceof A) { var_dump('æˆ‘ç‰¹ä¹ˆå°±è¿”å› A çš„å®ä¾‹'); } if ($childProducer-\u003emethod() instanceof B) { var_dump('æˆ‘ç‰¹ä¹ˆå°±è¿”å› B çš„å®ä¾‹'); } // ç»“æœ Producer::method string(30) \"æˆ‘ç‰¹ä¹ˆå°±è¿”å› A çš„å®ä¾‹\" ChildProducer::method string(30) \"æˆ‘ç‰¹ä¹ˆå°±è¿”å› B çš„å®ä¾‹\" ","date":"2019-11-29","objectID":"/2019/11/29/php-php74-new-features/:3:0","tags":["PHP"],"title":"PHP74 æ–°ç‰¹æ€§","uri":"/2019/11/29/php-php74-new-features/"},{"categories":["PHP"],"content":"NULL åˆå¹¶è¿ç®—ç¬¦ \u003c?php function defaultValue(): string { return ''; } $array = $_REQUEST; // PHP74 ä¹‹å‰ if (! isset($array['key'])) { $array['key'] = defaultValue(); } // PHP74 å¼€å§‹ $array['key'] ??= defaultValue(); // è™½ç„¶ä»¥ä¸‹ä»£ç ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯æœ¬äººå¼ºçƒˆåå¯¹è¿™æ ·å†™ï¼Œä¸è¦é—®æˆ‘ä¸ºä»€ä¹ˆã€‚ä»£ç å—æˆ‘æ€»æ˜¯ç”¨ {} åŒ…èµ·æ¥ if (! isset($array['key'])) $array['key'] = defaultValue(); ","date":"2019-11-29","objectID":"/2019/11/29/php-php74-new-features/:4:0","tags":["PHP"],"title":"PHP74 æ–°ç‰¹æ€§","uri":"/2019/11/29/php-php74-new-features/"},{"categories":["PHP"],"content":"åœ¨æ•°ç»„å†…éƒ¨å±•å¼€å…ƒç´  \u003c?php $parts = ['apple', 'pear']; $fruits = ['banana', 'orange', ...$parts, 'watermelon']; var_dump($fruits); // ç»“æœ array(5) { [0]=\u003e string(6) \"banana\" [1]=\u003e string(6) \"orange\" [2]=\u003e string(5) \"apple\" [3]=\u003e string(4) \"pear\" [4]=\u003e string(10) \"watermelon\" } ","date":"2019-11-29","objectID":"/2019/11/29/php-php74-new-features/:5:0","tags":["PHP"],"title":"PHP74 æ–°ç‰¹æ€§","uri":"/2019/11/29/php-php74-new-features/"},{"categories":["PHP"],"content":"æ•°å­—å­—é¢é‡åˆ†éš”ç¬¦ äººçœ¼å¹¶æœªé’ˆå¯¹å¿«é€Ÿè§£æé•¿æ•°å­—åºåˆ—è¿›è¡Œä¼˜åŒ–ã€‚ å› æ­¤ï¼Œç¼ºå°‘è§†è§‰åˆ†éš”ç¬¦ä¼šä½¿è¯»å–å’Œè°ƒè¯•ä»£ç èŠ±è´¹æ›´é•¿çš„æ—¶é—´ï¼Œå¹¶å¯èƒ½å¯¼è‡´æ„å¤–é”™è¯¯ã€‚ æ‰€ä»¥ æ•°å­—å­—é¢é‡åˆ†éš”ç¬¦ å°±æ˜¯è§£å†³äººçœ¼å¿«é€Ÿè¯†åˆ«è€Œåšå‡ºçš„ä¼˜åŒ–ï¼Œä½ çœ‹ï¼Œä»£ç çš„çš„ç¡®ç¡®æ˜¯æœºå™¨å»æ‰§è¡Œçš„ï¼Œä½†æ›´é‡è¦çš„æ˜¯ å¯è¯»ã€å¯å†™ã€å¯èµã€å¯èµ ğŸ˜‚ã€‚ 6.674_083e-11; // float 299_792_458; // decimal 0xCAFE_F00D; // hexadecimal 0b0101_1111; // binary 0137_041; // octal 1_000_000; // versus 1000000 3.141_592; // versus 3.141592 0x02_56_12; // versus 0x025612 0b0010_1101; // versus 0b00101101 0267_3432; // versus 02673432 1_123.456_7e2 // versus 1123.4567e2 \u003c?php usleep(345126); // without separator usleep(345_126); // with separator if (12345678989876 === 12345678998876) { echo 'Equal'; } else { echo 'Unequal'; } echo PHP_EOL; if (12_345_678_989_876 === 12_345_678_998_876) { echo 'Equal'; } else { echo 'Unequal'; } ","date":"2019-11-29","objectID":"/2019/11/29/php-php74-new-features/:6:0","tags":["PHP"],"title":"PHP74 æ–°ç‰¹æ€§","uri":"/2019/11/29/php-php74-new-features/"},{"categories":["PHP"],"content":"å¼±å¼•ç”¨ ","date":"2019-11-29","objectID":"/2019/11/29/php-php74-new-features/:7:0","tags":["PHP"],"title":"PHP74 æ–°ç‰¹æ€§","uri":"/2019/11/29/php-php74-new-features/"},{"categories":["PHP"],"content":"å…è®¸æ¥è‡ª toString() çš„å¼‚å¸¸ Request #53648 Allow __toString() to throw exceptions \u003c?php class CustomException extends \\Exception { } class Foo { public function __toString() { throw new CustomException('Oops!'); } } $foo = new Foo(); try { var_dump((string) $foo); } catch (CustomException $e) { var_dump($e); } // ç»“æœ // PHP56 PHP Fatal error: Method Foo::__toString() must not throw an exception in /path/to/User.php on line 0 // PHP73 PHP Fatal error: Method Foo::__toString() must not throw an exception, caught CustomException: Oops! in /path/to/a.php on line 0 // PHP74 object(CustomException)#2 (7) { [\"message\":protected]=\u003e string(5) \"Oops!\" [\"string\":\"Exception\":private]=\u003e string(0) \"\" [\"code\":protected]=\u003e int(0) [\"file\":protected]=\u003e string(47) \"/Users/xxx/Codes/example/untitled/User.php\" [\"line\":protected]=\u003e int(11) [\"trace\":\"Exception\":private]=\u003e array(1) { [0]=\u003e array(6) { [\"file\"]=\u003e string(47) \"/Users/xxx/Codes/example/untitled/User.php\" [\"line\"]=\u003e int(18) [\"function\"]=\u003e string(10) \"__toString\" [\"class\"]=\u003e string(3) \"Foo\" [\"type\"]=\u003e string(2) \"-\u003e\" [\"args\"]=\u003e array(0) { } } } [\"previous\":\"Exception\":private]=\u003e NULL } ","date":"2019-11-29","objectID":"/2019/11/29/php-php74-new-features/:8:0","tags":["PHP"],"title":"PHP74 æ–°ç‰¹æ€§","uri":"/2019/11/29/php-php74-new-features/"},{"categories":["PHP"],"content":"Opcache é¢„åŠ è½½ opcache.preload stringï¼šæŒ‡å®šè¦åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶æœŸè¿›è¡Œç¼–è¯‘å’Œç¼“å­˜çš„ PHP è„šæœ¬æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä¹Ÿå¯èƒ½é€šè¿‡ include æˆ–è€… opcache_compile_file() å‡½æ•°æ¥é¢„åŠ è½½å…¶ä»–æ–‡ä»¶ã€‚æ‰€æœ‰è¿™äº›æ–‡ä»¶ä¸­åŒ…å«çš„å®ä½“ï¼ŒåŒ…æ‹¬å‡½æ•°ã€ç±»ç­‰ï¼Œåœ¨æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™å°±è¢«åŠ è½½å’Œç¼“å­˜ï¼Œå¯¹äºç”¨æˆ·ä»£ç æ¥è®²æ˜¯ã€å¼€ç®±å¯ç”¨ã€çš„ã€‚ ","date":"2019-11-29","objectID":"/2019/11/29/php-php74-new-features/:9:0","tags":["PHP"],"title":"PHP74 æ–°ç‰¹æ€§","uri":"/2019/11/29/php-php74-new-features/"},{"categories":["PHP"],"content":"ä¸€äº›ä¸æ¨è Deprecated Features ","date":"2019-11-29","objectID":"/2019/11/29/php-php74-new-features/:10:0","tags":["PHP"],"title":"PHP74 æ–°ç‰¹æ€§","uri":"/2019/11/29/php-php74-new-features/"},{"categories":["PHP"],"content":"ä»æ ¸å¿ƒä¸­ç§»é™¤çš„æ‰©å±• Removed Extensions ","date":"2019-11-29","objectID":"/2019/11/29/php-php74-new-features/:11:0","tags":["PHP"],"title":"PHP74 æ–°ç‰¹æ€§","uri":"/2019/11/29/php-php74-new-features/"},{"categories":["MySQL"],"content":"ä½¿ç”¨ MySQL è¿™ä¹ˆé•¿æ—¶é—´äº†ï¼Œç»å¸¸ä½¿ç”¨çš„æƒ…å†µæ—¶ï¼Œé™¤äº†è‡ªå¢ä¸»é”®å’Œæ—¥æœŸæ—¶é—´ä¹‹å¤– ï¼Œèƒ½ varchar çš„åŸºæœ¬ä¸Šéƒ½ç»™ varchar äº†ã€‚å›¢é˜Ÿå†…éƒ¨è¿˜å‡ºç°è¿‡ VARCHAR(2)ã€VARCHAT(4)ã€...ã€VARCHAT(2^N) çš„æƒ…å†µï¼Œç°åœ¨çœ‹æ¥ç¡®å®æœ‰ç‚¹æç¬‘ã€‚ MySQL æ•°æ®ç±»å‹ MySQL ç”¨æˆ·ç®¡ç† MySQL å…³é”®å­—æŸ¥è¯¢ MySQL å­—ç¬¦ä¸²å‡½æ•° MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•° MySQL å¿˜è®° root å¯†ç åé‡ç½® MySQL æœ€å€¼æŸ¥è¯¢ MySQL æ—¥æœŸæ—¶é—´å‡½æ•° MySQL è”åˆæŸ¥è¯¢ MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤© MySQL æ”¯æŒ emoji å›¾æ ‡çš„è®¾ç½® MySQL å­˜å‚¨å¼•æ“ MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯» ","date":"2019-11-17","objectID":"/2019/11/17/mysql-data-types/:0:0","tags":["MySQL"],"title":"MySQL æ•°æ®ç±»å‹","uri":"/2019/11/17/mysql-data-types/"},{"categories":["MySQL"],"content":"æ•°æ®ç±»å‹ æ•°å€¼ç±»å‹ æ•´æ•°ï¼štinyintã€smallintã€mediumintã€intã€bigint å°æ•°ï¼šfloatã€doubleã€realã€decimal æ—¥æœŸå’Œæ—¶é—´ç±»å‹ï¼šdateã€timeã€datetimeã€timestampã€year å­—ç¬¦ä¸²ç±»å‹ å­—ç¬¦ä¸²ï¼šcharã€varchat å¤§æ–‡æœ¬ï¼štinytextã€textã€mediumtextã€longtext å…¶ä»–ï¼šenumã€set äºŒè¿›åˆ¶ç±»å‹ï¼štinyblobã€blobã€mediumblobã€longblob ç©ºé—´æ•°æ®ç±»å‹ï¼šgeometryã€geometrycollectionã€pointã€linestring JSON æ•°æ®ç±»å‹ï¼š ","date":"2019-11-17","objectID":"/2019/11/17/mysql-data-types/:1:0","tags":["MySQL"],"title":"MySQL æ•°æ®ç±»å‹","uri":"/2019/11/17/mysql-data-types/"},{"categories":["MySQL"],"content":"ä¸»è¦ç±»å‹ Data Type Storage Requirements ","date":"2019-11-17","objectID":"/2019/11/17/mysql-data-types/:2:0","tags":["MySQL"],"title":"MySQL æ•°æ®ç±»å‹","uri":"/2019/11/17/mysql-data-types/"},{"categories":["MySQL"],"content":"æ•´æ•°å‹ ç±»å‹ å­˜å‚¨ç©ºé—´(Bytes) æœ‰ç¬¦å·æœ€å°å€¼ä¸æœ€å¤§å€¼ æ— ç¬¦å·æœ€å°å€¼ä¸æœ€å¤§å€¼ tinyint 1 -128~127 æˆ– -2^7~2^7-1 0~255 æˆ– 0~2^8-1 smallint 2 -32768~32767 æˆ– -2^15~2^15-1 0~65535 æˆ– 0~2^16-1 mediumint 3 -8388608~8388607 æˆ– -2^23~2^23-1 0~16777215 æˆ– 0~2^24-1 int 4 -2147483648~2147483647 æˆ– -2^31~^31-1 0~4294967295 æˆ– 0~2^32-1 bigint 8 -9223372036854775808~9223372036854775807 æˆ– -2^63~2^63-1 0~1.8446744e+19 æˆ– 0~2^64-1 ","date":"2019-11-17","objectID":"/2019/11/17/mysql-data-types/:2:1","tags":["MySQL"],"title":"MySQL æ•°æ®ç±»å‹","uri":"/2019/11/17/mysql-data-types/"},{"categories":["MySQL"],"content":"æµ®ç‚¹å‹ ç±»å‹ å­˜å‚¨ç©ºé—´(Bytes) æœ‰ç¬¦å·æœ€å°å€¼ä¸æœ€å¤§å€¼ æ— ç¬¦å·æœ€å°å€¼ä¸æœ€å¤§å€¼ float(M, D) 4 -3.402823466E+38~-1.175494351E-38 1.175494351E-38~3.402823466E+38 double(M, D) 8 -1.7976931348623157E+308~-2.2250738585072014E-308 0 å’Œ 2.2250738585072014E-308~1.7976931348623157E+308 ","date":"2019-11-17","objectID":"/2019/11/17/mysql-data-types/:2:2","tags":["MySQL"],"title":"MySQL æ•°æ®ç±»å‹","uri":"/2019/11/17/mysql-data-types/"},{"categories":["MySQL"],"content":"å®šç‚¹å‹ DECIMAL èŒƒå›´ è¿™é‡Œæˆ‘å¤åˆ¶ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£çš„è§£é‡Šï¼š The declaration syntax for a DECIMAL column is DECIMAL(M,D). The ranges of values for the arguments are as follows: M is the maximum number of digits (the precision). It has a range of 1 to 65. D is the number of digits to the right of the decimal point (the scale). It has a range of 0 to 30 and must be no larger than M. If D is omitted, the default is 0. If M is omitted, the default is 10. é«˜ç²¾åº¦çš„æ•°æ®ç±»å‹ï¼Œå¸¸ç”¨æ¥å­˜å‚¨äº¤æ˜“ç›¸å…³çš„æ•°æ® decimal(M, D) è§£é‡Šï¼šM ä»£è¡¨æ€»ç²¾åº¦ï¼ˆå°æ•°ç‚¹å‰åæ•°å­—æ€»ä¸ªæ•°ï¼‰ï¼ŒD ä»£è¡¨åˆ»åº¦ï¼ˆå°æ•°ç‚¹åçš„ä½æ•°ï¼‰ã€‚æ¯”å¦‚ï¼šdecimal(5, 2) è¡¨ç¤ºå­˜å‚¨èŒƒå›´ä¸º -999.99~999.99 decimal(M, D) èŒƒå›´ï¼š1\u003c= M \u003c= 65ã€0 \u003c= D \u003c= 30 å¦‚æœçœç•¥ Dï¼Œé»˜è®¤å€¼æ˜¯ 0ã€‚å¦‚æœçœç•¥ Mï¼Œé»˜è®¤å€¼æ˜¯ 10 å­˜å‚¨ç©ºé—´å˜é•¿ï¼ˆM+2 bytesï¼‰ ","date":"2019-11-17","objectID":"/2019/11/17/mysql-data-types/:2:3","tags":["MySQL"],"title":"MySQL æ•°æ®ç±»å‹","uri":"/2019/11/17/mysql-data-types/"},{"categories":["MySQL"],"content":"æ—¥æœŸæ—¶é—´å‹ ç±»å‹ å­˜å‚¨ç©ºé—´(Bytes) æ ¼å¼ èŒƒå›´ year 1 YYYY 1901~2155 date 3 YYYY-MM-DD 1000-01-01~9999-12-31 time 3 hh:mm:ss -838:59:59~838:59:59 datetime 8 yyyy-mm-dd hh:mm:ss 1000-01-01 00:00:00~9999-12-31 23:59:59' timestamp 4 YYYYMMDDhhmmss UTC: 1970-01-01 00:00:01~2038-01-19 03:14:07 åŒ…å«ä¸¤ä½æ•°å¹´ä»½å€¼çš„æ—¥æœŸæ˜¯æ¨¡ç³Šçš„ï¼Œå› ä¸ºä¸–çºªæ˜¯æœªçŸ¥çš„ã€‚MySQL ä½¿ç”¨è¿™äº›è§„åˆ™è§£é‡Šä¸¤ä½æ•°çš„å¹´å€¼ï¼š 00~69 èŒƒå›´å†…çš„å¹´ä»½å€¼è¢«è½¬æ¢ä¸º 2000~2069 70~99 èŒƒå›´å†…çš„å¹´ä»½å€¼è¢«è½¬æ¢ä¸º 1970~1999 ","date":"2019-11-17","objectID":"/2019/11/17/mysql-data-types/:2:4","tags":["MySQL"],"title":"MySQL æ•°æ®ç±»å‹","uri":"/2019/11/17/mysql-data-types/"},{"categories":["MySQL"],"content":"å­—ç¬¦ä¸²å‹ ç±»å‹ è¯´æ˜ char(M) å›ºå®šé•¿åº¦çš„å­—ç¬¦ä¸²ï¼ˆå¯ä»¥åŒ…å«å­—æ¯ï¼Œæ•°å­—å’Œç‰¹æ®Šå­—ç¬¦ï¼‰ã€‚ M å‚æ•°æŒ‡å®šä»¥ å­—ç¬¦ ä¸ºå•ä½çš„åˆ—é•¿åº¦ï¼ˆèŒƒå›´ï¼š0~255ï¼‰ã€‚é»˜è®¤å€¼ä¸º 1 varchat(M) é•¿åº¦å¯å˜çš„å­—ç¬¦ä¸²ï¼ˆå¯ä»¥åŒ…å«å­—æ¯ï¼Œæ•°å­—å’Œç‰¹æ®Šå­—ç¬¦ï¼‰ã€‚ M å‚æ•°æŒ‡å®šä»¥ å­—ç¬¦ ä¸ºå•ä½çš„æœ€å¤§åˆ—é•¿åº¦ï¼ˆèŒƒå›´ï¼š0~65525ï¼‰ binary(M) ç­‰äº char(M)ï¼Œä½†å­˜å‚¨äºŒè¿›åˆ¶ å­—èŠ‚ å­—ç¬¦ä¸²ã€‚ M å‚æ•°æŒ‡å®šä»¥ å­—èŠ‚ ä¸ºå•ä½çš„åˆ—é•¿åº¦ã€‚ é»˜è®¤ä¸º 1 varbinary ç­‰äº varchat(M)ï¼Œä½†å­˜å‚¨äºŒè¿›åˆ¶ å­—èŠ‚ å­—ç¬¦ä¸²ã€‚ M å‚æ•°æŒ‡å®šæœ€å¤§åˆ—é•¿åº¦ã€‚ tinyblob ç”¨æˆ· BLOBï¼ˆäºŒè¿›åˆ¶å¤§å¯¹è±¡ï¼‰ã€‚æœ€å¤§é•¿åº¦ 255 ä¸ª å­—èŠ‚ tinytext åŒ…å«æœ€å¤§é•¿åº¦ä¸º 255ï¼ˆ255Bï¼‰ä¸ª å­—ç¬¦ çš„å­—ç¬¦ä¸² blob(M) å¯¹äº BLOBï¼ˆäºŒè¿›åˆ¶å¤§å¯¹è±¡ï¼‰ã€‚æœ€å¤šå¯å®¹çº³ 65535 ä¸ª å­—èŠ‚ çš„æ•°æ® text(M) å®¹çº³æœ€å¤§é•¿åº¦ä¸º 65535ï¼ˆ64KBï¼‰ä¸ª å­—ç¬¦ çš„å­—ç¬¦ä¸² mediumblob å¯¹äº BLOBï¼ˆäºŒè¿›åˆ¶å¤§å¯¹è±¡ï¼‰ã€‚æœ€å¤šå®¹çº³ 16777215 ä¸ª å­—èŠ‚ çš„æ•°æ® mediumtext å®¹çº³æœ€å¤§é•¿åº¦ä¸º 16777215ï¼ˆ16MBï¼‰ä¸ª å­—ç¬¦ çš„å­—ç¬¦ä¸² longblob å¯¹äº BLOBï¼ˆäºŒè¿›åˆ¶å¤§å¯¹è±¡ï¼‰ã€‚æœ€å¤šå¯å®¹çº³ 4294967295 ä¸ª å­—èŠ‚ çš„æ•°æ® longtext åŒ…å«æœ€å¤§é•¿åº¦ä¸º 4294967295ï¼ˆ4GBï¼‰ä¸ª å­—ç¬¦ çš„å­—ç¬¦ä¸² enum('v1', 'v2', ...) ä»å¯èƒ½å€¼åˆ—è¡¨ä¸­é€‰æ‹©çš„åªèƒ½æœ‰ä¸€ä¸ªå€¼çš„å­—ç¬¦ä¸²å¯¹è±¡ã€‚ä½ å¯ä»¥åœ¨ ENUM åˆ—è¡¨ä¸­æœ€å¤šåˆ—å‡º 65535 ä¸ªå€¼ã€‚å¦‚æœæ’å…¥çš„å€¼ä¸åœ¨åˆ—è¡¨ä¸­ï¼Œåˆ™å°†æ’å…¥ç©ºç™½å€¼ã€‚å€¼æŒ‰è¾“å…¥é¡ºåºæ’åº set(v1, v2, v3, ...) ä»å¯èƒ½å€¼åˆ—è¡¨ä¸­é€‰æ‹©çš„å¯ä»¥å…·æœ‰ 0 ä¸ªæˆ–å¤šä¸ªå€¼çš„å­—ç¬¦ä¸²å¯¹è±¡ã€‚ä½ å¯ä»¥åœ¨ SET åˆ—è¡¨ä¸­æœ€å¤šåˆ—å‡º 64 ä¸ªå€¼ å…³äº char(M)ã€varchar(M) å’Œ text çš„é—®é¢˜ï¼š char(M) å’Œ varchar(M) ä¸­ M ä»£è¡¨ å­—ç¬¦ä¸ªæ•°ï¼Œå¹¶ä¸æ˜¯å­—èŠ‚ä¸ªæ•°ã€‚å½“ä½¿ç”¨ UTF-8 æ—¶æ„å‘³ç€å¯ä»¥æ’å…¥ M ä¸ªå­—ç¬¦ï¼Œä½†å®é™…ä¼šå ç”¨ M*3 ä¸ªå­—èŠ‚ char(M) ä¸ç®¡å®é™…å€¼éƒ½ä¼šå ç”¨ M ä¸ªå­—ç¬¦çš„ç©ºé—´ï¼Œé¡µ varchar(M) åªä¼šå ç”¨å®é™…å­—ç¬¦åº”è¯¥å ç”¨çš„ç©ºé—´ +1ï¼Œå¹¶ä¸”å®é™…ç©ºé—´ä¸º +1 \u003c= M è¶…è¿‡ char(M) å’Œ varchar(M) çš„ M è®¾ç½®åï¼Œå­—ç¬¦ä¸²ä¼šè¢«æˆªæ–­ char çš„ä¸Šé™ä¸º 255 å­—ç¬¦ï¼Œvarchar å’Œ text çš„ä¸Šé™ 65535 å­—ç¬¦ char åœ¨å­˜å‚¨çš„æ—¶å€™ä¼šæˆªæ–­å°¾éƒ¨çš„ç©ºæ ¼ï¼Œvarchar å’Œ text ä¸ä¼š varchar ä¼šä½¿ç”¨ 1~3 ä¸ªå­—èŠ‚æ¥å­˜å‚¨é•¿åº¦ï¼Œè€Œ text ä¸ä¼š å€¼ char(4) å­˜å‚¨éœ€è¦ varchat(4) å­˜å‚¨éœ€è¦ '' ' ' 4 bytes '' 1 bytes 'ab' 'ab ' 4 bytes 'ab' 3 bytes 'abcd' 'abcd' 4 bytes 'abcd' 5 bytes 'abcdefgh' 'abcd' 4 bytes 'abcd' 5 bytes å¦‚ä¸Šæ‰€è¿°ï¼š char å­˜å®šé•¿ï¼Œé€Ÿåº¦å¿«ï¼Œå­˜åœ¨ç©ºé—´æµªè´¹çš„å¯èƒ½ï¼Œä¼šå¤„ç†å°¾éƒ¨ç©ºæ ¼ï¼Œä¸Šé™ 255 varchar å­˜å˜é•¿ï¼Œé€Ÿåº¦æ…¢ï¼Œä¸å­˜åœ¨ç©ºé—´æµªè´¹ï¼Œä¸å¤„ç†å°¾éƒ¨ç©ºæ ¼ï¼Œä¸Šé™ 65535ï¼Œä½†æ˜¯æœ‰å­˜å‚¨é•¿åº¦å®é™… 65532 æœ€å¤§å¯ç”¨ textï¼Œå­˜å˜é•¿å¤§æ•°æ®ï¼Œé€Ÿåº¦æ…¢ï¼Œä¸å­˜åœ¨ç©ºé—´æµªè´¹ï¼Œä¸å¤„ç†å°¾éƒ¨ç©ºæ ¼ï¼Œä¸Šé™ 65535ï¼Œä¼šç”¨é¢å¤–ç©ºé—´å­˜æ”¾æ•°æ®é•¿åº¦ï¼Œå› æ­¤å¯ä»¥å…¨éƒ¨ä½¿ç”¨ 65535 ","date":"2019-11-17","objectID":"/2019/11/17/mysql-data-types/:2:5","tags":["MySQL"],"title":"MySQL æ•°æ®ç±»å‹","uri":"/2019/11/17/mysql-data-types/"},{"categories":["Nginx"],"content":"æ›¾ç»æŸæ®µæ—¶é—´è¿™ä¸ª 499 çŠ¶æ€ç æ˜¯é¢è¯•çš„å¿…è€ƒé¢˜ï¼Œå¥½åƒä½ ä¸çŸ¥é“è¿™ä¸ªçŠ¶æ€ç å°±è§‰å¾—ä½ æ¬ äº†é¢è¯•å®˜ä¸å°‘é’±ä¼¼çš„ï¼Œæˆ‘ä¹Ÿæ¥è®°å½•ä¸€ä¸‹ã€‚ ","date":"2019-11-15","objectID":"/2019/11/15/nginx-499-faq/:0:0","tags":["Nginx"],"title":"Nginx 499 çŠ¶æ€ç ","uri":"/2019/11/15/nginx-499-faq/"},{"categories":["Nginx"],"content":"ä»€ä¹ˆæ˜¯ Nginx 499 é”™è¯¯ Nginx æºç ä¸­å¯¹ 499 çŠ¶æ€ç çš„å®šä¹‰ï¼š /* * HTTP does not define the code for the case when a client closed * the connection while we are processing its request so we introduce * own code to log such situation when a client has closed the connection * before we even try to send the HTTP header to it */ #define NGX_HTTP_CLIENT_CLOSED_REQUEST 499 ç¿»è¯‘æˆäººè¯å°±æ˜¯ï¼š å½“ä¸€ä¸ªå®¢æˆ·ç«¯å…³é—­æ—¶ï¼ŒHTTP ä¸ä¸ºè¿™ç§æƒ…å½¢å®šä¹‰ä»£ç ã€‚åŒæ—¶æˆ‘ä»¬å¤„ç†å®ƒçš„è¯·æ±‚æ—¶ï¼Œæˆ‘ä»¬å¼•å…¥äº†å½“ä¸€ä¸ªå®¢æˆ·ç«¯åœ¨æˆ‘ä»¬å°è¯•å‘å…¶å‘é€ HTTP å¤´ä¹‹å‰å…³é—­è¿æ¥æ—¶ï¼Œä½¿ç”¨è‡ªå·±çš„ä»£ç ï¼ˆä¹Ÿå°±æ˜¯ 499 çŠ¶æ€ç ï¼‰æ¥è®°å½•è¿™ç§æƒ…å†µã€‚ è¿›ä¸€æ­¥ç†è§£å°±æ˜¯ï¼šæˆ‘ä»¬ç‰¹ä¹ˆçš„ä¹Ÿä¸çŸ¥é“è¿™ç§æƒ…å†µè¯¥æ€æ ·å¼„ï¼Œäºæ˜¯ä¹æˆ‘ä»¬å°±å†³å®šå®šä¹‰ä¸€ç§çŠ¶æ€ç æ¥è®°å½•ä¸€ä¸‹ï¼Œè‡³äºè¿™ç§æƒ…å†µæ€ä¹ˆå¤„ç†ï¼Œå°±äº¤ç»™ä½ äº†ï¼ æ€»ç»“ä¸€ä¸‹ï¼š 499 çŠ¶æ€ç ä¸æ˜¯ HTTP çš„æ ‡å‡†ä»£ç  499 çŠ¶æ€ç æ˜¯ Nginx è‡ªå·±å®šä¹‰ï¼Œç”¨æ¥ è®°å½•ï¼ˆä½ æ²¡çœ‹é”™ï¼Œå°±æ˜¯è®°å½•ä¸€ä¸‹ï¼‰ æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å‘é€ HTTP è¯·æ±‚å¤´ä¹‹å‰ï¼Œå®¢æˆ·ç«¯å·²ç»å…³é—­è¿æ¥çš„ä¸€ç§æƒ…å†µ æœ€å¸¸è§çš„åœºæ™¯å°±æ˜¯ timeout è®¾ç½®ä¸åˆç†ï¼ŒNginx æŠŠè¯·æ±‚è½¬å‘ä¸Šæ¸¸æœåŠ¡å™¨ï¼Œä¸Šæ¸¸æœåŠ¡å™¨æ…¢ååçš„å¤„ç†ï¼Œå®¢æˆ·ç«¯ç­‰ä¸åŠäº†ä¸»åŠ¨æ–­å¼€é“¾æ¥ï¼ŒNginx å°±è´Ÿè´£è®°å½•äº† 499 ","date":"2019-11-15","objectID":"/2019/11/15/nginx-499-faq/:1:0","tags":["Nginx"],"title":"Nginx 499 çŠ¶æ€ç ","uri":"/2019/11/15/nginx-499-faq/"},{"categories":["Nginx"],"content":"ä»€ä¹ˆæƒ…å†µ Nginx è®°å½• 499 é”™è¯¯æ—¥å¿— è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ curl æ¨¡æ‹Ÿè¯·æ±‚ä¸€ä¸‹ï¼Œæ›´å¤š curl çš„éªšæ“ä½œè¯·è®¿é—® curl çš„ç”¨æ³•æŒ‡å—ã€‚ for i in $(seq 1 10); do curl -m 2 http://api.example.test; done curl: (28) Operation timed out after 2000 milliseconds with 0 bytes received curl: (28) Operation timed out after 2004 milliseconds with 0 bytes received curl: (28) Operation timed out after 2004 milliseconds with 0 bytes received curl: (28) Operation timed out after 2001 milliseconds with 0 bytes received curl: (28) Operation timed out after 2000 milliseconds with 0 bytes received curl: (28) Operation timed out after 2003 milliseconds with 0 bytes received curl: (28) Operation timed out after 2002 milliseconds with 0 bytes received curl: (28) Operation timed out after 2005 milliseconds with 0 bytes received curl: (28) Operation timed out after 2000 milliseconds with 0 bytes received curl: (28) Operation timed out after 2001 milliseconds with 0 bytes received tail -f /var/log/nginx/apiexample.access.log 172.19.0.1 - - [15/Nov/2019:06:32:19 +0000] \"GET / HTTP/1.1\" 499 0 \"-\" \"curl/7.67.0\" 172.19.0.1 - - [15/Nov/2019:06:32:22 +0000] \"GET / HTTP/1.1\" 499 0 \"-\" \"curl/7.67.0\" 172.19.0.1 - - [15/Nov/2019:06:32:24 +0000] \"GET / HTTP/1.1\" 499 0 \"-\" \"curl/7.67.0\" 172.19.0.1 - - [15/Nov/2019:06:32:26 +0000] \"GET / HTTP/1.1\" 499 0 \"-\" \"curl/7.67.0\" 172.19.0.1 - - [15/Nov/2019:06:32:28 +0000] \"GET / HTTP/1.1\" 499 0 \"-\" \"curl/7.67.0\" 172.19.0.1 - - [15/Nov/2019:06:32:30 +0000] \"GET / HTTP/1.1\" 499 0 \"-\" \"curl/7.67.0\" 172.19.0.1 - - [15/Nov/2019:06:32:32 +0000] \"GET / HTTP/1.1\" 499 0 \"-\" \"curl/7.67.0\" 172.19.0.1 - - [15/Nov/2019:06:32:34 +0000] \"GET / HTTP/1.1\" 499 0 \"-\" \"curl/7.67.0\" 172.19.0.1 - - [15/Nov/2019:06:32:36 +0000] \"GET / HTTP/1.1\" 499 0 \"-\" \"curl/7.67.0\" 172.19.0.1 - - [15/Nov/2019:06:32:38 +0000] \"GET / HTTP/1.1\" 499 0 \"-\" \"curl/7.67.0\" å¦‚ä¸Šæ‰€è§ï¼Œä½¿ç”¨ Timeout å¾ˆå®¹æ˜“æ¨¡æ‹Ÿå‡º 499 è¿™ç§æƒ…å½¢ã€‚ è®°å½• 499 çš„æƒ…å½¢ï¼š å¦‚ä¸Šæ‰€ç¤ºï¼Œæ•°æ®ä¼ è¾“çš„æœ€å¤§å…è®¸æ—¶é—´è¶…æ—¶çš„è¯ï¼ŒCurl æ–­å¼€äº†è¯·æ±‚ï¼Œè€Œ Web æœåŠ¡å™¨å¦‚ Nginx è¿˜åœ¨å¤„ç†çš„è¯ï¼Œåˆ™ Nginx ä¼šè®°å½• 499 å¦‚æœ Nginx ä½œä¸ºåå‘ä»£ç†æ—¶ï¼ŒNginx å°†è¯·æ±‚åˆ†å‘è‡³å¯¹åº”çš„å¤„ç†æœåŠ¡å™¨æ—¶ï¼Œæœ‰ä¸¤å¯¹è¶…æ—¶å‚æ•°çš„è®¾ç½®ï¼šproxy_send_timeout å’Œ proxy_read_timeoutã€fastcgi_send_timeout å’Œ fastcgi_read_timeoutã€‚ä¸¤å¯¹å‚æ•°é»˜è®¤çš„è¶…æ—¶æ—¶é—´éƒ½æ˜¯ 60sã€‚åœ¨ Nginx å‡ºç° 499 çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç»“åˆè¯·æ±‚æ–­å¼€å‰çš„è€—æ—¶å’Œè¿™ä¸¤å¯¹è®¾å®šçš„æ—¶é—´è¿›è¡Œå¯¹æ¯”ï¼Œçœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯åœ¨ proxy_pass æˆ–è€… fastcgi_pass å¤„ç†æ—¶ï¼Œè®¾ç½®çš„è¶…æ—¶æ—¶é—´çŸ­äº† å¦‚æœ PHP æ“ä½œè¶…æ—¶ã€‚æ‰“å¼€ php.ini æŸ¥çœ‹ max_execution_time å’Œ max_input_time ä¸¤ä¸ªå‚æ•°ã€‚ä¸¤è€…åˆ†åˆ«æ˜¯ PHP ç¨‹åºæ‰§è¡Œçš„æœ€é•¿æ—¶é—´å’Œè¡¨å•æäº¤çš„æœ€é•¿æ—¶é—´ å¦‚æœä¸¤æ¬¡æäº¤ POST è¿‡å¿«å°±ä¼šå‡ºç° 499 çš„æƒ…å†µï¼ŒNginx è®¤ä¸ºæ˜¯ä¸å®‰å…¨çš„è¿æ¥ï¼Œä¸»åŠ¨æ‹’ç»äº†å®¢æˆ·ç«¯çš„è¿æ¥ ç›¸å…³è´Ÿè½½å‡è¡¡é…ç½®ç­‰ ","date":"2019-11-15","objectID":"/2019/11/15/nginx-499-faq/:2:0","tags":["Nginx"],"title":"Nginx 499 çŠ¶æ€ç ","uri":"/2019/11/15/nginx-499-faq/"},{"categories":["Nginx"],"content":"å¦‚ä½•æœ‰æ•ˆé˜²æ­¢ Nginx è®°å½• 499 é”™è¯¯ ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä¸€ä¸ªç»“è®ºï¼ŒHTTP è¯·æ±‚åœ¨æŒ‡å®šçš„æ—¶é—´å†…æ²¡èƒ½æ‹¿åˆ°å“åº”è€Œå…³é—­äº†è¿æ¥ï¼Œå°±ä¼šå‘ç”Ÿ Nginx è®°å½• 499 é”™è¯¯çš„æƒ…å†µã€‚è¿™ä¸ªæ¶‰åŠåˆ°ä¸¤ä¸ªé‡è¦çš„é—®é¢˜ï¼šæ—¶é—´é—®é¢˜ å’Œ æ€§èƒ½é—®é¢˜ï¼ˆæ€§èƒ½é—®é¢˜å¤ªè¿‡å®½æ³›å°±ä¸æåŠäº†ï¼‰ï¼Œæ‰€ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ä¹Ÿå°±ä»è¿™ä¸¤æ–¹é¢å…¥æ‰‹ã€‚ å½“ç„¶è¿˜æœ‰é…ç½® proxy_ignore_client_abort å‚æ•°ä¸º on æ¥è§£å†³çš„ï¼ˆè®©ä»£ç†æœåŠ¡ç«¯ä¸è¦ä¸»åŠ¨å…³é—­å®¢æˆ·ç«¯çš„è¿æ¥ï¼‰ã€‚ä½†æ˜¯è¿™æ ·ä¹Ÿæœ‰ä¸€å®šçš„é£é™©ï¼Œä¼šæ‹–å®æœåŠ¡å™¨ã€‚å‘ç”Ÿè¿™ä¸ªé”™è¯¯ï¼Œå¦‚æœæœåŠ¡å™¨ CPU å’Œ Memory ä¸ç®—å¤ªé«˜ï¼Œä¸€èˆ¬æ˜¯æ•°æ®åº“å’Œç¨‹åºçš„é—®é¢˜ï¼Œæ•°æ®åº“å¤„ç†è¾ƒæ…¢æˆ–è€…ç¨‹åºçº¿ç¨‹è¾ƒä½ã€‚ç»“åˆæƒ…å†µè°ƒæ•´ï¼Œæ¯”å¦‚è¯»å†™åˆ†ç¦»æˆ–è€…ç¨‹åºçº¿ç¨‹æ•°è°ƒé«˜ã€‚ æ–‡æ¡£ä¸­å¯¹ proxy_ignore_client_abort å‚æ•°çš„è¯´æ˜ï¼š Determines whether the connection with a proxied server should be closed when a client closes the connection without waiting for a response. ç¿»è¯‘ï¼šå½“ä¸€ä¸ªå®¢æˆ·ç«¯å…³é—­è¿æ¥è€Œä¸ç­‰å¾…å“åº”æ—¶ï¼Œç¡®å®šä¸ä»£ç†æœåŠ¡å™¨çš„è¿æ¥æ˜¯å¦åº”è¯¥å…³é—­ã€‚ ","date":"2019-11-15","objectID":"/2019/11/15/nginx-499-faq/:3:0","tags":["Nginx"],"title":"Nginx 499 çŠ¶æ€ç ","uri":"/2019/11/15/nginx-499-faq/"},{"categories":["MySQL"],"content":"MySQL ä¸­ï¼ŒInnoDB æ‰€æä¾›çš„äº‹åŠ¡ç¬¦åˆ ACID çš„è¦æ±‚ï¼Œè€Œäº‹åŠ¡é€šè¿‡äº‹åŠ¡æ—¥å¿—ä¸­çš„ redo log å’Œ undo log æ»¡è¶³äº†åŸå­æ€§ã€ä¸€è‡´æ€§ã€æŒä¹…æ€§ï¼Œäº‹åŠ¡è¿˜ä¼šé€šè¿‡é”æœºåˆ¶æ»¡è¶³éš”ç¦»æ€§ï¼Œåœ¨ InnoDB å­˜å‚¨å¼•æ“ä¸­ï¼Œæœ‰ä¸åŒçš„éš”ç¦»çº§åˆ«ï¼Œå®ƒä»¬æœ‰ç€ä¸åŒçš„éš”ç¦»æ€§ã€‚ MySQL æ•°æ®ç±»å‹ MySQL ç”¨æˆ·ç®¡ç† MySQL å…³é”®å­—æŸ¥è¯¢ MySQL å­—ç¬¦ä¸²å‡½æ•° MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•° MySQL å¿˜è®° root å¯†ç åé‡ç½® MySQL æœ€å€¼æŸ¥è¯¢ MySQL æ—¥æœŸæ—¶é—´å‡½æ•° MySQL è”åˆæŸ¥è¯¢ MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤© MySQL æ”¯æŒ emoji å›¾æ ‡çš„è®¾ç½® MySQL å­˜å‚¨å¼•æ“ MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯» ","date":"2019-11-07","objectID":"/2019/11/07/mysql-isolation-level/:0:0","tags":["MySQL"],"title":"MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯»","uri":"/2019/11/07/mysql-isolation-level/"},{"categories":["MySQL"],"content":"äº‹åŠ¡çš„ç‰¹æ€§ åŸå­æ€§ï¼ˆAtomicity - [ËŒÃ¦tÉ™ËˆmÉªsÉ™ti] ï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡ï¼ˆTransactionï¼‰ä¸­çš„æ‰€æœ‰æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸å®Œæˆï¼Œä¸ä¼šç»“æŸåœ¨ä¸­é—´æŸä¸ªç¯èŠ‚ã€‚äº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œä¼šè¢«å›æ»šï¼ˆRollbackï¼‰åˆ°äº‹åŠ¡å¼€å§‹å‰çš„çŠ¶æ€ï¼Œå°±åƒè¿™ä¸ªäº‹åŠ¡ä»æ¥æ²¡æœ‰æ‰§è¡Œè¿‡ä¸€æ ·ã€‚å³æŒ‡å¤„äºåŒä¸€ä¸ªäº‹åŠ¡ä¸­çš„å¤šæ¡è¯­å¥æ˜¯ä¸å¯åˆ†å‰²çš„ ä¸€è‡´æ€§ï¼ˆConsistency - [kÉ™nËˆsÉªstÉ™nsi]ï¼‰ï¼šåœ¨äº‹åŠ¡å¼€å§‹ä¹‹å‰å’Œäº‹åŠ¡ç»“æŸä»¥åï¼Œæ•°æ®åº“çš„å®Œæ•´æ€§æ²¡æœ‰è¢«ç ´åã€‚è¿™è¡¨ç¤ºå†™å…¥çš„èµ„æ–™å¿…é¡»å®Œå…¨ç¬¦åˆæ‰€æœ‰çš„é¢„è®¾è§„åˆ™ï¼Œè¿™åŒ…å«èµ„æ–™çš„ç²¾ç¡®åº¦ã€ä¸²è”æ€§ä»¥åŠåç»­æ•°æ®åº“å¯ä»¥è‡ªå‘æ€§åœ°å®Œæˆé¢„å®šçš„å·¥ä½œã€‚å³äº‹åŠ¡å¿…é¡»ä½¿æ•°æ®åº“ä»ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€å˜æ¢åˆ°å¦å¤–ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€ éš”ç¦»æ€§ï¼ˆIsolation - [ËŒaÉªsÉ™ËˆleÉªÊƒn]ï¼‰ï¼šæ•°æ®åº“å…è®¸å¤šä¸ªå¹¶å‘äº‹åŠ¡åŒæ—¶å¯¹å…¶æ•°æ®è¿›è¡Œè¯»å†™å’Œä¿®æ”¹çš„èƒ½åŠ›ï¼Œéš”ç¦»æ€§å¯ä»¥é˜²æ­¢å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ç”±äºäº¤å‰æ‰§è¡Œè€Œå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ã€‚å³æŒ‡å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œä¸€ä¸ªçº¿ç¨‹ä¸­çš„äº‹åŠ¡ä¸èƒ½è¢«å…¶ä»–çº¿ç¨‹ä¸­çš„äº‹åŠ¡æ‰“æ‰° æŒä¹…æ€§ï¼ˆDurability - [dÉ™rÉ™ËˆbÉªlÉªti]ï¼‰ï¼šäº‹åŠ¡å¤„ç†ç»“æŸåï¼Œå¯¹æ•°æ®çš„ä¿®æ”¹å°±æ˜¯æ°¸ä¹…çš„ï¼Œå³ä¾¿ç³»ç»Ÿæ•…éšœä¹Ÿä¸ä¼šä¸¢å¤±ã€‚å³äº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œå°±åº”è¯¥è¢«æ°¸ä¹…ä¿å­˜èµ·æ¥ ","date":"2019-11-07","objectID":"/2019/11/07/mysql-isolation-level/:1:0","tags":["MySQL"],"title":"MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯»","uri":"/2019/11/07/mysql-isolation-level/"},{"categories":["MySQL"],"content":"äº‹åŠ¡çš„ç»„æˆéƒ¨åˆ† é¡ºä¾¿æä¸€ä¸‹ DQLï¼ˆæ•°æ®æŸ¥è¯¢è¯­è¨€ï¼šData Query Languageï¼‰ã€‚ ä¸€ä¸ªæˆ–å¤šä¸ª DMLï¼ˆData Manipulation Languageï¼‰ è¯­å¥ï¼Œæ¯”å¦‚ï¼šINSERTã€UPDATEã€SELECTã€DELETE ç­‰ ä¸€ä¸ª DDLï¼ˆæ•°æ®å®šä¹‰è¯­è¨€ï¼šData Definition Languageï¼‰è¯­å¥ï¼Œæ¯”å¦‚ï¼šCREATEã€ALTERã€DROP ç­‰ ä¸€ä¸ª DCLï¼ˆæ•°æ®æ§åˆ¶è¯­è¨€ï¼šData Control Languageï¼‰è¯­å¥ï¼Œæ¯”å¦‚ï¼šGRANTã€DENYã€REVOKE ç­‰ ","date":"2019-11-07","objectID":"/2019/11/07/mysql-isolation-level/:2:0","tags":["MySQL"],"title":"MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯»","uri":"/2019/11/07/mysql-isolation-level/"},{"categories":["MySQL"],"content":"ä¸éš”ç¦»äº‹åŠ¡å¸¦æ¥çš„é—®é¢˜ è„è¯»ï¼ˆDrity Readï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡è¯»å–åˆ°å¦ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ®ï¼Œä¾§é‡ç‚¹åœ¨ äº‹åŠ¡æœªæäº¤ ä¸å¯é‡å¤è¯»ï¼ˆNon-Repeatable Readï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡å¯¹åŒä¸€è¡Œæ•°æ®é‡å¤è¯»å–ä¸¤æ¬¡ï¼Œä½†å¾—åˆ°çš„ç»“æœä¸åŒï¼Œä¾§é‡ç‚¹åœ¨ æ›´æ–°ä¿®æ”¹ å¹»è¯»æˆ–è™šè¯»ï¼ˆPhantom Readï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œä¸¤æ¬¡æŸ¥è¯¢ï¼Œç¬¬äºŒæ¬¡æŸ¥è¯¢æ—¶ï¼Œè«åçš„å¤šå‡ºäº†ä¸€äº›ä¹‹å‰ä¸å­˜åœ¨æ•°æ®ï¼Œæˆ–è€…è«åçš„ä¸è§äº†ä¸€äº›æ•°æ®ï¼Œä¾§é‡ç‚¹åœ¨ æ–°å¢åˆ é™¤ ä¸¢å¤±æ›´æ–°ï¼ˆLost Updateï¼‰ï¼šä¸¤ä¸ªäº‹åŠ¡åŒæ—¶æ›´æ–°ä¸€è¡Œæ•°æ®ï¼Œåæäº¤ï¼ˆæˆ–æ’¤é”€ï¼‰çš„äº‹åŠ¡å°†ä¹‹å‰äº‹åŠ¡æäº¤çš„æ•°æ®è¦†ç›–äº† ä¸¢å¤±æ›´æ–°å¯åˆ†ä¸ºä¸¤ç±»ï¼Œåˆ†åˆ«æ˜¯ç¬¬ä¸€ç±»ä¸¢å¤±æ›´æ–°å’Œç¬¬äºŒç±»ä¸¢å¤±æ›´æ–°ï¼š ç¬¬ä¸€ç±»ä¸¢å¤±æ›´æ–°ï¼šæŒ‡ä¸¤ä¸ªäº‹åŠ¡åŒæ—¶æ“ä½œåŒä¸€ä¸ªæ•°æ®æ—¶ï¼Œå½“ç¬¬ä¸€ä¸ªäº‹åŠ¡æ’¤é”€æ—¶ï¼ŒæŠŠå·²ç»æäº¤çš„ç¬¬äºŒä¸ªäº‹åŠ¡çš„æ›´æ–°æ•°æ®è¦†ç›–äº†ï¼Œç¬¬äºŒä¸ªäº‹åŠ¡å°±é€ æˆäº†æ•°æ®ä¸¢å¤± ç¬¬äºŒç±»ä¸¢å¤±æ›´æ–°ï¼šæŒ‡å½“ä¸¤ä¸ªäº‹åŠ¡åŒæ—¶æ“ä½œåŒä¸€ä¸ªæ•°æ®æ—¶ï¼Œç¬¬ä¸€ä¸ªäº‹åŠ¡å°†ä¿®æ”¹ç»“æœæˆåŠŸæäº¤åï¼Œå¯¹ç¬¬äºŒä¸ªäº‹åŠ¡å·²ç»æäº¤çš„ä¿®æ”¹ç»“æœè¿›è¡Œäº†è¦†ç›–ï¼Œå¯¹ç¬¬äºŒä¸ªäº‹åŠ¡é€ æˆäº†æ•°æ®ä¸¢å¤± ","date":"2019-11-07","objectID":"/2019/11/07/mysql-isolation-level/:3:0","tags":["MySQL"],"title":"MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯»","uri":"/2019/11/07/mysql-isolation-level/"},{"categories":["MySQL"],"content":"äº‹åŠ¡çš„éš”ç¦»çº§åˆ« è¯»æœªæäº¤ï¼ˆRead Uncommittedï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ—¢å¯ä»¥è®¿é—®å…¶ä»–äº‹åŠ¡æœªæäº¤çš„æ–°æ’å…¥çš„æ•°æ®ï¼Œåˆå¯ä»¥è®¿é—®æœªæäº¤çš„ä¿®æ”¹æ•°æ®ã€‚å¦‚æœä¸€ä¸ªäº‹åŠ¡å·²ç»å¼€å§‹å†™æ•°æ®ï¼Œåˆ™å¦å¤–ä¸€ä¸ªäº‹åŠ¡ä¸å…è®¸åŒæ—¶è¿›è¡Œå†™æ“ä½œï¼Œä½†å…è®¸å…¶ä»–äº‹åŠ¡è¯»æ­¤è¡Œæ•°æ®ï¼Œå³ä¸€ä¸ªäº‹åŠ¡è¯»å–åˆ°å¦ä¸€ä¸ªäº‹åŠ¡ä¸­æœªæäº¤çš„æ•°æ®ã€‚æ­¤éš”ç¦»çº§åˆ«å¯é˜²æ­¢ä¸¢å¤±æ›´æ–° è¯»å·²æäº¤ï¼ˆRead Committedï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ—¢å¯ä»¥è®¿é—®å…¶ä»–äº‹åŠ¡æˆåŠŸæäº¤çš„æ–°æ’å…¥çš„æ•°æ®ï¼Œåˆå¯ä»¥è®¿é—®æˆåŠŸä¿®æ”¹çš„æ•°æ®ã€‚è¯»å–æ•°æ®çš„äº‹åŠ¡å…è®¸å…¶ä»–äº‹åŠ¡ç»§ç»­è®¿é—®è¯¥è¡Œæ•°æ®ï¼Œä½†æ˜¯æœªæäº¤çš„å†™äº‹åŠ¡å°†ä¼šç¦æ­¢å…¶ä»–äº‹åŠ¡è®¿é—®è¯¥è¡Œï¼Œå³ä¸€ä¸ªäº‹åŠ¡è¯»å–åˆ°å¦ä¸€ä¸ªäº‹åŠ¡ä¸­å·²æäº¤çš„æ•°æ®ã€‚æ­¤éš”ç¦»çº§åˆ«å¯æœ‰æ•ˆé˜²æ­¢è„è¯» å¯é‡å¤è¯»ï¼ˆRepeatable Readï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥è®¿é—®å…¶ä»–äº‹åŠ¡æˆåŠŸæäº¤çš„æ–°æ’å…¥çš„æ•°æ®ï¼Œä½†ä¸å¯ä»¥è®¿é—®æˆåŠŸä¿®æ”¹çš„æ•°æ®ã€‚è¯»å–æ•°æ®çš„äº‹åŠ¡å°†ä¼šç¦æ­¢å†™äº‹åŠ¡ï¼ˆä½†å…è®¸è¯»äº‹åŠ¡ï¼‰ï¼Œå†™äº‹åŠ¡åˆ™ç¦æ­¢ä»»ä½•å…¶ä»–äº‹åŠ¡ï¼Œå³ä¸€ä¸ªäº‹åŠ¡å¯ä»¥é‡å¤è¯»ï¼Œæ¯æ¬¡è¯»å–çš„ç»“æœé›†éƒ½ç›¸åŒï¼Œè€Œä¸ç®¡å…¶ä»–äº‹åŠ¡æœ‰æ²¡æœ‰æäº¤ã€‚æ­¤éš”ç¦»çº§åˆ«å¯æœ‰æ•ˆé˜²æ­¢ä¸å¯é‡å¤è¯»å’Œè„è¯» å¯ä¸²è¡ŒåŒ–ï¼ˆSerializableï¼‰ï¼šæä¾›ä¸¥æ ¼çš„äº‹åŠ¡éš”ç¦»ã€‚å®ƒè¦æ±‚äº‹åŠ¡åºåˆ—åŒ–æ‰§è¡Œï¼Œäº‹åŠ¡åªèƒ½ä¸€ä¸ªæ¥ç€ä¸€ä¸ªåœ°æ‰§è¡Œï¼Œä¸èƒ½å¹¶å‘æ‰§è¡Œã€‚æ­¤éš”ç¦»çº§åˆ«å¯æœ‰æ•ˆé˜²æ­¢è„è¯»ã€ä¸å¯é‡å¤è¯»å’Œå¹»è¯»ã€‚ä½†è¿™ä¸ªçº§åˆ«å¯èƒ½å¯¼è‡´å¤§é‡çš„è¶…æ—¶ç°è±¡å’Œé”ç«äº‰ï¼Œåœ¨å®é™…åº”ç”¨ä¸­å¾ˆå°‘ä½¿ç”¨ éš”ç¦»çº§åˆ«è¡¨ï¼ˆçº§åˆ«è¶Šé«˜ï¼Œæ•°æ®è¶Šå®‰å…¨ï¼Œä½†æ€§èƒ½è¶Šä½ï¼‰ï¼š éš”ç¦»çº§åˆ« è„è¯» ä¸å¯é‡å¤è¯» å¹»è¯» è¯»æœªæäº¤ æœ‰å¯èƒ½ æœ‰å¯èƒ½ æœ‰å¯èƒ½ è¯»å·²æäº¤ ä¸å¯èƒ½ æœ‰å¯èƒ½ æœ‰å¯èƒ½ å¯é‡å¤è¯» ä¸å¯èƒ½ ä¸å¯èƒ½ æœ‰å¯èƒ½ å¯ä¸²è¡ŒåŒ– ä¸å¯èƒ½ ä¸å¯èƒ½ ä¸å¯èƒ½ ","date":"2019-11-07","objectID":"/2019/11/07/mysql-isolation-level/:4:0","tags":["MySQL"],"title":"MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯»","uri":"/2019/11/07/mysql-isolation-level/"},{"categories":["MySQL"],"content":"äº‹åŠ¡å¤„ç†çš„æ–¹å¼ ","date":"2019-11-07","objectID":"/2019/11/07/mysql-isolation-level/:5:0","tags":["MySQL"],"title":"MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯»","uri":"/2019/11/07/mysql-isolation-level/"},{"categories":["MySQL"],"content":"æ˜¾ç¤ºå±€éƒ¨è®¾ç½® # å¼€å¯ä¸€ä¸ªäº‹åŠ¡ BEGIN # äº‹åŠ¡å›æ»š ROLLBACK # æäº¤äº‹åŠ¡ COMMIT ","date":"2019-11-07","objectID":"/2019/11/07/mysql-isolation-level/:5:1","tags":["MySQL"],"title":"MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯»","uri":"/2019/11/07/mysql-isolation-level/"},{"categories":["MySQL"],"content":"éšå¼å…¨å±€è®¾ç½® # ç¦æ­¢è‡ªåŠ¨æäº¤ SET AUTOCOMMIT=0 # å¼€å¯è‡ªåŠ¨æäº¤ SET AUTOCOMMIT=1 ","date":"2019-11-07","objectID":"/2019/11/07/mysql-isolation-level/:5:2","tags":["MySQL"],"title":"MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯»","uri":"/2019/11/07/mysql-isolation-level/"},{"categories":["MySQL"],"content":"éš”ç¦»çº§åˆ«æ“ä½œ // æŸ¥çœ‹äº‹åŠ¡éš”ç¦»çº§åˆ« mysql root@localhost:mysql\u003e select @@transaction_isolation; +-------------------------+ | @@transaction_isolation | +-------------------------+ | REPEATABLE-READ | +-------------------------+ 1 row in set Time: 0.017s // è®¾ç½®å½“å‰ä¼šè¯éš”ç¦»çº§åˆ«ä¸ºè¯»æœªæäº¤ mysql root@localhost:mysql\u003e set session transaction isolation level read uncommitted; Query OK, 0 rows affected Time: 0.043s // è®¾ç½®å½“å‰ä¼šè¯éš”ç¦»çº§åˆ«ä¸ºè¯»å·²æäº¤ mysql root@localhost:mysql\u003e set session transaction isolation level read committed; Query OK, 0 rows affected Time: 0.043s // è®¾ç½®å½“å‰ä¼šè¯éš”ç¦»çº§åˆ«ä¸ºå¯é‡å¤è¯» mysql root@localhost:mysql\u003e set session transaction isolation level repeatable read; Query OK, 0 rows affected Time: 0.043s // è®¾ç½®å½“å‰ä¼šè¯éš”ç¦»çº§åˆ«ä¸ºå¯ä¸²è¡ŒåŒ– mysql root@localhost:mysql\u003e set session transaction isolation level serializable; Query OK, 0 rows affected Time: 0.043s // æŸ¥çœ‹å½“å‰ Session çš„äº‹åŠ¡éš”ç¦»çº§åˆ« mysql root@localhost:mysql\u003e show variables like '%transaction_isolation%'; +-----------------------+------------------+ | Variable_name | Value | +-----------------------+------------------+ | transaction_isolation | READ-UNCOMMITTED | +-----------------------+------------------+ 1 row in set Time: 0.067s // æŸ¥çœ‹å…¨å±€çš„äº‹åŠ¡éš”ç¦»çº§åˆ« mysql root@localhost:mysql\u003e show global variables like '%transaction_isolation%'; +-----------------------+-----------------+ | Variable_name | Value | +-----------------------+-----------------+ | transaction_isolation | REPEATABLE-READ | +-----------------------+-----------------+ 1 row in set Time: 0.016s å®éªŒç¯èŠ‚å¾…ç»­ä¸­ã€‚ã€‚ã€‚ ","date":"2019-11-07","objectID":"/2019/11/07/mysql-isolation-level/:6:0","tags":["MySQL"],"title":"MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯»","uri":"/2019/11/07/mysql-isolation-level/"},{"categories":["Redis"],"content":"Redis å’Œå…¶ä»–å¾ˆå¤š key-value æ•°æ®åº“çš„ä¸åŒä¹‹å¤„åœ¨äºï¼ŒRedis ä¸ä»…æ”¯æŒç®€å•çš„å­—ç¬¦ä¸²é”®å€¼å¯¹ï¼Œå®ƒè¿˜æä¾›äº†ä¸€ç³»åˆ—æ•°æ®ç»“æ„ç±»å‹å€¼ï¼Œæ¯”å¦‚åˆ—è¡¨ã€å“ˆå¸Œã€é›†åˆå’Œæœ‰åºé›†ï¼Œå¹¶åœ¨è¿™äº›æ•°æ®ç»“æ„ç±»å‹ä¸Šå®šä¹‰äº†ä¸€å¥—å¼ºå¤§çš„ APIã€‚é€šè¿‡å¯¹ä¸åŒç±»å‹çš„å€¼è¿›è¡Œæ“ä½œï¼ŒRedis å¯ä»¥å¾ˆè½»æ˜“åœ°å®Œæˆå…¶ä»–åªæ”¯æŒå­—ç¬¦ä¸²é”®å€¼å¯¹çš„ key-value æ•°æ®åº“å¾ˆéš¾ï¼ˆæˆ–è€…æ— æ³•ï¼‰å®Œæˆçš„ä»»åŠ¡ã€‚åœ¨ Redis çš„å†…éƒ¨ï¼Œæ•°æ®ç»“æ„ç±»å‹å€¼ç”±é«˜æ•ˆçš„æ•°æ®ç»“æ„å’Œç®—æ³•è¿›è¡Œæ”¯æŒï¼Œå¹¶ä¸”åœ¨ Redis è‡ªèº«çš„æ„å»ºå½“ä¸­ï¼Œä¹Ÿå¤§é‡ç”¨åˆ°äº†è¿™äº›æ•°æ®ç»“æ„ã€‚ ","date":"2019-11-06","objectID":"/2019/11/06/redis-command-operation/:0:0","tags":["Redis"],"title":"Redis å¸¸ç”¨å‘½ä»¤æ“ä½œ","uri":"/2019/11/06/redis-command-operation/"},{"categories":["Redis"],"content":"æ•°æ®ç±»å‹ å­—ç¬¦ä¸²ï¼šString å“ˆå¸Œæˆ–æ•£åˆ—ï¼šHash åˆ—è¡¨ï¼šList é›†åˆï¼šSet æœ‰åºé›†åˆï¼šSorted Set ","date":"2019-11-06","objectID":"/2019/11/06/redis-command-operation/:1:0","tags":["Redis"],"title":"Redis å¸¸ç”¨å‘½ä»¤æ“ä½œ","uri":"/2019/11/06/redis-command-operation/"},{"categories":["Redis"],"content":"æ“ä½œå®ä¾‹ ","date":"2019-11-06","objectID":"/2019/11/06/redis-command-operation/:2:0","tags":["Redis"],"title":"Redis å¸¸ç”¨å‘½ä»¤æ“ä½œ","uri":"/2019/11/06/redis-command-operation/"},{"categories":["Redis"],"content":"å­—ç¬¦ä¸² Redis æ•°æ®åº“æ˜¯ä»¥æ— åºçš„æ–¹å¼å­˜æ”¾æ•°æ®åº“é”®çš„ï¼Œä¸€ä¸ªæ–°åŠ å…¥çš„é”®å¯èƒ½ä¼šå‡ºç°åœ¨æ•°æ®åº“çš„ä»»ä½•ä½ç½®ä¸Šã€‚å› æ­¤æˆ‘ä»¬åœ¨ä½¿ç”¨ Redis çš„è¿‡ç¨‹ä¸­ä¸åº”è¯¥å¯¹é”®åœ¨æ•°æ®åº“ä¸­çš„æ‘†æ”¾ä½ç½®åšä»»ä½•å‡è®¾ï¼Œä»¥å…é€ æˆé”™è¯¯ã€‚ è®¾ç½®å­—ç¬¦ä¸²é”®å€¼ï¼š 127.0.0.1:6379\u003e SET phone 10086 OK è·å–å­—ç¬¦ä¸²é”®å€¼ï¼š 127.0.0.1:6379\u003e GET phone \"10086\" è¦†ç›–å­—ç¬¦ä¸²é”®å€¼ï¼š 127.0.0.1:6379\u003e SET redis \"Redis is an in-memory database that persists on disk\" OK 127.0.0.1:6379\u003e GET redis \"Redis is an in-memory database that persists on disk\" 127.0.0.1:6379\u003e SET redis \"Redis is often referred as a data structures server\" OK 127.0.0.1:6379\u003e GET redis \"Redis is often referred as a data structures server\" ä»…åœ¨é”®æ²¡æœ‰å€¼æ—¶è¿›è¡Œè®¾ç½®ï¼š 127.0.0.1:6379\u003e GET password (nil) 127.0.0.1:6379\u003e SET password \"password\" NX OK 127.0.0.1:6379\u003e GET password \"password\" 127.0.0.1:6379\u003e SET password \"123456\" NX (nil) 127.0.0.1:6379\u003e GET password \"password\" ä»…åœ¨é”®å·²æœ‰å€¼æ—¶è¿›è¡Œè®¾ç½®ï¼š 127.0.0.1:6379\u003e GET redis:password (nil) 127.0.0.1:6379\u003e SET redis:password \"redis.io\" XX (nil) 127.0.0.1:6379\u003e GET redis:password (nil) 127.0.0.1:6379\u003e SET redis:password \"redis.io\" OK 127.0.0.1:6379\u003e SET redis:password \"Redis.IO\" XX OK è·å–é”®ç›®å‰çš„å€¼ï¼Œç„¶åä¸ºé”®è®¾ç½®æ–°å€¼ï¼Œæœ€åæŠŠä¹‹å‰è·å–åˆ°çš„æ—§å€¼è¿”å›ï¼š 127.0.0.1:6379\u003e GET phone (nil) 127.0.0.1:6379\u003e GETSET phone 10086 (nil) 127.0.0.1:6379\u003e SET phone 10086 OK 127.0.0.1:6379\u003e GETSET phone 10001 \"10086\" 127.0.0.1:6379\u003e GET phone \"10001\" ä¸€æ¬¡ä¸ºå¤šä¸ªå­—ç¬¦ä¸²é”®è®¾ç½®å€¼ï¼š 127.0.0.1:6379\u003e MSET a hello b world c 10086 OK 127.0.0.1:6379\u003e MGET a 1) \"hello\" 127.0.0.1:6379\u003e MGET b 1) \"world\" 127.0.0.1:6379\u003e MGET c 1) \"10086\" 127.0.0.1:6379\u003e MSET a redis b memory c 10001 OK 127.0.0.1:6379\u003e MGET a 1) \"redis\" 127.0.0.1:6379\u003e MGET b 1) \"memory\" 127.0.0.1:6379\u003e MGET c 1) \"10001\" ä¸€æ¬¡è·å–å¤šä¸ªå­—ç¬¦ä¸²é”®çš„å€¼ï¼š 127.0.0.1:6379\u003e MSET a \"Hello World\" b 10086 OK 127.0.0.1:6379\u003e MGET a b 1) \"Hello World\" 2) \"10086\" ä»…åœ¨é”®ä¸å­˜åœ¨æ—¶ï¼Œä¸€æ¬¡ä¸ºå¤šä¸ªå­—ç¬¦ä¸²é”®è®¾ç½®å€¼ï¼š 127.0.0.1:6379\u003e MSET a hello b world c 10086 OK 127.0.0.1:6379\u003e MSETNX a 1 b 2 c 3 d 4 (integer) 0 127.0.0.1:6379\u003e MGET a b c d 1) \"hello\" 2) \"world\" 3) \"10086\" 4) (nil) 127.0.0.1:6379\u003e MSETNX d 4 (integer) 1 127.0.0.1:6379\u003e MGET a b c d 1) \"hello\" 2) \"world\" 3) \"10086\" 4) \"4\" è·å–å­—ç¬¦ä¸²å€¼çš„å­—èŠ‚é•¿åº¦ï¼š 127.0.0.1:6379\u003e SET org \"ä¸­å›½äººæ°‘è§£æ”¾å†›\" OK 127.0.0.1:6379\u003e STRLEN org (integer) 21 127.0.0.1:6379\u003e SET str \"Hello World!\" OK 127.0.0.1:6379\u003e STRLEN str (integer) 12 è·å–å­—ç¬¦ä¸²å€¼æŒ‡å®šç´¢å¼•èŒƒå›´ä¸Šçš„å†…å®¹ï¼š 127.0.0.1:6379\u003e SET org Microsoft OK 127.0.0.1:6379\u003e GETRANGE org 0 4 \"Micro\" å¯¹å­—ç¬¦ä¸²çš„æŒ‡å®šç´¢å¼•èŒƒå›´è¿›è¡Œè®¾ç½®ï¼š 127.0.0.1:6379\u003e SET message \"Hello World\" OK 127.0.0.1:6379\u003e SETRANGE message 6 Redis (integer) 11 127.0.0.1:6379\u003e GET message \"Hello Redis\" è‡ªåŠ¨æ‰©å±•è¢«ä¿®æ”¹çš„å­—ç¬¦ä¸²ï¼š 127.0.0.1:6379\u003e SET message \"Hello World\" OK 127.0.0.1:6379\u003e GET message \"Hello World\" 127.0.0.1:6379\u003e SETRANGE message 6 \"Redis, Hello World\" (integer) 24 127.0.0.1:6379\u003e GET message \"Hello Redis, Hello World\" åœ¨å€¼é‡Œé¢å¡«å……ç©ºå­—èŠ‚ï¼š \\x00 ç¬¦å·ä»£è¡¨ä¸€ä¸ªç©ºå­—ç¬¦ã€‚ 127.0.0.1:6379\u003e SET message Hello OK 127.0.0.1:6379\u003e get message \"Hello\" 127.0.0.1:6379\u003e SETRANGE message 10 Redis (integer) 15 127.0.0.1:6379\u003e GET message \"Hello\\x00\\x00\\x00\\x00\\x00Redis\" è¿½åŠ æ–°å†…å®¹åˆ°å€¼çš„æœ«å°¾ï¼š 127.0.0.1:6379\u003e SET message Hello OK 127.0.0.1:6379\u003e APPEND message \" Redis\" (integer) 11 127.0.0.1:6379\u003e GET message \"Hello Redis\" 127.0.0.1:6379\u003e APPEND message \", Hello World\" (integer) 24 127.0.0.1:6379\u003e GET message \"Hello Redis, Hello World\" ä¸å­˜åœ¨çš„é”®è¿½åŠ å†…å®¹ï¼š æ•ˆæœç­‰åŒäº SET å‘½ä»¤ã€‚ 127.0.0.1:6379\u003e GET message (nil) 127.0.0.1:6379\u003e APPEND message \"Hello Redis\" (integer) 11 127.0.0.1:6379\u003e APPEND message \", Hello World\" (integer) 24 127.0.0.1:6379\u003e GET message \"Hello Redis, Hello World\" æ•´æ•°å€¼çš„åŠ æ³•ã€å‡æ³•æ“ä½œï¼š 127.0.0.1:6379\u003e SET number 1000 OK 127.0.0.1:6379\u003e GET number \"1000\" 127.0.0.1:6379\u003e INCRBY number 100 (integer) 1100 127.0.0.1:6379\u003e INCRBY number 300 (integer) 1400 127.0.0.1:6379\u003e GET number \"1400\" 127.0.0.1:6379\u003e DECRBY number 300 (integer) 1100 127.0.0.1:6379\u003e DECRBY number 100 (integer) 1000 127.0.0.1:6379\u003e get number \"1000\" é”™è¯¯çš„å®ä¾‹ï¼š 127.0.0.1:6379\u003e SET number 1.105 OK 127.0.0.1:6379\u003e INCRBY number 1 (error) ERR value is not an integer or out of range 127.0.0.1:6379\u003e SET message Hello OK 127.0.0.1:6379\u003e DECRBY message 2 (error) ERR value is not an integer or out of range 127.0.0.1:6379\u003e SET bignumber 123456789123456789123456789 OK 127.0.0.1:6379\u003e INCRBY bignumber 3 (error) ER","date":"2019-11-06","objectID":"/2019/11/06/redis-command-operation/:2:1","tags":["Redis"],"title":"Redis å¸¸ç”¨å‘½ä»¤æ“ä½œ","uri":"/2019/11/06/redis-command-operation/"},{"categories":["Redis"],"content":"å“ˆå¸Œæˆ–æ•£åˆ— ä¸ºå­—æ®µè®¾ç½®å€¼ï¼š 127.0.0.1:6379\u003e HSET user:1001 name imajinyun age 18 (integer) 2 127.0.0.1:6379\u003e HSET user:1001 gender male (integer) 1 127.0.0.1:6379\u003e HSET user:1001 created_at 1573036176 (integer) 1 127.0.0.1:6379\u003e HGETALL user:1001 1) \"name\" 2) \"imajinyun\" 3) \"age\" 4) \"18\" 5) \"gender\" 6) \"male\" 7) \"created_at\" 8) \"1573036176\" ä½¿ç”¨æ–°å€¼è¦†ç›–æ—§å€¼ï¼š 127.0.0.1:6379\u003e HSET user:1001 name iphone (integer) 1 127.0.0.1:6379\u003e HSET user:1001 name imajinyun (integer) 0 127.0.0.1:6379\u003e HGET user:1001 name \"imajinyun\" ä»…åœ¨å­—æ®µä¸å­˜åœ¨çš„æƒ…å†µä¸‹ä¸ºå®ƒè®¾ç½®å€¼ï¼š 127.0.0.1:6379\u003e HSETNX user:1001 name peter (integer) 1 127.0.0.1:6379\u003e HSETNX user:1001 name imajinyun (integer) 0 127.0.0.1:6379\u003e HGET user:1001 name \"peter\" 127.0.0.1:6379\u003e HSETNX user:1001 age 18 (integer) 1 127.0.0.1:6379\u003e HGETALL user:1001 1) \"name\" 2) \"peter\" 3) \"age\" 4) \"18\" è·å–å•ä¸ªã€å¤šä¸ªå­—æ®µçš„å€¼ï¼š 127.0.0.1:6379\u003e HSET user:1001 name imajinyun age 18 (integer) 2 127.0.0.1:6379\u003e HGET user:1001 name \"imajinyun\" 127.0.0.1:6379\u003e HGET user:1001 age \"18\" 127.0.0.1:6379\u003e HGETALL user:1001 1) \"name\" 2) \"imajinyun\" 3) \"age\" 4) \"18\" è·å–ä¸å­˜åœ¨çš„å­—æ®µæˆ–è€…ä¸å­˜åœ¨çš„å“ˆå¸Œï¼š 127.0.0.1:6379\u003e HSET user:1001 name imajinyun (integer) 1 127.0.0.1:6379\u003e HGET user:1001 age (nil) 127.0.0.1:6379\u003e HGET user:1002 age (nil) 127.0.0.1:6379\u003e HGETALL user:1002 (empty list or set) å¯¹å­—æ®µå­˜å‚¨çš„æ•´æ•°å€¼è¿›è¡ŒåŠ æ³•æˆ–å‡æ³•æ“ä½œï¼š 127.0.0.1:6379\u003e ","date":"2019-11-06","objectID":"/2019/11/06/redis-command-operation/:2:2","tags":["Redis"],"title":"Redis å¸¸ç”¨å‘½ä»¤æ“ä½œ","uri":"/2019/11/06/redis-command-operation/"},{"categories":["Redis"],"content":"åˆ—è¡¨ ","date":"2019-11-06","objectID":"/2019/11/06/redis-command-operation/:2:3","tags":["Redis"],"title":"Redis å¸¸ç”¨å‘½ä»¤æ“ä½œ","uri":"/2019/11/06/redis-command-operation/"},{"categories":["Redis"],"content":"é›†åˆ ","date":"2019-11-06","objectID":"/2019/11/06/redis-command-operation/:2:4","tags":["Redis"],"title":"Redis å¸¸ç”¨å‘½ä»¤æ“ä½œ","uri":"/2019/11/06/redis-command-operation/"},{"categories":["Redis"],"content":"æœ‰åºé›†åˆ ","date":"2019-11-06","objectID":"/2019/11/06/redis-command-operation/:2:5","tags":["Redis"],"title":"Redis å¸¸ç”¨å‘½ä»¤æ“ä½œ","uri":"/2019/11/06/redis-command-operation/"},{"categories":["Redis"],"content":"å…¶å®ƒ ","date":"2019-11-06","objectID":"/2019/11/06/redis-command-operation/:3:0","tags":["Redis"],"title":"Redis å¸¸ç”¨å‘½ä»¤æ“ä½œ","uri":"/2019/11/06/redis-command-operation/"},{"categories":["PHP","Swoole"],"content":"Swoole è™½ç„¶æ˜¯æ ‡å‡†çš„ PHP æ‰©å±•ï¼Œå®é™…ä¸Šä¸æ™®é€šçš„æ‰©å±•ä¸åŒã€‚æ™®é€šçš„æ‰©å±•åªæ˜¯æä¾›ä¸€ä¸ªåº“å‡½æ•°ã€‚è€Œ Swoole æ‰©å±•åœ¨è¿è¡Œåä¼šæ¥ç®¡ PHP çš„æ§åˆ¶æƒï¼Œè¿›å…¥äº‹ä»¶å¾ªç¯ã€‚å½“ IO äº‹ä»¶å‘ç”Ÿååº•å±‚ä¼šè‡ªåŠ¨å›è°ƒæŒ‡å®šçš„ PHP å‡½æ•°ã€‚è¯´å®ƒé‡æ–°å®šä¹‰äº† PHPï¼Œä¸€ç‚¹ä¹Ÿä¸å¤¸å¼ ã€‚ ","date":"2019-10-27","objectID":"/2019/10/27/php-swoole-get-started/:0:0","tags":["PHP","Swoole"],"title":"Swoole èµ·æ­¥","uri":"/2019/10/27/php-swoole-get-started/"},{"categories":["PHP","Swoole"],"content":"æ¦‚è¿° Coroutine asynchronous programming framework for PHP Swooleï¼šé¢å‘ç”Ÿäº§ç¯å¢ƒçš„ PHP åç¨‹æ¡†æ¶ Easy Swoole Swoole Wiki Swoole åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Ÿ Swoole æ˜¯é¢å‘ç”Ÿäº§ç¯å¢ƒçš„ PHP åç¨‹æ¡†æ¶ã€‚ä½¿ PHP å¼€å‘äººå‘˜å¯ä»¥ç¼–å†™é«˜æ€§èƒ½çš„åç¨‹ TCPã€UDPã€Unix Socketã€HTTPï¼ŒWebSocket æœåŠ¡ã€‚Swoole å¯ä»¥å¹¿æ³›åº”ç”¨äºäº’è”ç½‘ã€ç§»åŠ¨é€šä¿¡ã€ä¼ä¸šè½¯ä»¶ã€äº‘è®¡ç®—ã€ç½‘ç»œæ¸¸æˆã€ç‰©è”ç½‘ï¼ˆIOTï¼‰ã€è½¦è”ç½‘ã€æ™ºèƒ½å®¶å±…ç­‰é¢†åŸŸã€‚ ä½¿ç”¨ PHP + Swoole ä½œä¸ºç½‘ç»œé€šä¿¡æ¡†æ¶ï¼Œå¯ä»¥ä½¿ä¼ä¸š IT ç ”å‘å›¢é˜Ÿçš„æ•ˆç‡å¤§å¤§æå‡ï¼Œæ›´åŠ ä¸“æ³¨äºå¼€å‘åˆ›æ–°äº§å“ã€‚ ","date":"2019-10-27","objectID":"/2019/10/27/php-swoole-get-started/:1:0","tags":["PHP","Swoole"],"title":"Swoole èµ·æ­¥","uri":"/2019/10/27/php-swoole-get-started/"},{"categories":["PHP","Swoole"],"content":"å®‰è£… apt-get update \u0026\u0026 apt-get install vim -y \u0026\u0026 \\ apt-get install openssl -y \u0026\u0026 \\ apt-get install libssl-dev -y \u0026\u0026 \\ apt-get install wget -y \u0026\u0026 \\ apt-get install git -y \u0026\u0026 \\ apt-get install procps -y \u0026\u0026 \\ apt-get install htop -y cd /usr/local/src \u0026\u0026 \\ git clone https://github.com/swoole/swoole-src.git \u0026\u0026 \\ cd swoole-src \u0026\u0026 \\ git checkout v4.4.8 \u0026\u0026 \\ phpize \u0026\u0026 \\ ./configure --enable-openssl \u0026\u0026 \\ make \u0026\u0026 make install touch /usr/local/etc/php/conf.d/swoole.ini \u0026\u0026 echo 'extension=swoole.so' \u003e /usr/local/etc/php/conf.d/swoole.ini ","date":"2019-10-27","objectID":"/2019/10/27/php-swoole-get-started/:2:0","tags":["PHP","Swoole"],"title":"Swoole èµ·æ­¥","uri":"/2019/10/27/php-swoole-get-started/"},{"categories":["PHP","Swoole"],"content":"ä½¿ç”¨ ","date":"2019-10-27","objectID":"/2019/10/27/php-swoole-get-started/:3:0","tags":["PHP","Swoole"],"title":"Swoole èµ·æ­¥","uri":"/2019/10/27/php-swoole-get-started/"},{"categories":["PHP","Swoole"],"content":"åˆ›å»º HTTP æœåŠ¡å™¨ \u003c?php $http = new \\Swoole\\Http\\Server('127.0.0.1', 8080); $http-\u003eon('start', static function ($server) { echo \"Swoole http server is started at http://127.0.0.1:8080\\n\"; }); $http-\u003eon('request', static function ($request, $response) { $response-\u003eheader('Content-Type', 'text/plain'); $response-\u003eend(\"Hello World!\\n\"); }); $http-\u003estart(); ","date":"2019-10-27","objectID":"/2019/10/27/php-swoole-get-started/:3:1","tags":["PHP","Swoole"],"title":"Swoole èµ·æ­¥","uri":"/2019/10/27/php-swoole-get-started/"},{"categories":["PHP","Swoole"],"content":"åˆ›å»º WebSocket æœåŠ¡å™¨ \u003c?php $websocket = new \\Swoole\\WebSocket\\Server('127.0.0.1', 8080); $websocket-\u003eon('open', static function ($server, $request) { echo \"Connection open: {$request-\u003efd}\\n\"; }); $websocket-\u003eon('message', static function ($server, $frame) { echo \"Received message: {$frame-\u003edata}\\n\"; $server-\u003epush($frame-\u003efd, json_encode(['hello', 'world'])); }); $websocket-\u003eon('close', static function ($server, $fd) { echo \"Connection close: {$fd}\\n\"; }); $websocket-\u003estart(); ","date":"2019-10-27","objectID":"/2019/10/27/php-swoole-get-started/:3:2","tags":["PHP","Swoole"],"title":"Swoole èµ·æ­¥","uri":"/2019/10/27/php-swoole-get-started/"},{"categories":["PHP","Swoole"],"content":"åˆ›å»º TCP æœåŠ¡å™¨ TCP æœåŠ¡å™¨ï¼š \u003c?php $server = new \\Swoole\\Server('127.0.0.1', 8080); $server-\u003eon('connect', static function ($server, $request) { echo \"Connection open: {$request-\u003efd}\\n\"; }); $server-\u003eon('receive', static function ($server, $fd, $id, $data) { $server-\u003esend($fd, \"Swoole: {$data}\"); $server-\u003eclose($fd); }); $server-\u003eon('close', static function ($server, $fd) { echo \"Connection close: {$fd}\\n\"; }); $server-\u003estart(); TCP å®¢æˆ·ç«¯ï¼š \u003c?php $client = new \\Swoole\\Client(SWOOLE_SOCK_TCP, SWOOLE_SOCK_ASYNC); $client-\u003eon('connect', static function ($client) { $client-\u003esend(\"Hello World!\\n\"); }); $client-\u003eon('receive', static function ($client, $data) { echo \"Received: {$data}\\n\"; }); $client-\u003eon('error', static function ($client) { echo \"Connection failed\\n\"; }); $client-\u003eon('close', static function ($client) { echo \"Connection close\\n\"; }); $client-\u003econnect('127.0.0.1', 8080, 0.5); ","date":"2019-10-27","objectID":"/2019/10/27/php-swoole-get-started/:3:3","tags":["PHP","Swoole"],"title":"Swoole èµ·æ­¥","uri":"/2019/10/27/php-swoole-get-started/"},{"categories":["PHP","Swoole"],"content":"é—®é¢˜ error \"Enable openssl support, require openssl library.ï¼š // ç¡®å®š openssl ä½ç½® which openssl /usr/local/opt/openresty-openssl/bin/openssl // å®‰è£… swoole æ—¶æŒ‡å®š openssl è·¯å¾„ pecl install swoole downloading swoole-4.4.8.tgz ... Starting to download swoole-4.4.8.tgz (1,427,235 bytes) .........................................................................................................................................................................................................................................................................................done: 1,427,235 bytes 391 source files, building running: phpize Configuring for: PHP Api Version: 20180731 Zend Module Api No: 20180731 Zend Extension Api No: 320180731 enable sockets supports? [no] : yes enable openssl support? [no] : yes --with-openssl-dir=/usr/local/opt/openssl@1.1/bin/openssl enable http2 support? [no] : yes enable mysqlnd support? [no] : yes building in /private/tmp/pear/temp/pear-build-majinyunwRSXz0/swoole-4.4.8 // å®‰è£…æˆåŠŸä¿¡æ¯ Build process completed successfully Installing '/usr/local/Cellar/php/7.3.10/include/php/ext/swoole/config.h' Installing '/usr/local/Cellar/php/7.3.10/pecl/20180731/swoole.so' install ok: channel://pecl.php.net/swoole-4.4.8 Extension swoole enabled in php.ini ","date":"2019-10-27","objectID":"/2019/10/27/php-swoole-get-started/:4:0","tags":["PHP","Swoole"],"title":"Swoole èµ·æ­¥","uri":"/2019/10/27/php-swoole-get-started/"},{"categories":["Mac"],"content":"è®°å½•ä¸€äº›ç»ˆç«¯ä¸­çš„æŠ€å·§å’Œå‘½ä»¤ï¼Œé‰´äºç»å¸¸ä½¿ç”¨ç»ˆç«¯ï¼Œåœ¨æŸä¸ªä¸ç»æ„çš„ç¬é—´å¿˜è®°äº†ã€è¿˜æœ‰è¿™ç§æ“ä½œã€ï¼Œç‰¹æ­¤è®°å½•ä»¥é£¨è‡ªå·±ã€‚ ","date":"2019-02-05","objectID":"/2019/02/05/mac-command-commands-2/:0:0","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†äºŒ","uri":"/2019/02/05/mac-command-commands-2/"},{"categories":["Mac"],"content":"ç§»é™¤æ‰“å¼€ç»ˆç«¯æ—¶çš„æç¤ºè¯­ Remove theã€Last loginã€Message from the Terminal // åˆ›å»º .hushlogin æ–‡ä»¶ $ touch .hushlogin ","date":"2019-02-05","objectID":"/2019/02/05/mac-command-commands-2/:1:0","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†äºŒ","uri":"/2019/02/05/mac-command-commands-2/"},{"categories":["Mac"],"content":"ç»ˆç«¯ä¸­ä½¿ç”¨ telnet How to Get Telnet for MacOS in Mojave or High Sierra // å®‰è£… telnet $ brew install telnet ","date":"2019-02-05","objectID":"/2019/02/05/mac-command-commands-2/:2:0","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†äºŒ","uri":"/2019/02/05/mac-command-commands-2/"},{"categories":["Mac"],"content":"ç»ˆç«¯ä¸­ä½¿ç”¨ä¸Šä¼ ä¸‹è½½ Set rz and sz on Mac macOS ä¸­ä½¿ç”¨ rzã€sz ä¼ è¾“æ–‡ä»¶ // å®‰è£… lrzsz $ brew install lrzsz ","date":"2019-02-05","objectID":"/2019/02/05/mac-command-commands-2/:3:0","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†äºŒ","uri":"/2019/02/05/mac-command-commands-2/"},{"categories":["Mac"],"content":"æ£€ç´¢æ–‡ä»¶ // æ›´æ–°ç´¢å¼• $ sudo /usr/libexec/locate.updatedb // æ£€ç´¢æ–‡ä»¶ $ locate xxx.xxx ","date":"2019-02-05","objectID":"/2019/02/05/mac-command-commands-2/:4:0","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†äºŒ","uri":"/2019/02/05/mac-command-commands-2/"},{"categories":["Mac"],"content":"masOS VSCode Vim æ¨¡å¼æ— æ³•æŒç»­æŒ‰é”® // For VSCode $ defaults write com.microsoft.VSCode ApplePressAndHoldEnabled -bool false // For VSCode Insiders $ defaults write com.microsoft.VSCodeInsiders ApplePressAndHoldEnabled -bool false // For VSCodium $ defaults write com.visualstudio.code.oss ApplePressAndHoldEnabled -bool false // To enable global key-repeat // this is helpful if you\\'re using Vim in a PWA like code-server $ defaults write -g ApplePressAndHoldEnabled -bool false OR $ defaults delete -g ApplePressAndHoldEnabled // æŸ¥çœ‹å¯¹ com.microsoft.VSCode çš„è®¾ç½® $ defaults read com.microsoft.VSCode ApplePressAndHoldEnabled ","date":"2019-02-05","objectID":"/2019/02/05/mac-command-commands-2/:5:0","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†äºŒ","uri":"/2019/02/05/mac-command-commands-2/"},{"categories":["Mac"],"content":"ã€åƒé‡Œä¹‹è¡Œï¼Œå§‹äºè¶³ä¸‹ã€ï¼ŒæŒæ¡é«˜é¢‘ä½¿ç”¨çš„å‘½ä»¤ä¹Ÿä¸ä¾‹å¤–ã€‚ç§¯é“¢ç´¯å¯¸ï¼Œæ€»æœ‰ä¸€å¤©ï¼Œä½ ç»ˆä¼šåœ¨å‘½ä»¤è¡Œä¸­æ¸¸åˆƒæœ‰ä½™ã€‚ ","date":"2019-02-04","objectID":"/2019/02/04/mac-command-commands-1/:0:0","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†ä¸€","uri":"/2019/02/04/mac-command-commands-1/"},{"categories":["Mac"],"content":"è®©ç»ˆç«¯è¯´è‹±è¯­ $ say hello // è®©ç¨‹åºæ‰§è¡Œå®Œäº†è¯´ä¸€å£° $ sleep 5 \u0026\u0026 say \"this is a test\" ","date":"2019-02-04","objectID":"/2019/02/04/mac-command-commands-1/:1:0","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†ä¸€","uri":"/2019/02/04/mac-command-commands-1/"},{"categories":["Mac"],"content":"æ ‡è®°æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ï¼Œç”¨ Spotlight æ‰“å¼€ é€‰ä¸­ä¸€ä¸ªæ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ï¼ŒCommand+I æ‰“å¼€ç®€ä»‹ï¼Œåœ¨æ·»åŠ æ ‡è®°ä¸­è¾“å…¥å…³é”®è¯ï¼Œå…³é—­ç®€ä»‹çª—å£ã€‚æ‰“å¼€ Spotlight è¾“å…¥åˆšæ‰çš„å…³é”®è¯ï¼Œå¯ä»¥å‡†ç¡®å®šä½ ","date":"2019-02-04","objectID":"/2019/02/04/mac-command-commands-1/:2:0","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†ä¸€","uri":"/2019/02/04/mac-command-commands-1/"},{"categories":["Mac"],"content":"ä½¿ç”¨ sips å‘½ä»¤æ‰¹é‡å¤„ç†å›¾ç‰‡ // å°†å›¾ç‰‡å®½åº¦ç¼©å°ä¸º 800pxï¼Œé«˜åº¦æŒ‰æ¯”ä¾‹ç¼©æ”¾ $ sips -Z 800 ~/001.jpg // é¡ºæ—¶é’ˆæ—‹è½¬ 90 åº¦ $ sips -r 90 ~/001.jpg // å‚ç›´åè½¬ $ sips -f vertical ~/001.jpg ","date":"2019-02-04","objectID":"/2019/02/04/mac-command-commands-1/:3:0","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†ä¸€","uri":"/2019/02/04/mac-command-commands-1/"},{"categories":["Mac"],"content":"æŠŠå½“å‰ç½‘é¡µé™„åŠ åˆ°å¾…å‘é€é‚®ä»¶ä¸­ åœ¨ Safari æµè§ˆå™¨ä¸­æµè§ˆç½‘é¡µæ—¶ï¼Œé€šè¿‡ Command+I å¯ä»¥ç›´æ¥æ‰“å¼€é‚®ä»¶å¹¶æŠŠå½“å‰ç½‘é¡µé™„åŠ åˆ°å¾…å‘é€çš„é‚®ä»¶ä¸­ ","date":"2019-02-04","objectID":"/2019/02/04/mac-command-commands-1/:4:0","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†ä¸€","uri":"/2019/02/04/mac-command-commands-1/"},{"categories":["Mac"],"content":"åˆ é™¤æ–‡ä»¶å’Œæ¸…ç©ºçº¸ç¯“ åˆ é™¤æ–‡ä»¶ï¼šCommand+Delete å½»åº•åˆ é™¤ï¼šCommand+Alt+Delete ","date":"2019-02-04","objectID":"/2019/02/04/mac-command-commands-1/:5:0","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†ä¸€","uri":"/2019/02/04/mac-command-commands-1/"},{"categories":["Mac"],"content":"å®‰è£… Go2Shellï¼Œå¿«é€Ÿåœ¨å½“å‰ç›®å½•æ‰“å¼€ç»ˆç«¯çš„å·¥å…· é»˜è®¤æƒ…å†µä¸‹æ˜¯æ‰“å¼€ç³»ç»Ÿç»ˆç«¯ï¼Œè¿™é‡Œé…ç½®æˆç”¨ iTerm2 æ‰“å¼€ç»ˆç«¯ $ open -a Go2Shell --args config ","date":"2019-02-04","objectID":"/2019/02/04/mac-command-commands-1/:6:0","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†ä¸€","uri":"/2019/02/04/mac-command-commands-1/"},{"categories":["Mac"],"content":"ä¿®æ”¹ç»ˆç«¯ç”µè„‘åç§° $ sudo scutil --set HostName your-host-name $ hostname // æŸ¥çœ‹ `hostname` ","date":"2019-02-04","objectID":"/2019/02/04/mac-command-commands-1/:7:0","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†ä¸€","uri":"/2019/02/04/mac-command-commands-1/"},{"categories":["Mac"],"content":"å¿«é€Ÿå¤åˆ¶å’Œç²˜è´´ // å°†åˆ—å‡ºçš„ä¸»ç›®å½•å¤åˆ¶åˆ°å‰ªè´´æ¿ $ ls ~ | pbcopy // æ–‡ä»¶çš„å†…å®¹è¯»å…¥å‰ªè´´æ¿ $ pbcopy \u003c ~/.zshrc // å°†å‰ªè´´æ¿çš„å†…å®¹å†™å…¥åˆ°æ–‡ä»¶ä¸­ $ pbpaste \u003e\u003e ~/demo.php ","date":"2019-02-04","objectID":"/2019/02/04/mac-command-commands-1/:8:0","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†ä¸€","uri":"/2019/02/04/mac-command-commands-1/"},{"categories":["Mac"],"content":"æ‰¾å›ä»»ä½•æ¥æºé€‰é¡¹ // æ‰¾å›å®‰å…¨ä¸éšç§ä¸­çš„ä¿¡ä»» \"ä»»ä½•æ¥æº\" é€‰é¡¹ $ sudo spctl --master-disable ","date":"2019-02-04","objectID":"/2019/02/04/mac-command-commands-1/:9:0","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†ä¸€","uri":"/2019/02/04/mac-command-commands-1/"},{"categories":["Mac"],"content":"å¿«é€ŸæŸ¥çœ‹æ—¥å† $ cal æˆ– $ cal 2018 ","date":"2019-02-04","objectID":"/2019/02/04/mac-command-commands-1/:10:0","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†ä¸€","uri":"/2019/02/04/mac-command-commands-1/"},{"categories":["Mac"],"content":"Xcode Command Line Tools ","date":"2019-02-04","objectID":"/2019/02/04/mac-command-commands-1/:11:0","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†ä¸€","uri":"/2019/02/04/mac-command-commands-1/"},{"categories":["Mac"],"content":"æ£€æŸ¥ Xcode å®‰è£…åŒ…æ˜¯å¦å·²ç»è¢«å®‰è£… $ xcode-select -p ","date":"2019-02-04","objectID":"/2019/02/04/mac-command-commands-1/:11:1","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†ä¸€","uri":"/2019/02/04/mac-command-commands-1/"},{"categories":["Mac"],"content":"å®‰è£… $ xcode-select --install ","date":"2019-02-04","objectID":"/2019/02/04/mac-command-commands-1/:11:2","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†ä¸€","uri":"/2019/02/04/mac-command-commands-1/"},{"categories":["Mac"],"content":"Mac çš„å¯åŠ¨ç»„åˆé”® è¿™äº›ç»„åˆé”®é€‚ç”¨äºåŸºäº Intel çš„ Mac ç”µè„‘ã€‚åœ¨ Mac å¯åŠ¨åï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»– Mac é”®ç›˜å¿«æ·é”® å¿«æ·é”® æè¿° Shift (â‡§) ä»¥å®‰å…¨æ¨¡å¼å¯åŠ¨ Option (âŒ¥) å¯åŠ¨è¿›å…¥å¯åŠ¨ç®¡ç†å™¨ D ä»å†…å»ºçš„ Apple Hardware Test æˆ– Apple Diagnostics å®ç”¨å·¥å…·å¯åŠ¨ï¼Œå…·ä½“å–å†³äº Mac æœºå‹ N ä»å…¼å®¹çš„ NetBoot æœåŠ¡å™¨ï¼ˆè‹¥å¯ç”¨ï¼‰å¯åŠ¨ã€‚è¦ä½¿ç”¨ NetBoot æœåŠ¡å™¨ä¸Šé»˜è®¤çš„å¼•å¯¼æ˜ åƒï¼Œåˆ™è¯·æŒ‰ä½ Option-N Command+R ä»å†…å»ºçš„ macOS æ¢å¤ç³»ç»Ÿå¯åŠ¨ã€‚æˆ–è€…å¯ä»¥ä½¿ç”¨ Option+Command+R æˆ– Shift+Option+Command+R ä»¥é€šè¿‡äº’è”ç½‘ä» macOS æ¢å¤åŠŸèƒ½å¯åŠ¨ Option+Command+P+R é‡ç½® NVRAMï¼ˆæˆ– PRAMï¼‰ Command+S ä»¥å•ç”¨æˆ·æ¨¡å¼å¯åŠ¨ T ä»¥ç›®æ ‡ç£ç›˜æ¨¡å¼å¯åŠ¨ Command+V ä»¥è¯¦ç»†æ¨¡å¼å¯åŠ¨ æ¨å‡ºé”® (â)ã€F12ã€é¼ æ ‡é”®æˆ–è§¦æ§æ¿æŒ‰é’® æ¨å‡ºå¯ç§»åŠ¨ä»‹è´¨ ","date":"2019-02-04","objectID":"/2019/02/04/mac-command-commands-1/:12:0","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†ä¸€","uri":"/2019/02/04/mac-command-commands-1/"},{"categories":["Mac"],"content":"ç»ˆç«¯ä¸­ä¸Šä¼ ä¸‹è½½ // Mac å®‰è£… $ brew install lrzsz // Linux å®‰è£… $ yum install -y lrzsz æˆ– $ apt install -y lrzsz // Intel Chip $ cd /usr/local/bin // M1 Chip $ cd /opt/homebrew/bin // åˆ›å»º iterm2-recv-zmodem.sh æ–‡ä»¶ $ vim iterm2-recv-zmodem.sh #!/bin/bash # Author: Matt Mastracci (matthew@mastracci.com) # AppleScript from http://stackoverflow.com/questions/4309087/cancel-button-on-osascript-in-a-bash-script # licensed under cc-wiki with attribution required # Remainder of script public domain osascript -e 'tell application \"iTerm2\" to version' \u003e /dev/null 2\u003e\u00261 \u0026\u0026 NAME=iTerm2 || NAME=iTerm if [[ $NAME = \"iTerm\" ]]; then FILE=`osascript -e 'tell application \"iTerm\" to activate' -e 'tell application \"iTerm\" to set thefile to choose folder with prompt \"Choose a folder to place received files in\"' -e \"do shell script (\\\"echo \\\"\u0026(quoted form of POSIX path of thefile as Unicode text)\u0026\\\"\\\")\"` else FILE=`osascript -e 'tell application \"iTerm2\" to activate' -e 'tell application \"iTerm2\" to set thefile to choose folder with prompt \"Choose a folder to place received files in\"' -e \"do shell script (\\\"echo \\\"\u0026(quoted form of POSIX path of thefile as Unicode text)\u0026\\\"\\\")\"` fi if [[ $FILE = \"\" ]]; then echo Cancelled. # Send ZModem cancel echo -e \\\\x18\\\\x18\\\\x18\\\\x18\\\\x18 sleep 1 echo echo \\# Cancelled transfer else cd \"$FILE\" # TODO: Here according to the actual command address /usr/local/bin/rz -E -e -b sleep 1 echo echo echo \\# Sent \\-\\\u003e $FILE fi // åˆ›å»º iterm2-send-zmodem.sh æ–‡ä»¶ $ vim iterm2-send-zmodem.sh #!/bin/bash # Author: Matt Mastracci (matthew@mastracci.com) # AppleScript from http://stackoverflow.com/questions/4309087/cancel-button-on-osascript-in-a-bash-script # licensed under cc-wiki with attribution required # Remainder of script public domain osascript -e 'tell application \"iTerm2\" to version' \u003e /dev/null 2\u003e\u00261 \u0026\u0026 NAME=iTerm2 || NAME=iTerm if [[ $NAME = \"iTerm\" ]]; then FILE=`osascript -e 'tell application \"iTerm\" to activate' -e 'tell application \"iTerm\" to set thefile to choose file with prompt \"Choose a file to send\"' -e \"do shell script (\\\"echo \\\"\u0026(quoted form of POSIX path of thefile as Unicode text)\u0026\\\"\\\")\"` else FILE=`osascript -e 'tell application \"iTerm2\" to activate' -e 'tell application \"iTerm2\" to set thefile to choose file with prompt \"Choose a file to send\"' -e \"do shell script (\\\"echo \\\"\u0026(quoted form of POSIX path of thefile as Unicode text)\u0026\\\"\\\")\"` fi if [[ $FILE = \"\" ]]; then echo Cancelled. # Send ZModem cancel echo -e \\\\x18\\\\x18\\\\x18\\\\x18\\\\x18 sleep 1 echo echo \\# Cancelled transfer else # TODO: Here according to the actual command address /usr/local/bin/sz \"$FILE\" -e -b sleep 1 echo echo \\# Received $FILE fi // æ·»åŠ æ‰§è¡Œæƒé™ $ chmod +x /path/to/iterm2-* æ‰“å¼€ç»ˆç«¯çš„åå¥½ï¼ŒProfiles \u003e Profile Name (é€‰ä¸­ä½ è‡ªå®šä¹‰è®¾ç½®) \u003e Advanced \u003e Triggersï¼Œç‚¹å‡»ç¼–è¾‘ï¼Œè¿›è¡Œå¦‚ä¸‹è®¾ç½®ï¼š Regular Expression Action Parameters Instant Enabled rz waiting to receive.\\*\\*B0100 Run Silent Coprocess... /opt/homebrew/bin/iterm2-send-zmodem.sh False True \\*\\*B00000000000000 Run Silent Coprocess... /opt/homebrew/bin/iterm2-recv-zmodem.sh False True æœªå®Œå¾…ç»­â€¦â€¦ ","date":"2019-02-04","objectID":"/2019/02/04/mac-command-commands-1/:13:0","tags":["Mac"],"title":"Mac å®ç”¨å‘½ä»¤æ”¶é›†ä¸€","uri":"/2019/02/04/mac-command-commands-1/"},{"categories":["Linux"],"content":"Shadowsocks æ˜¯ä¸€ç§åŸºäº Socks5 ä»£ç†æ–¹å¼çš„åŠ å¯†ä¼ è¾“åè®®ï¼Œä¹Ÿå¯ä»¥æŒ‡å®ç°è¿™ä¸ªåè®®çš„å„ç§å¼€å‘åŒ…ã€‚å½“å‰åŒ…ä½¿ç”¨ Pythonã€Cã€C++ã€C#ã€Go è¯­è¨€ç­‰ç¼–ç¨‹è¯­è¨€å¼€å‘ï¼Œå¤§éƒ¨åˆ†ä¸»è¦å®ç°ï¼ˆiOS å¹³å°çš„é™¤å¤–ï¼‰é‡‡ç”¨ Apache è®¸å¯è¯ã€GPLã€MIT è®¸å¯è¯ç­‰å¤šç§è‡ªç”±è½¯ä»¶è®¸å¯åè®®å¼€æ”¾æºä»£ç ã€‚Shadowsocks åˆ†ä¸ºæœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯ï¼Œåœ¨ä½¿ç”¨ä¹‹å‰ï¼Œéœ€è¦å…ˆå°†æœåŠ¡å™¨ç«¯éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šé¢ï¼Œç„¶åé€šè¿‡å®¢æˆ·ç«¯è¿æ¥å¹¶åˆ›å»ºæœ¬åœ°ä»£ç†ã€‚ä¸å¤šè¯´ï¼Œä½ æ‡‚å¾—ã€‚ ","date":"2019-01-02","objectID":"/2019/01/02/linux-shadowsocks/:0:0","tags":["Linux"],"title":"Ubuntu å®‰è£…é…ç½® Shadowsocks","uri":"/2019/01/02/linux-shadowsocks/"},{"categories":["Linux"],"content":"æœåŠ¡ç«¯ ","date":"2019-01-02","objectID":"/2019/01/02/linux-shadowsocks/:1:0","tags":["Linux"],"title":"Ubuntu å®‰è£…é…ç½® Shadowsocks","uri":"/2019/01/02/linux-shadowsocks/"},{"categories":["Linux"],"content":"æœåŠ¡ç«¯å®‰è£… å‚è§ä¸åŒæ”¯æŒè¯­è¨€çš„å®‰è£…æ–¹å¼ // å®‰è£… pip3 $ sudo apt install python3-pip // å®‰è£… shadowsocks $ pip3 install https://github.com/shadowsocks/shadowsocks/archive/master.zip // æ£€æŸ¥ shadowsocks ç‰ˆæœ¬ $ ssserver --version Shadowsocks 3.0.0 ","date":"2019-01-02","objectID":"/2019/01/02/linux-shadowsocks/:1:1","tags":["Linux"],"title":"Ubuntu å®‰è£…é…ç½® Shadowsocks","uri":"/2019/01/02/linux-shadowsocks/"},{"categories":["Linux"],"content":"æœåŠ¡ç«¯é…ç½® $ sudo mkdir /etc/shadowsocks $ sudo vim /etc/shadowsocks/shadowsocks.json { \"server\": \"server_ip\", // æœåŠ¡ç«¯ç›‘å¬ IP åœ°å€ï¼Œæœ‰äººå¡« 0.0.0.0 æ®è¯´ä¹Ÿå¯ä»¥ \"server_port\": 9009, // æœåŠ¡å™¨ç›‘å¬ç«¯å£å·ï¼Œä¸€èˆ¬è‡ªå®šä¹‰ \"local_address\": \"127.0.0.1\", // æœ¬åœ°ä»£ç† IP åœ°å€ \"local_port\": 1080, // æœ¬åœ°ä»£ç†ç«¯å£å· \"password\": \"password\", // æœåŠ¡ç«¯å¯†ç  \"timeout\": 300, // è¶…æ—¶æ—¶é—´ï¼Œä»¥ç§’ä¸ºå•ä½ \"method\": \"aes-256-cfb\", // åŠ å¯†æ–¹å¼ï¼Œæ®è¯´ rc4-md5 çš„åŠ å¯†æ–¹å¼é€Ÿåº¦è¦å¿« \"mode\": \"udp\" // è¿è¡Œæ¨¡å¼ } ","date":"2019-01-02","objectID":"/2019/01/02/linux-shadowsocks/:1:2","tags":["Linux"],"title":"Ubuntu å®‰è£…é…ç½® Shadowsocks","uri":"/2019/01/02/linux-shadowsocks/"},{"categories":["Linux"],"content":"æœåŠ¡å¯åŠ¨ // åŠ è½½é…ç½®å¯åŠ¨æœåŠ¡ $ sudo ssserver -c /etc/shadowsocks/shadowsocks.json -d start æˆ– $ sudo ssserver -s 0.0.0.0 -p 443 -k password -m rc4-md5 -t 300 --user nobody -d start // åå°ä¸€ç›´è¿è¡Œ Shadowsocks æœåŠ¡ $ sudo nohup ssserver -c /etc/shadowsocks/shadowsocks.json \u003e /dev/null 2\u003e\u00261 \u0026 // åœæ­¢æœåŠ¡ $ sudo ssserver -d stop // æŸ¥çœ‹æ—¥å¿— $ cat /var/log/shadowsocks.log ","date":"2019-01-02","objectID":"/2019/01/02/linux-shadowsocks/:1:3","tags":["Linux"],"title":"Ubuntu å®‰è£…é…ç½® Shadowsocks","uri":"/2019/01/02/linux-shadowsocks/"},{"categories":["Linux"],"content":"å¼€æœºå¯åŠ¨é…ç½® é…ç½®æ–‡ä»¶ // åœ¨ /lib/systemd/system ä¸‹åˆ›å»ºæ–‡ä»¶å¹¶ç²˜è´´å¦‚ä¸‹å†…å®¹ $ sudo vim /lib/systemd/system/shadowsocks.service [Unit] Description=Shadowsocks Server After=network.target [Service] ExecStart=/usr/local/bin/ssserver -c /etc/shadowsocks/shadowsocks.json Restart=on-abort [Install] WantedBy=multi-user.target è®¾ç½®å¯åŠ¨ // è®¾ç½®å¼€æœºå¯åŠ¨ $ sudo systemctl enable shadowsocks.service // å¯åŠ¨ $ sudo systemctl start shadowsocks.service // çŠ¶æ€ $ sudo systemctl status shadowsocks.service â— shadowsocks.service - Shadowsocks Server Loaded: loaded (/lib/systemd/system/shadowsocks.service; enabled; vendor preset: enabled) Active: active (running) since Tue 2019-01-01 21:45:35 EST; 48min ago Main PID: 446 (ssserver) Tasks: 1 (limit: 1175) CGroup: /system.slice/shadowsocks.service â””â”€446 /usr/bin/python3 /usr/local/bin/ssserver -c /etc/shadowsocks/shadowsocks.json // é‡å¯ $ sudo systemctl restart shadowsocks.service // åœæ­¢ $ sudo systemctl stop shadowsocks.service ","date":"2019-01-02","objectID":"/2019/01/02/linux-shadowsocks/:1:4","tags":["Linux"],"title":"Ubuntu å®‰è£…é…ç½® Shadowsocks","uri":"/2019/01/02/linux-shadowsocks/"},{"categories":["Linux"],"content":"å®¢æˆ·ç«¯ ","date":"2019-01-02","objectID":"/2019/01/02/linux-shadowsocks/:2:0","tags":["Linux"],"title":"Ubuntu å®‰è£…é…ç½® Shadowsocks","uri":"/2019/01/02/linux-shadowsocks/"},{"categories":["Linux"],"content":"å®¢æˆ·ç«¯å®‰è£… ä¸‹è½½å¯¹åº”å¹³å°çš„å®‰è£…åŒ…å®‰è£…å³å¯ ","date":"2019-01-02","objectID":"/2019/01/02/linux-shadowsocks/:2:1","tags":["Linux"],"title":"Ubuntu å®‰è£…é…ç½® Shadowsocks","uri":"/2019/01/02/linux-shadowsocks/"},{"categories":["Linux"],"content":"å®¢æˆ·ç«¯é…ç½® ","date":"2019-01-02","objectID":"/2019/01/02/linux-shadowsocks/:2:2","tags":["Linux"],"title":"Ubuntu å®‰è£…é…ç½® Shadowsocks","uri":"/2019/01/02/linux-shadowsocks/"},{"categories":["Linux"],"content":"å‚è€ƒ Shadowsocks (ç®€ä½“ä¸­æ–‡) Ubuntu 18.04å®‰è£…é…ç½®Shadowsockså®ç°ç§‘å­¦ä¸Šç½‘ ","date":"2019-01-02","objectID":"/2019/01/02/linux-shadowsocks/:3:0","tags":["Linux"],"title":"Ubuntu å®‰è£…é…ç½® Shadowsocks","uri":"/2019/01/02/linux-shadowsocks/"},{"categories":["Mac"],"content":"æ—©å¹´æœ‰ä½åŒåƒš Sublime ä½¿çš„å·¨æºœæ— æ¯”ï¼Œå„ç§æ–‡ä»¶åˆ‡æ¢ã€å‘½ä»¤æ“ä½œã€æ–‡æœ¬ç¼–è¾‘ç­‰åœ¨å…¶æŒ‡é—´é£èˆï¼Œå¾€æ¥å†²çªï¼Œå¦‚å…¥æ— äººä¹‹å¢ƒã€‚é¡¿æ—¶æš—è‡ªç§°å¥‡ï¼Œè™½è¯ºè¯ºé—®å…¶æ•…ï¼Œé“æ›°ï¼Œæ­¤ä¸è¿‡é…ä»¥æ’ä»¶åŠä»£ç ç‰‡æ®µï¼Œæ‰‹ç†Ÿç½¢äº†ã€‚å§æ§½ï¼ŒåŸæ¥å¦‚æ­¤ï¼Œè™½æš—ä¸‹å†³å¿ƒï¼Œä»–æ—¥ç­–å¾ Mac æ‰¬æŒ‡æœŸé—´ï¼Œå¿…å½“è¿œç”šä»Šæ—¥çŸ£ã€‚è‡ªæ­¤ï¼ŒæŸ“æŒ‡å„ç§æ—¶é«¦ç¼–è¾‘å™¨åŠ IDEï¼Œä¹ä¸æ€èœ€ï¼Œç«Ÿå¿˜äº†å¹²æ­£äº‹äº†ï¼Œä¸å¤šé€¼é€¼äº†ï¼Œå…ˆæ’©ä¸€æ’©ä»£ç ç‰‡æ®µã€‚ Mac VSCode èµ·æ­¥ Mac VSCode åŸºæœ¬æ“ä½œ Mac VSCode å¿«æ·é”® Mac VSCode ä»£ç ç‰‡æ®µ Mac VSCode æ•ˆç‡æ‰©å±• ","date":"2018-12-05","objectID":"/2018/12/05/mac-vscode-snippets/:0:0","tags":["Mac","VSCode"],"title":"Mac VSCode ä»£ç ç‰‡æ®µ","uri":"/2018/12/05/mac-vscode-snippets/"},{"categories":["Mac"],"content":"è‡ªå®šä¹‰æœ¬åœ°ä»£ç ç‰‡æ®µ ç‚¹å‡» VScode èœå•æ ä¸­çš„ Code åœ¨ä¸‹æ‹‰çš„ é¦–é€‰é¡¹ èœå•ä¸­ç‚¹å‡» ç”¨æˆ·ä»£ç ç‰‡æ®µ å¹¶åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥é€‚åˆçš„è¯­è¨€å¼€å§‹åˆ›å»ºä»£ç ç‰‡æ®µã€‚ ","date":"2018-12-05","objectID":"/2018/12/05/mac-vscode-snippets/:1:0","tags":["Mac","VSCode"],"title":"Mac VSCode ä»£ç ç‰‡æ®µ","uri":"/2018/12/05/mac-vscode-snippets/"},{"categories":["Mac"],"content":"ä»£ç ç‰‡æ®µå­—æ®µ ä»£ç ç‰‡æ®µçš„åç§°ï¼šå°½é‡èµ·çš„æœ‰æ„ä¹‰å³å¯ prefixï¼šè§¦å‘ä»£ç ç‰‡æ®µçš„å‰ç¼€ bodyï¼šä»£ç ç‰‡æ®µçš„ä¸»ä½“ã€‚$0 è¡¨ç¤ºå…‰æ ‡çš„æœ€ç»ˆä½ç½®ï¼›$1~$N è¡¨ç¤ºæ¯æ¬¡æŒ‰ Tab é”®åå…‰æ ‡å®šä½çš„ä½ç½®ï¼›${N:placeholder} è¡¨ç¤ºå ä½ï¼Œå¤šä¸ªå ä½ç¬¦è¯·ä½¿ç”¨ç›¸åŒçš„æ ‡è¯† IDs descriptionï¼šä»£ç ç‰‡æ®µçš„æè¿° ","date":"2018-12-05","objectID":"/2018/12/05/mac-vscode-snippets/:1:1","tags":["Mac","VSCode"],"title":"Mac VSCode ä»£ç ç‰‡æ®µ","uri":"/2018/12/05/mac-vscode-snippets/"},{"categories":["Mac"],"content":"ä»£ç ç‰‡æ®µå®ä¾‹ æœ‰æ—¶å€™å®šä¹‰äº†å¤šä¸ªå…‰æ ‡æ’å…¥ç‚¹ï¼ŒæŒ‰å¿«äº† Tab é”®å¯èƒ½è·³è¿‡äº†æ­£å½“è¾“å…¥çš„ä½ç½®ï¼Œæ­¤æ—¶äº¦å¯æŒ‰ Shift+Tab å›è·³åˆ°ä¸Šä¸€ä¸ªè·³è¿‡çš„ä½ç½®å¤„ï¼Œå¤šæŒ‰å¯å¾€å›é€€ã€‚ ä»¥ä¸‹æ˜¯ä¸€ä¸ªä»¥ PHP ä¸ºä¾‹çš„ä»£ç ç‰‡æ®µã€‚ { // ä»£ç ç‰‡æ®µçš„åç§° \"PHPClass\": { // æŒ‰é”®è§¦å‘çš„å‰ç¼€ \"prefix\": \"class\", // è§¦å‘åå±•å¼€çš„ä»£ç ä¸»ä½“ \"body\": [ \"${1:namespace ${2:App}};\", \"\", \"class ${3:ClassName} ${4:extends ${5:AnotherClass}} ${6:implements ${7:Interface}}\", \"{\", \"\\t$0\", \"}\", \"\" ], // ä»£ç ç‰‡æ®µçš„æè¿° \"description\": \"PHP class\" } } ","date":"2018-12-05","objectID":"/2018/12/05/mac-vscode-snippets/:1:2","tags":["Mac","VSCode"],"title":"Mac VSCode ä»£ç ç‰‡æ®µ","uri":"/2018/12/05/mac-vscode-snippets/"},{"categories":["Mac"],"content":"å†™æ‰©å±•åˆ†äº«ä»£ç ç‰‡æ®µ ","date":"2018-12-05","objectID":"/2018/12/05/mac-vscode-snippets/:2:0","tags":["Mac","VSCode"],"title":"Mac VSCode ä»£ç ç‰‡æ®µ","uri":"/2018/12/05/mac-vscode-snippets/"},{"categories":["Mac"],"content":"åˆ›å»ºè´¦å· åˆ° Extensions for the Visual Studio family of products ä¸Šæ³¨å†Œå±äºè‡ªå·±çš„è´¦å·ã€‚ ","date":"2018-12-05","objectID":"/2018/12/05/mac-vscode-snippets/:2:1","tags":["Mac","VSCode"],"title":"Mac VSCode ä»£ç ç‰‡æ®µ","uri":"/2018/12/05/mac-vscode-snippets/"},{"categories":["Mac"],"content":"å®‰è£…æ‰©å±• å®‰è£…å¼€å‘è¾…åŠ©æ‰©å±• Yo Code - Extension and Customization Generator VSCode Yo Code Documentation // å®‰è£… yo $ npm install -g yo npm WARN deprecated cross-spawn-async@2.2.5: cross-spawn no longer requires a build toolchain, use it instead /usr/local/bin/yo -\u003e /usr/local/lib/node_modules/yo/lib/cli.js /usr/local/bin/yo-complete -\u003e /usr/local/lib/node_modules/yo/lib/completion/index.js \u003e spawn-sync@1.0.15 postinstall /usr/local/lib/node_modules/yo/node_modules/spawn-sync \u003e node postinstall \u003e yo@2.0.5 postinstall /usr/local/lib/node_modules/yo \u003e yodoctor Yeoman Doctor Running sanity checks on your system âœ” Global configuration file is valid âœ” NODE_PATH matches the npm root âœ” Node.js version âœ” No .bowerrc file in home directory âœ” No .yo-rc.json file in home directory âœ” npm version âœ” yo version Everything looks all right! + yo@2.0.5 added 537 packages from 265 contributors in 36.448s // å®‰è£… generator-code $ npm install -g generator-code + generator-code@1.1.43 added 381 packages from 284 contributors in 61.462s // å®‰è£… vsce $ npm install -g vsce /usr/local/bin/vsce -\u003e /usr/local/lib/node_modules/vsce/out/vsce + vsce@1.53.2 added 60 packages from 67 contributors in 7.519s è¿è¡Œå¼€å‘æ‰©å±•å‘½ä»¤ $ yo code _-----_ â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•® | | â”‚ Welcome to the Visual â”‚ |--(o)--| â”‚ Studio Code Extension â”‚ `---------Â´ â”‚ generator! â”‚ ( _Â´U`_ ) â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯ /___A___\\ / | ~ | __'.___.'__ Â´ ` |Â° Â´ Y ` ? What type of extension do you want to create? (Use arrow keys) â¯ New Extension (TypeScript) New Extension (JavaScript) New Color Theme New Language Support New Code Snippets New Keymap New Extension Pack (Move up and down to reveal more choices) ","date":"2018-12-05","objectID":"/2018/12/05/mac-vscode-snippets/:2:2","tags":["Mac","VSCode"],"title":"Mac VSCode ä»£ç ç‰‡æ®µ","uri":"/2018/12/05/mac-vscode-snippets/"},{"categories":["Mac"],"content":"åˆ›å»ºä»£ç ç‰‡æ®µé¡¹ç›® $ yo code your-project-name _-----_ â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•® | | â”‚ Welcome to the Visual â”‚ |--(o)--| â”‚ Studio Code Extension â”‚ `---------Â´ â”‚ generator! â”‚ ( _Â´U`_ ) â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯ /___A___\\ / | ~ | __'.___.'__ Â´ ` |Â° Â´ Y ` ? What type of extension do you want to create? New Code Snippets Folder location that contains Text Mate (.tmSnippet) and Sublime snippets (.sublime-snippet) or press ENTER to start with a new snippet file. ? Folder name for import or none for new: ? What's the name of your extension? your-project-name ? What's the identifier of your extension? your-project-name ? What's the description of your extension? VSCode PHP Snippets Enter the language for which the snippets should appear. The id is an identifier and is single, lower-case name such as 'php', 'javascript' ? Language id: php create your-project-name/.vscode/launch.json create your-project-name/package.json create your-project-name/vsc-extension-quickstart.md create your-project-name/README.md create your-project-name/CHANGELOG.md create your-project-name/snippets/snippets.json create your-project-name/.vscodeignore Your extension your-project-name has been created! To start editing with Visual Studio Code, use the following commands: cd your-project-name code . Open vsc-extension-quickstart.md inside the new extension for further instructions on how to modify, test and publish your extension. For more information, also visit http://code.visualstudio.com and follow us @code. ","date":"2018-12-05","objectID":"/2018/12/05/mac-vscode-snippets/:2:3","tags":["Mac","VSCode"],"title":"Mac VSCode ä»£ç ç‰‡æ®µ","uri":"/2018/12/05/mac-vscode-snippets/"},{"categories":["Mac"],"content":"é¡¹ç›®å‘å¸ƒ package.json æ–‡ä»¶çš„ç¼–å†™å®Œå–„è¯·å‚è§ç›¸å…³æ–‡æ¡£ã€‚ Publishing Extensions // åˆ›å»ºå‘å¸ƒè€… $ vsce create-publisher your-publisher-name // ä»¥å‘å¸ƒè€…èº«ä»½ç™»å½•ï¼Œéœ€è¦åœ¨ Azure DevOps æå‰åˆ›å»ºä»¤ç‰Œ $ vsce login your-publisher-name Publisher 'your-publisher-name' is already known Do you want to overwrite its PAT? [y/N] y Personal Access Token for publisher 'your-publisher-name': **** // å‘å¸ƒï¼Œè§†æƒ…å†µå‘å¸ƒ $ vsce publish major|minor|patch // vsce å‘½ä»¤ $ vsce --help Usage: vsce [options] [command] Options: -V, --version output the version number -h, --help output usage information Commands: ls [options] Lists all the files that will be published package [options] Packages an extension publish [options] [\u003cversion\u003e] Publishes an extension unpublish [options] [\u003cextensionid\u003e] Unpublishes an extension. Example extension id: microsoft.csharp. list \u003cpublisher\u003e Lists all extensions published by the given publisher ls-publishers List all known publishers create-publisher \u003cpublisher\u003e Creates a new publisher delete-publisher \u003cpublisher\u003e Deletes a publisher login \u003cpublisher\u003e Add a publisher to the known publishers list logout \u003cpublisher\u003e Remove a publisher from the known publishers list show [options] \u003cextensionid\u003e Show extension metadata search [options] \u003ctext\u003e search extension gallery * ","date":"2018-12-05","objectID":"/2018/12/05/mac-vscode-snippets/:2:4","tags":["Mac","VSCode"],"title":"Mac VSCode ä»£ç ç‰‡æ®µ","uri":"/2018/12/05/mac-vscode-snippets/"},{"categories":["Mac"],"content":"VSCode çš„å¼ºå¤§ç¦»ä¸å¼€åºå¤§çš„æ‰©å±•å¸‚åœºï¼Œåœ¨ VSCode marketplace ä¸Šåªæœ‰ä½ æƒ³ä¸åˆ°çš„ï¼Œæ²¡æœ‰ä½ æ‰¾ä¸åˆ°çš„ã€‚åœ¨ç»å†ä¸€ç•ªæŠ˜è…¾åå°‘ä¸äº†å¯¹å®ƒçš„è¯„å¤´è®ºè¶³ï¼Œæœ‰é‚£ä¹ˆäº›æ‰©å±•ç¡®å®æœ‰ä¸€ç§ç›¸è§æ¨æ™šä¹‹æ„Ÿï¼Œå½“ç„¶ä¹Ÿä¸èƒ½å¤ªè´ªï¼Œè£…å‡ ä¸ªé«˜é¢‘çš„å°±å¥½ï¼Œæ¯•ç«Ÿè£…å¤šäº†ä¹‹åæ‰©å±•çš„æ¿€æ´»å’ŒåŠ è½½ä¹Ÿè´¹æ—¶é—´ï¼Œæ‰€è°“ã€æ•ˆç‡ã€ä¹Ÿéœ€è¦é‚£ä¹ˆç‚¹æƒè¡¡å‘€ã€‚ Mac VSCode èµ·æ­¥ Mac VSCode åŸºæœ¬æ“ä½œ Mac VSCode å¿«æ·é”® Mac VSCode ä»£ç ç‰‡æ®µ Mac VSCode æ•ˆç‡æ‰©å±• ","date":"2018-12-04","objectID":"/2018/12/04/mac-vscode-extension/:0:0","tags":["Mac","VSCode"],"title":"Mac VSCode æ•ˆç‡æ‰©å±•","uri":"/2018/12/04/mac-vscode-extension/"},{"categories":["Mac"],"content":"æ“ä½œç±»æ‰©å±• ","date":"2018-12-04","objectID":"/2018/12/04/mac-vscode-extension/:1:0","tags":["Mac","VSCode"],"title":"Mac VSCode æ•ˆç‡æ‰©å±•","uri":"/2018/12/04/mac-vscode-extension/"},{"categories":["Mac"],"content":"æ–‡ä»¶æ“ä½œæ‰©å±• VSCode Advanced New File File Utils - Visual Studio Code Extension VSCodeVim Change Case Extension for Visual Studio Code Rainbow Brackets Bracket Pair Colorizer 2 ","date":"2018-12-04","objectID":"/2018/12/04/mac-vscode-extension/:1:1","tags":["Mac","VSCode"],"title":"Mac VSCode æ•ˆç‡æ‰©å±•","uri":"/2018/12/04/mac-vscode-extension/"},{"categories":["Mac"],"content":"å·¥ç¨‹å¢å¼ºæ‰©å±• Chinese (Simplified) Language Pack for Visual Studio Code Project Manager EditorConfig for VS Code DotENV YAML Support by Red Hat gitignore extension for Visual Studio Code Code Runner markdownlint Markdown All in One vscode-database XML Tools Better Comments VSCode Advanced New File ","date":"2018-12-04","objectID":"/2018/12/04/mac-vscode-extension/:1:2","tags":["Mac","VSCode"],"title":"Mac VSCode æ•ˆç‡æ‰©å±•","uri":"/2018/12/04/mac-vscode-extension/"},{"categories":["Mac"],"content":"Git å¢å¼ºæ‰©å±• GitLens â€” Git supercharged Git History ","date":"2018-12-04","objectID":"/2018/12/04/mac-vscode-extension/:1:3","tags":["Mac","VSCode"],"title":"Mac VSCode æ•ˆç‡æ‰©å±•","uri":"/2018/12/04/mac-vscode-extension/"},{"categories":["Mac"],"content":"ä¸»é¢˜ç±»æ‰©å±• Material Icon Theme Material Theme One Dark Pro vscode-icons ","date":"2018-12-04","objectID":"/2018/12/04/mac-vscode-extension/:2:0","tags":["Mac","VSCode"],"title":"Mac VSCode æ•ˆç‡æ‰©å±•","uri":"/2018/12/04/mac-vscode-extension/"},{"categories":["Mac"],"content":"å¼€å‘ç±»æ‰©å±• ","date":"2018-12-04","objectID":"/2018/12/04/mac-vscode-extension/:3:0","tags":["Mac","VSCode"],"title":"Mac VSCode æ•ˆç‡æ‰©å±•","uri":"/2018/12/04/mac-vscode-extension/"},{"categories":["Mac"],"content":"å‰ç«¯æ‰©å±• Debugger for Chrome ESLint HTML CSS Support IntelliSense for CSS class names in HTML Close HTML/XML tag Auto Close Tag npm npm Intellisense Path Intellisense Vetur Beautify ","date":"2018-12-04","objectID":"/2018/12/04/mac-vscode-extension/:3:1","tags":["Mac","VSCode"],"title":"Mac VSCode æ•ˆç‡æ‰©å±•","uri":"/2018/12/04/mac-vscode-extension/"},{"categories":["Mac"],"content":"PHP æ‰©å±• PHP Intelephense PHP Namespace Resolver PHP DocBlocker PHP Debug php cs fixer ","date":"2018-12-04","objectID":"/2018/12/04/mac-vscode-extension/:3:2","tags":["Mac","VSCode"],"title":"Mac VSCode æ•ˆç‡æ‰©å±•","uri":"/2018/12/04/mac-vscode-extension/"},{"categories":["Mac"],"content":"ç»å¸¸ç å­—å°‘ä¸äº†å¿«æ·é”®çš„å¸®è¡¬ï¼Œæœ‰äº›ç¥å¥‡çš„æ•ˆæœå±…ç„¶æ˜¯åœ¨è¯¯æŒ‰ä¹‹ä¸‹å‡ºç°ï¼Œç€å®æŠŠæˆ‘æƒŠå‘†äº†ï¼Œè¿˜æœ‰è¿™ç§æ“ä½œä¹‹çŠ¶æ­¤èµ·å½¼ä¼ã€‚ç»å¸¸åœ¨è¯¯æ“ä½œåè®°ä¸å¾—å¯¹åº”çš„å¿«æ·é”®ï¼Œçæ¿€åŠ¨ä¸€ä¼šå„¿ååˆå˜ç„¶è€Œæ­¢ã€‚ä¸ºäº†é¿å…è¿™ç§å‡ åº¦çš„å°´å°¬çª˜å¢ƒï¼Œæˆ‘è¿˜æ˜¯å†³å®šåŠ¨åŠ¨æ‡’ç¬”å¤´è®°ä¸€è®°ï¼Œä¸‡ä¸€å“ªå¤©æƒ³èµ·è¿™ç§æ“ä½œäº†å‘¢ï¼Ÿ Mac VSCode èµ·æ­¥ Mac VSCode åŸºæœ¬æ“ä½œ Mac VSCode å¿«æ·é”® Mac VSCode ä»£ç ç‰‡æ®µ Mac VSCode æ•ˆç‡æ‰©å±• ","date":"2018-12-03","objectID":"/2018/12/03/mac-vscode-basic/:0:0","tags":["Mac","VSCode"],"title":"Mac VSCode åŸºæœ¬æ“ä½œ","uri":"/2018/12/03/mac-vscode-basic/"},{"categories":["Mac"],"content":"åŸºç¡€æ“ä½œæ³• ","date":"2018-12-03","objectID":"/2018/12/03/mac-vscode-basic/:1:0","tags":["Mac","VSCode"],"title":"Mac VSCode åŸºæœ¬æ“ä½œ","uri":"/2018/12/03/mac-vscode-basic/"},{"categories":["Mac"],"content":"å…‰æ ‡æ“ä½œ å•è¯ç²’åº¦çš„å…‰æ ‡ç§»åŠ¨ï¼šå·¦ç§» Alt+â¬…ï¸ï¼›å³ç§» Alt+â¡ï¸ è¡Œé¦–è¡Œå°¾çš„å…‰æ ‡ç§»åŠ¨ï¼šè¡Œé¦– Cmd+â¬…ï¸ï¼›è¡Œå°¾ Cmd+â¡ï¸ ä»£ç å—é—´çš„å…‰æ ‡ç§»åŠ¨ï¼šæŒ‰ä¸‹ Shift+Cmd+\\ åå†å·¦å³é—­åˆæ ‡ç­¾ä¹‹å‰æ¥å›ç§»åŠ¨ æ–‡æ¡£é¦–å°¾çš„å…‰æ ‡ç§»åŠ¨ï¼šæ–‡æ¡£é¦–éƒ¨ Cmd+â¬†ï¸ï¼›æ–‡æ¡£å°¾éƒ¨ Cmd+â¬‡ï¸ æŸè¡Œæ–‡æœ¬å‰åæ’å…¥ç©ºè¡Œï¼šæŸè¡Œæ–‡æœ¬å‰ä¸€è¡Œæ’å…¥ç©ºè¡Œ Shift+Cmd+Enterï¼›æŸè¡Œæ–‡æœ¬åä¸€è¡Œæ’å…¥ç©ºè¡Œ Cmd+Enter ","date":"2018-12-03","objectID":"/2018/12/03/mac-vscode-basic/:1:1","tags":["Mac","VSCode"],"title":"Mac VSCode åŸºæœ¬æ“ä½œ","uri":"/2018/12/03/mac-vscode-basic/"},{"categories":["Mac"],"content":"æ–‡æœ¬æ“ä½œ é€‰ä¸­å…‰æ ‡å‰åçš„å•è¯ï¼šé€‰ä¸­å…‰æ ‡ä¹‹å‰çš„å•è¯ Shift+Alt+â¬…ï¸ï¼Œç»§ç»­æŒ‰å·¦æ–¹å‘é”®é€‰ä¸­æ›´å¤šçš„å•è¯ï¼›é€‰ä¸­å…‰æ ‡ä¹‹åçš„å•è¯ Shift+All+â¡ï¸ï¼Œç»§ç»­æŒ‰å³æ–¹å‘é”®é€‰ä¸­æ›´å¤šçš„å•è¯ é€‰ä¸­å…‰æ ‡å‰åçš„æ•´è¡Œï¼šé€‰ä¸­å…‰æ ‡ä¹‹å‰çš„æ•´è¡Œ Shift+Cmd+â¬…ï¸ï¼›é€‰ä¸­å…‰æ ‡ä¹‹åçš„æ•´è¡Œ Shift+Cmd+â¡ï¸ é€‰ä¸­å…‰æ ‡æ‰€åœ¨çš„æŸä¸ªé—­åˆæ ‡ç­¾ä¸­çš„ä»£ç ï¼šCtrl+Shift+Cmd+â¡ï¸ï¼Œç»§ç»­æŒ‰å³æ–¹å‘é”®æ‰©å¤§é€‰æ‹©èŒƒå›´ï¼ŒæŒ‰å·¦æ–¹å‘é”®ç¼©å°é€‰æ‹©èŒƒå›´ è¿åŒé—­åˆæ ‡ç­¾ä¸€èµ·é€‰ä¸­ï¼ŒæŒ‰ Shift+Cmd+Pï¼Œè¾“å…¥ Select to Bracket é€‰ä¸­æ•´è¡Œï¼šæŒ‰ Cmd+I ç›´æ¥é€‰ä¸­æ•´è¡Œï¼›æŒ‰ Cmd+â¬…ï¸ æˆ– Cmd+â¡ï¸ å°†å…‰æ ‡å®šä½åˆ°è¡Œé¦–æˆ–è€…è¡Œå°¾ï¼Œç„¶åæŒ‰ Shift+Cmd+â¡ï¸ æˆ– Shift+Cmd+â¬…ï¸ åˆ é™¤å…‰æ ‡å‰åçš„å•è¯ï¼šåˆ é™¤å…‰æ ‡å‰çš„å•è¯ Alt+Deleteï¼›åˆ é™¤å…‰æ ‡åçš„å•è¯ fn+Alt+Delete åˆ é™¤å…‰æ ‡å‰åçš„æ•´è¡Œï¼šåˆ é™¤å…‰æ ‡å‰çš„æ–‡æœ¬ Cmd+Deleteï¼›åˆ é™¤å…‰æ ‡åçš„æ–‡æœ¬ fn+Cmd+Delete åˆ é™¤æ•´è¡Œï¼šæŒ‰ Cmd+X å°†æ•´è¡Œå‰ªåˆ‡æ‰ï¼›æŒ‰ Ctrl+Shift+K åˆ é™¤æ‰æ•´è¡Œï¼›å…ˆé€‰ä¸­ä¸€è¡Œï¼Œå†æŒ‰ Delete åˆ é™¤æ•´è¡Œ å•è¡Œæ–‡æœ¬ç§»åŠ¨ï¼šå•è¡Œæ–‡æœ¬å‘ä¸Šç§»åŠ¨ Alt+â¬†ï¸ï¼›å•è¡Œæ–‡æœ¬å‘ä¸‹ç§»åŠ¨ Alt+â¬‡ï¸ å¤šè¡Œæ–‡æœ¬ç§»åŠ¨ï¼šé€‰ä¸­å¤šè¡Œæ–‡æœ¬å¹¶æŒ‰ Alt+â¬†ï¸ï¼›é€‰ä¸­å¤šè¡Œæ–‡æœ¬å¹¶æŒ‰ Alt+â¬‡ï¸ å•è¡Œæ–‡æœ¬å¤åˆ¶ï¼šå•è¡Œæ–‡æœ¬å‘ä¸Šå¤åˆ¶ Shift+Alt+â¬†ï¸ï¼›å•è¡Œæ–‡æœ¬å‘ä¸‹å¤åˆ¶ Shift+Alt+â¬‡ï¸ å¤šè¡Œæ–‡æœ¬å¤åˆ¶ï¼šé€‰ä¸­å¤åˆ¶çš„æ–‡æœ¬åæŒ‰ Shift+Alt+â¬†ï¸ï¼›é€‰ä¸­å¤åˆ¶çš„æ–‡æœ¬åæŒ‰ Shift+Alt+â¬‡ï¸ ä»£ç æ³¨é‡Šï¼šå•è¡Œæ³¨é‡Š Cmd+/ï¼›å¤šè¡Œæ³¨é‡Š Alt+Shift+A ä»£ç æ ¼å¼åŒ–ï¼šé€‰ä¸­æ ¼å¼åŒ– Cmd+K Cmd+Fï¼›æ–‡æ¡£æ ¼å¼åŒ– Alt+Shift+F ä»£ç ç¼©è¿›ï¼šå·¦ç¼©è¿› Cmd+[ï¼›å³ç¼©è¿› Cmd+] è°ƒæ¢å­—ç¬¦çš„ä½ç½®ï¼šCtrl+T è°ƒæ•´å­—ç¬¦çš„å¤§å°å†™ï¼šè½¬æ¢ä¸ºå¤§å†™ï¼ŒæŒ‰ Shift+Cmd+P åè¾“å…¥ Transform to Uppercaseï¼›è½¬æ¢ä¸ºå°å†™ï¼ŒæŒ‰ Shift+Cmd+P åè¾“å…¥ Transform to Lowercaseã€‚æ›´é«˜çº§çš„è½¬æ¢ä½¿ç”¨ Change Case Extension for Visual Studio Code æ’ä»¶ åˆå¹¶åˆ°ä¸€è¡Œï¼šæŒ‰ Ctrl+J CSS å±æ€§æ’åºï¼šå‡åºæ’åˆ—ï¼ŒæŒ‰ Shift+Cmd+P åè¾“å…¥ Sort Lines Ascendingï¼›é™åºæ’åˆ—ï¼ŒæŒ‰ Shift+Cmd+P åè¾“å…¥ Sort Lines Descending æ’¤é”€å…‰æ ‡çš„ç§»åŠ¨å’Œé€‰æ‹©ï¼šæŒ‰ Cmd+U åˆ›å»ºå¤šå…‰æ ‡ï¼šé’ˆå¯¹ç›¸åŒçš„æ–‡æœ¬æŒ‰ Cmd+D ä¾æ¬¡åˆ›å»ºå…‰æ ‡ï¼›é’ˆå¯¹ä¸åŒçš„æ–‡æœ¬ï¼Œå…ˆé€‰ä¸­æ“ä½œçš„æ–‡æœ¬ï¼Œç„¶åæŒ‰ Alt+Shift+I å°†å…‰æ ‡å®šä½åˆ°é€‰ä¸­çš„æ‰€æœ‰æ–‡æœ¬æœ«å°¾ï¼›é’ˆå¯¹è¦æ“ä½œçš„ä¸€å—æ–‡æœ¬ï¼ŒæŒ‰ Alt+Cmd+â¬‡ï¸ å‘ä¸‹ä¾æ¬¡åˆ›å»ºå…‰æ ‡ï¼ŒæŒ‰ Alt+Cmd+â¬†ï¸ å‘ä¸Šä¾æ¬¡åˆ›å»ºå…‰æ ‡ ","date":"2018-12-03","objectID":"/2018/12/03/mac-vscode-basic/:1:2","tags":["Mac","VSCode"],"title":"Mac VSCode åŸºæœ¬æ“ä½œ","uri":"/2018/12/03/mac-vscode-basic/"},{"categories":["Mac"],"content":"æ–‡ä»¶æ“ä½œ å½“å‰æ‰“å¼€çš„æ–‡ä»¶é—´è·³è½¬ï¼šæŒ‰ Ctrl+Tab æ‰“å¼€å·²ç»æ‰“å¼€çš„æ–‡ä»¶åˆ—è¡¨ï¼Œæ¥ç€æŒ‰åˆ°æƒ³è¦å®šä½çš„æ–‡ä»¶åæ¾æ‰‹ æœ€è¿‘æ‰“å¼€çš„æ–‡ä»¶é—´è·³è½¬ï¼šæŒ‰ Cmd+P æ‰“å¼€æœ€è¿‘æ‰“å¼€è¿‡çš„æ–‡ä»¶åˆ—è¡¨ï¼Œæ¥ç€ä¸è¦æ¾å¼€ Cmd é”®ç›´æ¥æŒ‰ P å®šä½åˆ°æ–‡ä»¶åæ¾æ‰‹ï¼Œæˆ–è€…ç›´æ¥åœ¨è¾“å…¥æ¡†ä¸­æ¨¡ç³Šæœç´¢ï¼›åœ¨æ–‡ä»¶åˆ—è¡¨å¾ˆé•¿æ—¶ï¼Œè·³è¿‡äº†å°†è¦é€‰ä¸­çš„æ–‡ä»¶ï¼Œå¯ä»¥æŒ‰ä¸Šä¸‹æ–¹å‘é”®å›å» åœ¨æ–°æ ‡ç­¾ä¸­æ‰“å¼€å®šä½çš„æ–‡ä»¶ï¼šåœ¨ Cmd+P æ¨¡ç³Šæœç´¢åŠ æŒä¸‹å®šä½åˆ°æƒ³æ‰“å¼€çš„æ–‡ä»¶ï¼ŒæŒ‰ Cmd+Enter å°†æ‹†åˆ†å½“å‰çª—å£æ‰“å¼€å®šä½çš„æ–‡ä»¶ï¼›åœ¨ Cmd+P å¾ªç¯åŠ æŒä¸‹å®šä½åˆ°æƒ³æ‰“å¼€çš„æ–‡ä»¶ï¼Œéœ€è¦é¼ æ ‡ç‚¹å‡»æ‹†åˆ†çª—å£æŒ‰é’® è¡Œé—´è·³è½¬ï¼šæŒ‰ Ctrl+G è¾“å…¥ç­‰å·ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åœ¨è¡Œå·ååŠ  : å†è¾“å…¥åˆ—å· ç²¾ç¡®è·³è½¬åˆ°æ–‡ä»¶çš„æŒ‡å®šè¡Œåˆ—ï¼šCmd+P æœç´¢åˆ°æ–‡ä»¶åè¾“å…¥ :è¡Œå·:åˆ—å· å³å¯ ä»…å½“å‰æ–‡ä»¶ç¬¦å·è·³è½¬ï¼šæŒ‰ Cmd+R æ‰“å¼€æ–‡ä»¶ä¸­çš„æ‰€æœ‰ç¬¦å·åˆ—è¡¨ï¼›è¾“å…¥ : åå°†åˆ†ç±»åˆ—å‡ºç¬¦å·åˆ—è¡¨ï¼›æŒ‰ä¸Šä¸‹æ–¹å‘é”®å°†å®æ—¶é¢„è§ˆç›¸åº”çš„ä»£ç å— å·¥ä½œåŒºæ–‡ä»¶ç¬¦å·è·³è½¬ï¼šæŒ‰ Cmd+T å°±å¯ä»¥åœ¨å·¥ä½œåŒºæ–‡ä»¶é—´æœç´¢ç¬¦å·åˆ—è¡¨ï¼Œä¸è¿‡é€Ÿåº¦å ªå¿§ å®šä¹‰è·³è½¬ï¼šæŒ‰ F12ï¼Œéœ€è¦ç›¸å…³è¯­è¨€çš„æ”¯æŒ å®ç°è·³è½¬ï¼šæŒ‰ Cmd+F12 å¼•ç”¨è·³è½¬ï¼šæŒ‰ Shift+F12 æŸ¥çœ‹ç¬¦å·è¢«å¼•ç”¨çš„åˆ—è¡¨ é€‰ä¸­æ–‡æœ¬æ‹–æ‹½ï¼šé€‰ä¸­ä¸€å—æ–‡æœ¬åï¼Œç›´æ¥é¼ æ ‡æ‹–æ‹½åˆ°å¯¹åº”çš„åœ°æ–¹ ä»£ç è·³è½¬ï¼šæŒ‰ä½ Alt åé¼ æ ‡ç‚¹å‡»è¦è·³è½¬çš„ä»£ç  é“¾æ¥è·³è½¬ï¼šæŒ‰ä½ Cmd åé¼ æ ‡ç‚¹å‡»å°±æ‰“å¼€ç›¸å…³é“¾æ¥ è‡ªåŠ¨è¡¥å…¨ï¼šè¾“å…¥è¦è¡¥å…¨çš„å¯¹è±¡åï¼Œä¸€èˆ¬æƒ…å†µä¸‹ç¼–è¾‘ä¼šè‡ªåŠ¨æç¤ºè¦è¡¥å…¨çš„ç¬¦å·åˆ—è¡¨ï¼ŒæŒ‰ä¸Šä¸‹æ–¹å‘é”®é€‰ä¸­å›è½¦ï¼›åœ¨è¾“å…¥è¦è¡¥å…¨çš„å¯¹è±¡åï¼ŒæŒ‰ Tab ç›´åˆ°æƒ³è¦çš„è¡¥å…¨å‡ºç°ä¸ºæ­¢ å…³é—­å’Œæ˜¾ç¤ºè¡¥å…¨åˆ—è¡¨ï¼šæŒ‰ Esc å…³é—­è¡¥å…¨åˆ—è¡¨ï¼›æŒ‰ Cmd+Space æ˜¾ç¤ºè¡¥å…¨åˆ—è¡¨ï¼›æ­¤é”®åŸæœ¬æ˜¯ Ctrl+Space ä¸ç³»ç»Ÿè¾“å…¥æ³•åˆ‡æ¢å†²çªï¼Œæ”¹ä¸º Cmd+Space æ˜¯éµå¾ªå°±è¿‘åŸåˆ™ å¿«é€Ÿé¢„è§ˆç¬¦å·ä¿¡æ¯ï¼šåœ¨è¡¥å…¨åˆ—è¡¨ä¸­é€‰ä¸­è¦è¡¥å…¨çš„ç¬¦å·ï¼ŒæŒ‰ Cmd+Space æ¥å›åˆ‡æ¢å›æ˜¾ å¿«é€Ÿæç¤ºç¬¦å·å‚æ•°ä¿¡æ¯ï¼šæŒ‰ Shift+Cmd+Spaceï¼ŒæŒ‰ Esc å…³é—­æç¤º è‡ªåŠ¨æ›´æ­£å•è¯æ‹¼å†™ï¼šåœ¨é”™è¯¯å•è¯ä¸ŠæŒ‰ Cmd+. é€‰æ‹©æ­£ç¡®çš„è¿›è¡Œæ›¿æ¢ï¼Œéœ€è¦ç›¸å…³è¯­è¨€æ”¯æŒ ç¬¦å·åç§°é‡æ„ï¼šæŒ‰ Cmd+F2 æ‰¹é‡é‡æ„ç¬¦å·åç§° ","date":"2018-12-03","objectID":"/2018/12/03/mac-vscode-basic/:1:3","tags":["Mac","VSCode"],"title":"Mac VSCode åŸºæœ¬æ“ä½œ","uri":"/2018/12/03/mac-vscode-basic/"},{"categories":["Mac"],"content":"è¿›é˜¶æ“ä½œ ä»¥ä¸‹ç»™å‡ºçš„å‘½ä»¤æ ä¸­çš„æœç´¢åªéœ€è¾“å…¥å…³é”®å­—æœç´¢å³å¯ï¼Œä¸ç”¨åˆ»æ„å®Œå…¨è¾“å…¥ã€‚ ","date":"2018-12-03","objectID":"/2018/12/03/mac-vscode-basic/:2:0","tags":["Mac","VSCode"],"title":"Mac VSCode åŸºæœ¬æ“ä½œ","uri":"/2018/12/03/mac-vscode-basic/"},{"categories":["Mac"],"content":"å·¥ä½œåŒºå®šåˆ¶ ä¿®æ”¹å€¼è¯·æŒ‰ Cmd+, ååœ¨ç”¨æˆ·è®¾ç½®æ–‡ä»¶ settings.json æ–‡ä»¶ä¸­æ·»åŠ ï¼Œç›¸å…³å€¼çš„å«ä¹‰è¯·å‚ç…§é»˜è®¤ç”¨æˆ·è®¾ç½®å€¼æ³¨é‡Šæ–‡æ¡£ã€‚ åˆ‡æ¢çŠ¶æ€æ å¯è§æ€§ï¼šä¿®æ”¹ \"workbench.statusBar.visible\" åˆ‡æ¢æ´»åŠ¨æ å¯è§æ€§ï¼šä¿®æ”¹ \"workbench.activityBar.visible\" å…³é—­æ´»åŠ¨æ æ‰“å¼€ç¼–è¾‘æ•°é‡ï¼šä¿®æ”¹ \"explorer.openEditors.visible\" åˆ‡æ¢å°åœ°å›¾ï¼šä¿®æ”¹ \"editor.minimap.enabled\" åˆ‡æ¢è¾¹æ ä½ç½®ï¼šä¿®æ”¹ \"workbench.sideBar.location\" ","date":"2018-12-03","objectID":"/2018/12/03/mac-vscode-basic/:2:1","tags":["Mac","VSCode"],"title":"Mac VSCode åŸºæœ¬æ“ä½œ","uri":"/2018/12/03/mac-vscode-basic/"},{"categories":["Mac"],"content":"ç¼–è¾‘åŒºå®šåˆ¶ å¯ç”¨ Tab è¡¥å…¨ï¼šä¿®æ”¹ \"editor.tabCompletion\" çš„å€¼ä¸º \"on\" ","date":"2018-12-03","objectID":"/2018/12/03/mac-vscode-basic/:2:2","tags":["Mac","VSCode"],"title":"Mac VSCode åŸºæœ¬æ“ä½œ","uri":"/2018/12/03/mac-vscode-basic/"},{"categories":["Mac"],"content":"å¸¸ç”¨å‘½ä»¤åˆ‡æ¢ åˆ‡æ¢çŠ¶æ€æ å¯è§æ€§ï¼šåœ¨å‘½ä»¤æ ä¸­æœç´¢ View: Toggle Status Bar Visibility å›è½¦åˆ‡æ¢ åˆ‡æ¢æ´»åŠ¨æ å¯è§æ€§ï¼šåœ¨å‘½ä»¤æ ä¸­æœç´¢ View: Toggle Activity Bar Visibility å›è½¦åˆ‡æ¢ åˆ‡æ¢å°åœ°å›¾ï¼šåœ¨å‘½ä»¤æ ä¸­æœç´¢ View: Toggle Minimap å›è½¦åˆ‡æ¢ åˆ‡æ¢è¾¹æ ä½ç½®ï¼šåœ¨å‘½ä»¤æ ä¸­æœç´¢ View: Toggle Side Bar Position å›è½¦åˆ‡æ¢ åˆ‡æ¢é—®é¢˜ï¼ˆé”™è¯¯ã€è­¦å‘Šã€ä¿¡æ¯ï¼‰è§†å›¾ï¼šåœ¨å‘½ä»¤æ ä¸­æœç´¢ View: Toggle Problems å›è½¦åˆ‡æ¢ åˆ‡æ¢è¾“å‡ºï¼šåœ¨å‘½ä»¤æ ä¸­æœç´¢ View: Toggle Output å›è½¦åˆ‡æ¢ åˆ‡æ¢è‡ªåŠ¨æ¢è¡Œï¼šåœ¨å‘½ä»¤æ ä¸­æœç´¢ View: Toggle Word Wrap å›è½¦åˆ‡æ¢ åˆ‡æ¢å¼€å‘äººå‘˜å·¥å…·ï¼šåœ¨å‘½ä»¤æ ä¸­æœç´¢ View: Toggle Developer Tools å›è½¦åˆ‡æ¢ ä¾§è¾¹æ¡å½¢å›¾ï¼šåœ¨å‘½ä»¤æ ä¸­æœç´¢ View: Open Next Side Bar View å›è½¦ å…³é—­æ‰€æœ‰ç¼–è¾‘å™¨ï¼šView: Close All Editors å›è½¦ å…³é—­æ‰€æœ‰ç¼–è¾‘å™¨ç»„ï¼šView: Close All Editor Group å›è½¦ ","date":"2018-12-03","objectID":"/2018/12/03/mac-vscode-basic/:2:3","tags":["Mac","VSCode"],"title":"Mac VSCode åŸºæœ¬æ“ä½œ","uri":"/2018/12/03/mac-vscode-basic/"},{"categories":["Mac"],"content":"VScode å†…ç½®çš„å¿«æ·é”®ä¹‹å¤šè®©äººç ç›®ç»“èˆŒï¼Œä½œä¸ºä¸€åå–å¼„é£éªšçš„ VSCoder æŠŠå¸¸ç”¨çš„ä¸€äº›å¿«æ·é”®æ‰‹åˆ°æ“’æ¥ä¹Ÿå¹¶ééš¾äº‹ã€‚ç›¸å£°è®²ç©¶å­¦è¯´é€—å”±ï¼Œç¼–è¾‘å™¨è‡ªç„¶æ˜¯å¢åˆ æ”¹æŸ¥ï¼ŒåŠ ä¹‹é•¿å¹´åƒç¬¦å·çš„äºä¸Šå­—æ¯çš„å½“ç¡¬æ˜¯é€¼ç€æˆ‘å­¦ä¼šäº†å¤åˆ¶ç²˜è´´å¤§æ³•ï¼Œåœ¨æ­¤æ³•çš„æ€‚æ¿ä¹‹ä¸‹æˆ‘åˆå¿ä¸ä½æŠ˜è…¾èµ·æ¥ï¼Œä¸€å¼€å§‹æ²¡è§‰ç€ï¼Œä¸€æ®µæ—¶é—´ä»¥åç«Ÿç¥ä¸çŸ¥é¬¼ä¸è§‰çš„æé«˜äº†ä¸€ä¸‹ç å­—æ•ˆç‡ï¼Œçªƒå–œã€‚å½“ç„¶è¿™ä¹Ÿæ²¡ä»€ä¹ˆï¼Œåªä¸è¿‡åˆ»æ„ç»ƒä¹ äº†å‡ ä¸ªå¿«æ·é”®è€Œå·²ã€‚ Mac VSCode èµ·æ­¥ Mac VSCode åŸºæœ¬æ“ä½œ Mac VSCode å¿«æ·é”® Mac VSCode ä»£ç ç‰‡æ®µ Mac VSCode æ•ˆç‡æ‰©å±• ","date":"2018-12-02","objectID":"/2018/12/02/mac-vscode-keyboard/:0:0","tags":["Mac","VSCode"],"title":"Mac VSCode å¿«æ·é”®","uri":"/2018/12/02/mac-vscode-keyboard/"},{"categories":["Mac"],"content":"å®šåˆ¶å¿«æ·é”® ","date":"2018-12-02","objectID":"/2018/12/02/mac-vscode-keyboard/:1:0","tags":["Mac","VSCode"],"title":"Mac VSCode å¿«æ·é”®","uri":"/2018/12/02/mac-vscode-keyboard/"},{"categories":["Mac"],"content":"ä¿®æ”¹æŸä¸ªåŠ¨ä½œå¿«æ·é”® æŒ‰ Cmd+K Cmd+S è·³è½¬åˆ°å¿«æ·é”®é…ç½®é¡µé¢ï¼Œæ‰¾åˆ°è¦æ”¹çš„å‘½ä»¤å¿«æ·é”®ï¼Œé€‰ä¸­åæŒ‰å³é”®æˆ–è€… Cmd+K Cmd+K åœ¨å¼¹å‡ºæ¡†ä¸­è¾“å…¥è‡ªå®šä¹‰çš„å¿«æ·é”®å›è½¦å³å¯ã€‚ ","date":"2018-12-02","objectID":"/2018/12/02/mac-vscode-keyboard/:1:1","tags":["Mac","VSCode"],"title":"Mac VSCode å¿«æ·é”®","uri":"/2018/12/02/mac-vscode-keyboard/"},{"categories":["Mac"],"content":"å®šåˆ¶æŸä¸ªåŠ¨ä½œçš„å¿«æ·é”® æ‰“å¼€ keyboard.json æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­è¾“å…¥å¦‚ä¸‹é…ç½®ä¿å­˜å³å¯ã€‚ // æ¯”å¦‚å°† Cmd+D å¿«æ·é”®ä¿®æ”¹ä¸ºæ·»åŠ ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹ [ { \"key\": \"cmd+d\", \"command\": \"editor.action.addSelectionToNextFindMatch\", \"when\": \"editorFocus\" } ] ","date":"2018-12-02","objectID":"/2018/12/02/mac-vscode-keyboard/:1:2","tags":["Mac","VSCode"],"title":"Mac VSCode å¿«æ·é”®","uri":"/2018/12/02/mac-vscode-keyboard/"},{"categories":["Mac"],"content":"æˆ‘çš„å¿«æ·é”® éƒ¨åˆ†å¿«æ·é”®æœ¬äººæ ¹æ®è‡ªå·±çš„ä½¿ç”¨ä¹ æƒ¯è¿›è¡Œäº†å®šåˆ¶ã€‚ ","date":"2018-12-02","objectID":"/2018/12/02/mac-vscode-keyboard/:2:0","tags":["Mac","VSCode"],"title":"Mac VSCode å¿«æ·é”®","uri":"/2018/12/02/mac-vscode-keyboard/"},{"categories":["Mac"],"content":"Code Shortcut Key CN EN Description Cmd+, è®¾ç½® Settings Shift+Cmd+X æ‰©å±• Cmd+K Cmd+S é”®ç›˜å¿«æ·æ–¹å¼ Cmd+K Cmd+M æŒ‰é”®æ˜ å°„ Cmd+K Cmd+T é¢œè‰²ä¸»é¢˜ Cmd+H éšè— VSCode Alt+Cmd+H éšè— VSCode Cmd+Q é€€å‡º VSCode ","date":"2018-12-02","objectID":"/2018/12/02/mac-vscode-keyboard/:2:1","tags":["Mac","VSCode"],"title":"Mac VSCode å¿«æ·é”®","uri":"/2018/12/02/mac-vscode-keyboard/"},{"categories":["Mac"],"content":"æ–‡ä»¶ Shortcut Key CN EN Description Cmd+N æ–°å»ºæ–‡ä»¶ Cmd+Shift+N æ–°å»ºçª—å£ Cmd+O æ‰“å¼€æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ Shift+Cmd+T é‡æ–°æ‰“å¼€å·²å…³é—­çš„ç¼–è¾‘æ–‡ä»¶ Cmd+S ä¿å­˜ Shift+Cmd+S å¦å­˜ä¸º Alt+Cmd+S å…¨éƒ¨ä¿å­˜ Cmd+W å…³é—­å½“å‰çª—å£ï¼Œæ²¡æœ‰çª—å£å°±å…³é—­ç¼–è¾‘å™¨ Cmd+K F å…³é—­å½“å‰å·¥ç¨‹ï¼Œå…³é—­æ–‡ä»¶å¤¹ ","date":"2018-12-02","objectID":"/2018/12/02/mac-vscode-keyboard/:2:2","tags":["Mac","VSCode"],"title":"Mac VSCode å¿«æ·é”®","uri":"/2018/12/02/mac-vscode-keyboard/"},{"categories":["Mac"],"content":"ç¼–è¾‘ Shortcut Key CN EN Description Cmd+Z æ’¤é”€ Shift+Cmd+Z æ¢å¤ Cmd+X å‰ªåˆ‡ Cmd+C å¤åˆ¶ Cmd+V ç²˜è´´ Cmd+F æŸ¥æ‰¾/æ›¿æ¢ Shift+Cmd+F åœ¨æ–‡ä»¶ä¸­æŸ¥æ‰¾ Shift+Cmd+H åœ¨æ–‡ä»¶ä¸­æ›¿æ¢ Cmd+/ åˆ‡æ¢è¡Œæ³¨é‡Š Alt+Shift+A åˆ‡æ¢å—æ³¨é‡Š Ctrl+Cmd+Space è¡¨æƒ…ä¸ç¬¦å· ","date":"2018-12-02","objectID":"/2018/12/02/mac-vscode-keyboard/:2:3","tags":["Mac","VSCode"],"title":"Mac VSCode å¿«æ·é”®","uri":"/2018/12/02/mac-vscode-keyboard/"},{"categories":["Mac"],"content":"é€‰æ‹© Shortcut Key CN EN Description Cmd+A å…¨é€‰ Ctrl+Shift+Cmd+â¡ï¸ å±•å¼€é€‰å®šå†…å®¹ Ctrl+Shift+Cmd+â¬…ï¸ ç¼©å°é€‰å®šå†…å®¹ Alt+Shift+â¬†ï¸ å‘ä¸Šå¤åˆ¶ä¸€è¡Œ Alt+Shift+â¬‡ï¸ å‘ä¸‹å¤åˆ¶ä¸€è¡Œ Alt+â¬†ï¸ å‘ä¸Šç§»åŠ¨ä¸€è¡Œ Alt+â¬‡ï¸ å‘ä¸‹ç§»åŠ¨ä¸€è¡Œ Alt+Cmd+â¬†ï¸ åœ¨ä¸Šé¢æ·»åŠ å…‰æ ‡ Alt+Cmd+â¬‡ï¸ åœ¨ä¸‹é¢æ·»åŠ å…‰æ ‡ Cmd+D æ·»åŠ ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹ Shift+Cmd+L é€‰æ‹©æ‰€æœ‰åŒ¹é…é¡¹ ","date":"2018-12-02","objectID":"/2018/12/02/mac-vscode-keyboard/:2:4","tags":["Mac","VSCode"],"title":"Mac VSCode å¿«æ·é”®","uri":"/2018/12/02/mac-vscode-keyboard/"},{"categories":["Mac"],"content":"æŸ¥çœ‹ Shortcut Key CN EN Description Shift+Cmd+P å‘½ä»¤é¢æ¿ Ctrl+Cmd+F åˆ‡æ¢å…¨å± Cmd+K Z åˆ‡æ¢ Zen æ¨¡å¼ Cmd+B åˆ‡æ¢ä¾§è¾¹æ  Cmd+J åˆ‡æ¢é¢æ¿ Cmd+= æ”¾å¤§ Cmd+- ç¼©å° Shift+Cmd+0 é‡ç½®ç¼©æ”¾ åŸ Cmd+NumPad0 Alt+Cmd+0 ç¿»è½¬å¸ƒå±€ Shift+Cmd+E èµ„æºç®¡ç†å™¨ Shift+Cmd+F æ–‡ä»¶ä¸­æœç´¢ Ctrl+Shift+G æºä»£ç ç®¡ç† Shift+Cmd+D è°ƒè¯• Shift+Cmd+X æ‰©å±• Shift+Cmd+U è¾“å‡º Shift+Cmd+M é—®é¢˜ Shift+Cmd+Y è°ƒè¯•æ§åˆ¶å° Ctrl+` æ‰“å¼€é›†æˆç»ˆç«¯ Cmd+\\ ç«–å‘æ‹†åˆ†ç¼–è¾‘å™¨ï¼ˆæœ€å¤š 3 ä¸ªï¼‰ Alt+Z åˆ‡æ¢è‡ªåŠ¨æ¢è¡Œ ","date":"2018-12-02","objectID":"/2018/12/02/mac-vscode-keyboard/:2:5","tags":["Mac","VSCode"],"title":"Mac VSCode å¿«æ·é”®","uri":"/2018/12/02/mac-vscode-keyboard/"},{"categories":["Mac"],"content":"è½¬åˆ° Shortcut Key CN EN Description Cmd+- åé€€ åŸ Ctrl+- Cmd+= å‰è¿› åŸ Ctrl+Shift+- Alt+Cmd+â¡ï¸ ä¸‹ä¸€ä¸ªç¼–è¾‘å™¨ Alt+Cmd+â¬…ï¸ ä¸Šä¸€ä¸ªç¼–è¾‘å™¨ Ctrl+â¡ï¸ ç»„ä¸­ä¸‹ä¸€ä¸ªä½¿ç”¨è¿‡çš„ç¼–è¾‘å™¨ Ctrl+Shift+â¡ï¸ ç»„ä¸­ä¸Šä¸€ä¸ªä½¿ç”¨è¿‡çš„ç¼–è¾‘å™¨ Cmd+1 åˆ‡æ¢åˆ°ç¬¬ä¸€ç»„ Cmd+2 åˆ‡æ¢åˆ°ç¬¬äºŒç»„ Cmd+3 åˆ‡æ¢åˆ°ç¬¬ä¸‰ç»„ Cmd+4 åˆ‡æ¢åˆ°ç¬¬å››ç»„ Cmd+5 åˆ‡æ¢åˆ°ç¬¬äº”ç»„ Cmd+K Cmd+â¬…ï¸ å·¦ä¾§ç»„ Cmd+K Cmd+â¡ï¸ å³ä¾§ç»„ Cmd+K Cmd+â¬†ï¸ ä¸Šæ–¹ç»„ Cmd+K Cmd+â¬‡ï¸ ä¸‹æ–¹ç»„ Cmd+P è½¬åˆ°æ–‡ä»¶ Cmd+R è½¬åˆ°æ–‡ä»¶ä¸­çš„ç¬¦å· åŸ Shift+Cmd+O Shift+Cmd+R è½¬åˆ°å·¥ä½œåŒºä¸­çš„ç¬¦å· Shift+Cmd+O è½¬åˆ°æ–‡ä»¶ä¸­çš„ç¬¦å· Cmd+T è½¬åˆ°å·¥ä½œåŒºä¸­çš„ç¬¦å· F12 è½¬åˆ°å®šä¹‰ Cmd+F12 è½¬åˆ°å®ç° Ctrl+G è½¬åˆ°è¡Œ ","date":"2018-12-02","objectID":"/2018/12/02/mac-vscode-keyboard/:2:6","tags":["Mac","VSCode"],"title":"Mac VSCode å¿«æ·é”®","uri":"/2018/12/02/mac-vscode-keyboard/"},{"categories":["Mac"],"content":"è°ƒè¯• Shortcut Key CN EN Description F5 å¯åŠ¨è°ƒè¯•ï¼Œé‡å¤æŒ‰ç»§ç»­è°ƒè¯• Ctrl+F5 éè°ƒè¯•å¯åŠ¨ Shift+F5 åœæ­¢è°ƒè¯• Shift+Cmd+F5 é‡å¯è°ƒè¯• F10 å•æ­¥è·³è¿‡ F11 å•æ­¥æ‰§è¡Œ Shift+F11 å•æ­¥è·³å‡º F5 ç»§ç»­ F9 åˆ‡æ¢æ–­ç‚¹ Shift+F9 å†…è”æ–­ç‚¹ ","date":"2018-12-02","objectID":"/2018/12/02/mac-vscode-keyboard/:2:7","tags":["Mac","VSCode"],"title":"Mac VSCode å¿«æ·é”®","uri":"/2018/12/02/mac-vscode-keyboard/"},{"categories":["Mac"],"content":"ç»ˆç«¯ Shortcut Key CN EN Description Ctrl+~ æ–°å»ºç»ˆç«¯ Ctrl+\\ æ‹†åˆ†ç»ˆç«¯ Shift+Cmd+B è¿è¡Œç”Ÿæˆä»»åŠ¡ ","date":"2018-12-02","objectID":"/2018/12/02/mac-vscode-keyboard/:2:8","tags":["Mac","VSCode"],"title":"Mac VSCode å¿«æ·é”®","uri":"/2018/12/02/mac-vscode-keyboard/"},{"categories":["Mac"],"content":"çª—å£ Shortcut Key CN EN Description Cmd+M æœ€å°åŒ–çª—å£ Ctrl+W åˆ‡æ¢çª—å£ ","date":"2018-12-02","objectID":"/2018/12/02/mac-vscode-keyboard/:2:9","tags":["Mac","VSCode"],"title":"Mac VSCode å¿«æ·é”®","uri":"/2018/12/02/mac-vscode-keyboard/"},{"categories":["Mac"],"content":"å¸®åŠ© Shortcut Key CN EN Description Shift+Cmd+/ æ˜¾ç¤ºå¸®åŠ© ","date":"2018-12-02","objectID":"/2018/12/02/mac-vscode-keyboard/:2:10","tags":["Mac","VSCode"],"title":"Mac VSCode å¿«æ·é”®","uri":"/2018/12/02/mac-vscode-keyboard/"},{"categories":["Mac"],"content":"å…¶å®ƒ è¯šç„¶ï¼ŒVSCode å¹¶æ²¡æœ‰æŠŠæ‰€æœ‰çš„å¿«æ·é”®åˆ—åˆ°èœå•æ ä¸­ï¼Œå¥½å¤šå¿«æ·é”®è‡ªæœ‰å…¶ä½¿ç”¨ä¸Šä¸‹æ–‡ï¼Œä¸”åˆ—ä¸€ä¸‹å…¶å®ƒçš„å¿«æ·é”®ã€‚ Shortcut Key CN EN Description Ctrl+Tab åœ¨å†å²æ‰“å¼€æ–‡ä»¶ä¹‹é—´åˆ‡æ¢ Cmd+~ åœ¨æ‰“å¼€çš„å¤šä¸ªçª—å£ä¹‹é—´åˆ‡æ¢ Cmd+[ ä»£ç å·¦ç¼©è¿› Cmd+] ä»£ç å³ç¼©è¿› Shift+Alt+F æ ¼å¼åŒ–ä»£ç ï¼Œæˆ– Shift+Cmd+P åè¾“å…¥ Format Document Cmd+Enter å½“å‰è¡Œä¹‹åæ’å…¥ä¸€ä¸ªç©ºè¡Œ Shift+Cmd+Enter å½“å‰è¡Œä¹‹å‰æ’å…¥ä¸€ä¸ªç©ºè¡Œ Cmd+â¬†ï¸ ç§»åŠ¨å…‰æ ‡åˆ°å½“å‰æ–‡ä»¶é¦–è¡Œ Cmd+ï¸â¬‡ï¸ ç§»åŠ¨å…‰æ ‡åˆ°å½“å‰æ–‡ä»¶å°¾è¡Œ Cmd+â¬…ï¸ ç§»åŠ¨å…‰æ ‡åˆ°å½“å‰è¡Œé¦– Cmd+â¡ï¸ ç§»åŠ¨å…‰æ ‡åˆ°å½“å‰è¡Œå°¾ Alt+â¬…ï¸ å‘å·¦ç§»åŠ¨å…‰æ ‡ä¸€ä¸ªå•è¯ï¼ˆè¿å­—ï¼‰ Alt+â¡ï¸ å‘å³ç§»åŠ¨å…‰æ ‡ä¸€ä¸ªå•è¯ï¼ˆè¿å­—ï¼‰ Shift+Cmd+â¬†ï¸ é€‰ä¸­ä»é¦–è¡Œåˆ°å…‰æ ‡å¤„çš„æ–‡æ¡£ Shift+Cmd+â¬‡ï¸ é€‰ä¸­ä»å…‰æ ‡åˆ°å°¾è¡Œå¤„çš„æ–‡æ¡£ Shift+Cmd+â¬…ï¸ é€‰ä¸­å…‰æ ‡å¤„åˆ°è¡Œé¦– Shift+Cmd+â¡ï¸ é€‰ä¸­å…‰æ ‡å¤„åˆ°è¡Œå°¾ Cmd+I é€‰ä¸­å½“å‰è¡Œ Cmd+Delete åˆ é™¤å…‰æ ‡å¤„åˆ°è¡Œé¦– Cmd+F2 å…‰æ ‡å…ˆç§»åŠ¨åˆ°å•è¯ä¸Šï¼Œç„¶åæŒ‰ Cmd+F2 åå¯ä»¥è¿›è¡Œæ‰¹é‡é‡å‘½å Cmd+K V Markdown æ–‡æ¡£é¢„è§ˆ Shift+Cmd+K åˆ é™¤å½“å‰è¡Œ Shift+Cmd+\\ åœ¨åŒ¹é…çš„æ‹¬å·ä¹‹å‰è·³è½¬ Shift+Cmd+[ è·³è½¬åˆ°ä¸Šä¸€ä¸ªç¼–è¾‘çª—å£ Shift+Cmd+] è·³è½¬åˆ°ä¸‹ä¸€ä¸ªç¼–è¾‘çª—å£ Cmd+K Cmd+0 æŠ˜å æ‰€æœ‰ä»£ç  Cmd+K Cmd+1 æŠ˜å ç¬¬ä¸€å±‚ä»£ç  Cmd+K Cmd+2 æŠ˜å ç¬¬äºŒå±‚ä»£ç  Cmd+K Cmd+3 æŠ˜å ç¬¬ä¸‰å±‚ä»£ç  å±‚æ•°å—åˆ¶äºä»£ç å±‚çº§ Cmd+K Cmd+[ æŠ˜å æ‰€æœ‰ä»£ç  Cmd+K Cmd+] å±•å¼€æ‰€æœ‰ä»£ç  Cmd+K Cmd+C æ·»åŠ å½“å‰è¡Œä»£ç æ³¨é‡Š Cmd+K Cmd+U å–æ¶ˆå½“å‰è¡Œä»£ç æ³¨é‡Š Cmd+/ å½“å‰è¡Œæ³¨é‡Šåˆ‡æ¢ Alt+Shift+I åœ¨æ‰€é€‰è¡Œçš„è¡Œå°¾æ’å…¥å…‰æ ‡ Shift+Cmd+L é€‰ä¸­æ‰€æœ‰ä¸å½“å‰é€‰ä¸­å†…å®¹ç›¸åŒçš„éƒ¨åˆ† Alt+Shift+å…‰æ ‡æ‹–åŠ¨ é€‰ä¸­ä»£ç å— Cmd+G æŸ¥æ‰¾ä¸‹ä¸€ä¸ª Shift+Cmd+G æŸ¥æ‰¾ä¸‹ä¸€ä¸ª ","date":"2018-12-02","objectID":"/2018/12/02/mac-vscode-keyboard/:2:11","tags":["Mac","VSCode"],"title":"Mac VSCode å¿«æ·é”®","uri":"/2018/12/02/mac-vscode-keyboard/"},{"categories":["Mac"],"content":"å¿«æ·é”®å®šåˆ¶ // å°†æŒ‰é”®ç»‘å®šé…ç½®æ”¾å…¥æ­¤æ–‡ä»¶ä¸­å³å¯è¦†ç›–é»˜è®¤å€¼ [ { \"key\": \"alt+cmd+up\", // å‘ä¸Šæ’å…¥å¤šä¸ªå…‰æ ‡ \"command\": \"editor.action.insertCursorAbove\", \"when\": \"editorTextFocus\" }, { \"key\": \"alt+cmd+down\", // å‘ä¸‹æ’å…¥å¤šä¸ªå…‰æ ‡ \"command\": \"editor.action.insertCursorBelow\", \"when\": \"editorTextFocus\" }, { \"key\": \"cmd+d\", // æ·»åŠ ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹ \"command\": \"editor.action.addSelectionToNextFindMatch\", \"when\": \"editorFocus\" }, { \"key\": \"shift+cmd+0\", // é‡ç½®ç¼©æ”¾ \"command\": \"workbench.action.zoomReset\" }, { \"key\": \"cmd+-\", // åé€€ \"command\": \"workbench.action.navigateBack\" }, { \"key\": \"cmd+=\", // å‰è¿› \"command\": \"workbench.action.navigateForward\" }, { \"key\": \"cmd+r\", // ç¬¦å·è·³è½¬ \"command\": \"workbench.action.gotoSymbol\" }, { \"key\": \"cmd+space\", // è§¦å‘å»ºä¹‰æç¤º \"command\": \"editor.action.triggerSuggest\", \"when\": \"editorHasCompletionItemProvider \u0026\u0026 textInputFocus \u0026\u0026 !editorReadonly\" }, { \"key\": \"shift+cmd+space\", // è§¦å‘å‚æ•°æç¤º \"command\": \"editor.action.triggerParameterHints\", \"when\": \"editorHasSignatureHelpProvider \u0026\u0026 editorTextFocus\" }, { \"key\": \"alt+enter\", // æ‰“å¼€å³é”®èœå• \"command\": \"editor.action.showContextMenu\", \"when\": \"textInputFocus\" }, { \"key\": \"shift+;\", // ZenMode æ˜¾ç¤ºå‘½ä»¤æç¤ºæ¡† \"command\": \"vim.showQuickpickCmdLine\", \"when\": \"inZenMode \u0026\u0026 vim.mode != 'Insert'\" }, { \"key\": \"ctrl+j\", // åˆå¹¶åˆ°ä¸€è¡Œ \"command\": \"editor.action.joinLines\", \"when\": \"editorTextFocus \u0026\u0026 !editorReadonly\" }, { \"key\": \"ctrl+t\", // è°ƒæ¢å­—ç¬¦ä½ç½® \"command\": \"editor.action.transposeLetters\", \"when\": \"textInputFocus \u0026\u0026 !editorReadonly\" }, { \"key\": \"shift+cmd+space\", // è§¦å‘å‚æ•°æç¤ºä¿¡æ¯ \"command\": \"editor.action.triggerParameterHints\", \"when\": \"editorHasSignatureHelpProvider \u0026\u0026 editorTextFocus\" }, { \"key\": \"ctrl+alt+i\", // å¯¼å…¥ç±»çš„å‘½åç©ºé—´ \"command\": \"namespaceResolver.import\", \"when\": \"editorTextFocus\" }, { \"key\": \"ctrl+alt+e\", // å±•å¼€ç±»çš„å‘½åç©ºé—´ \"command\": \"namespaceResolver.expand\", \"when\": \"editorTextFocus\" }, { \"key\": \"ctrl+alt+s\", // å‘½åç©ºé—´æ’åº \"command\": \"namespaceResolver.sort\", \"when\": \"editorTextFocus\" } ] ","date":"2018-12-02","objectID":"/2018/12/02/mac-vscode-keyboard/:2:12","tags":["Mac","VSCode"],"title":"Mac VSCode å¿«æ·é”®","uri":"/2018/12/02/mac-vscode-keyboard/"},{"categories":["Mac"],"content":"ç¼–è¾‘å™¨çš„é›†å¤§æˆè€…ï¼Œå…è´¹ï¼Œé«˜é¢œå€¼ã€‚è½»é‡çº§çš„è·¨å¹³å° Web é›†æˆå¼€å‘ç¯å¢ƒï¼Œæ¯” Sublime å¼€æºï¼Œæ¯” Atom æ›´å¿«ï¼Œæ¯” JetBrains å…¨å®¶æ¡¶æ›´è½»ï¼Œå°±å†²å¾®è½¯çš„è¿™ä¸ªæƒ…æ€€ï¼Œæˆ‘ç‰¹ä¹ˆæœæ–­å…¥å‘ã€‚å½“ç„¶ç†Ÿç»ƒä½¿ç”¨ä¸€æ¬¾ä»£ç ç¼–è¾‘å™¨å¹¶ä¸æ˜¯ä»€ä¹ˆäº†ä¸èµ·çš„æŠ€èƒ½ï¼Œä½†è¯·åˆ«å¿˜äº†ã€å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€ï¼Œå…¶ä¸é—»äººä¹‹èƒ½åœ¨äºå–„å‡äºç‰©ä¹Ÿã€‚é€‰æ‹©é€‚åˆè‡ªå·±çš„ä»£ç ç¼–è¾‘å™¨ä¸€ç›´æ˜¯æœ‰è¿½æ±‚çš„ç å†œçš„ç”Ÿæ´»æ–¹å¼ï¼Œä¸çŸ¥ä½•æ•…ï¼Œæ¯æ¯çœ‹åˆ°é‚£äº›æƒŠè‰³çš„ä¸»é¢˜ã€æ•²å‡»ä¸€ä¸ªå­—ç¬¦æ¨ä¸å¾—æŠŠæ•´ä¸ªä¸–ç•Œç»™ä½ çš„ç¼–è¾‘å™¨äº¦æˆ– IDEï¼Œæˆ‘å°±æ ¼å¤–çš„å–œæ‚¦ï¼Œæœç„¶æ‡‚ç å†œè€…å”¯ç¼–è¾‘å™¨å°”ï¼ˆç¼–ç¨‹è¯­è¨€å½“ç„¶ä¹Ÿä¸ä¾‹å¤–ï¼‰ã€‚å†å°½ä¸€ç•ªæŠ˜è…¾åï¼ŒVSCode é‚£é£éªšçš„æ“ä½œä»¤äººæ¬²ç½¢ä¸èƒ½ï¼Œä¸ºäº†èƒ½ç³»ç»Ÿåœ°å­¦ä¹ ä¸‹è¿™äº›æ“ä½œï¼Œè®°å½•ä¸‹è¿™äº›æ“ä½œæŒ‡ä»¤ï¼Œæˆ‘è§‰å¾—éœ€è¦è®°å½•ç‚¹ä»€ä¹ˆã€‚ Mac VSCode èµ·æ­¥ Mac VSCode åŸºæœ¬æ“ä½œ Mac VSCode å¿«æ·é”® Mac VSCode ä»£ç ç‰‡æ®µ Mac VSCode æ•ˆç‡æ‰©å±• ","date":"2018-12-01","objectID":"/2018/12/01/mac-vscode-started/:0:0","tags":["Mac","VSCode"],"title":"Mac VSCode èµ·æ­¥","uri":"/2018/12/01/mac-vscode-started/"},{"categories":["Mac"],"content":"æ¦‚è¿° ","date":"2018-12-01","objectID":"/2018/12/01/mac-vscode-started/:1:0","tags":["Mac","VSCode"],"title":"Mac VSCode èµ·æ­¥","uri":"/2018/12/01/mac-vscode-started/"},{"categories":["Mac"],"content":"ç®€ä»‹ Code editing. Redefined. Free. Open source. Runs everywhere. ","date":"2018-12-01","objectID":"/2018/12/01/mac-vscode-started/:1:1","tags":["Mac","VSCode"],"title":"Mac VSCode èµ·æ­¥","uri":"/2018/12/01/mac-vscode-started/"},{"categories":["Mac"],"content":"å®‰è£… VSCode Website VSCode GitHub VSCode Videos VSCode Documentation æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œç›´æ¥ä¸Šå®˜ç½‘ä¸‹è½½å¯¹åº”ç³»ç»Ÿå®‰è£…åŒ…ï¼Œå¼€ç®±å³ç”¨ã€‚ ","date":"2018-12-01","objectID":"/2018/12/01/mac-vscode-started/:1:2","tags":["Mac","VSCode"],"title":"Mac VSCode èµ·æ­¥","uri":"/2018/12/01/mac-vscode-started/"},{"categories":["Mac"],"content":"æ’ä»¶ Extensions for the Visual Studio family of products æœç„¶è¿˜æ˜¯å¾—æ’ä»¶è€…å¾—å¤©ä¸‹ï¼Œåºå¤§çš„æ’ä»¶è¶³ä»¥è®© VSCode å‚²è§†ç¾¤é›„ã€‚ ","date":"2018-12-01","objectID":"/2018/12/01/mac-vscode-started/:1:3","tags":["Mac","VSCode"],"title":"Mac VSCode èµ·æ­¥","uri":"/2018/12/01/mac-vscode-started/"},{"categories":["Mac"],"content":"ç•Œé¢ ","date":"2018-12-01","objectID":"/2018/12/01/mac-vscode-started/:2:0","tags":["Mac","VSCode"],"title":"Mac VSCode èµ·æ­¥","uri":"/2018/12/01/mac-vscode-started/"},{"categories":["Mac"],"content":"å‘½ä»¤é¢æ¿ æŒ‰ Shift+Cmd+P è¿›å…¥å‘½ä»¤é¢æ¿ï¼Œè°ƒç”¨å„ç§å‘½ä»¤ã€‚ å¿«æ·å…¥å£ - Cmd+Pã€‚ ä»¥ä¸‹å¿«æ·é”®ä¸ºé»˜è®¤å¿«æ·é”®ã€‚ ç›´æ¥è¾“å…¥æ–‡ä»¶åï¼Œå¿«é€Ÿæ‰“å¼€æ–‡ä»¶ æ˜¾ç¤ºæœ€è¿‘æ‰“å¼€è¿‡çš„æ–‡ä»¶ é‡å¤æŒ‰ä¸‹ååœ¨æœ€è¿‘æ‰“å¼€è¿‡çš„æ–‡ä»¶ä¹‹é—´åˆ‡æ¢ é”®å…¥ ? æŸ¥çœ‹ç›¸å…³å¸®åŠ©ï¼Œåˆ—å‡ºå½“å‰å¯æ‰§è¡Œçš„åŠ¨ä½œ é”®å…¥ ! æ˜¾ç¤º Errors æˆ– Warningsï¼Œä¹Ÿå¯ä»¥ Ctrl+Shift+M é”®å…¥ : è·³è½¬åˆ°è¡Œæ•°ï¼Œä¹Ÿå¯ä»¥ Ctrl+G ç›´æ¥è¿›å…¥ é”®å…¥ @ è·³è½¬åˆ° symbolï¼ˆæœç´¢å˜é‡æˆ–è€…å‡½æ•°ï¼‰ï¼Œä¹Ÿå¯ä»¥ Ctrl+Shift+O ç›´æ¥è¿›å…¥ é”®å…¥ @: æ ¹æ®åˆ†ç±»è·³è½¬ symbolï¼ˆæŸ¥æ‰¾å±æ€§æˆ–å‡½æ•°ï¼‰ï¼Œä¹Ÿå¯ä»¥ Ctrl+Shift+O åè¾“å…¥ : è¿›å…¥ é”®å…¥ # æ ¹æ®åå­—æŸ¥æ‰¾ symbolï¼Œä¹Ÿå¯ä»¥ Ctrl+T ","date":"2018-12-01","objectID":"/2018/12/01/mac-vscode-started/:2:1","tags":["Mac","VSCode"],"title":"Mac VSCode èµ·æ­¥","uri":"/2018/12/01/mac-vscode-started/"},{"categories":["Mac"],"content":"ç•Œé¢æ¦‚è§ˆ ç‚¹å‡»ã€å­¦ä¹ ã€ä¸‹é¢çš„ã€ç•Œé¢æ¦‚è§ˆã€ã€‚ ","date":"2018-12-01","objectID":"/2018/12/01/mac-vscode-started/:2:2","tags":["Mac","VSCode"],"title":"Mac VSCode èµ·æ­¥","uri":"/2018/12/01/mac-vscode-started/"},{"categories":["Mac"],"content":"äº¤äº’å¼æ¼”ç»ƒåœº ç‚¹å‡»ã€å­¦ä¹ ã€ä¸‹é¢çš„ã€äº¤äº’å¼æ¼”ç»ƒåœºã€ã€‚ ","date":"2018-12-01","objectID":"/2018/12/01/mac-vscode-started/:2:3","tags":["Mac","VSCode"],"title":"Mac VSCode èµ·æ­¥","uri":"/2018/12/01/mac-vscode-started/"},{"categories":["Mac"],"content":"å‘½ä»¤è¡Œ ","date":"2018-12-01","objectID":"/2018/12/01/mac-vscode-started/:3:0","tags":["Mac","VSCode"],"title":"Mac VSCode èµ·æ­¥","uri":"/2018/12/01/mac-vscode-started/"},{"categories":["Mac"],"content":"å‘½ä»¤è¡Œå‘½ä»¤å®‰è£… å®‰è£… VSCode Shell å‘½ä»¤ï¼ŒæŒ‰ Shift+Cmd+P æœç´¢ shell command install å›è½¦å³å¯ã€‚ ","date":"2018-12-01","objectID":"/2018/12/01/mac-vscode-started/:3:1","tags":["Mac","VSCode"],"title":"Mac VSCode èµ·æ­¥","uri":"/2018/12/01/mac-vscode-started/"},{"categories":["Mac"],"content":"å‘½ä»¤è¡Œå¸®åŠ© code --help Visual Studio Code 1.30.0 Usage: code [options] [paths...] To read from stdin, append '-' (e.g. 'ps aux | grep code | code -') Options: -d, --diff \u003cfile\u003e \u003cfile\u003e Compare two files with each other. -a, --add \u003cdir\u003e Add folder(s) to the last active window. -g, --goto \u003cfile:line[:character]\u003e Open a file at the path on the specified line and character position. -n, --new-window Force to open a new window. -r, --reuse-window Force to open a file or folder in an already opened window. -w, --wait Wait for the files to be closed before returning. --locale \u003clocale\u003e The locale to use (e.g. en-US or zh-TW). --user-data-dir \u003cdir\u003e Specifies the directory that user data is kept in. Can be used to open multiple distinct instances of Code. -v, --version Print version. -h, --help Print usage. Extensions Management: --extensions-dir \u003cdir\u003e Set the root path for extensions. --list-extensions List the installed extensions. --show-versions Show versions of installed extensions, when using --list-extension. --uninstall-extension (\u003cextension-id\u003e | \u003cextension-vsix-path\u003e) Uninstalls an extension. --install-extension (\u003cextension-id\u003e | \u003cextension-vsix-path\u003e) Installs or updates the extension. Use `--force` argument to avoid prompts. --enable-proposed-api (\u003cextension-id\u003e) Enables proposed API features for extensions. Can receive one or more extension IDs to enable individually. Troubleshooting: --verbose Print verbose output (implies --wait). --log \u003clevel\u003e Log level to use. Default is 'info'. Allowed values are 'critical', 'error', 'warn', 'info', 'debug', 'trace', 'off'. -s, --status Print process usage and diagnostics information. -p, --performance Start with the 'Developer: Startup Performance' command enabled. --prof-startup Run CPU profiler during startup --disable-extensions Disable all installed extensions. --disable-extension \u003cextension-id\u003e Disable an extension. --inspect-extensions Allow debugging and profiling of extensions. Check the developer tools for the connection URI. --inspect-brk-extensions Allow debugging and profiling of extensions with the extension host being paused after start. Check the developer tools for the connection URI. --disable-gpu Disable GPU hardware acceleration. --upload-logs Uploads logs from current session to a secure endpoint. --max-memory Max memory size for a window (in Mbytes). ","date":"2018-12-01","objectID":"/2018/12/01/mac-vscode-started/:3:2","tags":["Mac","VSCode"],"title":"Mac VSCode èµ·æ­¥","uri":"/2018/12/01/mac-vscode-started/"},{"categories":["Mac"],"content":"å¸¸ç”¨å‘½ä»¤ // åœ¨ VSCode ä¸­æ‰“å¼€å½“å‰ç›®å½• code . // åœ¨æœ€è¿‘ä½¿ç”¨è¿‡çš„ VSCode çª—å£æ‰“å¼€å½“å‰ç›®å½• code -r . // åˆ›å»ºæ–°çš„çª—å£ code -n code --new-window // æ›´æ”¹è¯­è¨€ code --locale=es // è·³è½¬åˆ°æŒ‡å®šæ–‡ä»¶çš„æŒ‡å®šè¡Œåˆ—ï¼Œç›¸å½“äºè·³è½¬åˆ°æŒ‡å®šæ–‡ä»¶çš„æŒ‡å®šè¡Œçš„ä»å·¦åˆ°å³ç¬¬å‡ ä¸ªå­—ç¬¦ä¸Š code -g /path/to/\u003cfile\u003e:10:10 code --goto /path/to/\u003cfile\u003e:10:20 // æ‰“å¼€ diff ç¼–è¾‘å™¨æ¯”è¾ƒæ–‡ä»¶ code -d \u003cfile1\u003e \u003cfile2\u003e code --diff \u003cfile1\u003e \u003cfile2\u003e // æŸ¥çœ‹å¸®åŠ©é€‰é¡¹ code --help // ç¦ç”¨æ‰€æœ‰æ‰©å±• code --disable-extensions ","date":"2018-12-01","objectID":"/2018/12/01/mac-vscode-started/:3:3","tags":["Mac","VSCode"],"title":"Mac VSCode èµ·æ­¥","uri":"/2018/12/01/mac-vscode-started/"},{"categories":["Mac"],"content":"å­—ä½“ ä»¥ä¸‹å­—ä½“å®‰è£…å…¶ä¸€å°±å¥½ï¼Œå®‰è£…å®Œæˆé‡å¯ VSCode å³å¯ã€‚ Cascadia Code å­—ä½“ Github åˆ° Releases æ ‡ç­¾é¡µä¸‹è½½ Cascadia Code å‹ç¼©åŒ…è§£å‹å¹¶å®‰è£… æŒ‰ Cmd+, æœç´¢å¹¶é…ç½® editor.fontFamily å’Œ editor.fontLigatures å³å¯ï¼š \"editor.fontFamily\": \"Cascadia Code\", \"editor.fontLigatures\": true, Fire Code å­—ä½“ GitHub FiraCode Wiki VS Code Instructions brew tap homebrew/cask-fonts brew cask install font-fira-code æŒ‰ Cmd+, æœç´¢å¹¶é…ç½® editor.fontFamily å’Œ editor.fontLigatures å³å¯ï¼š \"editor.fontFamily\": \"Fira Code\", \"editor.fontLigatures\": true, ","date":"2018-12-01","objectID":"/2018/12/01/mac-vscode-started/:3:4","tags":["Mac","VSCode"],"title":"Mac VSCode èµ·æ­¥","uri":"/2018/12/01/mac-vscode-started/"},{"categories":["Mac"],"content":"é—®é¢˜ Could not create temporary directory: æƒé™è¢«æ‹’ç»ï¼š sudo chown $USER ~/Library/Caches/com.microsoft.VSCode.ShipIt/ ","date":"2018-12-01","objectID":"/2018/12/01/mac-vscode-started/:4:0","tags":["Mac","VSCode"],"title":"Mac VSCode èµ·æ­¥","uri":"/2018/12/01/mac-vscode-started/"},{"categories":["PHP"],"content":"è¿™æ˜¯ä¸€é“å¦¥å¦¥çš„å­—ç¬¦ä¸²æ“ä½œé¢˜å‘€ï¼ŒæºäºæŸé“é¢è¯•é¢˜ï¼Œç©ä¸€ç©ï¼Œå¼€å¿ƒå°±å¥½ã€‚ ","date":"2018-09-05","objectID":"/2018/09/05/php-get-file-extension/:0:0","tags":["PHP"],"title":"PHP ä»è·¯å¾„ä¸­è·å–æ–‡ä»¶çš„æ‰©å±•å","uri":"/2018/09/05/php-get-file-extension/"},{"categories":["PHP"],"content":"ä½¿ç”¨ pathinfo å‡½æ•° \u003c?php /** * ä»è·¯å¾„ä¸­è·å–æ–‡ä»¶çš„æ‰©å±•åã€‚ * * @param string $path * * @return string */ function ext_name(string $path): string { return pathinfo($path, PATHINFO_EXTENSION); } æˆ–è€… \u003c?php /** * ä»è·¯å¾„ä¸­è·å–æ–‡ä»¶çš„æ‰©å±•åã€‚ * * @param string $path * * @return string */ function ext_name(string $path): string { return pathinfo($path)['extension']; } ","date":"2018-09-05","objectID":"/2018/09/05/php-get-file-extension/:1:0","tags":["PHP"],"title":"PHP ä»è·¯å¾„ä¸­è·å–æ–‡ä»¶çš„æ‰©å±•å","uri":"/2018/09/05/php-get-file-extension/"},{"categories":["PHP"],"content":"ä½¿ç”¨ preg_split å‡½æ•° \u003c?php /** * ä»è·¯å¾„ä¸­è·å–æ–‡ä»¶çš„æ‰©å±•åã€‚ * * @param string $path * * @return string */ function ext_name(string $path): string { $array = preg_split('/[\\\\.]/', $path); return $array[count($array) - 1]; } ","date":"2018-09-05","objectID":"/2018/09/05/php-get-file-extension/:2:0","tags":["PHP"],"title":"PHP ä»è·¯å¾„ä¸­è·å–æ–‡ä»¶çš„æ‰©å±•å","uri":"/2018/09/05/php-get-file-extension/"},{"categories":["PHP"],"content":"ä½¿ç”¨ end å‡½æ•° \u003c?php /** * ä»è·¯å¾„ä¸­è·å–æ–‡ä»¶çš„æ‰©å±•åã€‚ * * @param string $path * * @return string */ function ext_name(string $path): string { $array = explode('.', $path); return end($array); } ","date":"2018-09-05","objectID":"/2018/09/05/php-get-file-extension/:3:0","tags":["PHP"],"title":"PHP ä»è·¯å¾„ä¸­è·å–æ–‡ä»¶çš„æ‰©å±•å","uri":"/2018/09/05/php-get-file-extension/"},{"categories":["PHP"],"content":"ä½¿ç”¨ strrchr å‡½æ•° \u003c?php /** * ä»è·¯å¾„ä¸­è·å–æ–‡ä»¶çš„æ‰©å±•åã€‚ * * @param string $path * * @return string */ function ext_name(string $path): string { return substr(strrchr($path, '.'), 1); } ","date":"2018-09-05","objectID":"/2018/09/05/php-get-file-extension/:4:0","tags":["PHP"],"title":"PHP ä»è·¯å¾„ä¸­è·å–æ–‡ä»¶çš„æ‰©å±•å","uri":"/2018/09/05/php-get-file-extension/"},{"categories":["PHP"],"content":"ä½¿ç”¨ strrpos å‡½æ•° \u003c?php /** * ä»è·¯å¾„ä¸­è·å–æ–‡ä»¶çš„æ‰©å±•åã€‚ * * @param string $path * * @return string */ function ext_name(string $path): string { return substr($path, strrpos($path, '.') + 1); } ","date":"2018-09-05","objectID":"/2018/09/05/php-get-file-extension/:5:0","tags":["PHP"],"title":"PHP ä»è·¯å¾„ä¸­è·å–æ–‡ä»¶çš„æ‰©å±•å","uri":"/2018/09/05/php-get-file-extension/"},{"categories":["PHP"],"content":"ä½¿ç”¨ preg_replace å‡½æ•° \u003c?php /** * ä»è·¯å¾„ä¸­è·å–æ–‡ä»¶çš„æ‰©å±•åã€‚ * * @param string $path * * @return string */ function ext_name(string $path): string { return preg_replace('/^.*\\.([^.]+)$/D', \"$1\", $path); } ","date":"2018-09-05","objectID":"/2018/09/05/php-get-file-extension/:6:0","tags":["PHP"],"title":"PHP ä»è·¯å¾„ä¸­è·å–æ–‡ä»¶çš„æ‰©å±•å","uri":"/2018/09/05/php-get-file-extension/"},{"categories":["PHP"],"content":"ä½¿ç”¨ SplFileInfo ç±» \u003c?php /** * ä»è·¯å¾„ä¸­è·å–æ–‡ä»¶çš„æ‰©å±•åã€‚ * * @param string $path * * @return string */ function ext_name(string $path): string { return (new \\SplFileInfo($path))-\u003egetExtension(); } å‡½æ•°è°ƒç”¨ï¼š \u003c?php echo ext_name($_SERVER['PHP_SELF']); è¾“å‡ºç»“æœï¼š php ","date":"2018-09-05","objectID":"/2018/09/05/php-get-file-extension/:7:0","tags":["PHP"],"title":"PHP ä»è·¯å¾„ä¸­è·å–æ–‡ä»¶çš„æ‰©å±•å","uri":"/2018/09/05/php-get-file-extension/"},{"categories":["PHP"],"content":"ä¸»è¦å½’åŠŸäºé€’å½’ - Recursionï¼Œåˆè¯‘ä¸ºé€’å›ï¼Œåœ¨æ•°å­¦ä¸è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œæ˜¯æŒ‡åœ¨å‡½æ•°çš„å®šä¹‰ä¸­ä½¿ç”¨å‡½æ•°è‡ªèº«çš„æ–¹æ³•ã€‚é€’å½’ä¸€è¯è¿˜è¾ƒå¸¸ç”¨äºæè¿°ä»¥è‡ªç›¸ä¼¼æ–¹æ³•é‡å¤äº‹ç‰©çš„è¿‡ç¨‹ã€‚ä¾‹å¦‚ï¼Œå½“ä¸¤é¢é•œå­ç›¸äº’ä¹‹é—´è¿‘ä¼¼å¹³è¡Œæ—¶ï¼Œé•œä¸­åµŒå¥—çš„å›¾åƒæ˜¯ä»¥æ— é™é€’å½’çš„å½¢å¼å‡ºç°çš„ã€‚ä¹Ÿå¯ä»¥ç†è§£ä¸ºè‡ªæˆ‘å¤åˆ¶çš„è¿‡ç¨‹ã€‚ ","date":"2018-09-05","objectID":"/2018/09/05/php-traversing-directory-files/:0:0","tags":["PHP"],"title":"PHP éå†ç›®å½•ä¸‹çš„æ–‡ä»¶","uri":"/2018/09/05/php-traversing-directory-files/"},{"categories":["PHP"],"content":"ä½¿ç”¨ dir å‡½æ•° \u003c?php /** * éå†æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ã€‚ * * @param string $directory * * @return array */ function dir_list($directory) { static $array = []; $dir = dir($directory); while ($file = $dir-\u003eread()) { if (is_dir(\"$directory/$file\") \u0026\u0026 $file !== '.' \u0026\u0026 $file !== '..') { dir_list(\"$directory/$file\"); } else { if ($file !== '.' \u0026\u0026 $file !== '..') { $array[] = $file; } } } return $array; } ","date":"2018-09-05","objectID":"/2018/09/05/php-traversing-directory-files/:1:0","tags":["PHP"],"title":"PHP éå†ç›®å½•ä¸‹çš„æ–‡ä»¶","uri":"/2018/09/05/php-traversing-directory-files/"},{"categories":["PHP"],"content":"ä½¿ç”¨ readdir å‡½æ•° \u003c?php /** * éå†æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ã€‚ * * @param string $directory * * @return array */ function dir_list(string $directory): array { static $array = []; if ($dir = opendir($directory)) { while (false !== $file = readdir($dir)) { if (is_dir(\"$directory/$file\") \u0026\u0026 $file !== '.' \u0026\u0026 $file !== '..') { dir_list(\"$directory/$file\"); } else { if ($file !== '.' \u0026\u0026 $file !== '..') { $array[] = $file; } } } closedir($dir); } return $array; } ","date":"2018-09-05","objectID":"/2018/09/05/php-traversing-directory-files/:2:0","tags":["PHP"],"title":"PHP éå†ç›®å½•ä¸‹çš„æ–‡ä»¶","uri":"/2018/09/05/php-traversing-directory-files/"},{"categories":["PHP"],"content":"ä½¿ç”¨ scandir å‡½æ•° \u003c?php /** * éå†æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ã€‚ * * @param string $directory * * @return array */ function dir_list(string $directory): array { static $array = []; $dir = scandir($directory); foreach ($dir as $file) { if (is_dir(\"$directory/$file\") \u0026\u0026 $file !== '.' \u0026\u0026 $file !== '..') { dir_list(\"$directory/$file\"); } else { if ($file !== '.' \u0026\u0026 $file !== '..') { $array[] = $file; } } } return $array; } ","date":"2018-09-05","objectID":"/2018/09/05/php-traversing-directory-files/:3:0","tags":["PHP"],"title":"PHP éå†ç›®å½•ä¸‹çš„æ–‡ä»¶","uri":"/2018/09/05/php-traversing-directory-files/"},{"categories":["PHP"],"content":"ä½¿ç”¨ RecursiveIteratorIterator ç±» \u003c?php function dir_list(string $directory): array { static $array = []; $iterator = new \\RecursiveIteratorIterator( new \\RecursiveDirectoryIterator($directory, \\RecursiveDirectoryIterator::SKIP_DOTS), \\RecursiveIteratorIterator::LEAVES_ONLY ); foreach ($iterator as $object) { $array[] = $object-\u003egetFileName(); } return $array; } å‡½æ•°è°ƒç”¨ï¼š \u003c?php print_r(dir_list(dirname($_SERVER['PHP_SELF']))); è¾“å‡ºç»“æœï¼š Array ( [0] =\u003e myshell.sh [1] =\u003e meeting.md [2] =\u003e untitled.html [3] =\u003e server.php [4] =\u003e .DS_Store [5] =\u003e index.php [6] =\u003e desc.md . . . ) ","date":"2018-09-05","objectID":"/2018/09/05/php-traversing-directory-files/:4:0","tags":["PHP"],"title":"PHP éå†ç›®å½•ä¸‹çš„æ–‡ä»¶","uri":"/2018/09/05/php-traversing-directory-files/"},{"categories":["PHP"],"content":"é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å‘é€ HTTP è¯·æ±‚é‡‡ç”¨ PHP å°è£…çš„ cURL æ‰©å±•å‡½æ•°æ¥å®ç°ã€‚ ","date":"2018-06-21","objectID":"/2018/06/21/php-send-http-request/:0:0","tags":["PHP"],"title":"PHP ä¸­å‘é€ HTTP è¯·æ±‚çš„æ–¹å¼","uri":"/2018/06/21/php-send-http-request/"},{"categories":["PHP"],"content":"cURL æ–¹å¼ ","date":"2018-06-21","objectID":"/2018/06/21/php-send-http-request/:1:0","tags":["PHP"],"title":"PHP ä¸­å‘é€ HTTP è¯·æ±‚çš„æ–¹å¼","uri":"/2018/06/21/php-send-http-request/"},{"categories":["PHP"],"content":"æ‰©å±•å‡½æ•°å®ç° \u003c?php // åˆå§‹åŒ–ä¸€ä¸ª cURL èµ„æºå¯¹è±¡ã€‚ $curl = curl_init(); $options = [ // True å°† curl_exec() è·å–çš„ä¿¡æ¯ä»¥å­—ç¬¦ä¸²è¿”å›ï¼Œè€Œä¸æ˜¯ç›´æ¥è¾“å‡ºã€‚ CURLOPT_RETURNTRANSFER =\u003e true, // ç¦ç”¨æ—¶ä¸ä¼šå°†å¤´æ–‡ä»¶çš„ä¿¡æ¯ä½œä¸ºæ•°æ®æµè¾“å‡ºã€‚ CURLOPT_HEADER =\u003e false, // True æ—¶å°†ä¼šæ ¹æ®æœåŠ¡å™¨è¿”å› HTTP å¤´ä¸­çš„ \"Location: \" é‡å®šå‘ã€‚ CURLOPT_FOLLOWLOCATION =\u003e true, // å¦‚æœä¸ºç©ºå­—ç¬¦ä¸² \"\"ï¼Œä¼šå‘é€æ‰€æœ‰æ”¯æŒçš„ç¼–ç ç±»å‹ã€‚ CURLOPT_ENCODING =\u003e '', // åœ¨ HTTP è¯·æ±‚ä¸­åŒ…å«ä¸€ä¸ª \"User-Agent: \" å¤´çš„å­—ç¬¦ä¸²ã€‚ CURLOPT_USERAGENT =\u003e 'spider', // True æ—¶å°†æ ¹æ® Location: é‡å®šå‘æ—¶ï¼Œè‡ªåŠ¨è®¾ç½® Header ä¸­çš„ Referer: ä¿¡æ¯ã€‚ CURLOPT_AUTOREFERER =\u003e true, // åœ¨å°è¯•è¿æ¥æ—¶ç­‰å¾…çš„ç§’æ•°ã€‚è®¾ç½®ä¸º 0ï¼Œåˆ™æ— é™ç­‰å¾…ã€‚ CURLOPT_CONNECTTIMEOUT =\u003e 120, // å…è®¸ cURL å‡½æ•°æ‰§è¡Œçš„æœ€é•¿ç§’æ•°ã€‚ CURLOPT_TIMEOUT =\u003e 120, // æŒ‡å®šæœ€å¤šçš„ HTTP é‡å®šå‘æ¬¡æ•°ï¼Œè¿™ä¸ªé€‰é¡¹æ˜¯å’Œ CURLOPT_FOLLOWLOCATION ä¸€èµ·ä½¿ç”¨çš„ã€‚ CURLOPT_MAXREDIRS =\u003e 10, // å…¨éƒ¨æ•°æ®ä½¿ç”¨ HTTP åè®®ä¸­çš„ \"POST\" æ“ä½œæ¥å‘é€ã€‚ CURLOPT_POSTFIELDS =\u003e 'phone=your-phone\u0026password=your-password', // True æ—¶ä¼šå‘é€ POST è¯·æ±‚ï¼Œç±»å‹ä¸ºï¼šapplication/x-www-form-urlencodedï¼Œæ˜¯ HTML è¡¨å•æäº¤æ—¶æœ€å¸¸è§çš„ä¸€ç§ã€‚ CURLOPT_POST =\u003e true, // å¯ç”¨ cURL éªŒè¯å¯¹ç­‰è¯ä¹¦ã€‚ CURLOPT_SSL_VERIFYPEER =\u003e true, // ä¸æ£€æŸ¥æœåŠ¡å™¨ SSL è¯ä¹¦ä¸­çš„å…¬ç”¨åã€‚ CURLOPT_SSL_VERIFYHOST =\u003e 0, // False ç¦æ­¢ cURL éªŒè¯å¯¹ç­‰è¯ä¹¦ã€‚ CURLOPT_SSL_VERIFYPEER =\u003e false, // True ä¼šè¾“å‡ºæ‰€æœ‰çš„ä¿¡æ¯ï¼Œå†™å…¥åˆ° STDERRï¼Œæˆ–åœ¨ CURLOPT_STDERR ä¸­æŒ‡å®šçš„æ–‡ä»¶ã€‚ CURLOPT_VERBOSE =\u003e true, // è®¾ç½®ä½ éœ€è¦æŠ“å–çš„ URLã€‚ CURLOPT_URL =\u003e 'http://www.example.com/users/login', ]; // è®¾ç½®å¤šä¸ª cURL ä¼ è¾“é€‰é¡¹ã€‚ curl_setopt_array($curl, $options); // è¿è¡Œ cURLï¼Œè¯·æ±‚ç½‘é¡µã€‚ $content = curl_exec($curl); $response = [ 'errno' =\u003e curl_errno($curl), 'errmsg' =\u003e curl_error($curl), 'header' =\u003e curl_getinfo($curl), 'content' =\u003e $content, ]; // å…³é—­ cURL è¯·æ±‚ã€‚ curl_close($curl); print_r($response); // ç»“æœ * Trying 101.201.xxx.xxx... * TCP_NODELAY set * Connected to www.example.com (101.201.xxx.xxx) port 80 (#0) \u003e POST /users/login HTTP/1.1 Host: www.example.com User-Agent: spider Accept: */* Accept-Encoding: deflate, gzip Content-Length: 41 Content-Type: application/x-www-form-urlencoded * upload completely sent off: 41 out of 41 bytes array(26) { [\"url\"]=\u003e string(37) \"http://www.example.com/users/login\" [\"content_type\"]=\u003e string(24) \"text/html; charset=UTF-8\" [\"http_code\"]=\u003e int(200) [\"header_size\"]=\u003e int(463) [\"request_size\"]=\u003e int(231) [\"filetime\"]=\u003e int(-1) [\"ssl_verify_result\"]=\u003e int(0) [\"redirect_count\"]=\u003e int(0) [\"total_time\"]=\u003e float(0.224392) [\"namelookup_time\"]=\u003e float(0.015103) [\"connect_time\"]=\u003e float(0.030847) [\"pretransfer_time\"]=\u003e float(0.03103) [\"size_upload\"]=\u003e float(41) [\"size_download\"]=\u003e float(98) [\"speed_download\"]=\u003e float(436) [\"speed_upload\"]=\u003e float(182) [\"download_content_length\"]=\u003e float(-1) [\"upload_content_length\"]=\u003e float(41) [\"starttransfer_time\"]=\u003e float(0.224266) [\"redirect_time\"]=\u003e float(0) [\"redirect_url\"]=\u003e string(0) \"\" [\"primary_ip\"]=\u003e string(15) \"101.201.xxx.xxx\" [\"certinfo\"]=\u003e array(0) { } [\"primary_port\"]=\u003e int(80) [\"local_ip\"]=\u003e string(14) \"192.168.xxx.xxx\" [\"local_port\"]=\u003e int(52637) } \u003c HTTP/1.1 200 OK \u003c Server: nginx \u003c Date: Fri, 22 Jun 2018 01:43:45 GMT \u003c Content-Type: text/html; charset=UTF-8 \u003c Transfer-Encoding: chunked \u003c Connection: keep-alive \u003c Vary: Accept-Encoding \u003c Set-Cookie: SESSID=pau0p79qdallgaee2kcj963n16; expires=Fri, 22-Jun-2018 02:13:45 GMT; Max-Age=1800; path=/; HttpOnly \u003c Expires: Thu, 19 Nov 1981 08:52:00 GMT \u003c Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0 \u003c Pragma: no-cache \u003c Content-Encoding: gzip \u003c * Connection #0 to host www.example.com left intact Process finished with exit code 0 ","date":"2018-06-21","objectID":"/2018/06/21/php-send-http-request/:1:1","tags":["PHP"],"title":"PHP ä¸­å‘é€ HTTP è¯·æ±‚çš„æ–¹å¼","uri":"/2018/06/21/php-send-http-request/"},{"categories":["PHP"],"content":"æ‰©å±•åŒ…å®ç° Guzzle GitHub Guzzle Documentation è¿™é‡Œæ¨èä½¿ç”¨ Guzzle æ‰©å±•åŒ…ï¼Œè¯šå®çš„è¯´ï¼Œä¹Ÿæ²¡æœ‰ç†ç”±ä¸ä½¿ç”¨å®ƒã€‚Guzzle æ˜¯ä¸€ä¸ª PHP HTTP å®¢æˆ·ç«¯ï¼Œå¯ä»¥è½»æ¾å‘é€ HTTP è¯·æ±‚ï¼Œå¹¶ä¸”å¯ä»¥è½»æ¾é›†æˆ WebæœåŠ¡ã€‚ ç‰¹æ€§ ç”¨äºæ„å»ºæŸ¥è¯¢å­—ç¬¦ä¸²ï¼ŒPOST è¯·æ±‚ï¼Œæµå¼ä¼ è¾“å¤§å‹ä¸Šä¼ ï¼Œæµå¼ä¼ è¾“å¤§å‹ä¸‹è½½ï¼Œä½¿ç”¨ HTTP cookieï¼Œä¸Šä¼  JSON æ•°æ®ç­‰çš„ç®€å•æ¥å£ï¼Œç­‰ç­‰â€¦â€¦ å¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ¥å£å‘é€åŒæ­¥å’Œå¼‚æ­¥è¯·æ±‚ã€‚ ä¸ºè¯·æ±‚ï¼Œå“åº”å’Œæµé€‰æ‹© PSR-7 æ¥å£ã€‚ è¿™ä½¿æ‚¨å¯ä»¥ä¸ Guzzle ä¸€èµ·ä½¿ç”¨å…¶ä»– PSR-7 å…¼å®¹åº“ã€‚ æŠ½è±¡å‡ºåº•å±‚çš„ HTTP ä¼ è¾“ï¼Œå…è®¸æ‚¨ç¼–å†™ç¯å¢ƒå’Œä¼ è¾“ä¸å¯çŸ¥çš„ä»£ç ; å³ä¸ä¾èµ–äº cURLï¼ŒPHP æµï¼Œå¥—æ¥å­—æˆ–éé˜»å¡äº‹ä»¶å¾ªç¯ã€‚ ä¸­é—´ä»¶ç³»ç»Ÿå…è®¸æ‚¨å¢å¼ºå’Œç»„åˆå®¢æˆ·ç«¯è¡Œä¸ºã€‚ å®‰è£… $ composer require guzzlehttp/guzzle è¯·æ±‚ \u003c?php require '../vendor/autoload.php'; try { $client = new \\GuzzleHttp\\Client(); $request = $client-\u003erequest('GET', 'https://api.github.com/repos/guzzle/guzzle'); } catch (\\GuzzleHttp\\Exception\\GuzzleException $e) { echo $e-\u003egetMessage(); } $response = [ 'status_code' =\u003e $request-\u003egetStatusCode(), 'content_type' =\u003e $request-\u003egetHeaderLine('content-type'), 'body' =\u003e $request-\u003egetBody(), ]; print_r($response); // å‘é€ä¸€ä¸ªå¼‚æ­¥è¯·æ±‚ã€‚ $request = new \\GuzzleHttp\\Psr7\\Request('GET', 'https://www.baidu.com'); $promise = $client-\u003esendAsync($request)-\u003ethen(function ($response) { echo PHP_EOL, 'I completed! ', PHP_EOL, $response-\u003egetBody(); }); $promise-\u003ewait(); // ç»“æœ Array ( [status_code] =\u003e 200 [content_type] =\u003e application/json; charset=utf-8 [body] =\u003e GuzzleHttp\\Psr7\\Stream Object ( [stream:GuzzleHttp\\Psr7\\Stream:private] =\u003e Resource id #42 [size:GuzzleHttp\\Psr7\\Stream:private] =\u003e [seekable:GuzzleHttp\\Psr7\\Stream:private] =\u003e 1 [readable:GuzzleHttp\\Psr7\\Stream:private] =\u003e 1 [writable:GuzzleHttp\\Psr7\\Stream:private] =\u003e 1 [uri:GuzzleHttp\\Psr7\\Stream:private] =\u003e php://temp [customMetadata:GuzzleHttp\\Psr7\\Stream:private] =\u003e Array ( ) ) ) I completed! \u003chtml\u003e \u003chead\u003e \u003cscript\u003e location.replace(location.href.replace(\"https://\",\"http://\")); \u003c/script\u003e \u003c/head\u003e \u003cbody\u003e \u003cnoscript\u003e\u003cmeta http-equiv=\"refresh\" content=\"0;url=http://www.baidu.com/\"\u003e\u003c/noscript\u003e \u003c/body\u003e \u003c/html\u003e ","date":"2018-06-21","objectID":"/2018/06/21/php-send-http-request/:1:2","tags":["PHP"],"title":"PHP ä¸­å‘é€ HTTP è¯·æ±‚çš„æ–¹å¼","uri":"/2018/06/21/php-send-http-request/"},{"categories":["PHP"],"content":"Stream æ–¹å¼ Stream çš„æ¦‚è¿°ä¸ä½¿ç”¨è¯¦è§£ ","date":"2018-06-21","objectID":"/2018/06/21/php-send-http-request/:2:0","tags":["PHP"],"title":"PHP ä¸­å‘é€ HTTP è¯·æ±‚çš„æ–¹å¼","uri":"/2018/06/21/php-send-http-request/"},{"categories":["PHP"],"content":"PHP å†…ç½®çš„ Stream åŒ…è£…ç±» è·å–å·²æ³¨å†Œçš„å¥—æ¥å­—ä¼ è¾“åè®®åˆ—è¡¨ \u003c?php print_r(stream_get_transports()); // ç»“æœ Array ( [0] =\u003e tcp [1] =\u003e udp [2] =\u003e unix [3] =\u003e udg [4] =\u003e ssl [5] =\u003e tls [6] =\u003e tlsv1.0 [7] =\u003e tlsv1.1 [8] =\u003e tlsv1.2 ) è·å–å·²æ³¨å†Œçš„æµç±»å‹ \u003c?php print_r(stream_get_wrappers()); // ç»“æœ Array ( [0] =\u003e https [1] =\u003e ftps [2] =\u003e compress.zlib [3] =\u003e compress.bzip2 [4] =\u003e php [5] =\u003e file [6] =\u003e glob [7] =\u003e data [8] =\u003e http [9] =\u003e ftp [10] =\u003e phar [11] =\u003e zip ) è·å–å·²æ³¨å†Œçš„æ•°æ®æµè¿‡æ»¤å™¨åˆ—è¡¨ \u003c?php print_r(stream_get_filters()); // ç»“æœ Array ( [0] =\u003e zlib.* [1] =\u003e bzip2.* [2] =\u003e convert.iconv.* [3] =\u003e string.rot13 [4] =\u003e string.toupper [5] =\u003e string.tolower [6] =\u003e string.strip_tags [7] =\u003e convert.* [8] =\u003e consumed [9] =\u003e dechunk ) ","date":"2018-06-21","objectID":"/2018/06/21/php-send-http-request/:2:1","tags":["PHP"],"title":"PHP ä¸­å‘é€ HTTP è¯·æ±‚çš„æ–¹å¼","uri":"/2018/06/21/php-send-http-request/"},{"categories":["PHP"],"content":"æµä¸Šä¸‹æ–‡ \u003c?php $data = ['phone' =\u003e 'your-phone', 'password' =\u003e 'your-password', 'sign' =\u003e 'your-sign']; $data = http_build_query($data); $options = [ 'http' =\u003e [ 'method' =\u003e 'POST', 'header' =\u003e 'Content-type: application/x-www-form-urlencoded\\r\\nContent-length:' . mb_strlen($data) . \"\\r\\n\", 'content' =\u003e $data, ], ]; $context = stream_context_create($options); $result = file_get_contents('http://www.example.com/users/login', false, $context); $result = json_decode($result, true); print_r($result); // ç»“æœ Array ( [status] =\u003e [msg] =\u003e è´¦å·ä¸å­˜åœ¨æˆ–è¢«ç¦ç”¨ [data] =\u003e Array ( ) ) ","date":"2018-06-21","objectID":"/2018/06/21/php-send-http-request/:2:2","tags":["PHP"],"title":"PHP ä¸­å‘é€ HTTP è¯·æ±‚çš„æ–¹å¼","uri":"/2018/06/21/php-send-http-request/"},{"categories":["PHP"],"content":"æµè¿‡æ»¤å™¨ $ touch test.txt $ vim test.txt HELLO WORLD THIS IS A TEST \u003c?php $handle = fopen('./test.txt', 'rb'); stream_filter_append($handle, 'string.tolower'); while (feof($handle) !== true) { echo fgets($handle); } fclose($handle); // ç»“æœ hello world this is a test ","date":"2018-06-21","objectID":"/2018/06/21/php-send-http-request/:2:3","tags":["PHP"],"title":"PHP ä¸­å‘é€ HTTP è¯·æ±‚çš„æ–¹å¼","uri":"/2018/06/21/php-send-http-request/"},{"categories":["PHP"],"content":"Socket æ–¹å¼ ","date":"2018-06-21","objectID":"/2018/06/21/php-send-http-request/:3:0","tags":["PHP"],"title":"PHP ä¸­å‘é€ HTTP è¯·æ±‚çš„æ–¹å¼","uri":"/2018/06/21/php-send-http-request/"},{"categories":["PHP"],"content":"ç®€å•è¯·æ±‚ \u003c?php $fp = fsockopen('www.baidu.com', 80, $errno, $errstr); if (! $fp) { echo \"$errstr ($errno)\u003cbr /\u003e\\n\"; } else { $out = \"GET / HTTP/1.1\\r\\n\"; $out .= \"Host: www.baidu.com\\r\\n\"; $out .= \"Connection: Close\\r\\n\\r\\n\"; fwrite($fp, $out); while (! feof($fp)) { echo fgets($fp, 128); } fclose($fp); } // ç»“æœ HTTP/1.1 200 OK Accept-Ranges: bytes Cache-Control: no-cache Content-Length: 14615 Content-Type: text/html Date: Fri, 22 Jun 2018 03:07:09 GMT Last-Modified: Mon, 11 Jun 2018 11:19:00 GMT P3p: CP=\" OTI DSP COR IVA OUR IND COM \" Pragma: no-cache Server: BWS/1.1 Set-Cookie: BAIDUID=CB118091B64A7DB3972039E431BB631D:FG=1; expires=Thu, 31-Dec-37 23:55:55 GMT; max-age=2147483647; path=/; domain=.baidu.com Set-Cookie: BIDUPSID=CB118091B64A7DB3972039E431BB631D; expires=Thu, 31-Dec-37 23:55:55 GMT; max-age=2147483647; path=/; domain=.baidu.com Set-Cookie: PSTM=1529636829; expires=Thu, 31-Dec-37 23:55:55 GMT; max-age=2147483647; path=/; domain=.baidu.com Vary: Accept-Encoding X-Ua-Compatible: IE=Edge,chrome=1 Connection: close \u003c!DOCTYPE html\u003e\u003c!--STATUS OK--\u003e \u003chtml\u003e \u003chead\u003e...\u003c/head\u003e \u003cbody\u003e...\u003c/body\u003e \u003c/html\u003e ","date":"2018-06-21","objectID":"/2018/06/21/php-send-http-request/:3:1","tags":["PHP"],"title":"PHP ä¸­å‘é€ HTTP è¯·æ±‚çš„æ–¹å¼","uri":"/2018/06/21/php-send-http-request/"},{"categories":["PHP"],"content":"ç®€å•é€šä¿¡ åˆ›å»º TCP Socket æœåŠ¡å™¨ \u003c?php error_reporting(E_ALL); set_time_limit(0); ob_implicit_flush(); $host = '127.0.0.1'; $port = 9004; // åˆ›å»ºä¸€ä¸ª TCP Socketã€‚ $socket = socket_create( AF_INET, SOCK_STREAM, SOL_TCP ) or die('socket_create() failed: ' . socket_strerror(socket_last_error())); // åœ¨å¥—æ¥å­—èµ„æºä¸Šè®¾ç½®é˜»å¡æ¨¡å¼ã€‚ socket_set_block($socket) or die('socket_set_block() failed: ' . socket_strerror(socket_last_error($socket))); // ç»™å¥—æ¥å­—ç»‘å®šåå­—ã€‚ socket_bind($socket, $host, $port) or die('socket_bind() failed: ' . socket_strerror(socket_last_error($socket))); // ä¾¦å¬å¥—æ¥å­—ä¸Šçš„è¿æ¥ã€‚ socket_listen($socket, 5) or die('socket_listen() failed: ' . socket_strerror(socket_last_error($socket))); echo \"Listening the socket on $host:$port ... \", PHP_EOL; $clientId = 0; while (true) { if (($client = socket_accept($socket)) \u003c 0) { echo 'socket_accept() failed: ' . socket_strerror(socket_last_error($client)); break; } $clientId++; echo 'Client #' . $clientId . ': Connect', PHP_EOL; $welcome = \"\\nWelcome to the PHP Socket Server. \\n\" . \"To quit client type 'quit'. To shut down the server type 'shutdown'.\\n\"; socket_write($client, $welcome, strlen($welcome)); $curBuf = ''; while (true) { if (false === ($buf = socket_read($client, 2048))) { echo 'socket_read() failed: ' . socket_strerror(socket_last_error($client)) . PHP_EOL; break 2; } if ($buf === \"\\r\\n\") { if ($curBuf === \"quit\\r\\n\") { echo 'Client #' . $clientId . ': Disconnect', PHP_EOL; break; } elseif ($curBuf === \"shutdown\\r\\n\") { echo 'Client #' . $clientId . ': Shutdown server', PHP_EOL; socket_close($client); break 2; } else { $buffer = 'Output: ' . ucwords(str_replace(\"\\r\\n\", ' ', $curBuf)) . PHP_EOL; socket_write($client, $buffer, strlen($buffer)); } echo 'Client #' . $clientId . ': ' . $curBuf . PHP_EOL; $curBuf = ''; } else { $curBuf .= $buf; } } socket_close($client); } socket_close($socket); è¿è¡Œï¼š $ php server.php // é‡å¯ä¸€ä¸ªç»ˆç«¯çª—å£ï¼Œå®‰è£… telnet $ brew install telnet // ä½¿ç”¨ telnet è¿›è¡Œæµ‹è¯• $ telnet 127.0.0.1 9004 ","date":"2018-06-21","objectID":"/2018/06/21/php-send-http-request/:3:2","tags":["PHP"],"title":"PHP ä¸­å‘é€ HTTP è¯·æ±‚çš„æ–¹å¼","uri":"/2018/06/21/php-send-http-request/"},{"categories":["PHP"],"content":"åœ¨æœ€è¿‘çš„å­¦ä¹ ä¸­ï¼Œä¸æ–­å¬åˆ°çœ‹åˆ°å‡½æ•°å¼ç¼–ç¨‹ï¼Œæ®è¯´å¸¸è§çš„ç¼–ç¨‹èŒƒå¼æœ‰å‘½ä»¤å¼ç¼–ç¨‹ã€å‡½æ•°å¼ç¼–ç¨‹ã€é€»è¾‘å¼ç¼–ç¨‹ç­‰ï¼Œè€Œå¸¸è§çš„é¢å‘å¯¹è±¡ç¼–ç¨‹å±…ç„¶æ˜¯ä¸€ç§å‘½ä»¤å¼ç¼–ç¨‹ã€‚å¯¹äºå‡½æ•°å¼ç¼–ç¨‹æ¥è¯´ï¼Œå…¶åªå…³å¿ƒã€å®šä¹‰è¾“å…¥æ•°æ®å’Œè¾“å‡ºæ•°æ®ç›¸å…³çš„å…³ç³»ï¼Œä¹Ÿå°±æ˜¯æ˜ å°„ã€‚å‡½æ•°å¼ç¼–ç¨‹å…³å¿ƒæ•°æ®çš„æ˜ å°„ï¼Œå‘½ä»¤å¼ç¼–ç¨‹å…³å¿ƒè§£å†³é—®é¢˜çš„æ­¥éª¤ã€‚ å‡½æ•°å¼ç¼–ç¨‹æ¦‚å¿µ ","date":"2018-06-01","objectID":"/2018/06/01/php-functional-programming/:0:0","tags":["PHP"],"title":"PHP ä¸­çš„å‡½æ•°å¼ç¼–ç¨‹","uri":"/2018/06/01/php-functional-programming/"},{"categories":["PHP"],"content":"å®šä¹‰ å‡½æ•°å¼ç¼–ç¨‹ - Functional Programmingï¼Œä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼Œä¹Ÿå°±æ˜¯å¦‚ä½•ç¼–å†™ç¨‹åºçš„æ–¹æ³•è®ºã€‚å®ƒå±äºã€ç»“æ„åŒ–ç¼–ç¨‹ã€çš„ä¸€ç§ï¼Œä¸»è¦æ€æƒ³æ˜¯æŠŠè¿ç®—è¿‡ç¨‹å°½é‡å†™æˆä¸€ç³»åˆ—åµŒå¥—çš„å‡½æ•°è°ƒç”¨ã€‚ ","date":"2018-06-01","objectID":"/2018/06/01/php-functional-programming/:1:0","tags":["PHP"],"title":"PHP ä¸­çš„å‡½æ•°å¼ç¼–ç¨‹","uri":"/2018/06/01/php-functional-programming/"},{"categories":["PHP"],"content":"ç‰¹æ€§ é—­åŒ…å’Œé«˜é˜¶å‡½æ•°ã€‚ æƒ°æ€§è®¡ç®—ã€‚ é€’å½’ã€‚ å‡½æ•°æ˜¯ã€ç¬¬ä¸€ç­‰å…¬æ°‘ã€ï¼šå‡½æ•°ä¸å…¶ä»–æ•°æ®ç±»å‹ä¸€æ ·ï¼Œå¤„äºå¹³ç­‰åœ°ä½ï¼Œå¯ä»¥èµ‹å€¼ç»™å…¶ä»–å˜é‡ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå‚æ•°ï¼Œä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°ï¼Œæˆ–è€…ä½œä¸ºåˆ«çš„å‡½æ•°çš„è¿”å›å€¼ã€‚ åªç”¨ã€è¡¨è¾¾å¼ã€ï¼Œä¸ç”¨ã€è¯­å¥ã€ æ²¡æœ‰ã€å‰¯ä½œç”¨ã€ï¼šå‡½æ•°å†…éƒ¨ä¸å¤–éƒ¨äº’åŠ¨ï¼ˆæœ€å…¸å‹çš„æƒ…å†µï¼Œå°±æ˜¯ä¿®æ”¹å…¨å±€å˜é‡çš„å€¼ï¼‰ï¼Œäº§ç”Ÿè¿ç®—ä»¥å¤–çš„å…¶ä»–ç»“æœã€‚ ä¸ä¿®æ”¹çŠ¶æ€ï¼šå‡½æ•°ä¸ç»´æŠ¤ä»»ä½•çŠ¶æ€ï¼Œåªè¿”å›æ–°çš„å€¼ï¼Œä¸ä¿®æ”¹ç³»ç»Ÿå˜é‡ã€‚ å¼•ç”¨é€æ˜æ€§ï¼šå¦‚æœæä¾›åŒæ ·çš„è¾“å…¥ï¼Œé‚£ä¹ˆå‡½æ•°æ€»æ˜¯è¿”å›åŒæ ·çš„ç»“æœã€‚ ","date":"2018-06-01","objectID":"/2018/06/01/php-functional-programming/:2:0","tags":["PHP"],"title":"PHP ä¸­çš„å‡½æ•°å¼ç¼–ç¨‹","uri":"/2018/06/01/php-functional-programming/"},{"categories":["PHP"],"content":"ä¼˜ç‚¹ ä»£ç ç®€æ´ï¼Œå¼€å‘å¿«é€Ÿã€‚ æ¥è¿‘è‡ªç„¶è¯­è¨€ï¼Œæ˜“äºç†è§£ã€‚ æ›´æ–¹ä¾¿çš„ä»£ç ç®¡ç†ã€‚ æ˜“äºã€å¹¶å‘ç¼–ç¨‹ã€ã€‚ ä»£ç çš„çƒ­å‡çº§ã€‚ å‡½æ•°å¼ç¼–ç¨‹å®ä¾‹ ","date":"2018-06-01","objectID":"/2018/06/01/php-functional-programming/:3:0","tags":["PHP"],"title":"PHP ä¸­çš„å‡½æ•°å¼ç¼–ç¨‹","uri":"/2018/06/01/php-functional-programming/"},{"categories":["PHP"],"content":"å®ä¾‹ä¸€ \u003c?php function map(callable $fn) { return function ($args) use ($fn) { foreach ($args as $key =\u003e $val) { yield $key =\u003e $fn($val); } }; } $a = function ($value) { return $value * 2; }; $b = function ($value) { return ucwords($value); }; $result1 = iterator_to_array(map($a)([1, 2, 3, 4])); $result2 = iterator_to_array(map($b)(['php', 'java', 'python'])); var_dump($result1, $result2); // ç»“æœ array(4) { [0]=\u003e int(2) [1]=\u003e int(4) [2]=\u003e int(6) [3]=\u003e int(8) } array(3) { [0]=\u003e string(3) \"Php\" [1]=\u003e string(4) \"Java\" [2]=\u003e string(6) \"Python\" } ","date":"2018-06-01","objectID":"/2018/06/01/php-functional-programming/:4:0","tags":["PHP"],"title":"PHP ä¸­çš„å‡½æ•°å¼ç¼–ç¨‹","uri":"/2018/06/01/php-functional-programming/"},{"categories":["PHP"],"content":"å®ä¾‹äºŒ \u003c?php function filter(callable $fn) { return function ($args) use ($fn) { foreach ($args as $key =\u003e $val) { if ($fn($val)) { yield $key =\u003e $val; } } }; } $a = function ($value) { return $value % 2 \u003e 0; }; $b = function ($value) { return ord($value) \u003e 97; }; $result1 = iterator_to_array(filter($a)([1, 2, 3, 4, 5])); $result2 = iterator_to_array(filter($b)(['a', 'b', 'c', 'd', 'e'])); var_dump($result1, $result2); // ç»“æœ array(3) { [0]=\u003e int(1) [2]=\u003e int(3) [4]=\u003e int(5) } array(4) { [1]=\u003e string(1) \"b\" [2]=\u003e string(1) \"c\" [3]=\u003e string(1) \"d\" [4]=\u003e string(1) \"e\" } ","date":"2018-06-01","objectID":"/2018/06/01/php-functional-programming/:5:0","tags":["PHP"],"title":"PHP ä¸­çš„å‡½æ•°å¼ç¼–ç¨‹","uri":"/2018/06/01/php-functional-programming/"},{"categories":["PHP"],"content":"å®ä¾‹ä¸‰ \u003c?php function reduce(callable $fn) { return function ($args) use ($fn) { $accumulator = 0; foreach ($args as $value) { $accumulator = $fn($accumulator, $value); } return $accumulator; }; } $a = function ($a, $b) { return $a + $b; }; $b = function ($a, $b) { return sqrt($a) + sqrt($b); }; $result1 = reduce($a)([1, 2, 3, 4, 5]); $result2 = round(reduce($b)([1, 2, 3, 4, 5]), 2); var_dump($result1, $result2); // ç»“æœ int(15) float(4.19) ","date":"2018-06-01","objectID":"/2018/06/01/php-functional-programming/:6:0","tags":["PHP"],"title":"PHP ä¸­çš„å‡½æ•°å¼ç¼–ç¨‹","uri":"/2018/06/01/php-functional-programming/"},{"categories":["Mac"],"content":"å¦‚æœè¯´ VSCode æ˜¯ç¼–è¾‘å™¨çš„é›†å¤§æˆè€…ã€‚é‚£ä¹ˆ Sublime Text ç»å¯¹æ˜¯ç¼–è¾‘å™¨ä¸­çš„ä¸€è‚¡æ¸…æµï¼Œè™½ç„¶é—­æºï¼Œä½†ä¸æ¯«ä¸å½±å“å®ƒåŠ›å‹ç¾¤é›„ã€‚å®ƒä»¬æ˜¯ç¼–è¾‘å™¨ä¸­çš„åŒå­æ˜Ÿï¼Œè¶³ä»¥è£¹æŒŸä¸€ä¼—ç å†œé©°éª‹ç åœºï¼Œé€é¹¿ä¸‡åƒç æµ·ã€‚ ","date":"2018-05-26","objectID":"/2018/05/26/mac-sublime-text/:0:0","tags":["Mac"],"title":"Mac ä¸‡èƒ½ç¼–è¾‘å™¨ Sublime Text","uri":"/2018/05/26/mac-sublime-text/"},{"categories":["Mac"],"content":"ç®€ä»‹ A sophisticated text editor for code, markup and prose. çŸ­å°ç²¾æ‚çš„ç®€ä»‹ï¼ŒSublime Text æ·±æ·±æ‰“åŠ¨æˆ‘çš„æ˜¯é€Ÿåº¦å’Œæ˜“ç”¨æ€§ï¼Œæ— è®ºæ˜¯æ‰“å¼€é¡¹ç›®è¿˜æ˜¯ä¼—å¤šçš„é¡¹ç›®é—´æ¥å›åˆ‡æ¢ï¼Œè¿˜æ˜¯æ—¥å¸¸ç¼–è¾‘ï¼Œå®ƒä»æ¥éƒ½æ²¡è®©æˆ‘å¤±æœ›è¿‡ï¼Œå®ƒä»¥å…¶é€Ÿåº¦ç¢¾å‹äº†ç»å¤§å¤šæ•° Editor å’Œ IDEï¼Œå…¶ä¸è¶³ 15 MB çš„å®‰è£…åŒ…ä½“ç§¯å’Œæµç•…çš„è¡¨ç°ï¼Œè®©äººéš¾ä»¥ç½®ä¿¡ã€‚ ","date":"2018-05-26","objectID":"/2018/05/26/mac-sublime-text/:1:0","tags":["Mac"],"title":"Mac ä¸‡èƒ½ç¼–è¾‘å™¨ Sublime Text","uri":"/2018/05/26/mac-sublime-text/"},{"categories":["Mac"],"content":"å®‰è£… Sublime Text å®˜ç½‘ Sublime Text ä¸‹è½½ Package Control ","date":"2018-05-26","objectID":"/2018/05/26/mac-sublime-text/:2:0","tags":["Mac"],"title":"Mac ä¸‡èƒ½ç¼–è¾‘å™¨ Sublime Text","uri":"/2018/05/26/mac-sublime-text/"},{"categories":["Mac"],"content":"æ’ä»¶ç®¡ç†å™¨ Package Control- å§‘ä¸”ç§°å®ƒä¸ºæ’ä»¶ç®¡ç†å™¨å§ï¼Œå®ƒæœ¬èº«ä¹Ÿæ˜¯ä¸€æ¬¾æ’ä»¶ã€‚ å¤§éƒ¨åˆ†çš„æ•™ç¨‹éƒ½æåˆ°å®‰è£… Package Control æ—¶ï¼ŒæŒ‰ Ctrl+~ ç²˜è´´ä¸€å †ä»£ç åˆ°æ§åˆ¶å°ï¼Œå›è½¦åå®Œæˆå®‰è£…ã€‚è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨ Sublime Text è‡ªå¸¦çš„å‘½ä»¤æ¥å®Œæˆå®‰è£…ï¼Œæ ¹æœ¬ä¸ç”¨ç²˜è´´ä»£ç ã€‚æŒ‰ Command+Shift+Pï¼Œåœ¨å‘½ä»¤æ¡†ä¸­è¾“å…¥ install package control å›è½¦å³å¯ï¼Œçœ‹å›¾ï¼š å®Œæˆåå¦‚ä¸‹å›¾æç¤ºï¼š å®‰è£…å®Œæˆåï¼Œé‡å¯ Sublime Textï¼Œæˆ‘ä»¬é€šè¿‡ Package Control: Install Package æ¥å®‰è£…å…¶å®ƒæ’ä»¶ã€‚ ","date":"2018-05-26","objectID":"/2018/05/26/mac-sublime-text/:3:0","tags":["Mac"],"title":"Mac ä¸‡èƒ½ç¼–è¾‘å™¨ Sublime Text","uri":"/2018/05/26/mac-sublime-text/"},{"categories":["Mac"],"content":"æ’ä»¶ Emmetï¼šä»æ­¤ç¼–å†™ HTML å’Œ CSS ä»£ç å¥æ­¥å¦‚é£ã€‚ Project Managerï¼šåœ¨ä¸åŒçš„é¡¹ç›®æˆ–å·¥ç¨‹é—´é£é€Ÿçš„åˆ‡æ¢ã€‚ SideBarEnhancementsï¼šå¢å¼ºå³é”®èœå•åŠŸèƒ½ã€‚ EditorConfigï¼šç»Ÿä¸€ä¸åŒç¼–è¾‘å™¨å’Œ IDE ä¹‹é—´çš„ç¼–ç é£æ ¼ã€‚ SublimeLinterï¼šä»£ç æ£€æµ‹æ¡†æ¶ã€‚ SublimeLinter-phpï¼šPHP ä»£ç æ£€æµ‹ã€‚ AdvancedNewFileï¼šé«˜çº§çš„æ–‡ä»¶æ–°å»ºæ–¹å¼ã€‚ SyncedSideBarï¼šè‡ªåŠ¨å®šä½å½“å‰æ–‡ä»¶åœ¨å·¦è¾¹æ–‡ä»¶å¤¹æ ‘ä¸­çš„ä½ç½®ã€‚ Colorsublimeï¼šä»£ç ä¸»é¢˜ç®¡ç†å™¨ï¼Œæ€»æœ‰ä¸€æ¬¾ä¸»é¢˜é€‚åˆä½ ã€‚ Material Themelï¼šç»šä¸½å¤ºç›®çš„ç¼–è¾‘å™¨ä¸»é¢˜ã€‚ GitGutterï¼šæ ‡è®°ä»£ç ä¸­åšçš„æ›´æ–°ã€‚ DocBlockrï¼šè‡ªåŠ¨ç”Ÿæˆ PHPDoc é£æ ¼çš„æ³¨é‡Šã€‚ ConvertToUTF8ï¼šæ”¯æŒå…¶å®ƒæ–‡ä»¶ç¼–ç æ ¼å¼ã€‚ BracketHighlighterï¼šåŒ¹é…æˆå¯¹æ ‡ç­¾ã€‚ TrailingSpacesï¼šæ£€æµ‹ä»£ç ä¸­å°¾éšçš„å¤šä½™ç©ºæ ¼å¹¶å¹²æ‰å®ƒä»¬ã€‚ Gitï¼šGit ç‰ˆæœ¬æ§åˆ¶ã€‚ SublimeCodeIntelï¼šä»£ç æ™ºèƒ½æç¤ºã€‚ AutoFileNameï¼šè‡ªåŠ¨è¡¥å…¨æ–‡ä»¶è·¯å¾„ã€‚ ActualVimï¼šåƒ Vim é‚£æ ·æ“ä½œ Sublime Textã€‚ æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚ ","date":"2018-05-26","objectID":"/2018/05/26/mac-sublime-text/:4:0","tags":["Mac"],"title":"Mac ä¸‡èƒ½ç¼–è¾‘å™¨ Sublime Text","uri":"/2018/05/26/mac-sublime-text/"},{"categories":["PHP"],"content":"å½’å¹¶æ’åºåˆ©ç”¨å½’å¹¶ï¼ˆåˆå¹¶ï¼‰çš„æ€æƒ³å®ç°çš„æ’åºæ–¹æ³•ã€‚å®ƒçš„åŸç†æ˜¯å‡è®¾åˆå§‹åºåˆ—å«æœ‰ n ä¸ªå…ƒç´ ï¼Œåˆ™å¯ä»¥çœ‹æˆæ˜¯ n ä¸ªæœ‰åºçš„å­åºåˆ—ï¼Œæ¯ä¸ªå­åºåˆ—çš„é•¿åº¦ä¸º 1ï¼Œç„¶åä¸¤ä¸¤å½’å¹¶ï¼Œå¾—åˆ° n / 2 ä¸ªé•¿åº¦ä¸º 2 æˆ– 1 çš„æœ‰åºåºåˆ—ï¼›å†ä¸¤ä¸¤å½’å¹¶ï¼Œâ€¦â€¦ï¼Œå¦‚æ­¤é‡å¤ï¼Œç›´è‡³å¾—åˆ°ä¸€ä¸ªé•¿åº¦ä¸º n çš„æœ‰åºåºåˆ—ä¸ºæ­¢ï¼Œè¿™ç§æ’åºæ–¹æ³•å°±æˆä¸ºä¸¤è·¯å½’å¹¶æ’åºã€‚ ","date":"2018-05-04","objectID":"/2018/05/04/php-merge-sort/:0:0","tags":["PHP"],"title":"PHP å½’å¹¶æ’åº","uri":"/2018/05/04/php-merge-sort/"},{"categories":["PHP"],"content":"æ¦‚å¿µ å½’å¹¶æ’åºæ˜¯å»ºç«‹åœ¨å½’å¹¶æ“ä½œä¸Šçš„ä¸€ç§æœ‰æ•ˆçš„æ’åºç®—æ³•ã€‚è¯¥ç®—æ³•æ˜¯é‡‡ç”¨åˆ†æ²»æ³•ï¼ˆDivide and Conquerï¼‰çš„ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨ï¼Œä¸”å„å±‚åˆ†æ²»é€’å½’å¯ä»¥åŒæ—¶è¿›è¡Œã€‚åœ¨å½’å¹¶æ“ä½œä¸­å°†ä¸¤ä¸ªå·²ç»æ’åºçš„åºåˆ—åˆå¹¶æˆä¸€ä¸ªåºåˆ—çš„æ“ä½œã€‚å½’å¹¶æ’åºç®—æ³•ä¾èµ–å½’å¹¶æ“ä½œã€‚ ","date":"2018-05-04","objectID":"/2018/05/04/php-merge-sort/:1:0","tags":["PHP"],"title":"PHP å½’å¹¶æ’åº","uri":"/2018/05/04/php-merge-sort/"},{"categories":["PHP"],"content":"å®ç° ","date":"2018-05-04","objectID":"/2018/05/04/php-merge-sort/:2:0","tags":["PHP"],"title":"PHP å½’å¹¶æ’åº","uri":"/2018/05/04/php-merge-sort/"},{"categories":["PHP"],"content":"æ–¹æ¡ˆä¸€ é€’å½’æ³• - Top-downï¼š ç”³è¯·ç©ºé—´ï¼Œä½¿å…¶å¤§å°ä¸ºä¸¤ä¸ªå·²ç»æ’åºåºåˆ—ä¹‹å’Œï¼Œè¯¥ç©ºé—´ç”¨æ¥å­˜æ”¾åˆå¹¶åçš„åºåˆ— è®¾å®šä¸¤ä¸ªæŒ‡é’ˆï¼Œæœ€åˆä½ç½®åˆ†åˆ«ä¸ºä¸¤ä¸ªå·²ç»æ’åºåºåˆ—çš„èµ·å§‹ä½ç½® æ¯”è¾ƒä¸¤ä¸ªæŒ‡é’ˆæ‰€æŒ‡å‘çš„å…ƒç´ ï¼Œé€‰æ‹©ç›¸å¯¹å°çš„å…ƒç´ æ”¾å…¥åˆ°åˆå¹¶ç©ºé—´ï¼Œå¹¶ç§»åŠ¨æŒ‡é’ˆåˆ°ä¸‹ä¸€ä½ç½® é‡å¤æ­¥éª¤ 3 ç›´åˆ°æŸä¸€æŒ‡é’ˆåˆ°è¾¾åºåˆ—å°¾ å°†å¦ä¸€åºåˆ—å‰©ä¸‹çš„æ‰€æœ‰å…ƒç´ ç›´æ¥å¤åˆ¶åˆ°åˆå¹¶åºåˆ—å°¾ \u003c?php class MergeSort { /** * ä¸»è¿è¡Œæ–¹æ³•ã€‚ * * @return void */ public static function main(): void { $random = self::random(); $array = self::sort($random, 0, count($random) - 1); print_r($array); } /** * å½’å¹¶æ’åºã€‚ * * @param array $array * @param int $left * @param int $right * * @return array */ public static function sort(array \u0026$array, int $left, int $right): array { if ($left \u003c $right) { $middle = (int)floor($left + $right) / 2; self::sort($array, $left, $middle); self::sort($array, $middle + 1, $right); self::merge($array, $left, $middle, $right); } return $array; } /** * åˆå¹¶æ•°ç»„ã€‚ * * @param array $array * @param int $left * @param int $middle * @param int $right * * @return void */ private static function merge(array \u0026$array, int $left, int $middle, int $right): void { $i = $left; $j = $middle + 1; $k = $left; $tmp = []; while ($i \u003c= $middle \u0026\u0026 $j \u003c= $right) { if (self::compare($array[$i], $array[$j]) \u003e 0) { $tmp[$k++] = $array[$j++]; } else { $tmp[$k++] = $array[$i++]; } } while ($i \u003c= $middle) { $tmp[$k++] = $array[$i++]; } while ($j \u003c= $right) { $tmp[$k++] = $array[$j++]; } for ($k = $left; $k \u003c= $right; $k++) { $array[$k] = $tmp[$k]; } } /** * æ¯”è¾ƒå¤§å°ã€‚ * * @param int $x * @param int $y * * @return int */ private static function compare(int $x, int $y): int { return $x \u003c=\u003e $y; } /** * äº’æ¢ä½ç½®ã€‚ * * @param int $x * @param int $y * * @return void */ private static function swap(int \u0026$x, int \u0026$y): void { if ($x !== $y) { $t = $x; $x = $y; $y = $t; } } /** * ç”Ÿæˆéšæœºæ•°ç»„ã€‚ * * @param int $low * @param int $high * @param int $num * * @return array */ private static function random(int $low = 1, int $high = 9999, int $num = 10): array { $num = $num \u003e $high ? $high : $num; $range = range($low, $high); $array = array_rand(array_flip($range), $num); shuffle($array); return $array; } } MergeSort::main(); // ç»“æœ Array ( [0] =\u003e 1167 [1] =\u003e 2750 [2] =\u003e 3331 [3] =\u003e 4187 [4] =\u003e 4526 [5] =\u003e 5246 [6] =\u003e 5325 [7] =\u003e 6238 [8] =\u003e 7737 [9] =\u003e 9883 ) ç”±äº PHP å…·å¤‡æ•°ç»„åˆ†å‰²å’Œæ•°ç»„åˆå¹¶è¿™æ ·çš„å‡½æ•°ï¼Œæ‰€ä»¥ä»¥ä¸Šçš„å®ç°å¯ä»¥æ›´åŠ ç®€å• \u003c?php class MergeSort { /** * ä¸»è¿è¡Œæ–¹æ³•ã€‚ * * @return void */ public static function main(): void { $random = self::random(); $array = self::sort($random); print_r($array); } /** * å½’å¹¶æ’åºã€‚ * * @param array $array * * @return array */ public static function sort(array \u0026$array): array { $count = count($array); if ($count \u003c= 1) { return $array; } // å‘ä¸Šå–æ•´ã€‚ $middle = ($count \u003e\u003e 1) + ($count \u0026 1); $chunk = array_chunk($array, $middle); $left = self::sort($chunk[0]); $right = self::sort($chunk[1]); $arr = []; while (count($left) \u0026\u0026 count($right)) { if (self::compare($left[0], $right[0]) \u003e 0) { $arr[] = array_shift($right); } else { $arr[] = array_shift($left); } } return array_merge($arr, $left, $right); } /** * æ¯”è¾ƒå¤§å°ã€‚ * * @param int $x * @param int $y * * @return int */ private static function compare(int $x, int $y): int { return $x \u003c=\u003e $y; } /** * äº’æ¢ä½ç½®ã€‚ * * @param int $x * @param int $y * * @return void */ private static function swap(int \u0026$x, int \u0026$y): void { if ($x !== $y) { $t = $x; $x = $y; $y = $t; } } /** * ç”Ÿæˆéšæœºæ•°ç»„ã€‚ * * @param int $low * @param int $high * @param int $num * * @return array */ private static function random(int $low = 1, int $high = 9999, int $num = 10): array { $num = $num \u003e $high ? $high : $num; $range = range($low, $high); $array = array_rand(array_flip($range), $num); shuffle($array); return $array; } } MergeSort::main(); // ç»“æœ Array ( [0] =\u003e 1281 [1] =\u003e 1337 [2] =\u003e 3213 [3] =\u003e 4078 [4] =\u003e 5350 [5] =\u003e 5857 [6] =\u003e 5889 [7] =\u003e 8088 [8] =\u003e 8190 [9] =\u003e 8440 ) ","date":"2018-05-04","objectID":"/2018/05/04/php-merge-sort/:2:1","tags":["PHP"],"title":"PHP å½’å¹¶æ’åº","uri":"/2018/05/04/php-merge-sort/"},{"categories":["PHP"],"content":"æ–¹æ¡ˆäºŒ è¿­ä»£æ³• - Bottom-upï¼š å°†åºåˆ—æ¯ç›¸é‚»ä¸¤ä¸ªæ•°å­—è¿›è¡Œå½’å¹¶æ“ä½œï¼Œå½¢æˆ ceil(n/2) ä¸ªåºåˆ—ï¼Œæ’åºåæ¯ä¸ªåºåˆ—åŒ…å«ä¸¤/ä¸€ä¸ªå…ƒç´  è‹¥æ­¤æ—¶åºåˆ—æ•°ä¸æ˜¯ 1 ä¸ªåˆ™å°†ä¸Šè¿°åºåˆ—å†æ¬¡å½’å¹¶ï¼Œå½¢æˆ ceil(n/4) ä¸ªåºåˆ—ï¼Œæ¯ä¸ªåºåˆ—åŒ…å«å››/ä¸‰ä¸ªå…ƒç´  é‡å¤æ­¥éª¤ 2ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ æ’åºå®Œæ¯•ï¼Œå³åºåˆ—æ•°ä¸º 1 // ä»¥åå®Œå–„â€¦â€¦ ","date":"2018-05-04","objectID":"/2018/05/04/php-merge-sort/:2:2","tags":["PHP"],"title":"PHP å½’å¹¶æ’åº","uri":"/2018/05/04/php-merge-sort/"},{"categories":["PHP"],"content":"è¿™ç¯‡ç®—æ˜¯æœ€è¿‘å†™äº†ä¸€å † bug åçš„åçœå§ï¼Œæ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬æ€»æ˜¯è¦å¤„ç†å„ç§è¾¹ç•Œé—®é¢˜ï¼Œå°¤ä¸ºå¸¸è§çš„å°±æ˜¯ç»™å®šä¸€ç»„èŒƒå›´ï¼Œåˆ¤æ–­ç»™å®šçš„èŒƒå›´æ˜¯å¦åœ¨ç›®æ ‡èŒƒå›´ä¹‹å†…æˆ–è€…ä¹‹å¤–æˆ–è€…é‡å ä¹‹ç±»çš„ã€‚è¿™ä¸€ç±»çš„åˆ¤æ–­æƒ…å†µç¨ä¸æ³¨æ„å°±å®¹æ˜“æ»‹ç”Ÿ bugï¼Œæ—¢ç„¶æˆ‘å·²ç»ä¸­æªäº†ï¼Œé‚£ä¹ˆæˆ‘å°±æ¥è¯´è¯´è¿™ä¸ªæƒ…å†µå¦‚ä½•å¤„ç†ã€‚ ","date":"2018-05-02","objectID":"/2018/05/02/php-range-overlap/:0:0","tags":["PHP"],"title":"PHP èŒƒå›´ä¸­çš„é‡å å…³ç³»","uri":"/2018/05/02/php-range-overlap/"},{"categories":["PHP"],"content":"é—®é¢˜ æ£€æŸ¥ç»™å®šçš„ä¸€ç»„èŒƒå›´çš„ä»»æ„ä¸€ä¸ªç«¯ç‚¹æ˜¯å¦åœ¨ç›®æ ‡èŒƒå›´ä¹‹å†… æ ¹æ®è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬é©¬ä¸Šæƒ³åˆ°è¿™ä¸ªè¦ç¡®å®šä¸¤ç§æƒ…å†µï¼š åŒ…å«ç«¯ç‚¹æœ¬èº«ï¼Œå³æŸä¸ªç«¯ç‚¹åªè¦é‡å å°±ç®—ï¼Œæ¯”å¦‚ï¼š[1, 2] åœ¨ [2, 3] ç«¯ç‚¹ä¹‹å†…ï¼Œé‡å éƒ¨åˆ†ä¸º 2 ä¸åŒ…å«ç«¯ç‚¹æœ¬èº«ï¼Œå³ä½¿æœ‰é‡å çš„ç«¯ç‚¹ä¹Ÿä¸èƒ½ç®—ï¼Œæ¯”å¦‚ï¼š[1, 2] ä¸åœ¨ [2, 3] ç«¯ç‚¹ä¹‹å†…ï¼Œè™½ç„¶æœ‰é‡å éƒ¨åˆ†ï¼ŒæŠ±æ­‰çš„æ˜¯æ­¤ 2 éå½¼ 2 è‡³äºåŒ…ä¸åŒ…å«ç«¯ç‚¹æœ¬èº«ï¼Œè§†å…·ä½“çš„æƒ…å†µè€Œå®š ","date":"2018-05-02","objectID":"/2018/05/02/php-range-overlap/:1:0","tags":["PHP"],"title":"PHP èŒƒå›´ä¸­çš„é‡å å…³ç³»","uri":"/2018/05/02/php-range-overlap/"},{"categories":["PHP"],"content":"æ–¹æ¡ˆ \u003c?php class Range { public static function main() { $source = [1, 4]; $target = [4, 6]; // åŒ…å«ç«¯ç‚¹é‡å çš„æƒ…å†µã€‚ $overlapWith = self::overlapWith($source, $target, true); // ä¸åŒ…å«ç«¯ç‚¹é‡å çš„æƒ…å†µã€‚ $nonOverlapWith = self::overlapWith($source, $target); var_dump($overlapWith, $nonOverlapWith); } /** * æ˜¯å¦ç»™å®šçš„èŒƒå›´åŒ…å«åœ¨ç›®æ ‡èŒƒå›´ä¸­ã€‚ * * @param array $source * @param array $target * @param bool $overlap * * @return bool */ public static function overlapWith(array $source, array $target, $overlap = false): bool { sort($source); sort($target); if ($overlap) { return self::includeOverlap($source, $target); } return self::exclusiveOverlap($source, $target); } private static function includeOverlap(array $source, array $target): bool { [$begin, $end] = $source; if ($target[1] \u003c $begin) { return false; } if ($target[0] \u003e $end) { return false; } return true; } private static function exclusiveOverlap(array $source, array $target): bool { [$begin, $end] = $source; if ($target[1] \u003c= $begin) { return false; } if ($target[0] \u003e= $end) { return false; } return true; } } Range::main(); // ç»“æœ bool(true) bool(false) ","date":"2018-05-02","objectID":"/2018/05/02/php-range-overlap/:2:0","tags":["PHP"],"title":"PHP èŒƒå›´ä¸­çš„é‡å å…³ç³»","uri":"/2018/05/02/php-range-overlap/"},{"categories":["Git"],"content":"å·¥ä½œæµ - Workflowï¼šæ˜¯å¯¹å·¥ä½œæµç¨‹åŠå…¶å„æ“ä½œæ­¥éª¤ä¹‹é—´ä¸šåŠ¡è§„åˆ™çš„æŠ½è±¡ã€æ¦‚æ‹¬æè¿°ã€‚å·¥ä½œæµå»ºæ¨¡ï¼Œå³å°†å·¥ä½œæµç¨‹ä¸­çš„å·¥ä½œå¦‚ä½•å‰åç»„ç»‡åœ¨ä¸€èµ·çš„é€»è¾‘å’Œè§„åˆ™ï¼Œåœ¨è®¡ç®—æœºä¸­ä»¥æ°å½“çš„æ¨¡å‹è¡¨è¾¾å¹¶å¯¹å…¶å®æ–½è®¡ç®—ã€‚å·¥ä½œæµè¦è§£å†³çš„ä¸»è¦é—®é¢˜æ˜¯ï¼šä¸ºå®ç°æŸä¸ªä¸šåŠ¡ç›®æ ‡ï¼Œåˆ©ç”¨è®¡ç®—æœºåœ¨å¤šä¸ªå‚ä¸è€…ä¹‹é—´æŒ‰æŸç§é¢„å®šè§„åˆ™è‡ªåŠ¨ä¼ é€’æ–‡æ¡£ã€ä¿¡æ¯æˆ–è€…ä»»åŠ¡ã€‚ Git èµ·æ­¥ Git åŸºæœ¬æ“ä½œ Git æŸ¥çœ‹æ—¥å¿— Git åˆ†æ”¯ Git ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªè´¦å· Git Workflow Git å‘½ä»¤å¤§å…¨ ","date":"2018-05-01","objectID":"/2018/05/01/git-workflow/:0:0","tags":["Git"],"title":"Git Workflow","uri":"/2018/05/01/git-workflow/"},{"categories":["Git"],"content":"Git Workflow ä¸ºäº†è®©å¤§å®¶æœ‰æ•ˆåœ°åˆä½œï¼Œä½¿å¾—é¡¹ç›®äº•äº•æœ‰æ¡åœ°å‘å±•ä¸‹å»è€ŒæŠ½è±¡å‡ºæ¥çš„ä¸€ç³»åˆ— git æ“ä½œæ­¥éª¤åŠæµç¨‹ï¼Œæ²¡é”™ï¼Œæ˜¯é’ˆå¯¹ git çš„æ“ä½œä½¿ç”¨æµç¨‹ã€‚ ","date":"2018-05-01","objectID":"/2018/05/01/git-workflow/:1:0","tags":["Git"],"title":"Git Workflow","uri":"/2018/05/01/git-workflow/"},{"categories":["Git"],"content":"å¸¸è§çš„å·¥ä½œæµ ","date":"2018-05-01","objectID":"/2018/05/01/git-workflow/:2:0","tags":["Git"],"title":"Git Workflow","uri":"/2018/05/01/git-workflow/"},{"categories":["Git"],"content":"é›†ä¸­å¼å·¥ä½œæµ é›†ä¸­å¼å·¥ä½œæµ - Centralized Workflow åˆ›å»ºä¸­å¤®ä»“åº“ å‡å®š git åˆ›å»ºäº†ä¸€ä¸ªè£¸ä»“åº“ï¼š $ ssh git@host $ cd ~ \u0026\u0026 mkdir -pv repository // åˆ›å»ºä¸€ä¸ªè£¸ä»“åº“ï¼ŒæŒ‰ç…§çº¦å®šï¼ŒåŠ ä¸Š .git æ‰©å±•å $ git init --bare /home/git/repository/repo.git å¼€å‘äººå‘˜ä»‹å…¥ ç¬¬ä¸€é˜¶æ®µï¼šæœ¬åœ°å¼€å‘ æŠ€å·§ è¿™ä¸€é˜¶æ®µï¼Œqwert å¯ä»¥æŒ‰è‡ªå·±éœ€æ±‚åå¤æ“ä½œå¤šæ¬¡ï¼Œè€Œä¸ç”¨æ‹…å¿ƒä¸­å¤®ä»“åº“ä¸Šæœ‰äº†ä»€ä¹ˆæ“ä½œï¼ŒåŒæ ·çš„æƒ…å†µä¹Ÿé€‚ç”¨äº poiuyã€‚ å¼€å‘è€… qwertï¼š // æ‹‰å–ä»£ç  $ cd ~ \u0026\u0026 git clone ssh://git@host/home/git/repository/repo.git // æŸ¥çœ‹çŠ¶æ€ $ git status // åˆ›å»º README.md æ–‡ä»¶ $ touch README.md // å°† README.md æ–‡ä»¶åŠ å…¥æš‚å­˜åŒº $ git add README.md // è®¾ç½®ç”¨æˆ·åå’Œé‚®ç®± $ git config user.email \"qwert@example.com\" $ git config user.name \"qwert\" // æäº¤ä»£ç åˆ°æœ¬åœ°ä»“åº“ $ git commit -m \"Add README.md\" å¼€å‘è€… poiuy // æ‹‰å–ä»£ç  $ cd ~ \u0026\u0026 git clone ssh://git@host/home/git/repository/repo.git // æŸ¥çœ‹çŠ¶æ€ $ git status // åˆ›å»º README.md æ–‡ä»¶ $ touch README.md // å°† README.md æ–‡ä»¶åŠ å…¥æš‚å­˜åŒº $ git add README.md $ vim README.md 1. this is the first commit. // è®¾ç½®ç”¨æˆ·åå’Œé‚®ç®± $ git config user.email \"poiuy@example.com\" $ git config user.name \"poiuy\" // æäº¤ä»£ç åˆ°æœ¬åœ°ä»“åº“ $ git commit -m \"Add README.md\" ç›´åˆ°è¿™æ—¶ä¸¤ä¸ªäººéƒ½ç›¸å®‰æ— äº‹ï¼Œåœ¨å„è‡ªçš„æœ¬åœ°ä»“åº“ç©çš„å°½å¿ƒã€‚ä½†äº‹æƒ…ä¸ä¼šå°±è¿™æ ·äº†ç»“äº†ï¼Œå¦åˆ™ï¼Œæˆ‘å°±æ²¡æ³•å¾€ä¸‹å†™äº†ã€‚ ç¬¬äºŒé˜¶æ®µï¼šè¿œç¨‹åŒæ­¥ è¿™æ—¶èµ·ï¼Œæƒ…å†µå°±å˜çš„æœ‰äº›å¤æ‚äº†ï¼Œè¿˜å¥½å±€é¢å¯æ§ã€‚ // qwert æäº¤ä»£ç åˆ°è¿œç¨‹ä»“åº“ $ git push origin master // æ¥ä¸‹æ¥ï¼Œpoiuy ä¹Ÿå°†ä»£ç æäº¤åˆ°è¿œç¨‹ä»“åº“ï¼Œè¿™æ—¶çœŸæ­£çš„æ‚²å‰§äº§ç”Ÿäº† $ git push origin master To ssh://git@host/home/git/repository/repo.git ! [rejected] master -\u003e master (fetch first) error: failed to push some refs to 'ssh://git@host/home/git/repository/repo.git' hint: Updates were rejected because the remote contains work that you do hint: not have locally. This is usually caused by another repository pushing hint: to the same ref. You may want to first merge the remote changes (e.g., hint: 'git pull') before pushing again. hint: See the 'Note about fast-forwards' in 'git push --help' for details. // ä¹Ÿå°±æ˜¯è¯´ï¼Œpoiuy å¾—å…ˆæ‹‰ä¸€ä¸‹è¿œç¨‹ä»“åº“çš„ä»£ç åˆ°æœ¬åœ°ï¼Œå†è¿›è¡Œæäº¤ï¼Œå› ä¸ºä½ åœ¨äººå®¶ push åé¢è¿›è¡Œ push çš„ï¼Œè¿™ä¸æ€ªä½  $ git pull --rebase origin master warning: no common commits remote: Counting objects: 3, done. remote: Total 3 (delta 0), reused 0 (delta 0) Unpacking objects: 100% (3/3), done. From ssh://host/home/git/repository/repo * branch master -\u003e FETCH_HEAD First, rewinding head to replay your work on top of it... Applying: Add README.md Using index info to reconstruct a base tree... Falling back to patching base and 3-way merge... Auto-merging README.md è­¦å‘Š --rebaseï¼šè¿™ä¸ªé€‰é¡¹å°±æ˜¯å‘Šè¯‰ Git æŠŠ poiuy çš„æäº¤ç§»åˆ°åŒæ­¥äº†ä¸­å¤®ä»“åº“ä¿®æ”¹åçš„ master åˆ†æ”¯çš„é¡¶éƒ¨ã€‚å¦‚æœä½ å¿˜åŠ äº†è¿™ä¸ªé€‰é¡¹ï¼Œpull æ“ä½œä»ç„¶å¯ä»¥å®Œæˆï¼Œä½†æ¯æ¬¡ pull æ“ä½œè¦åŒæ­¥ä¸­å¤®ä»“åº“ä¸­åˆ«äººä¿®æ”¹æ—¶ï¼Œæäº¤å†å²ä¼šä»¥ä¸€ä¸ªå¤šä½™çš„ã€åˆå¹¶æäº¤ã€ç»“å°¾ã€‚å¯¹äºé›†ä¸­å¼å·¥ä½œæµï¼Œæœ€å¥½æ˜¯ä½¿ç”¨ rebase è€Œä¸æ˜¯ç”Ÿæˆä¸€ä¸ªåˆå¹¶æäº¤ã€‚ // qwert ç»­ç»­ç¼–è¾‘æ–‡ä»¶ README.md å¹¶æäº¤æ¨é€åˆ°è¿œç¨‹ $ vim README.md 1. this is the second commit. # åªå°†å•è¯ first æ”¹ä¸º second $ git add README.md $ git commit -m \"Update README.md\" $ git push origin master // poiuy ä½¿ç”¨ git pull åŒæ­¥è¿œç¨‹ä»£ç åˆ°æœ¬åœ°ï¼Œè¿™å°†äº§ç”Ÿä¸€ä¸ªå†²çª $ git pull origin master remote: Counting objects: 5, done. remote: Total 3 (delta 0), reused 0 (delta 0) Unpacking objects: 100% (3/3), done. From ssh://host/home/git/repository/repo * [new branch] master -\u003e origin/master Auto-merging README.md CONFLICT (content): Merge conflict in README.md Automatic merge failed; fix conflicts and then commit the result. // poiuy ä½¿ç”¨ git pull --rebase åŒæ­¥è¿œç¨‹ä»£ç åˆ°æœ¬åœ°ï¼Œæ‰˜ --rebase çš„ç¦æ²¡æœ‰äº§ç”Ÿå†²çª $ git pull --rebase origin master From ssh://host/home/git/repository/repo * branch master -\u003e FETCH_HEAD First, rewinding head to replay your work on top of it... Fast-forwarded master to 3a24fcf204956f97a7499393fbca68e3a77df040. // poiuy ç»§ç»­ç¼–è¾‘ README.md $ vim README.md 1. this is the second commit. 2. poiuy # æ–°å¢ä¸€è¡Œ $ git add . $ git commit -m \"Update README.md\" $ git push origin master // qwert ç»§ç»­ç¼–è¾‘ README.md $ vim README.md 1. this is the second commit. 2. qwert # æ–°å¢ä¸€è¡Œ $ git add . $ git commit -m \"Update README.md\" $ git push origin master # è¿™æ—¶è¿œç¨‹ä»“åº“æ‹’ç» qwert çš„æäº¤ï¼Œå› ä¸º poiuy å·²ç»å°†æœ€æ–°æ”¹åŠ¨æäº¤åˆ°è¿œç¨‹äº†ï¼Œqwert å¿…é¡»å°†è¿œç¨‹åŒæ­¥åˆ°æœ¬åœ° To ssh://git@host/home/git/repository/repo.git ! [rejected] master -\u003e master (fetch first) error: failed to push some refs to 'ssh://git@host/home/git/repository/repo.git' hint: Updates were rejected because the remote contains work that you do hint: not have locally. This is usually caused by another repository pushing hint: to the same ref. You may want to first merge the remote changes (e.g., hint: 'git pull') before ","date":"2018-05-01","objectID":"/2018/05/01/git-workflow/:2:1","tags":["Git"],"title":"Git Workflow","uri":"/2018/05/01/git-workflow/"},{"categories":["Git"],"content":"Gitflow å·¥ä½œæµ Gitflow å·¥ä½œæµ - Gitflow Workflow æ‹‰å–è¿œç¨‹ä»“åº“ Gitflow å·¥ä½œæµä»ç„¶ç”¨ä¸­å¤®ä»“åº“ä½œä¸ºæ‰€æœ‰å¼€å‘è€…çš„äº¤äº’ä¸­å¿ƒã€‚è¿™é‡Œæˆ‘æ²¿ç”¨é›†ä¸­å¼å·¥ä½œæµä¸­åˆ›å»ºçš„ä»“åº“ã€‚ // qwert å·¥ä½œå‡†å¤‡ $ ssh qwert@host \u0026\u0026 cd ~ \u0026\u0026 git clone ssh://git@host/home/git/repository/repo.git $ git config user.name \"qwert\" $ git config user.email \"qwert@example.com\" // poiuy å·¥ä½œå‡†å¤‡ $ ssh poiuy@host \u0026\u0026 cd ~ \u0026\u0026 git clone ssh://git@host/home/git/repository/repo.git $ git config user.name \"poiuy\" $ git config user.email \"poiuy@example.com\" Gitflow å·¥å…·å®‰è£… AVH Edition å®‰è£…è¯´æ˜ git-flow å¤‡å¿˜æ¸…å• Gitflow ä¸¤ä¸ªé•¿æœŸåˆ†æ”¯ï¼š ä¸»åˆ†æ”¯ master å¼€å‘åˆ†æ”¯ develop Gitflow ä¸‰ä¸ªçŸ­æœŸåˆ†æ”¯ï¼š åŠŸèƒ½åˆ†æ”¯ feature branch è¡¥ä¸åˆ†æ”¯ hotfix branch é¢„å‘åˆ†æ”¯ release branch å…³äº git-flow è¿™ç¯‡ Learn Version Control with Git è¯´çš„éå¸¸åˆ°ä½ã€‚ // Linux ä¸‹å®‰è£… $ curl --insecure --silent --location https://raw.githubusercontent.com/petervanderdoes/gitflow-avh/develop/contrib/gitflow-installer.sh --output ./gitflow-installer.sh $ chmod +x ./gitflow-installer.sh $ sudo ./gitflow-installer.sh install stable Gitflow åˆå§‹åŒ– // qwert ç”¨æˆ·åˆå§‹åŒ– git-flow $ git flow init Which branch should be used for bringing forth production releases? - master Branch name for production releases: [master] Branch name for \"next release\" development: [develop] How to name your supporting branch prefixes? Feature branches? [feature/] Bugfix branches? [bugfix/] Release branches? [release/] Hotfix branches? [hotfix/] Support branches? [support/] Version tag prefix? [] Hooks and filters directory? [/home/qwert/repo/.git/hooks] $ git push -u origin develop # å°† develop åˆ†æ”¯æäº¤åˆ°è¿œç¨‹ä»“åº“ // poiuy ç”¨æˆ·åˆå§‹åŒ– git-flow $ git flow init Which branch should be used for bringing forth production releases? - master Branch name for production releases: [master] Branch name for \"next release\" development: [develop] How to name your supporting branch prefixes? Feature branches? [feature/] Bugfix branches? [bugfix/] Release branches? [release/] Hotfix branches? [hotfix/] Support branches? [support/] Version tag prefix? [] Hooks and filters directory? [/home/poiuy/repo/.git/hooks] å¼€å‘é˜¶æ®µ å¼€å‘è€… qwertï¼š // qwert å¼€å¯ä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ï¼Œè¿›è¡Œé¡¹ç›®æŸä¸ªåŠŸèƒ½å¼€å‘ $ git flow feature start feature-qwert Switched to a new branch 'feature/feature-qwert' Summary of actions: - A new branch 'feature/feature-qwert' was created, based on 'develop' - You are now on branch 'feature/feature-qwert' Now, start committing on your feature. When done, use: git flow feature finish feature-qwert // qwert æ“ä½œ $ vim README.md 1. this is the second commit. 2. poiuy 3. qwert 4. qwert feature start. $ git add README.md $ git commit -m \"Update README.md\" $ git flow feature finish feature-qwert # æ­¤æ—¶ qwert å°†å®Œæˆå¼€å‘ç»“æŸä»»åŠ¡ï¼Œfeature-qwert åˆ†æ”¯çš„ä½¿å‘½å°±æ­¤å®Œç»“ Switched to branch 'develop' Updating d62035e..ced573c Fast-forward README.md | 1 + 1 file changed, 1 insertion(+) Deleted branch feature/feature-qwert (was ced573c). Summary of actions: - The feature branch 'feature/feature-qwert' was merged into 'develop' - Feature branch 'feature/feature-qwert' has been locally deleted - You are now on branch 'develop' $ git push origin develop # å°† develop åˆ†æ”¯æäº¤åˆ°è¿œç¨‹ä»“åº“ å¼€å‘è€… poiuyï¼š // poiuy å¼€å¯ä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ï¼Œè¿›è¡Œé¡¹ç›®å¦ä¸€ä¸ªåŠŸèƒ½å¼€å‘ $ git flow feature start feature-poiuy Switched to a new branch 'feature/feature-poiuy' Summary of actions: - A new branch 'feature/feature-poiuy' was created, based on 'develop' - You are now on branch 'feature/feature-poiuy' Now, start committing on your feature. When done, use: git flow feature finish feature-poiuy // poiuy æ“ä½œ $ vim README.md 1. this is the second commit. 2. poiuy 3. qwert 4. poiuy feature start. $ git README.md $ git commit -m \"Update README.md\" $ git flow feature finish feature-poiuy # æ­¤æ—¶ poiuy å°†å®Œæˆå¼€å‘ç»“æŸä»»åŠ¡ï¼Œfeature-poiuy åˆ†æ”¯çš„ä½¿å‘½å°±æ­¤å®Œç»“ // poiuy è·Ÿè¸ªè¿œç¨‹åˆ†æ”¯ $ git branch --set-upstream-to=origin/develop develop Branch develop set up to track remote branch develop from origin. $ git push origin develop # poiuy å°†å¼€å‘å¥½çš„åŠŸèƒ½æ¨é€åˆ°è¿œç¨‹ï¼Œä½†æŠ±æ­‰çš„æ—¶ï¼Œæ­¤æ—¶è¿œç¨‹ develop å·²ç»å‘å‰æ»šåŠ¨ï¼Œå› ä¸ºä¸åªæ˜¯ä½ ä¸€ä¸ªäººåœ¨å¼€å‘ To ssh://git@host/home/git/repository/repo.git ! [rejected] develop -\u003e develop (non-fast-forward) error: failed to push some refs to 'ssh://git@host/home/git/repository/repo.git' hint: Updates were rejected because the ti","date":"2018-05-01","objectID":"/2018/05/01/git-workflow/:2:2","tags":["Git"],"title":"Git Workflow","uri":"/2018/05/01/git-workflow/"},{"categories":["Git"],"content":"Forking å·¥ä½œæµ Forking Workflow ä¸ºäº†æ¼”ç¤º Forking Workflow çš„å·¥ä½œæµç¨‹ï¼Œæˆ‘å‡†å¤‡äº†ä¸‰ä¸ª github è´¦å·ï¼Œå‡è®¾ä¸ºç»´æŠ¤è€… gitã€å¼€å‘è€… qwert å’Œ poiuyã€‚ åˆ›å»ºè¿œç¨‹ä»“åº“ ç»´æŠ¤è€… git åˆ›å»ºä¸€ä¸ªå…¬å¼€çš„è¿œç¨‹ä»“åº“ï¼š å¼€å‘è€… qwert å» Fork ç»´æŠ¤è€… git åˆ›å»ºçš„é¡¹ç›®ï¼Œå½“ç„¶ï¼Œå¼€å‘è€… poiuy ä¹Ÿå’Œ qwert ä¸€æ ·å» Fork ä»“åº“ï¼š å®Œæˆä¹‹åï¼Œqwert å’Œ poiuy ç›¸å½“äºæŠŠè¿œç¨‹ git åˆ›å»ºçš„é¡¹ç›®å…‹éš†åˆ°å„è‡ªçš„è¿œç¨‹ä»“åº“ åŠŸèƒ½å¼€å‘ // qwert æ‹‰å–è¿œç¨‹ä»“åº“ä»£ç åˆ°æœ¬åœ° $ git clone https://github.com/qwert/repo.git $ git config user.name \"qwert\" $ git config user.email \"qwert@example.com\" $ vim README.md # repo This is a forking workflow\\'s demo. ## Develop Feature 1. this is written by Quert. $ git add README.md $ git commit -m \"Update README.md\" $ git push -u origin master // poiuy æ‹‰å–è¿œç¨‹ä»“åº“ä»£ç åˆ°æœ¬åœ° $ git clone https://github.com/poiuy/repo.git $ git config user.name \"poiuy\" $ git config user.email \"poiuy@example.com\" $ vim README.md # repo This is a forking workflow\\'s demo. ## Develop Feature 1. this is written by Poiuy. $ git add README.md $ git commit -m \"Update README.md\" $ git push -u origin master å‘èµ· Pull Request å¯ä»¥çœ‹åˆ°å¼€å‘è€… qwert æ²¡æœ‰æƒé™åˆå¹¶ä»£ç ï¼Œæ­¤æ—¶åªæœ‰ç»´æŠ¤è€… git æ‰èƒ½åˆå¹¶ä»£ç ï¼Œç»´æŠ¤è€… git å»åˆå¹¶ä»£ç ï¼š å¼€å‘è€… poiuy ä¹Ÿé‡‡å–å’Œ qwert ä¸€æ ·çš„æµç¨‹ï¼Œä½†æ˜¯å½“ä»–ç”³è¯·åˆå¹¶æ—¶ï¼Œå‡ºç°äº†å†²çªï¼Œè¿™æ˜¯é¢„ç§‘ä¸­çš„äº‹ï¼Œå› ä¸ºä¸¤äººåŒæ—¶å¯¹ä¸€ä¸ªæ–‡ä»¶ç›¸åŒçš„åŒºåŸŸè¿›è¡Œäº†ç¼–è¾‘ï¼š poiuy å»è§£å†³å†²çªï¼š å¯ä»¥çœ‹åˆ°å¼€å‘è€… poiuy ä¹Ÿæ²¡æœ‰æƒé™åˆå¹¶ä»£ç ï¼Œæ­¤æ—¶ä¹Ÿåªæœ‰ç»´æŠ¤è€… git æ‰èƒ½åˆå¹¶ä»£ç ï¼š è‡³æ­¤ï¼Œqwert å’Œ poiuy å¼€å‘çš„æ–°åŠŸèƒ½éƒ½åˆå¹¶åˆ°è¿œç¨‹ç»´æŠ¤è€…çš„ master åˆ†æ”¯ï¼Œè¿™ä¸€é˜¶æ®µçš„å¼€å‘å‘Šä¸€æ®µè½ã€‚ Forking å·¥ä½œæµçš„ä½¿ç”¨åœºæ™¯ï¼š å¸¸ç”¨äºå¼€æºè½¯ä»¶ å¼€å‘è€…æœ‰éœ€è¦è¡ç”Ÿå‡ºè‡ªå·±çš„è¡ç”Ÿç‰ˆçš„ å¼€å‘è€…ä¸å›ºå®šï¼Œå¯èƒ½æ˜¯ä»»æ„ä¸€ä¸ªè¿œç¨‹å·¥ä½œè€… ","date":"2018-05-01","objectID":"/2018/05/01/git-workflow/:2:3","tags":["Git"],"title":"Git Workflow","uri":"/2018/05/01/git-workflow/"},{"categories":["Git"],"content":"Feature branching å·¥ä½œæµ Feature Branching Workflow è¿™ä¸ªæµç¨‹å¤§æ¦‚ç®—æ˜¯ Gitflow çš„ç®€åŒ–ç‰ˆï¼Œä¸å†éœ€è¦å®‰è£…é¢å¤– Git æ’ä»¶ï¼Œè¿™ä¸ªæµç¨‹é…åˆä¸€äº›ä»£ç æ‰˜ç®¡å¹³å°å¯ä»¥ç©çš„é£ç”Ÿæ°´èµ·ã€‚ ç‰¹æ€§åˆ†æ”¯ä¸‹æ‹‰å–è¿œç¨‹ä»“åº“ åŠŸèƒ½åˆ†æ”¯å·¥ä½œæµä¸­æˆ‘ä»¬ä»ç„¶ä½¿ç”¨ä¹‹å‰åˆ›å»ºçš„ä¸­å¤®ä»“åº“ï¼Œå¹¶ä¸” master åˆ†æ”¯è¿˜æ˜¯ä»£è¡¨äº†æ­£å¼é¡¹ç›®çš„å†å²ã€‚è¿™ç§å·¥ä½œæµä¸æ˜¯ç›´æ¥æäº¤æœ¬åœ°å†å²åˆ°å„è‡ªçš„æœ¬åœ° master åˆ†æ”¯ï¼Œå¼€å‘è€…æ¯æ¬¡åœ¨å¼€å§‹æ–°åŠŸèƒ½å‰å…ˆåŸºäº master åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ï¼Œç»™åˆ†æ”¯èµ·ä¸€ä¸ªæè¿°æ€§çš„åç§°ï¼Œè¿™æ ·åˆ†æ”¯ç”¨é€”å°±æ¯”è¾ƒæ˜æ˜¾ã€‚ å‡†å¤‡å·¥ä½œè¿˜æ˜¯è€å¥—è·¯ // qwert å·¥ä½œå‡†å¤‡ $ ssh qwert@host \u0026\u0026 cd ~ \u0026\u0026 git clone ssh://git@host/home/git/repository/repo.git $ git config user.name \"qwert\" $ git config user.email \"qwert@example.com\" // poiuy å·¥ä½œå‡†å¤‡ $ ssh poiuy@host \u0026\u0026 cd ~ \u0026\u0026 git clone ssh://git@host/home/git/repository/repo.git $ git config user.name \"poiuy\" $ git config user.email \"poiuy@example.com\" åŠŸæ€§åˆ†æ”¯ä¸‹å¼€å‘é˜¶æ®µ å¼€å‘è€… qwertï¼š // åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ $ git checkout -b dev-user-menu $ vim README.md 1. this is the second commit. 2. poiuy 3. qwert 4. qwert feature start. 5. poiuy feature start. 6. qwert another feature start. 7. poiuy tract release v1.0 8. qwert hotfix start. 9. qwert develop user menu. $ git add README.md $ git commit -m \"Develop user menu.\" $ git push -u origin master å¼€å‘è€… poiuyï¼š // åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ $ git checkout -b dev-user-auth $ vim README.md 1. this is the second commit. 2. poiuy 3. qwert 4. qwert feature start. 5. poiuy feature start. 6. qwert another feature start. 7. poiuy tract release v1.0 8. qwert hotfix start. 9. poiuy develop user auth. $ git add README.md $ git commit -m \"Develop user auth\" $ git push -u origin dev-user-auth ä¸€æ®µæ—¶é—´ä»¥åï¼Œqwert å’Œ poiuy éƒ½å£°ç§°æŠŠå„ä¸ªè´Ÿè´£çš„åŠŸèƒ½å¼€å‘å®Œæˆï¼Œå¹¶æäº¤åˆ°è¿œç¨‹ä»“åº“äº† // å‘å¸ƒå¼€å‘è€… qwert çš„åŠŸèƒ½åˆ°æµ‹è¯•ç¯å¢ƒæµ‹è¯•ï¼Œæµ‹è¯•é€šè¿‡ååˆå¹¶åˆ° master åˆ†æ”¯ $ git checkout master $ git pull # æ‹‰å–å…¶å®ƒå¼€å‘è€…çš„æ›´æ–° remote: Counting objects: 5, done. remote: Compressing objects: 100% (2/2), done. remote: Total 3 (delta 1), reused 0 (delta 0) Unpacking objects: 100% (3/3), done. From ssh://host/home/git/repository/repo * [new branch] dev-user-auth -\u003e origin/dev-user-auth Already up-to-date. $ git checkout dev-user-menu $ git rebase master # ç”¨ rebase åˆå¹¶ä¸»å¹²çš„ä¿®æ”¹ï¼Œå¦‚æœæœ‰å†²çªåœ¨æ­¤æ—¶è§£å†³ $ git checkout master // å°† qwert æ–°å¼€å‘çš„åŠŸèƒ½åˆå¹¶åˆ° master åˆ†æ”¯ $ git merge dev-user-menu Updating 40e19f1..4f92cff Fast-forward README.md | 1 + 1 file changed, 1 insertion(+) $ git push origin master # å°†åˆå¹¶åçš„æäº¤åˆ°è¿œç¨‹ master åˆ†æ”¯ // å¼€å‘è€… poiuy çš„ä¹Ÿé€šè¿‡æµ‹è¯•ï¼Œéœ€è¦å°†ä»£ç åˆå¹¶åˆ° master åˆ†æ”¯ $ git checkout master Switched to branch 'master' Your branch is behind 'origin/master' by 1 commit, and can be fast-forwarded. (use \"git pull\" to update your local branch) $ git pull From ssh://host/home/git/repository/repo 40e19f1..4f92cff master -\u003e origin/master Updating 40e19f1..4f92cff Fast-forward README.md | 1 + 1 file changed, 1 insertion(+) // åˆ‡æ¢åˆ°åŠŸèƒ½åˆ†æ”¯ï¼Œç”¨ rebase åˆå¹¶ä¸»å¹²çš„ä¿®æ”¹ï¼Œä¹‹å‰ç”±äº qwert å’Œ poiuy ç¼–è¾‘åŒä¸€ä¸ªåŒºåŸŸï¼Œæ— ç–‘ä¼šäº§ç”Ÿå†²çª $ git checkout dev-user-auth $ git rebase master # ç”¨ rebase åˆå¹¶ä¸»å¹²çš„ä¿®æ”¹ï¼Œå¦‚æœæœ‰å†²çªåœ¨æ­¤æ—¶è§£å†³ First, rewinding head to replay your work on top of it... Applying: Develop user auth Using index info to reconstruct a base tree... M README.md Falling back to patching base and 3-way merge... Auto-merging README.md CONFLICT (content): Merge conflict in README.md Failed to merge in the changes. Patch failed at 0001 Develop user auth The copy of the patch that failed is found in: /home/poiuy/repo/.git/rebase-apply/patch When you have resolved this problem, run \"git rebase --continue\". If you prefer to skip this patch, run \"git rebase --skip\" instead. To check out the original branch and stop rebasing, run \"git rebase --abort\". $ git rebase --continue # åŠ¨ç”¨ rebase --continue å‘½ä»¤é€ä¸ªä¿®å¤å†²çªæ–‡ä»¶ï¼Œç›´åˆ° No rebase in progress? ä¸ºæ­¢ $ git add README.md $ git commit -m \"Conflict resolution\" $ git push origin dev-user-auth Counting objects: 10, done. Compressing objects: 100% (4/4), done. Writing objects: 100% (6/6), 679 bytes | 0 bytes/s, done. Total 6 (delta 1), reused 0 (delta 0) To ssh://git@host/home/git/repository/repo.git ccbab61..f0aea38 dev-user-auth -\u003e dev-user-auth // å¼€å‘è€… poiuy åˆ‡æ¢åˆ° master åˆ†æ”¯ï¼Œå°†å†²çªåçš„ä¿®å¤åˆå¹¶å› master $ git checkou master $ git merge dev-user-auth Updating 4f92cff..f0aea38 Fast-forward README.md | 5 +++++ 1 file changed, 5 insertions(+) $ git push origin master // æ­¤æ—¶ qwert å†åˆ‡æ¢åˆ° master è¿›è¡Œæ‹‰å–ï¼Œè‡³æ­¤ä¸¤ä¸ªå¼€å‘è€…çš„å„ä¸ªåŠŸèƒ½éƒ½åˆå¹¶åˆ° master åˆ†æ”¯äº†ï¼Œå¯ä»¥å‘å¸ƒ release äº† $ git checkou master $ git pull remote: Counting objects:","date":"2018-05-01","objectID":"/2018/05/01/git-workflow/:2:4","tags":["Git"],"title":"Git Workflow","uri":"/2018/05/01/git-workflow/"},{"categories":["PHP"],"content":"å˜é‡æœ‰å€¼ä¼ é€’å’Œå¼•ç”¨ä¼ é€’ï¼Œå…¶å®ï¼Œå¯¹è±¡ä¹Ÿå¦‚æ­¤ï¼Œæ‰€ä»¥ï¼Œå¯¹è±¡æœ‰æµ…å…‹éš†å’Œæ·±å…‹éš†è¿™ä¹ˆä¸€è¯´ã€‚æµ…å…‹éš†ä¹Ÿå«æµ…å¤åˆ¶æˆ–æµ…æ‹·è´ï¼Œæ·±å…‹éš†ä¹Ÿå«æ·±å¤åˆ¶æˆ–æ·±æ‹·è´ã€‚å”‰ï¼Œåç§°å¤åç§°ï¼Œåç§°ä½•å…¶å¤šï¼Ÿ ","date":"2018-04-27","objectID":"/2018/04/27/php-shallow-and-deep-clone/:0:0","tags":["PHP"],"title":"PHP ä¸­çš„æµ…å…‹éš†å’Œæ·±å…‹éš†","uri":"/2018/04/27/php-shallow-and-deep-clone/"},{"categories":["PHP"],"content":"æµ…å…‹éš† å¼•ç”¨çš„è§£é‡Šï¼Œå®˜æ–¹è¯´çš„æœ€é è°± è­¦å‘Š è‡ª PHP 5 èµ·ï¼Œnew è¿ç®—ç¬¦è‡ªåŠ¨è¿”å›ä¸€ä¸ªå¼•ç”¨ æµ…å…‹éš†åœ¨èµ‹å€¼æ—¶ï¼Œå¼•ç”¨èµ‹å€¼ï¼Œç›¸å½“äºå–äº†ä¸€ä¸ªåˆ«åã€‚å¯¹å…¶ä¸­ä¸€ä¸ªçš„ä¿®æ”¹ï¼Œä¼šå½±å“åˆ°å¦ä¸€ä¸ª ","date":"2018-04-27","objectID":"/2018/04/27/php-shallow-and-deep-clone/:1:0","tags":["PHP"],"title":"PHP ä¸­çš„æµ…å…‹éš†å’Œæ·±å…‹éš†","uri":"/2018/04/27/php-shallow-and-deep-clone/"},{"categories":["PHP"],"content":"èµ‹å€¼ \u003c?php class Student { private $name; public function setName(string $name): self { $this-\u003ename = $name; return $this; } public function getName(): string { return $this-\u003ename; } } $jack1 = new Student(); $jack1-\u003esetName('Jack 1'); $jack2 = $jack1; $jack2-\u003esetName('Jack 2'); var_dump($jack1); var_dump($jack2); // ç»“æœ class Student#1 (1) { private $name =\u003e string(6) \"Jack 2\" } class Student#1 (1) { private $name =\u003e string(6) \"Jack 2\" } åœ¨ä»¥ä¸Šçš„åœºæ™¯ä¸­ï¼Œæ— è®ºä½ ä¿®æ”¹å“ªä¸ª Jackï¼Œéƒ½ä¼šå½±å“åˆ°å¦ä¸€ä¸ªå¯¹è±¡ï¼Œå½“ç„¶æˆ‘è¿™æ ·è¯´ï¼Œå¯èƒ½æœ‰äº›äººä¸æœï¼Œæ¯”å¦‚ï¼š \u003c?php class Student { private $name; public function setName(string $name): self { $this-\u003ename = $name; return $this; } public function getName(): string { return $this-\u003ename; } } $jack1 = new Student(); $jack1-\u003esetName('Jack 1'); var_dump($jack1); // è¿™å„¿è°ƒæ•´äº†ä¸‹æ‰§è¡Œé¡ºåº $jack2 = $jack1; $jack2-\u003esetName('Jack 2'); var_dump($jack2); // ç»“æœ class Student#1 (1) { private $name =\u003e string(6) \"Jack 1\" } class Student#1 (1) { private $name =\u003e string(6) \"Jack 2\" } çœ‹åˆ°äº†å—ï¼Ÿä¸¤ä¸ª Jack çš„å­¦ç”Ÿåç§°å°±æ˜¯ä¸ä¸€æ ·ã€‚æ„Ÿè§‰åƒæ˜¯è¢«æ‰“è„¸äº†ï¼Œå¦‚æœä½ å† $jack2 èµ‹å€¼åå†æ‰“å°ä¸€ä¸‹ $jack1 è¯•è¯•ï¼Œçœ‹è°èƒ½ç¬‘åˆ°æœ€å ","date":"2018-04-27","objectID":"/2018/04/27/php-shallow-and-deep-clone/:1:1","tags":["PHP"],"title":"PHP ä¸­çš„æµ…å…‹éš†å’Œæ·±å…‹éš†","uri":"/2018/04/27/php-shallow-and-deep-clone/"},{"categories":["PHP"],"content":"å…‹éš† è­¦å‘Š ä½¿ç”¨ clone æ“ä½œå¤åˆ¶å¯¹è±¡æ—¶ï¼Œå½“è¢«å¤åˆ¶çš„å¯¹è±¡æœ‰å¯¹å…¶å®ƒå¯¹è±¡çš„å¼•ç”¨çš„æ—¶å€™ï¼Œå¼•ç”¨çš„å¯¹è±¡å°†ä¸ä¼šè¢«å¤åˆ¶ \u003c?php class Student { private $name; public function setName(string $name): self { $this-\u003ename = $name; return $this; } public function getName(): string { return $this-\u003ename; } } class Administration { private $classLeader; public function setClassLeader(Student $student) { $this-\u003eclassLeader = $student; return $this; } /** * @return \\Student */ public function getClassLeader(): Student { return $this-\u003eclassLeader; } } $jack = new Student(); $jack-\u003esetName('Jack'); $admin1 = new Administration(); $admin1-\u003esetClassLeader($jack); $admin2 = clone $admin1; $admin2-\u003egetClassLeader()-\u003esetName('Lucy'); echo $admin1-\u003egetClassLeader()-\u003egetName(), PHP_EOL, $admin2-\u003egetClassLeader()-\u003egetName(); // ç»“æœ Lucy Lucy æ“è›‹å‘€ï¼Œ$admin1-\u003egetClassLeader() å’Œ $admin2-\u003egetClassLeader() å±…ç„¶éƒ½æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚ä½† $admin1 å’Œ $admin2 éƒ½æ˜¯è´§çœŸä»·å®çš„ä¸¤ä¸ªç‹¬ç«‹å¯¹è±¡ï¼Œå”¯ä¸€çš„é—æ†¾æ˜¯ä»–ä»¬çš„å±æ€§å‡ºå–äº†ä»–ä»¬ï¼Œçœ‹æ¥è¿™ä¹Ÿæ˜¯ä¸ªæµ…å¤åˆ¶ æ‰€ä»¥ï¼Œæµ…å…‹éš†æ—¶ï¼Œè¢«èµ‹å€¼å¯¹è±¡çš„æ‰€æœ‰å˜é‡éƒ½è¿˜ä¸åŸæ¥å¯¹è±¡æœ‰ç›¸åŒçš„å€¼ï¼Œè€Œæ‰€æœ‰çš„å¯¹å…¶ä»–å¯¹è±¡çš„å¼•ç”¨éƒ½ä»ç„¶æŒ‡å‘åŸæ¥çš„å¯¹è±¡ ","date":"2018-04-27","objectID":"/2018/04/27/php-shallow-and-deep-clone/:1:2","tags":["PHP"],"title":"PHP ä¸­çš„æµ…å…‹éš†å’Œæ·±å…‹éš†","uri":"/2018/04/27/php-shallow-and-deep-clone/"},{"categories":["PHP"],"content":"æ·±å…‹éš† ","date":"2018-04-27","objectID":"/2018/04/27/php-shallow-and-deep-clone/:2:0","tags":["PHP"],"title":"PHP ä¸­çš„æµ…å…‹éš†å’Œæ·±å…‹éš†","uri":"/2018/04/27/php-shallow-and-deep-clone/"},{"categories":["PHP"],"content":"æ–¹æ¡ˆä¸€ åŸºäºé­”æœ¯å˜é‡ __clone() çš„å®ç° \u003c?php class Student { private $name; public function setName(string $name): self { $this-\u003ename = $name; return $this; } public function getName(): string { return $this-\u003ename; } } class Administration { private $classLeader; public function __clone() { $this-\u003eclassLeader = clone $this-\u003eclassLeader; } public function setClassLeader(Student $student) { $this-\u003eclassLeader = $student; return $this; } /** * @return \\Student */ public function getClassLeader(): Student { return $this-\u003eclassLeader; } } $jack = new Student(); $jack-\u003esetName('Jack'); $admin1 = new Administration(); $admin1-\u003esetClassLeader($jack); $admin2 = clone $admin1; $admin2-\u003egetClassLeader()-\u003esetName('Lucy'); print $admin1-\u003egetClassLeader()-\u003egetName(); print PHP_EOL; print $admin2-\u003egetClassLeader()-\u003egetName(); // ç»“æœ Jack Lucy ","date":"2018-04-27","objectID":"/2018/04/27/php-shallow-and-deep-clone/:2:1","tags":["PHP"],"title":"PHP ä¸­çš„æµ…å…‹éš†å’Œæ·±å…‹éš†","uri":"/2018/04/27/php-shallow-and-deep-clone/"},{"categories":["PHP"],"content":"æ–¹æ¡ˆäºŒ åˆ©ç”¨ä¸²è¡ŒåŒ–åšæ·±å¤åˆ¶ \u003c?php class Student { private $name; public function setName(string $name): self { $this-\u003ename = $name; return $this; } public function getName(): string { return $this-\u003ename; } } class Administration { private $classLeader; public function setClassLeader(Student $student) { $this-\u003eclassLeader = $student; return $this; } /** * @return \\Student */ public function getClassLeader(): Student { return $this-\u003eclassLeader; } } $jack = new Student(); $jack-\u003esetName('Jack'); $admin1 = new Administration(); $admin1-\u003esetClassLeader($jack); /** @var \\Administration $admin2 */ $admin2 = unserialize(serialize($admin1)); $admin2-\u003egetClassLeader()-\u003esetName('Lucy'); print_r([ $admin1-\u003egetClassLeader()-\u003egetName(), $admin2-\u003egetClassLeader()-\u003egetName(), ]); // ç»“æœ Array ( [0] =\u003e Jack [1] =\u003e Lucy ) å½“ç„¶ï¼Œåˆ©ç”¨ä¸²è¡ŒåŒ–çš„è¿™ç§æ–¹æ¡ˆä¹Ÿå¯ä»¥å°è£…åˆ° __clone() æ–¹æ³•ä¸­ï¼š public function __clone() { foreach($this as $key =\u003e $val) { if (is_object($val) || (\\is_array($val))) { $this-\u003e{$key} = unserialize(serialize($val)); } } } æ‰€ä»¥ï¼Œæ·±å…‹éš†æŠŠå¼•ç”¨å¯¹è±¡çš„å˜é‡æŒ‡å‘å¤åˆ¶è¿‡çš„æ–°å¯¹è±¡ï¼Œè€Œä¸æ˜¯åŸæœ‰çš„è¢«å¼•ç”¨çš„å¯¹è±¡ã€‚ ","date":"2018-04-27","objectID":"/2018/04/27/php-shallow-and-deep-clone/:2:2","tags":["PHP"],"title":"PHP ä¸­çš„æµ…å…‹éš†å’Œæ·±å…‹éš†","uri":"/2018/04/27/php-shallow-and-deep-clone/"},{"categories":["PHP"],"content":"å¯¹æµ®ç‚¹æ•°è¿›è¡Œæ¯”è¾ƒè¿ç®—æ˜¯ä¸€ä¸ªå‘çˆ¹çš„äº‹ï¼Œç”±äºæ ½åœ¨è¿™ä¸ªé—®é¢˜ä¸Šçš„æ¬¡æ•°æ¯”è¾ƒå¤šï¼Œæ€»æ˜¯è®°åƒä¸è®°æ‰“çš„ï¼Œç—›å®šæ€ç—›åæ‰“ç®—æ•´ç†ä¸€ä¸‹ï¼Œé¿å…ä¸‹æ¬¡å†çŠ¯ã€‚ ","date":"2018-04-18","objectID":"/2018/04/18/php-float-number/:0:0","tags":["PHP"],"title":"PHP ä¸­çš„æµ®ç‚¹æ•°","uri":"/2018/04/18/php-float-number/"},{"categories":["PHP"],"content":"æµ®ç‚¹æ•°çš„é™·é˜±å®ä¾‹ PHP æµ®ç‚¹æ•°çš„ä¸€ä¸ªå¸¸è§é—®é¢˜çš„è§£ç­” IEEE 754 æ ¼å¼æ˜¯ä»€ä¹ˆï¼Ÿ ","date":"2018-04-18","objectID":"/2018/04/18/php-float-number/:1:0","tags":["PHP"],"title":"PHP ä¸­çš„æµ®ç‚¹æ•°","uri":"/2018/04/18/php-float-number/"},{"categories":["PHP"],"content":"æµ®ç‚¹æ•°è®¡ç®—é”™è¯¯å®ä¾‹ \u003c?php $float = 0.58; var_dump($float * 100); var_dump(intval($float * 100)); double(58) int(57) // å±…ç„¶æ˜¯ 57 ","date":"2018-04-18","objectID":"/2018/04/18/php-float-number/:1:1","tags":["PHP"],"title":"PHP ä¸­çš„æµ®ç‚¹æ•°","uri":"/2018/04/18/php-float-number/"},{"categories":["PHP"],"content":"æµ®ç‚¹æ•°æ¯”è¾ƒé”™è¯¯å®ä¾‹ \u003c?php $a = 0.1; $b = 0.2; var_dump($a); var_dump($b); var_dump($a + $b); var_dump($a + $b === 0.3); // ç»“æœ double(0.1) double(0.2) double(0.3) bool(false) // å±…ç„¶æ˜¯ false ?\u003e è­¦å‘Š æµ®ç‚¹æ•°çš„ç²¾åº¦ æµ®ç‚¹æ•°çš„ç²¾åº¦æœ‰é™ã€‚å°½ç®¡å–å†³äºç³»ç»Ÿï¼ŒPHP é€šå¸¸ä½¿ç”¨ IEEE 754 åŒç²¾åº¦æ ¼å¼ï¼Œåˆ™ç”±äºå–æ•´è€Œå¯¼è‡´çš„æœ€å¤§ç›¸å¯¹è¯¯å·®ä¸º 1.11e-16ã€‚éåŸºæœ¬æ•°å­¦è¿ç®—å¯èƒ½ä¼šç»™å‡ºæ›´å¤§è¯¯å·®ï¼Œå¹¶ä¸”è¦è€ƒè™‘åˆ°è¿›è¡Œå¤åˆè¿ç®—æ—¶çš„è¯¯å·®ä¼ é€’ æ­¤å¤–ï¼Œä»¥åè¿›åˆ¶èƒ½å¤Ÿç²¾ç¡®è¡¨ç¤ºçš„æœ‰ç†æ•°å¦‚ 0.1 æˆ– 0.7ï¼Œæ— è®ºæœ‰å¤šå°‘å°¾æ•°éƒ½ä¸èƒ½è¢«å†…éƒ¨æ‰€ä½¿ç”¨çš„äºŒè¿›åˆ¶ç²¾ç¡®è¡¨ç¤ºï¼Œå› æ­¤ä¸èƒ½åœ¨ä¸ä¸¢å¤±ä¸€ç‚¹ç‚¹ç²¾åº¦çš„æƒ…å†µä¸‹è½¬æ¢ä¸ºäºŒè¿›åˆ¶çš„æ ¼å¼ã€‚è¿™å°±ä¼šé€ æˆæ··ä¹±çš„ç»“æœï¼Œä¾‹å¦‚ï¼šfloor((0.1+0.7)*10 é€šå¸¸ä¼šè¿”å› 7 è€Œä¸æ˜¯é¢„æœŸä¸­çš„ 8ï¼Œå› ä¸ºè¯¥ç»“æœå†…éƒ¨çš„è¡¨ç¤ºå…¶å®æ˜¯ç±»ä¼¼ 7.9999999999999991118... æ‰€ä»¥ï¼Œæ°¸è¿œä¸è¦ç›¸ä¿¡æµ®ç‚¹æ•°ç»“æœç²¾ç¡®åˆ°äº†æœ€åä¸€ä½ï¼Œä¹Ÿæ°¸è¿œä¸è¦æ¯”è¾ƒä¸¤ä¸ªæµ®ç‚¹æ•°æ˜¯å¦ç›¸ç­‰ã€‚å¦‚æœç¡®å®éœ€è¦æ›´é«˜çš„ç²¾åº¦ï¼Œåº”è¯¥ä½¿ç”¨ ä»»æ„ç²¾åº¦æ•°å­¦å‡½æ•° æˆ–è€… gmp å‡½æ•° ","date":"2018-04-18","objectID":"/2018/04/18/php-float-number/:1:2","tags":["PHP"],"title":"PHP ä¸­çš„æµ®ç‚¹æ•°","uri":"/2018/04/18/php-float-number/"},{"categories":["PHP"],"content":"ç²¾åº¦æ•°å­¦å‡½æ•° åç§° è¯´æ˜ bcadd() ä»»æ„ç²¾åº¦æ•°å­—çš„åŠ æ³•è®¡ç®— bccomp() æ¯”è¾ƒä¸¤ä¸ªä»»æ„ç²¾åº¦çš„æ•°å­— bcdiv() ä¸¤ä¸ªä»»æ„ç²¾åº¦çš„æ•°å­—é™¤æ³•è®¡ç®— bcmod() å¯¹ä¸€ä¸ªä»»æ„ç²¾åº¦æ•°å­—å–æ¨¡ bcmul() ä¸¤ä¸ªä»»æ„ç²¾åº¦æ•°å­—ä¹˜æ³•è®¡ç®— bcpow() ä»»æ„ç²¾åº¦æ•°å­—çš„ä¹˜æ–¹ bcpowmod() ä»»æ„ç²¾åº¦æ•°å­—ä¹˜æ–¹æ±‚æ¨¡ bcscale() è®¾ç½®æ‰€æœ‰ bc æ•°å­¦å‡½æ•°çš„é»˜è®¤å°æ•°ç‚¹ä¿ç•™ä½æ•° bcsqrt() ä»»æ„ç²¾åº¦æ•°å­—çš„äºŒæ¬¡æ–¹æ ¹ bcsub() ä¸¤ä¸ªä»»æ„ç²¾åº¦æ•°å­—çš„å‡æ³• è­¦å‘Š ä½¿ç”¨ bcscale() è®¾ç½®çš„ä½æ•°ï¼Œè¶…å‡ºéƒ¨åˆ†æ˜¯ä¸¢å¼ƒæ‰ï¼Œè€Œä¸æ˜¯å››èˆäº”å…¥ \u003c?php declare(strict_types=1); $a = '0.19'; $b = '0.81'; $array = [ 'bcadd' =\u003e bcadd($a, $b, 2), 'bccomp' =\u003e bccomp(bcadd($a, $b), '1', 1), // ä¸¤ä¸ªæ•°ç›¸ç­‰è¿”å› 0 'bcdiv' =\u003e bcdiv('100', '3', 4), 'bcmod' =\u003e bcmod(PHP_VERSION, '2'), 'bcmul' =\u003e bcmul($a, $b, 4), 'bcpow' =\u003e bcpow('2.2', '3', 3), 'bcpowmod' =\u003e bcpowmod('2', '2', '3'), 'bcscale' =\u003e bcscale(6), // è®¾ç½®æ–°çš„å°æ•°ç‚¹ä¿ç•™ä½æ•° 'bcsqrt' =\u003e bcsqrt('4'), 'bcsub' =\u003e bcsub($b, $a), ]; print_r($array); // ç»“æœ Array ( [bcadd] =\u003e 1.00 [bccomp] =\u003e 0 [bcdiv] =\u003e 33.3333 [bcmod] =\u003e 0 [bcmul] =\u003e 0.1539 [bcpow] =\u003e 10.648 [bcpowmod] =\u003e 1 [bcscale] =\u003e 1 [bcsqrt] =\u003e 2.000000 [bcsub] =\u003e 0.620000 ) ","date":"2018-04-18","objectID":"/2018/04/18/php-float-number/:2:0","tags":["PHP"],"title":"PHP ä¸­çš„æµ®ç‚¹æ•°","uri":"/2018/04/18/php-float-number/"},{"categories":["PHP"],"content":"æ­£ç¡®çš„å§¿åŠ¿ \u003c?php declare(strict_types=1); $a = '0.185'; $b = '0.804'; $c = 0.185; $d = 0.804; $e = 101.1988654321; $f = 101.1988456789; $g = 1.23456789; $h = 1.23456780; $epsilon = 0.00001; // æœºå™¨æå°å€¼ï¼ˆepsilonï¼‰æˆ–æœ€å°å•å…ƒå–æ•´æ•°ï¼Œæ˜¯è®¡ç®—ä¸­æ‰€èƒ½æ¥å—çš„æœ€å°çš„å·®åˆ«å€¼ var_dump(bcadd($a, $b, 2) === '0.98'); var_dump(round($c + $d, 2) === 0.99); var_dump(bccomp((string)$e, (string)$f, 3) === 0); var_dump(abs($g - $h) \u003c $epsilon); // è¯¯å·®å°äºè¿™ä¸ªå€¼å¯ä»¥æ¥å— // ç»“æœ bool(true) bool(true) bool(true) bool(true) ","date":"2018-04-18","objectID":"/2018/04/18/php-float-number/:3:0","tags":["PHP"],"title":"PHP ä¸­çš„æµ®ç‚¹æ•°","uri":"/2018/04/18/php-float-number/"},{"categories":["PHP"],"content":"é€‰æ‹©æ’åºåˆ†ä¸ºç®€å•é€‰æ‹©æ’åºã€æ ‘å½¢é€‰æ‹©æ’åºå’Œå †æ’åºä¸‰ç±»ï¼Œæ­¤ä¸‰ç±»ä¸­ï¼Œç®€å•é€‰æ‹©æ’åºæ˜¯æœ€ç®€å•ï¼Œä¹Ÿæ˜¯æœ€å¥½ç†è§£çš„ã€‚ ","date":"2018-04-18","objectID":"/2018/04/18/php-selection-sort/:0:0","tags":["PHP"],"title":"PHP é€‰æ‹©æ’åº","uri":"/2018/04/18/php-selection-sort/"},{"categories":["PHP"],"content":"æ¦‚å¿µ é€‰æ‹©æ’åº - Selection Sortï¼šæ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ã€‚é¡¾åæ€æ„ï¼Œå°±æ˜¯ç›´æ¥ä»å¾…æ’åºæ•°ç»„é‡Œé€‰æ‹©ä¸€ä¸ªæœ€å°(æˆ–æœ€å¤§)çš„æ•°å­—ï¼Œæ¯æ¬¡éƒ½æ‹¿ä¸€ä¸ªæœ€å°æ•°å­—å‡ºæ¥ï¼Œé¡ºåºæ”¾å…¥æ–°æ•°ç»„ï¼Œç›´åˆ°å…¨éƒ¨æ‹¿å®Œ ","date":"2018-04-18","objectID":"/2018/04/18/php-selection-sort/:1:0","tags":["PHP"],"title":"PHP é€‰æ‹©æ’åº","uri":"/2018/04/18/php-selection-sort/"},{"categories":["PHP"],"content":"æ­¥éª¤ åœ¨æœªæ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œå­˜æ”¾åˆ°æ’åºåºåˆ—çš„èµ·å§‹ä½ç½® ä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶åæ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾ ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åºå®Œæ¯• ","date":"2018-04-18","objectID":"/2018/04/18/php-selection-sort/:2:0","tags":["PHP"],"title":"PHP é€‰æ‹©æ’åº","uri":"/2018/04/18/php-selection-sort/"},{"categories":["PHP"],"content":"å®ç° ","date":"2018-04-18","objectID":"/2018/04/18/php-selection-sort/:3:0","tags":["PHP"],"title":"PHP é€‰æ‹©æ’åº","uri":"/2018/04/18/php-selection-sort/"},{"categories":["PHP"],"content":"æ–¹å¼ä¸€ \u003c?php class SelectionSort { /** * ä¸»è¿è¡Œæ–¹æ³• * * @return void */ public static function main(): void { $random = self::random(); $array = self::sort($random); print_r($array); } /** * é€‰æ‹©æ’åº * * @param array $array * * @return array */ public static function sort(array \u0026$array): array { $count = count($array); for ($i = 0; $i \u003c $count; $i++) { $position = $i; for ($j = $i + 1; $j \u003c $count; $j++) { if (self::compare($array[$position], $array[$j]) \u003e 0) { $position = $j; } } if ($position !== $i) { self::swap($array[$position], $array[$i]); } } return $array; } /** * æ¯”è¾ƒå¤§å° * * @param int $x * @param int $y * * @return int */ private static function compare(int $x, int $y): int { return $x \u003c=\u003e $y; } /** * äº’æ¢ä½ç½® * * @param int $x * @param int $y * * @return void */ private static function swap(int \u0026$x, int \u0026$y): void { if ($x !== $y) { $t = $x; $x = $y; $y = $t; } } /** * ç”Ÿæˆéšæœºæ•°ç»„ * * @param int $low * @param int $high * @param int $num * * @return array */ private static function random(int $low = 1, int $high = 9999, int $num = 10): array { $num = $num \u003e $high ? $high : $num; $range = range($low, $high); $array = array_rand(array_flip($range), $num); shuffle($array); return $array; } } SelectionSort::main(); // ç»“æœ Array ( [0] =\u003e 312 [1] =\u003e 1124 [2] =\u003e 1267 [3] =\u003e 1884 [4] =\u003e 2609 [5] =\u003e 4177 [6] =\u003e 4773 [7] =\u003e 7728 [8] =\u003e 8237 [9] =\u003e 8963 ) ","date":"2018-04-18","objectID":"/2018/04/18/php-selection-sort/:3:1","tags":["PHP"],"title":"PHP é€‰æ‹©æ’åº","uri":"/2018/04/18/php-selection-sort/"},{"categories":["PHP"],"content":"æ–¹å¼äºŒ æ ‘å½¢é€‰æ‹©æ’åº - Tree Selection Sortï¼šåˆåé”¦æ ‡èµ›æ’åºï¼Œæ˜¯ä¸€ç§æŒ‰ç…§é”¦æ ‡èµ›çš„æ€æƒ³è¿›è¡Œé€‰æ‹©æ’åºçš„æ–¹æ³• \u003c?php // è¿™ä¸ªç®—æ³•ç›®å‰æä¸å®šï¼Œé¢„ç•™ä½ç½®ï¼Œå¾…ä»¥åå†å®ç° ","date":"2018-04-18","objectID":"/2018/04/18/php-selection-sort/:3:2","tags":["PHP"],"title":"PHP é€‰æ‹©æ’åº","uri":"/2018/04/18/php-selection-sort/"},{"categories":["PHP"],"content":"æ–¹å¼ä¸‰ å †æ’åº - Heap Sortï¼šæ˜¯æŒ‡åˆ©ç”¨å †è¿™ç§æ•°æ®ç»“æ„æ‰€è®¾è®¡çš„ä¸€ç§æ’åºç®—æ³•ã€‚å®ƒæ˜¯é€‰æ‹©æ’åºçš„ä¸€ç§ã€‚å¯ä»¥åˆ©ç”¨æ•°ç»„çš„ç‰¹ç‚¹å¿«é€Ÿå®šä½æŒ‡å®šç´¢å¼•çš„å…ƒç´ ã€‚å †åˆ†ä¸ºå¤§æ ¹å †å’Œå°æ ¹å †ï¼Œæ˜¯å®Œå…¨äºŒå‰æ ‘ã€‚å¤§æ ¹å †çš„è¦æ±‚æ˜¯æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½ä¸å¤§äºå…¶çˆ¶èŠ‚ç‚¹çš„å€¼ã€‚åœ¨æ•°ç»„çš„éé™åºæ’åºä¸­ï¼Œéœ€è¦ä½¿ç”¨çš„å°±æ˜¯å¤§æ ¹å †ï¼Œå› ä¸ºæ ¹æ®å¤§æ ¹å †çš„è¦æ±‚å¯çŸ¥ï¼Œæœ€å¤§çš„å€¼ä¸€å®šåœ¨å †é¡¶ \u003c?php // è¿™ä¸ªç®—æ³•ç›®å‰æä¸å®šï¼Œé¢„ç•™ä½ç½®ï¼Œå¾…ä»¥åå†å®ç° ","date":"2018-04-18","objectID":"/2018/04/18/php-selection-sort/:3:3","tags":["PHP"],"title":"PHP é€‰æ‹©æ’åº","uri":"/2018/04/18/php-selection-sort/"},{"categories":["PHP"],"content":"æ›¾ç»åœ¨ä¸€æ¬¡é¢è¯•ä¸­ï¼Œé¢è¯•å®˜é—®è¿‡æˆ‘è¿™ä¸ªç®—æ³•ï¼Œæˆ‘å½“æ—¶ä¸€è„¸æ‡µé€¼ï¼Œå°±è¯´å®ƒæ¯”è¾ƒå¿«ï¼Œæ‰€ä»¥å°±æ˜¯å¿«é€Ÿæ’åºï¼Œè‡³äºæ€ä¹ˆå¿«çš„ä¸€é—®ä¸‰ä¸çŸ¥ã€‚æ‰€è°“åƒä¸€å ‘é•¿ä¸€æ™ºå˜›ï¼Œä¸ç®¡ä½ æ€ä¹ˆç†è§£ï¼Œæœ€ç»ˆè¿˜ä¸å¾—ååº”åˆ°ä»£ç å®ç°ä¸Šä¹ˆï¼Ÿä¸è´¹è¯äº†ï¼Œä¸Šä»£ç ã€‚ ","date":"2018-04-17","objectID":"/2018/04/17/php-quick-sort/:0:0","tags":["PHP"],"title":"PHP å¿«é€Ÿæ’åº","uri":"/2018/04/17/php-quick-sort/"},{"categories":["PHP"],"content":"æ¦‚å¿µ å¿«é€Ÿæ’åº - Quick Sortï¼šåˆç§°åˆ’åˆ†äº¤æ¢æ’åº - partition-exchange sortï¼Œç®€ç§°å¿«æ’ï¼Œä¸€ç§æ’åºç®—æ³•ï¼Œæœ€æ—©ç”±ä¸œå°¼Â·éœå°”æå‡ºã€‚åœ¨å¹³å‡çŠ¶å†µä¸‹ï¼Œæ’åº n ä¸ªé¡¹ç›®è¦ O(n log n) æ¬¡æ¯”è¾ƒã€‚åœ¨æœ€åçŠ¶å†µä¸‹åˆ™éœ€è¦ O(n^2) æ¬¡æ¯”è¾ƒï¼Œä½†è¿™ç§çŠ¶å†µå¹¶ä¸å¸¸è§ã€‚äº‹å®ä¸Šï¼Œå¿«é€Ÿæ’åº O(n log n) é€šå¸¸æ˜æ˜¾æ¯”å…¶ä»–ç®—æ³•æ›´å¿«ï¼Œå› ä¸ºå®ƒçš„å†…éƒ¨å¾ªç¯ ï¼ˆinner loopï¼‰å¯ä»¥åœ¨å¤§éƒ¨åˆ†çš„æ¶æ„ä¸Šå¾ˆæœ‰æ•ˆç‡åœ°è¾¾æˆã€‚ ","date":"2018-04-17","objectID":"/2018/04/17/php-quick-sort/:1:0","tags":["PHP"],"title":"PHP å¿«é€Ÿæ’åº","uri":"/2018/04/17/php-quick-sort/"},{"categories":["PHP"],"content":"æ­¥éª¤ ä»æ•°åˆ—ä¸­æŒ‘å‡ºä¸€ä¸ªå…ƒç´ ï¼Œç§°ä¸ºã€åŸºå‡†ã€- pivot é‡æ–°æ’åºæ•°åˆ—ï¼Œæ‰€æœ‰æ¯”åŸºå‡†å€¼å°çš„å…ƒç´ æ‘†æ”¾åœ¨åŸºå‡†å‰é¢ï¼Œæ‰€æœ‰æ¯”åŸºå‡†å€¼å¤§çš„å…ƒç´ æ‘†åœ¨åŸºå‡†åé¢ï¼ˆç›¸åŒçš„æ•°å¯ä»¥åˆ°ä»»ä½•ä¸€è¾¹ï¼‰ã€‚åœ¨è¿™ä¸ªåˆ†åŒºç»“æŸä¹‹åï¼Œè¯¥åŸºå‡†å°±å¤„äºæ•°åˆ—çš„ä¸­é—´ä½ç½®ã€‚è¿™ä¸ªç§°ä¸ºåˆ†åŒºï¼ˆpartitionï¼‰æ“ä½œ é€’å½’åœ°ï¼ˆrecursivelyï¼‰æŠŠå°äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—å’Œå¤§äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—æ’åº ","date":"2018-04-17","objectID":"/2018/04/17/php-quick-sort/:2:0","tags":["PHP"],"title":"PHP å¿«é€Ÿæ’åº","uri":"/2018/04/17/php-quick-sort/"},{"categories":["PHP"],"content":"å®ç° ","date":"2018-04-17","objectID":"/2018/04/17/php-quick-sort/:3:0","tags":["PHP"],"title":"PHP å¿«é€Ÿæ’åº","uri":"/2018/04/17/php-quick-sort/"},{"categories":["PHP"],"content":"æ–¹æ¡ˆä¸€ \u003c?php class QuickSort { /** * ä¸»è¿è¡Œæ–¹æ³• * * @return void */ public static function main(): void { $random = self::random(); $array = self::sort($random); print_r($array); } /** * å¿«é€Ÿæ’åº * * @param array $array * * @return array */ public static function sort(array \u0026$array): array { $count = count($array); if ($count \u003c= 1) { return $array; } $pivot = $array[0]; // å–æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºåŸºå‡†å€¼ $left = $right = []; for ($i = 1; $i \u003c $count; $i++) { $value = $array[$i]; if (self::compare($pivot, $value) \u003e 0) { $left[] = $array[$i]; } else { $right[] = $array[$i]; } } $left = self::sort($left); $right = self::sort($right); return array_merge($left, (array)$pivot, $right); } /** * æ¯”è¾ƒå¤§å° * * @param int $x * @param int $y * * @return int */ private static function compare(int $x, int $y): int { return $x \u003c=\u003e $y; } /** * äº’æ¢ä½ç½® * * @param int $x * @param int $y * * @return void */ private static function swap(int \u0026$x, int \u0026$y): void { if ($x !== $y) { $t = $x; $x = $y; $y = $t; } } /** * ç”Ÿæˆéšæœºæ•°ç»„ * * @param int $low * @param int $high * @param int $num * * @return array */ private static function random(int $low = 1, int $high = 9999, int $num = 10): array { $num = $num \u003e $high ? $high : $num; $range = range($low, $high); $array = array_rand(array_flip($range), $num); shuffle($array); return $array; } } QuickSort::main(); // ç»“æœ Array ( [0] =\u003e 1073 [1] =\u003e 1535 [2] =\u003e 3376 [3] =\u003e 3702 [4] =\u003e 3961 [5] =\u003e 4139 [6] =\u003e 4644 [7] =\u003e 5032 [8] =\u003e 5803 [9] =\u003e 6450 ) ","date":"2018-04-17","objectID":"/2018/04/17/php-quick-sort/:3:1","tags":["PHP"],"title":"PHP å¿«é€Ÿæ’åº","uri":"/2018/04/17/php-quick-sort/"},{"categories":["PHP"],"content":"æ–¹æ¡ˆäºŒ ä½¿ç”¨ Lomuto partition scheme æ–¹å¼ \u003c?php class QuickSort { /** * ä¸»è¿è¡Œæ–¹æ³• * * @return void */ public static function main(): void { $random = self::random(); $array = self::sort($random, 0, count($random) - 1); print_r($array); } /** * å¿«é€Ÿæ’åº * * @param array $array * @param int $low * @param int $high * * @return array */ public static function sort(array \u0026$array, int $low, int $high): array { if ($low \u003c $high) { $index = self::partition($array, $low, $high); self::sort($array, $low, $index - 1); self::sort($array, $index + 1, $high); } return $array; } /** * åŸåœ°åˆ†åŒº * * @param array $array * @param int $low * @param int $high * * @return int */ private static function partition(array \u0026$array, int $low, int $high): int { $pivot = $array[$high]; // é€‰å–æœ€å³è¾¹çš„å…ƒç´ ä¸ºåŸºå‡† $i = $low - 1; for ($j = $low; $j \u003c $high; $j++) { if (self::compare($pivot, $array[$j]) \u003e 0) { $i++; self::swap($array[$i], $array[$j]); } } self::swap($array[$i + 1], $array[$high]); return $i + 1; } /** * æ¯”è¾ƒå¤§å° * * @param int $x * @param int $y * * @return int */ private static function compare(int $x, int $y): int { return $x \u003c=\u003e $y; } /** * äº’æ¢ä½ç½® * * @param int $x * @param int $y * * @return void */ private static function swap(int \u0026$x, int \u0026$y): void { if ($x !== $y) { $t = $x; $x = $y; $y = $t; } } /** * ç”Ÿæˆéšæœºæ•°ç»„ * * @param int $low * @param int $high * @param int $num * * @return array */ private static function random(int $low = 1, int $high = 9999, int $num = 10): array { $num = $num \u003e $high ? $high : $num; $range = range($low, $high); $array = array_rand(array_flip($range), $num); shuffle($array); return $array; } } QuickSort::main(); // ç»“æœ Array ( [0] =\u003e 1411 [1] =\u003e 3434 [2] =\u003e 3776 [3] =\u003e 6020 [4] =\u003e 6047 [5] =\u003e 6367 [6] =\u003e 7107 [7] =\u003e 7783 [8] =\u003e 9135 [9] =\u003e 9248 ) ","date":"2018-04-17","objectID":"/2018/04/17/php-quick-sort/:3:2","tags":["PHP"],"title":"PHP å¿«é€Ÿæ’åº","uri":"/2018/04/17/php-quick-sort/"},{"categories":["PHP"],"content":"æ–¹æ¡ˆä¸‰ ä½¿ç”¨ Hoare partition scheme æ–¹å¼ æœªå®Œå¾…ç»­â€¦ ","date":"2018-04-17","objectID":"/2018/04/17/php-quick-sort/:3:3","tags":["PHP"],"title":"PHP å¿«é€Ÿæ’åº","uri":"/2018/04/17/php-quick-sort/"},{"categories":["MySQL"],"content":"å‰æ®µæ—¶é—´åœ¨ Vagrant ä¸­å®‰è£…äº† CentOS 7.2 ç³»ç»Ÿï¼Œç„¶åéƒ¨ç½²äº†ä¸€å¥— lnmp ç¯å¢ƒï¼Œæ•°æ®åº“å®‰è£…äº† MariaDB 10.3.4ï¼Œå®‰è£…å®Œæˆåï¼Œéšæœºç”Ÿæˆäº†ä¸€ä¸ª MariaDB å¯†ç ï¼Œåæ¥å°±æŠŠè¿™äº‹ç»™å¿˜äº†ã€‚ä»Šå¤©é—²æ¥æ— äº‹ï¼Œå‡†å¤‡å¯¼å…¥ä¸€äº›æ•°æ®æ—¶æ‚²å‰§äº†ã€‚å¯†ç æ—©å°±å¿˜çš„ä¸€å¹²äºŒå‡€äº†ï¼Œå”‰ï¼Œéƒé—·å‘€ï¼Œäºæ˜¯å°±æƒ³èµ·æ¥é‡ç½®ä¸€ä¸‹å¯†ç ã€‚ MySQL æ•°æ®ç±»å‹ MySQL ç”¨æˆ·ç®¡ç† MySQL å…³é”®å­—æŸ¥è¯¢ MySQL å­—ç¬¦ä¸²å‡½æ•° MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•° MySQL å¿˜è®° root å¯†ç åé‡ç½® MySQL æœ€å€¼æŸ¥è¯¢ MySQL æ—¥æœŸæ—¶é—´å‡½æ•° MySQL è”åˆæŸ¥è¯¢ MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤© MySQL æ”¯æŒ emoji å›¾æ ‡çš„è®¾ç½® MySQL å­˜å‚¨å¼•æ“ MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯» ","date":"2018-04-15","objectID":"/2018/04/15/mysql-reset-root-password/:0:0","tags":["MySQL"],"title":"MySQL å¿˜è®° root å¯†ç åè¿›è¡Œé‡ç½®","uri":"/2018/04/15/mysql-reset-root-password/"},{"categories":["MySQL"],"content":"å…·ä½“æ“ä½œ ","date":"2018-04-15","objectID":"/2018/04/15/mysql-reset-root-password/:1:0","tags":["MySQL"],"title":"MySQL å¿˜è®° root å¯†ç åè¿›è¡Œé‡ç½®","uri":"/2018/04/15/mysql-reset-root-password/"},{"categories":["MySQL"],"content":"åœæ­¢æœåŠ¡ // åœæ­¢ MariaDB æœåŠ¡ $ sudo systemctl stop mariadb.service ","date":"2018-04-15","objectID":"/2018/04/15/mysql-reset-root-password/:1:1","tags":["MySQL"],"title":"MySQL å¿˜è®° root å¯†ç åè¿›è¡Œé‡ç½®","uri":"/2018/04/15/mysql-reset-root-password/"},{"categories":["MySQL"],"content":"æ·»åŠ é…ç½® åœ¨ MariaDB çš„é…ç½®æ–‡ä»¶ä¸­ [mysqld] åé¢æ·»åŠ å¦‚ä¸‹ä¸¤é¡¹é…ç½®ï¼š $ sudo vim /etc/my.cnf.d/server.cnf [mysqld] ... skip-grant-tables skip-networking ä¿¡æ¯ skip-grant-tables: æ­¤é€‰é¡¹å…è®¸ä»»ä½•äººä¸éœ€å¯†ç ç™»é™† MariaDB æ•°æ®åº“å¹¶ä¸”æ‹¥æœ‰æ‰€æœ‰ç‰¹æƒï¼Œä½†æ˜¯å®ƒç¦æ­¢äº†è´¦æˆ·ç®¡ç†å‘½ä»¤å¦‚ï¼šALTER USERï¼ŒSET PASSWORD skip-networking: æ­¤é€‰é¡¹ä¸å…è®¸è¿œç¨‹å®¢æˆ·ç«¯è¿æ¥æ•°æ®åº“ ","date":"2018-04-15","objectID":"/2018/04/15/mysql-reset-root-password/:1:2","tags":["MySQL"],"title":"MySQL å¿˜è®° root å¯†ç åè¿›è¡Œé‡ç½®","uri":"/2018/04/15/mysql-reset-root-password/"},{"categories":["MySQL"],"content":"å¯åŠ¨æœåŠ¡ // å¯åŠ¨ MariaDB æœåŠ¡ $ sudo systemctl start mariadb.service ","date":"2018-04-15","objectID":"/2018/04/15/mysql-reset-root-password/:1:3","tags":["MySQL"],"title":"MySQL å¿˜è®° root å¯†ç åè¿›è¡Œé‡ç½®","uri":"/2018/04/15/mysql-reset-root-password/"},{"categories":["MySQL"],"content":"ä½¿ç”¨å®¢æˆ·ç«¯è¿æ¥æ•°æ®åº“æœåŠ¡å™¨ $ mysql -uroot Welcome to the MariaDB monitor. Commands end with ; or \\g. Your MariaDB connection id is 8 Server version: 10.3.4-MariaDB MariaDB Server Copyright (c) 2000, 2017, Oracle, MariaDB Corporation Ab and others. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. MariaDB [(none)]\u003e ","date":"2018-04-15","objectID":"/2018/04/15/mysql-reset-root-password/:1:4","tags":["MySQL"],"title":"MySQL å¿˜è®° root å¯†ç åè¿›è¡Œé‡ç½®","uri":"/2018/04/15/mysql-reset-root-password/"},{"categories":["MySQL"],"content":"ä¿®æ”¹å¯†ç  MariaDB [(none)]\u003e USE mysql; Reading table information for completion of table and column names You can turn off this feature to get a quicker startup with -A Database changed MariaDB [mysql]\u003e UPDATE user SET password=PASSWORD('your password') \\ -\u003e WHERE User='root'; Query OK, 0 rows affected (0.000 sec) Rows matched: 3 Changed: 0 Warnings: 0 MariaDB [mysql]\u003e FLUSH PRIVILEGES; Query OK, 0 rows affected (0.000 sec) MariaDB [mysql]\u003e exit; ","date":"2018-04-15","objectID":"/2018/04/15/mysql-reset-root-password/:1:5","tags":["MySQL"],"title":"MySQL å¿˜è®° root å¯†ç åè¿›è¡Œé‡ç½®","uri":"/2018/04/15/mysql-reset-root-password/"},{"categories":["MySQL"],"content":"ç§»é™¤é…ç½®å¹¶é‡å¯æœåŠ¡ å°†åˆšæ‰æ·»åŠ çš„é…ç½®ä»é…ç½®æ–‡ä»¶ç§»é™¤æ‰ $ sudo systemctl restart mariadb.service ","date":"2018-04-15","objectID":"/2018/04/15/mysql-reset-root-password/:1:6","tags":["MySQL"],"title":"MySQL å¿˜è®° root å¯†ç åè¿›è¡Œé‡ç½®","uri":"/2018/04/15/mysql-reset-root-password/"},{"categories":["MySQL"],"content":"æµ‹è¯•ç™»å½• $ mysql -uroot -p Enter password: Welcome to the MariaDB monitor. Commands end with ; or \\g. Your MariaDB connection id is 10 Server version: 10.3.4-MariaDB MariaDB Server Copyright (c) 2000, 2017, Oracle, MariaDB Corporation Ab and others. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. MariaDB [(none)]\u003e ","date":"2018-04-15","objectID":"/2018/04/15/mysql-reset-root-password/:1:7","tags":["MySQL"],"title":"MySQL å¿˜è®° root å¯†ç åè¿›è¡Œé‡ç½®","uri":"/2018/04/15/mysql-reset-root-password/"},{"categories":["MySQL"],"content":"å‚è€ƒ How to Reset the Root Password SET PASSWORD ","date":"2018-04-15","objectID":"/2018/04/15/mysql-reset-root-password/:2:0","tags":["MySQL"],"title":"MySQL å¿˜è®° root å¯†ç åè¿›è¡Œé‡ç½®","uri":"/2018/04/15/mysql-reset-root-password/"},{"categories":["PHP"],"content":"æ’å…¥æ’åºæ˜¯ä¸€ç§è¾ƒä¸ºç®€å•çš„æ’åºç®—æ³•ï¼Œå®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯é€šè¿‡æ„å»ºæœ‰åºåºåˆ—ï¼Œå¯¹äºæœªæ’åºæ•°æ®ï¼Œåœ¨å·²æ’åºåºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼Œæ‰¾åˆ°ç›¸åº”ä½ç½®å¹¶æ’å…¥ã€‚ä¸ºæ­¤æœ‰äººå½¢è±¡çš„æŠŠæ’å…¥æ’åºæ¯”æ‹Ÿä¸ºæ‰“æ‰‘å…‹æŠ“ç‰Œçš„è¿‡ç¨‹ï¼Œé€šå¸¸æˆ‘ä»¬å³æ‰‹æŠ“ç‰Œï¼Œæ²¡æŠ“ä¸€å¼ ç‰Œï¼Œå°±æ”¾åˆ°å·¦æ‰‹ï¼ŒæŠ“ä¸‹ä¸€å¼ ç‰Œåï¼Œä¼šæŠŠè¿™å¼ ç‰Œä¾æ¬¡ä¸å·¦æ‰‹ä¸Šçš„ç‰Œæ¯”è¾ƒï¼Œå¹¶æŠŠå®ƒæ’å…¥åˆ°ä¸€ä¸ªåˆé€‚çš„ä½ç½®ï¼ˆæŒ‰ç‰Œé¢å¤§å°ï¼‰ï¼Œè¿™ä¸ªæ¯”æ‹Ÿå®åœ¨æ˜¯å¤ªç‰›é€¼äº†ã€‚ ","date":"2018-04-14","objectID":"/2018/04/14/php-insertion-sort/:0:0","tags":["PHP"],"title":"PHP æ’å…¥æ’åº","uri":"/2018/04/14/php-insertion-sort/"},{"categories":["PHP"],"content":"æ¦‚å¿µ æ’å…¥æ’åº - Insertion Sortï¼šæ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ã€‚å®ƒçš„å·¥ä½œåŸç†æ˜¯é€šè¿‡æ„å»ºæœ‰åºåºåˆ—ï¼Œå¯¹äºæœªæ’åºæ•°æ®ï¼Œåœ¨å·²æ’åºåºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼Œæ‰¾åˆ°ç›¸åº”ä½ç½®å¹¶æ’å…¥ã€‚æ’å…¥æ’åºåœ¨å®ç°ä¸Šï¼Œé€šå¸¸é‡‡ç”¨ in-place æ’åºï¼ˆå³åªéœ€ç”¨åˆ° O(1) çš„é¢å¤–ç©ºé—´çš„æ’åºï¼‰ï¼Œå› è€Œåœ¨ä»åå‘å‰æ‰«æè¿‡ç¨‹ä¸­ï¼Œéœ€è¦åå¤æŠŠå·²æ’åºå…ƒç´ é€æ­¥å‘åæŒªä½ï¼Œä¸ºæœ€æ–°å…ƒç´ æä¾›æ’å…¥ç©ºé—´ã€‚ ","date":"2018-04-14","objectID":"/2018/04/14/php-insertion-sort/:1:0","tags":["PHP"],"title":"PHP æ’å…¥æ’åº","uri":"/2018/04/14/php-insertion-sort/"},{"categories":["PHP"],"content":"æ­¥éª¤ ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œè¯¥å…ƒç´ å¯ä»¥è®¤ä¸ºå·²ç»è¢«æ’åº å–å‡ºä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œåœ¨å·²ç»æ’åºçš„å…ƒç´ åºåˆ—ä¸­ä»åå‘å‰æ‰«æ å¦‚æœè¯¥å…ƒç´ ï¼ˆå·²æ’åºï¼‰å¤§äºæ–°å…ƒç´ ï¼Œå°†è¯¥å…ƒç´ ç§»åˆ°ä¸‹ä¸€ä½ç½® é‡å¤æ­¥éª¤ 3ï¼Œç›´åˆ°æ‰¾åˆ°å·²æ’åºçš„å…ƒç´ å°äºæˆ–è€…ç­‰äºæ–°å…ƒç´ çš„ä½ç½® å°†æ–°å…ƒç´ æ’å…¥åˆ°è¯¥ä½ç½®å é‡å¤æ­¥éª¤ 2~5 ","date":"2018-04-14","objectID":"/2018/04/14/php-insertion-sort/:2:0","tags":["PHP"],"title":"PHP æ’å…¥æ’åº","uri":"/2018/04/14/php-insertion-sort/"},{"categories":["PHP"],"content":"å®ç° ","date":"2018-04-14","objectID":"/2018/04/14/php-insertion-sort/:3:0","tags":["PHP"],"title":"PHP æ’å…¥æ’åº","uri":"/2018/04/14/php-insertion-sort/"},{"categories":["PHP"],"content":"æ–¹æ¡ˆä¸€ \u003c?php class InsertionSort { /** * ä¸»è¿è¡Œæ–¹æ³• * * @return void */ public static function main(): void { $random = self::random(); $array = self::sort($random); print_r($array); } /** * æ’å…¥æ’åº * * @param array $array * * @return array */ public static function sort(array \u0026$array): array { $count = count($array) - 1; for ($i = 0; $i \u003c $count; $i++) { for ($j = $i; $j \u003e= 0; $j--) { if (self::compare($array[$j], $array[$j + 1]) \u003e 0) { self::swap($array[$j], $array[$j + 1]); } else { break; } } } return $array; } /** * æ¯”è¾ƒå¤§å° * * @param int $x * @param int $y * * @return int */ private static function compare(int $x, int $y): int { return $x \u003c=\u003e $y; } /** * äº’æ¢ä½ç½® * * @param int $x * @param int $y * * @return void */ private static function swap(int \u0026$x, int \u0026$y): void { if ($x !== $y) { $t = $x; $x = $y; $y = $t; } } /** * ç”Ÿæˆéšæœºæ•°ç»„ * * @param int $low * @param int $high * @param int $num * * @return array */ private static function random(int $low = 1, int $high = 9999, int $num = 10): array { $num = $num \u003e $high ? $high : $num; $range = range($low, $high); $array = array_rand(array_flip($range), $num); shuffle($array); return $array; } } InsertionSort::main(); // ç»“æœ Array ( [0] =\u003e 84 [1] =\u003e 1841 [2] =\u003e 3900 [3] =\u003e 4762 [4] =\u003e 5708 [5] =\u003e 5938 [6] =\u003e 6136 [7] =\u003e 6148 [8] =\u003e 6228 [9] =\u003e 9207 ) ","date":"2018-04-14","objectID":"/2018/04/14/php-insertion-sort/:3:1","tags":["PHP"],"title":"PHP æ’å…¥æ’åº","uri":"/2018/04/14/php-insertion-sort/"},{"categories":["PHP"],"content":"æ–¹æ¡ˆäºŒ \u003c?php class InsertionSort { /** * ä¸»è¿è¡Œæ–¹æ³• * * @return void */ public static function main(): void { $random = self::random(); $array = self::sort($random); print_r($array); } /** * æ’å…¥æ’åº * * @param array $array * * @return array */ public static function sort(array \u0026$array): array { $count = count($array) - 1; for ($i = 0; $i \u003c $count; $i++) { if (self::compare($array[$i], $array[$i + 1]) \u003e 0) { $pivot = $array[$i + 1]; for ($j = $i; $j \u003e= 0 \u0026\u0026 $array[$j] \u003e $pivot; $j--) { $array[$j + 1] = $array[$j]; } $array[$j + 1] = $pivot; } } return $array; } /** * æ¯”è¾ƒå¤§å° * * @param int $x * @param int $y * * @return int */ private static function compare(int $x, int $y): int { return $x \u003c=\u003e $y; } /** * äº’æ¢ä½ç½® * * @param int $x * @param int $y * * @return void */ private static function swap(int \u0026$x, int \u0026$y): void { if ($x !== $y) { $t = $x; $x = $y; $y = $t; } } /** * ç”Ÿæˆéšæœºæ•°ç»„ * * @param int $low * @param int $high * @param int $num * * @return array */ private static function random(int $low = 1, int $high = 9999, int $num = 10): array { $num = $num \u003e $high ? $high : $num; $range = range($low, $high); $array = array_rand(array_flip($range), $num); shuffle($array); return $array; } } InsertionSort::main(); // ç»“æœ Array ( [0] =\u003e 133 [1] =\u003e 161 [2] =\u003e 393 [3] =\u003e 1273 [4] =\u003e 1274 [5] =\u003e 2041 [6] =\u003e 5046 [7] =\u003e 7325 [8] =\u003e 7950 [9] =\u003e 9988 ) ","date":"2018-04-14","objectID":"/2018/04/14/php-insertion-sort/:3:2","tags":["PHP"],"title":"PHP æ’å…¥æ’åº","uri":"/2018/04/14/php-insertion-sort/"},{"categories":["PHP"],"content":"æ–¹æ¡ˆä¸‰ \u003c?php class InsertionSort { /** * ä¸»è¿è¡Œæ–¹æ³• * * @return void */ public static function main(): void { $random = self::random(); $array = self::sort($random); print_r($array); } /** * æ’å…¥æ’åº * * @param array $array * * @return array */ public static function sort(array \u0026$array): array { $count = count($array) - 1; for ($i = 0; $i \u003c $count; $i++) { for ($j = $i; $j \u003e= 0 \u0026\u0026 self::compare($array[$j], $array[$j + 1]) \u003e 0; $j--) { self::swap($array[$j], $array[$j + 1]); } } return $array; } /** * æ¯”è¾ƒå¤§å° * * @param int $x * @param int $y * * @return int */ private static function compare(int $x, int $y): int { return $x \u003c=\u003e $y; } /** * äº’æ¢ä½ç½® * * @param int $x * @param int $y * * @return void */ private static function swap(int \u0026$x, int \u0026$y): void { if ($x !== $y) { $t = $x; $x = $y; $y = $t; } } /** * ç”Ÿæˆéšæœºæ•°ç»„ * * @param int $low * @param int $high * @param int $num * * @return array */ private static function random(int $low = 1, int $high = 9999, int $num = 10): array { $num = $num \u003e $high ? $high : $num; $range = range($low, $high); $array = array_rand(array_flip($range), $num); shuffle($array); return $array; } } InsertionSort::main(); // ç»“æœ Array ( [0] =\u003e 57 [1] =\u003e 896 [2] =\u003e 2172 [3] =\u003e 3428 [4] =\u003e 4236 [5] =\u003e 4844 [6] =\u003e 6524 [7] =\u003e 7586 [8] =\u003e 8172 [9] =\u003e 8650 ) ","date":"2018-04-14","objectID":"/2018/04/14/php-insertion-sort/:3:3","tags":["PHP"],"title":"PHP æ’å…¥æ’åº","uri":"/2018/04/14/php-insertion-sort/"},{"categories":["PHP"],"content":"å†’æ³¡æ’åºæ˜¯å‡ ä¹æ˜¯é¢è¯•å’Œç¨æ‡‚ç‚¹ç®—æ³•ä»¥åŠèµ„æ·±äººå£«çš„å£å¤´ç¦…ï¼Œèº«ä¸ºç¨‹åºå‘˜ï¼Œä½ è¦æ˜¯ä¸çŸ¥é“è¿™ä¸ªæ’åºï¼Œå°±ä¼šè¢«ä¸¥é‡é„™è§†çš„ã€‚ç¬”è€…ä»¥å‰ä¹Ÿä¸ä¼šè¿™ä¸ªæ’åºï¼Œæ›´ä¸çŸ¥é“è¿™ä¸ªæ’åºæœ‰ä»€ä¹ˆåµç”¨ï¼Œä½†å¬é‚£ä¹ˆå¤šé«˜æ‰‹å’Œå¤§ç‰›è¯´è¿™äº›åŸºç¡€å¾ˆé‡è¦ï¼Œä¹Ÿå°±ç¡¬ç€å¤´çš®å•ƒäº†ï¼Œæ¯•ç«Ÿå¤šå­¦ä¹ ä¸€ä¸ç‚¹ä¸œè¥¿ï¼Œæ€»å½’æ²¡ä»€ä¹ˆå®³å¤„ã€‚ ","date":"2018-04-14","objectID":"/2018/04/14/php-bubble-sort/:0:0","tags":["PHP"],"title":"PHP - å†’æ³¡æ’åº","uri":"/2018/04/14/php-bubble-sort/"},{"categories":["PHP"],"content":"æ¦‚å¿µ å†’æ³¡æ’åº - Bubble Sortï¼šæ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ã€‚å®ƒé‡å¤åœ°èµ°è®¿è¿‡è¦æ’åºçš„æ•°åˆ—ï¼Œä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœä»–ä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠä»–ä»¬äº¤æ¢è¿‡æ¥ã€‚èµ°è®¿æ•°åˆ—çš„å·¥ä½œæ˜¯é‡å¤åœ°è¿›è¡Œç›´åˆ°æ²¡æœ‰å†éœ€è¦äº¤æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥æ•°åˆ—å·²ç»æ’åºå®Œæˆã€‚è¿™ä¸ªç®—æ³•çš„åå­—ç”±æ¥æ˜¯å› ä¸ºè¶Šå°çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢ã€æµ®ã€åˆ°æ•°åˆ—çš„é¡¶ç«¯ã€‚ ","date":"2018-04-14","objectID":"/2018/04/14/php-bubble-sort/:1:0","tags":["PHP"],"title":"PHP - å†’æ³¡æ’åº","uri":"/2018/04/14/php-bubble-sort/"},{"categories":["PHP"],"content":"æ­¥éª¤ æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢ä»–ä»¬ä¸¤ä¸ª å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ã€‚è¿™æ­¥åšå®Œåï¼Œæœ€åçš„å…ƒç´ ä¼šæ˜¯æœ€å¤§çš„æ•° é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åä¸€ä¸ª æŒç»­æ¯æ¬¡å¯¹è¶Šæ¥è¶Šå°‘çš„å…ƒç´ é‡å¤ä¸Šé¢çš„æ­¥éª¤ï¼Œç›´åˆ°æ²¡æœ‰ä»»ä½•ä¸€å¯¹æ•°å­—éœ€è¦æ¯”è¾ƒ ","date":"2018-04-14","objectID":"/2018/04/14/php-bubble-sort/:2:0","tags":["PHP"],"title":"PHP - å†’æ³¡æ’åº","uri":"/2018/04/14/php-bubble-sort/"},{"categories":["PHP"],"content":"å®ç° ","date":"2018-04-14","objectID":"/2018/04/14/php-bubble-sort/:3:0","tags":["PHP"],"title":"PHP - å†’æ³¡æ’åº","uri":"/2018/04/14/php-bubble-sort/"},{"categories":["PHP"],"content":"æ–¹æ¡ˆä¸€ \u003c?php class BubbleSort { /** * ä¸»è¿è¡Œæ–¹æ³• * * @return void */ public static function main(): void { $random = self::random(); $array = self::sort($random); print_r($array); } /** * å†’æ³¡æ’åº * * @param array $array * * @return array */ public static function sort(array \u0026$array): array { $count = count($array); for ($i = 0; $i \u003c $count; $i++) { for ($j = 0; $j \u003c $count - $i - 1; $j++) { if (self::compare($array[$j], $array[$j + 1]) \u003e 0) { self::swap($array[$j], $array[$j + 1]); } } } return $array; } /** * æ¯”è¾ƒå¤§å° * * @param int $x * @param int $y * * @return int */ private static function compare(int $x, int $y): int { return $x \u003c=\u003e $y; } /** * äº’æ¢ä½ç½® * * @param int $x * @param int $y * * @return void */ private static function swap(int \u0026$x, int \u0026$y): void { if ($x !== $y) { $x ^= $y; $y ^= $x; $x ^= $y; } } /** * ç”Ÿæˆéšæœºæ•°ç»„ * * @param int $low * @param int $high * @param int $num * * @return array */ private static function random(int $low = 1, int $high = 9999, int $num = 10): array { $num = $num \u003e $high ? $high : $num; $range = range($low, $high); $array = array_rand(array_flip($range), $num); shuffle($array); return $array; } } BubbleSort::main(); // ç»“æœ Array ( [0] =\u003e 9 [1] =\u003e 656 [2] =\u003e 755 [3] =\u003e 879 [4] =\u003e 3578 [5] =\u003e 3812 [6] =\u003e 5139 [7] =\u003e 6412 [8] =\u003e 8804 [9] =\u003e 9458 ) ","date":"2018-04-14","objectID":"/2018/04/14/php-bubble-sort/:3:1","tags":["PHP"],"title":"PHP - å†’æ³¡æ’åº","uri":"/2018/04/14/php-bubble-sort/"},{"categories":["PHP"],"content":"æ–¹æ¡ˆäºŒ æ ‡å¿—å˜é‡ç”¨äºè®°å½•æ¯è¶Ÿå†’æ³¡æ’åºæ˜¯å¦å‘ç”Ÿæ•°æ®å…ƒç´ ä½ç½®äº¤æ¢ã€‚å¦‚æœæ²¡æœ‰å‘ç”Ÿäº¤æ¢ï¼Œè¯´æ˜åºåˆ—å·²ç»æœ‰åºäº†ï¼Œä¸å¿…ç»§ç»­è¿›è¡Œä¸‹å»äº† \u003c?php class BubbleSort { /** * ä¸»è¿è¡Œæ–¹æ³• * * @return void */ public static function main(): void { $random = self::random(100, 200); $array = self::sort($random); print_r($array); } /** * å†’æ³¡æ’åº * * @param array $array * * @return array */ public static function sort(array \u0026$array): array { $count = count($array); $isSwapped = true; for ($i = 0; $i \u003c $count \u0026\u0026 $isSwapped === true; $i++) { $isSwapped = false; for ($j = 0; $j \u003c $count - $i - 1; $j++) { if (self::compare($array[$j], $array[$j + 1]) \u003e 0) { self::swap($array[$j], $array[$j + 1]); $isSwapped = true; } } } return $array; } /** * æ¯”è¾ƒå¤§å° * * @param int $x * @param int $y * * @return int */ private static function compare(int $x, int $y): int { return $x \u003c=\u003e $y; } /** * äº’æ¢ä½ç½® * * @param int $x * @param int $y * * @return void */ private static function swap(int \u0026$x, int \u0026$y): void { if ($x !== $y) { $t = $x; $x = $y; $y = $t; } } /** * ç”Ÿæˆéšæœºæ•°ç»„ * * @param int $low * @param int $high * @param int $num * * @return array */ private static function random(int $low = 1, int $high = 9999, int $num = 10): array { $num = $num \u003e $high ? $high : $num; $range = range($low, $high); $array = array_rand(array_flip($range), $num); shuffle($array); return $array; } } BubbleSort::main(); // ç»“æœ Array ( [0] =\u003e 129 [1] =\u003e 140 [2] =\u003e 141 [3] =\u003e 150 [4] =\u003e 152 [5] =\u003e 159 [6] =\u003e 165 [7] =\u003e 175 [8] =\u003e 191 [9] =\u003e 199 ) ","date":"2018-04-14","objectID":"/2018/04/14/php-bubble-sort/:3:2","tags":["PHP"],"title":"PHP - å†’æ³¡æ’åº","uri":"/2018/04/14/php-bubble-sort/"},{"categories":["PHP"],"content":"æ–¹æ¡ˆä¸‰ æŠ€å·§ é¸¡å°¾é…’æ’åº - Cocktail Sortï¼šä¹Ÿå°±æ˜¯å®šå‘å†’æ³¡æ’åºï¼Œé¸¡å°¾é…’æ…æ‹Œæ’åºï¼Œæ…æ‹Œæ’åºï¼ˆä¹Ÿå¯ä»¥è§†ä½œé€‰æ‹©æ’åºçš„ä¸€ç§å˜å½¢ï¼‰ï¼Œæ¶Ÿæ¼ªæ’åºï¼Œæ¥å›æ’åºæˆ–å¿«ä¹å°æ—¶æ’åºï¼Œæ˜¯å†’æ³¡æ’åºçš„ä¸€ç§å˜å½¢ã€‚æ­¤ç®—æ³•ä¸å†’æ³¡æ’åºçš„ä¸åŒå¤„åœ¨äºæ’åºæ—¶æ˜¯ä»¥åŒå‘åœ¨åºåˆ—ä¸­è¿›è¡Œæ’åºã€‚ \u003c?php class CocktailSort { /** * ä¸»è¿è¡Œæ–¹æ³• * * @return void */ public static function main(): void { $random = self::random(); $array = self::sort($random); print_r($array); } /** * é¸¡å°¾é…’æ’åº * * @param array $array * * @return array */ public static function sort(array \u0026$array): array { $left = 0; $right = count($array) - 1; while ($left \u003c $right) { for ($j = $left; $j \u003c $right; $j++) { if (self::compare($array[$j], $array[$j + 1]) \u003e 0) { self::swap($array[$j], $array[$j + 1]); } } $right--; for ($j = $right; $j \u003e $left; $j--) { if (self::compare($array[$j], $array[$j + 1]) \u003e 0) { self::swap($array[$j], $array[$j + 1]); } } $left++; } return $array; } /** * æ¯”è¾ƒå¤§å° * * @param int $x * @param int $y * * @return int */ private static function compare(int $x, int $y): int { return $x \u003c=\u003e $y; } /** * äº’æ¢ä½ç½® * * @param int $x * @param int $y * * @return void */ private static function swap(int \u0026$x, int \u0026$y): void { if ($x !== $y) { $t = $x; $x = $y; $y = $t; } } /** * ç”Ÿæˆéšæœºæ•°ç»„ * * @param int $low * @param int $high * @param int $num * * @return array */ private static function random(int $low = 1, int $high = 9999, int $num = 10): array { $num = $num \u003e $high ? $high : $num; $range = range($low, $high); $array = array_rand(array_flip($range), $num); shuffle($array); return $array; } } CocktailSort::main(); // ç»“æœ Array ( [0] =\u003e 4596 [1] =\u003e 2439 [2] =\u003e 3177 [3] =\u003e 3424 [4] =\u003e 6605 [5] =\u003e 6629 [6] =\u003e 7526 [7] =\u003e 8666 [8] =\u003e 8854 [9] =\u003e 9986 ) ","date":"2018-04-14","objectID":"/2018/04/14/php-bubble-sort/:3:3","tags":["PHP"],"title":"PHP - å†’æ³¡æ’åº","uri":"/2018/04/14/php-bubble-sort/"},{"categories":["PHP"],"content":"æ—¥æœŸå‡½æ•°åœ¨å¹³æ—¶çš„å¼€å‘ä¸­ç”¨çš„æ¯”è¾ƒå¹¿æ³›ï¼Œå°¤å…¶æ˜¯ date() å‡½æ•°ï¼Œå¼ºå¤§åˆ°è®©äººçª’æ¯ï¼Œå…¶æ ¼å¼ä¹‹å¤šè®©äººç›®çœ©ã€‚è¿™é‡Œæˆ‘ä¹Ÿåªèƒ½ç®¡ä¸­çª¥è±¹äº†ï¼Œæ›´å¤šçš„ç”¨æ³•è¯·å‚çœ‹å®˜æ–¹æ–‡æ¡£ã€‚ å‡½æ•° date å¯è¯†åˆ«çš„æ ¼å¼ è¿™é‡Œæˆ‘æ— è€»çš„æŠ„äº†ä¸€éæ‰‹å†Œï¼Œä¸ä¸ºåˆ«çš„ï¼Œå°±æ˜¯åŠ å¼ºä¸€ä¸‹è‡ªå·±çš„è®°å¿†ï¼Œè§ç¬‘äº†ã€‚ ","date":"2018-04-13","objectID":"/2018/04/13/php-date-calculation/:0:0","tags":["PHP"],"title":"PHP - æ—¥æœŸç›¸å…³è®¡ç®—","uri":"/2018/04/13/php-date-calculation/"},{"categories":["PHP"],"content":"æ—¶é—´æ ¼å¼ æ ¼å¼ è¯´æ˜ è¿”å›å€¼ a å°å†™çš„ä¸Šåˆå’Œä¸‹åˆå€¼ am æˆ– pm A å¤§å†™çš„ä¸Šåˆå’Œä¸‹åˆå€¼ AM æˆ– PM B Swatch Internet æ ‡å‡†æ—¶ 000 åˆ° 999 g å°æ—¶ï¼Œ12 å°æ—¶æ ¼å¼ï¼Œæ²¡æœ‰å‰å¯¼é›¶ 1 åˆ° 12 G å°æ—¶ï¼Œ24 å°æ—¶æ ¼å¼ï¼Œæ²¡æœ‰å‰å¯¼é›¶ 0 åˆ° 23 h å°æ—¶ï¼Œ12 å°æ—¶æ ¼å¼ï¼Œæœ‰å‰å¯¼é›¶ 01 åˆ° 12 H å°æ—¶ï¼Œ24 å°æ—¶æ ¼å¼ï¼Œæœ‰å‰å¯¼é›¶ 00 åˆ° 23 i æœ‰å‰å¯¼é›¶çš„åˆ†é’Ÿæ•° 00 åˆ° 59\u003e s ç§’æ•°ï¼Œæœ‰å‰å¯¼é›¶ 00 åˆ° 59\u003e u æ¯«ç§’ï¼ˆPHP 5.2.2 æ–°åŠ ï¼‰ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ date() å‡½æ•°æ€»æ˜¯è¿”å› 000000 å› ä¸ºå®ƒåªæ¥å— integer å‚æ•°ï¼Œè€Œ DateTime::format() æ‰æ”¯æŒæ¯«ç§’ ç¤ºä¾‹: 654321 \u003c?php $time = strtotime('2020-06-01 12:59:59'); $array = [ 'a' =\u003e date('a', $time), 'A' =\u003e date('A', $time), 'B' =\u003e date('B', $time), 'g' =\u003e date('g', $time), 'G' =\u003e date('G', $time), 'h' =\u003e date('h', $time), 'H' =\u003e date('H', $time), 'i' =\u003e date('i', $time), 's' =\u003e date('s', $time), 'u' =\u003e date('u', $time), ]; print_r($array); // ç»“æœ Array ( [a] =\u003e pm [A] =\u003e PM [B] =\u003e 249 [g] =\u003e 12 [G] =\u003e 12 [h] =\u003e 12 [H] =\u003e 12 [i] =\u003e 59 [s] =\u003e 59 [u] =\u003e 000000 ) ","date":"2018-04-13","objectID":"/2018/04/13/php-date-calculation/:1:0","tags":["PHP"],"title":"PHP - æ—¥æœŸç›¸å…³è®¡ç®—","uri":"/2018/04/13/php-date-calculation/"},{"categories":["PHP"],"content":"æ—¶åŒºæ ¼å¼ æ ¼å¼ è¯´æ˜ è¿”å›å€¼ e æ—¶åŒºæ ‡è¯†ï¼ˆPHP 5.1.0 æ–°åŠ ï¼‰ ä¾‹å¦‚ï¼šUTCï¼ŒGMTï¼ŒAtlantic/Azores I æ˜¯å¦ä¸ºå¤ä»¤æ—¶ å¦‚æœæ˜¯å¤ä»¤æ—¶ä¸º 1ï¼Œå¦åˆ™ä¸º 0 O ä¸æ ¼æ—å¨æ²»æ—¶é—´ç›¸å·®çš„å°æ—¶æ•° ä¾‹å¦‚ï¼š+0200 P ä¸æ ¼æ—å¨æ²»æ—¶é—´ï¼ˆGMTï¼‰çš„å·®åˆ«ï¼Œå°æ—¶å’Œåˆ†é’Ÿä¹‹é—´æœ‰å†’å·åˆ†éš”ï¼ˆPHP 5.1.3 æ–°åŠ ï¼‰ ä¾‹å¦‚ï¼š+02:00 T æœ¬æœºæ‰€åœ¨çš„æ—¶åŒº ä¾‹å¦‚ï¼šESTï¼ŒMDTï¼ˆåœ¨ Windows ä¸‹ä¸ºå®Œæ•´æ–‡æœ¬æ ¼å¼ï¼Œä¾‹å¦‚ï¼šEastern Standard Timeï¼Œä¸­æ–‡ç‰ˆä¼šæ˜¾ç¤ºã€ä¸­å›½æ ‡å‡†æ—¶é—´ã€ï¼‰ Z æ—¶å·®åç§»é‡çš„ç§’æ•°ã€‚UTC è¥¿è¾¹çš„æ—¶åŒºåç§»é‡æ€»æ˜¯è´Ÿçš„ï¼ŒUTC ä¸œè¾¹çš„æ—¶åŒºåç§»é‡æ€»æ˜¯æ­£çš„ -43200 åˆ° 43200 \u003c?php $time = strtotime('2020-06-01 12:59:59'); $array = [ 'e' =\u003e date('e', $time), 'I' =\u003e date('I', $time), 'O' =\u003e date('O', $time), 'P' =\u003e date('P', $time), 'T' =\u003e date('T', $time), ]; print_r($array); // ç»“æœ Array ( [e] =\u003e PRC [I] =\u003e 0 [O] =\u003e +0800 [P] =\u003e +08:00 [T] =\u003e CST ) ","date":"2018-04-13","objectID":"/2018/04/13/php-date-calculation/:2:0","tags":["PHP"],"title":"PHP - æ—¥æœŸç›¸å…³è®¡ç®—","uri":"/2018/04/13/php-date-calculation/"},{"categories":["PHP"],"content":"æ—¥æœŸæ—¶é—´æ ¼å¼ æ ¼å¼ è¯´æ˜ è¿”å›å€¼ c ISO 8601 æ ¼å¼çš„æ—¥æœŸï¼ˆPHP 5 æ–°åŠ ï¼‰ 2004-02-12T15:19:21+00:00 r RFC 822 æ ¼å¼çš„æ—¥æœŸ ä¾‹å¦‚ï¼šThu, 21 Dec 2000 16:01:07 +0200 U ä» Unix çºªå…ƒï¼ˆJanuary 1 1970 00:00:00 GMTï¼‰å¼€å§‹è‡³ä»Šçš„ç§’æ•° å‚è§ time() \u003c?php $time = strtotime('2020-06-01 12:59:59'); $array = [ 'c' =\u003e date('c', $time), 'r' =\u003e date('r', $time), 'U' =\u003e date('U', $time), ]; print_r($array); // ç»“æœ Array ( [c] =\u003e 2020-06-01T12:59:59+08:00 [r] =\u003e Mon, 01 Jun 2020 12:59:59 +0800 [U] =\u003e 1590987599 ) ","date":"2018-04-13","objectID":"/2018/04/13/php-date-calculation/:3:0","tags":["PHP"],"title":"PHP - æ—¥æœŸç›¸å…³è®¡ç®—","uri":"/2018/04/13/php-date-calculation/"},{"categories":["PHP"],"content":"æ—¥æ ¼å¼ æ ¼å¼ è¯´æ˜ è¿”å›å€¼ d æœˆä»½ä¸­çš„ç¬¬å‡ å¤©ï¼Œæœ‰å‰å¯¼é›¶çš„ 2 ä½æ•°å­— 01 åˆ° 31 D æ˜ŸæœŸä¸­çš„ç¬¬å‡ å¤©ï¼Œæ–‡æœ¬è¡¨ç¤ºï¼Œ3 ä¸ªå­—æ¯ Mon åˆ° Sun j æœˆä»½ä¸­çš„ç¬¬å‡ å¤©ï¼Œæ²¡æœ‰å‰å¯¼é›¶ 1 åˆ° 31 l æ˜ŸæœŸå‡ ï¼Œå®Œæ•´çš„æ–‡æœ¬æ ¼å¼ Sunday åˆ° Saturday N ISO-8601 æ ¼å¼æ•°å­—è¡¨ç¤ºçš„æ˜ŸæœŸä¸­çš„ç¬¬å‡ å¤©ï¼ˆPHP 5.1.0 æ–°åŠ ï¼‰ 1ï¼ˆè¡¨ç¤ºæ˜ŸæœŸä¸€ï¼‰åˆ° 7ï¼ˆè¡¨ç¤ºæ˜ŸæœŸå¤©ï¼‰ S æ¯æœˆå¤©æ•°åé¢çš„è‹±æ–‡åç¼€ï¼Œ2 ä¸ªå­—ç¬¦ stï¼Œndï¼Œrd æˆ–è€… thã€‚å¯ä»¥å’Œ j ä¸€èµ·ç”¨ w æ˜ŸæœŸä¸­çš„ç¬¬å‡ å¤©ï¼Œæ•°å­—è¡¨ç¤º 0ï¼ˆè¡¨ç¤ºæ˜ŸæœŸå¤©ï¼‰åˆ° 6ï¼ˆè¡¨ç¤ºæ˜ŸæœŸå…­ï¼‰ z å¹´ä»½ä¸­çš„ç¬¬å‡ å¤© 0 åˆ° 365 \u003c?php $time = strtotime('2020-06-01 12:59:59'); $array = [ 'd' =\u003e date('d', $time), 'D' =\u003e date('D', $time), 'j' =\u003e date('j', $time), 'l' =\u003e date('l', $time), 'N' =\u003e date('N', $time), 'S' =\u003e date('S', $time), 'w' =\u003e date('w', $time), 'z' =\u003e date('z', $time), ]; print_r($array); // ç»“æœ Array ( [d] =\u003e 01 [D] =\u003e Mon [j] =\u003e 1 [l] =\u003e Monday [N] =\u003e 1 [S] =\u003e st [w] =\u003e 1 [z] =\u003e 152 ) ","date":"2018-04-13","objectID":"/2018/04/13/php-date-calculation/:4:0","tags":["PHP"],"title":"PHP - æ—¥æœŸç›¸å…³è®¡ç®—","uri":"/2018/04/13/php-date-calculation/"},{"categories":["PHP"],"content":"æ˜ŸæœŸæ ¼å¼ æ ¼å¼ è¯´æ˜ è¿”å›å€¼ W ISO-8601 æ ¼å¼å¹´ä»½ä¸­çš„ç¬¬å‡ å‘¨ï¼Œæ¯å‘¨ä»æ˜ŸæœŸä¸€å¼€å§‹ï¼ˆPHP 4.1.0 æ–°åŠ çš„ï¼‰ ä¾‹å¦‚ï¼š42ï¼ˆå½“å¹´çš„ç¬¬ 42 å‘¨ï¼‰ \u003c?php $time = strtotime('2020-06-01 12:59:59'); $array = [ 'W' =\u003e date('W', $time), ]; print_r($array); // ç»“æœ Array ( [W] =\u003e 23 ) ","date":"2018-04-13","objectID":"/2018/04/13/php-date-calculation/:5:0","tags":["PHP"],"title":"PHP - æ—¥æœŸç›¸å…³è®¡ç®—","uri":"/2018/04/13/php-date-calculation/"},{"categories":["PHP"],"content":"æœˆæ ¼å¼ æ ¼å¼ è¯´æ˜ è¿”å›å€¼ F æœˆä»½ï¼Œå®Œæ•´çš„æ–‡æœ¬æ ¼å¼ï¼Œä¾‹å¦‚ January æˆ–è€… March January åˆ° December m æ•°å­—è¡¨ç¤ºçš„æœˆä»½ï¼Œæœ‰å‰å¯¼é›¶ 01 åˆ° 12 M ä¸‰ä¸ªå­—æ¯ç¼©å†™è¡¨ç¤ºçš„æœˆä»½ Jan åˆ° Dec n æ•°å­—è¡¨ç¤ºçš„æœˆä»½ï¼Œæ²¡æœ‰å‰å¯¼é›¶ 1 åˆ° 12 t æŒ‡å®šçš„æœˆä»½æœ‰å‡ å¤© 28 åˆ° 31 \u003c?php $time = strtotime('2020-06-01 12:59:59'); $array = [ 'F' =\u003e date('F', $time), 'm' =\u003e date('m', $time), 'M' =\u003e date('M', $time), 'n' =\u003e date('n', $time), 't' =\u003e date('t', $time), ]; print_r($array); // ç»“æœ Array ( [F] =\u003e June [m] =\u003e 06 [M] =\u003e Jun [n] =\u003e 6 [t] =\u003e 30 ) ","date":"2018-04-13","objectID":"/2018/04/13/php-date-calculation/:6:0","tags":["PHP"],"title":"PHP - æ—¥æœŸç›¸å…³è®¡ç®—","uri":"/2018/04/13/php-date-calculation/"},{"categories":["PHP"],"content":"å¹´æ ¼å¼ æ ¼å¼ è¯´æ˜ è¿”å›å€¼ L æ˜¯å¦ä¸ºé—°å¹´ å¦‚æœæ˜¯é—°å¹´ä¸º 1ï¼Œå¦åˆ™ä¸º 0 o ISO-8601 æ ¼å¼å¹´ä»½æ•°å­—ã€‚è¿™å’Œ Y çš„å€¼ç›¸åŒï¼Œåªé™¤äº†å¦‚æœ ISO çš„æ˜ŸæœŸæ•°ï¼ˆWï¼‰å±äºå‰ä¸€å¹´æˆ–ä¸‹ä¸€å¹´ï¼Œåˆ™ç”¨é‚£ä¸€å¹´ã€‚ï¼ˆPHP 5.1.0 æ–°åŠ ï¼‰ ä¾‹å¦‚ï¼š1999 or 2003 Y 4 ä½æ•°å­—å®Œæ•´è¡¨ç¤ºçš„å¹´ä»½ ä¾‹å¦‚ï¼š1999 æˆ– 2003 y 2 ä½æ•°å­—è¡¨ç¤ºçš„å¹´ä»½ ä¾‹å¦‚ï¼š99 æˆ– 03 \u003c?php $time = strtotime('2020-06-01 12:59:59'); $array = [ 'L' =\u003e date('L', $time), 'o' =\u003e date('o', $time), 'Y' =\u003e date('Y', $time), 'y' =\u003e date('y', $time), ]; print_r($array); // ç»“æœ Array ( [L] =\u003e 1 [o] =\u003e 2020 [Y] =\u003e 2020 [y] =\u003e 20 ) è®¡ç®—æŒ‡å®šæ—¥æœŸæ—¶é—´ ","date":"2018-04-13","objectID":"/2018/04/13/php-date-calculation/:7:0","tags":["PHP"],"title":"PHP - æ—¥æœŸç›¸å…³è®¡ç®—","uri":"/2018/04/13/php-date-calculation/"},{"categories":["PHP"],"content":"å½“å‰æ—¥æœŸæ—¶é—´çš„ç›¸å¯¹è®¡ç®— \u003c?php date_default_timezone_set('PRC'); $array = [ 'å½“å‰æ—¥æœŸæ—¶é—´' =\u003e date('Y-m-d H:i:s'), 'å‰ä¸€å¤©çš„æ­¤æ—¶æ—¥æœŸæ—¶é—´' =\u003e date('Y-m-d H:i:s', strtotime('-1 day')), 'åä¸€å¤©çš„æ­¤æ—¶æ—¥æœŸæ—¶é—´' =\u003e date('Y-m-d H:i:s', strtotime('+1 day')), 'ä¸Šä¸€ä¸ªæœˆçš„æ­¤æ—¶æ—¥æœŸæ—¶é—´' =\u003e date('Y-m-d H:i:s', strtotime('-1 month')), 'ä¸‹ä¸€ä¸ªæœˆçš„æ­¤æ—¶æ—¥æœŸæ—¶é—´' =\u003e date('Y-m-d H:i:s', strtotime('+1 month')), 'åŠ  1 æœˆ 2 å‘¨ 3 å¤© 4 æ—¶ 5 åˆ† 6 ç§’çš„æ­¤æ—¶æ—¥æœŸæ—¶é—´' =\u003e date('Y-m-d H:i:s', strtotime('+1 month +2 weeks +3 days +4 hours +5 minutes +6 seconds')), ]; print_r($array); // ç»“æœ Array ( [å½“å‰æ—¥æœŸæ—¶é—´] =\u003e 2018-04-13 21:24:30 [å‰ä¸€å¤©çš„æ­¤æ—¶æ—¥æœŸæ—¶é—´] =\u003e 2018-04-12 21:24:30 [åä¸€å¤©çš„æ­¤æ—¶æ—¥æœŸæ—¶é—´] =\u003e 2018-04-14 21:24:30 [ä¸Šä¸€ä¸ªæœˆçš„æ­¤æ—¶æ—¥æœŸæ—¶é—´] =\u003e 2018-03-13 21:24:30 [ä¸‹ä¸€ä¸ªæœˆçš„æ­¤æ—¶æ—¥æœŸæ—¶é—´] =\u003e 2018-05-13 21:24:30 [åŠ  1 æœˆ 2 å‘¨ 3 å¤© 4 æ—¶ 5 åˆ† 6 ç§’çš„æ­¤æ—¶æ—¥æœŸæ—¶é—´] =\u003e 2018-05-31 01:29:36 ) ","date":"2018-04-13","objectID":"/2018/04/13/php-date-calculation/:8:0","tags":["PHP"],"title":"PHP - æ—¥æœŸç›¸å…³è®¡ç®—","uri":"/2018/04/13/php-date-calculation/"},{"categories":["PHP"],"content":"èµ·å§‹ç»“æŸæ—¥æœŸæ—¶é—´çš„è®¡ç®— \u003c?php date_default_timezone_set('PRC'); $array = [ 'æœ¬å‘¨èµ·å§‹æ—¥æœŸæ—¶é—´' =\u003e date('Y-m-d H:i:s', mktime(0, 0, 0, date('m'), date('d') - date('w') + 1 - 5, date('Y'))), 'æœ¬å‘¨ç»“æŸæ—¥æœŸæ—¶é—´' =\u003e date('Y-m-d H:i:s', mktime(23, 59, 59, date('m'), date('d') - date('w') + 7 - 5, date('Y'))), 'ä¸Šæœˆèµ·å§‹æ—¥æœŸæ—¶é—´' =\u003e date('Y-m-d H:i:s', mktime(0, 0, 0, date('m') - 1, 1, date('Y'))), 'ä¸Šæœˆç»“æŸæ—¥æœŸæ—¶é—´' =\u003e date('Y-m-d H:i:s', mktime(23, 59, 59, date('m'), 0, date('Y'))), 'æœ¬æœˆèµ·å§‹æ—¥æœŸæ—¶é—´' =\u003e date('Y-m-d H:i:s', mktime(0, 0, 0, date('m'), 1, date('Y'))), 'æœ¬æœˆç»“æŸæ—¥æœŸæ—¶é—´' =\u003e date('Y-m-d H:i:s', mktime(23, 59, 59, date('m'), date('t'), date('Y'))), 'ä¸‹æœˆèµ·å§‹æ—¥æœŸæ—¶é—´' =\u003e date('Y-m-d H:i:s', mktime(0, 0, 0, date('m') + 1, 1, date('Y'))), 'ä¸‹æœˆç»“æŸæ—¥æœŸæ—¶é—´' =\u003e date('Y-m-d H:i:s', mktime(23, 59, 59, date('m') + 1, date('t') + 1, date('Y'))), ]; print_r($array); // ç»“æœ Array ( [æœ¬å‘¨èµ·å§‹æ—¥æœŸæ—¶é—´] =\u003e 2018-04-04 00:00:00 [æœ¬å‘¨ç»“æŸæ—¥æœŸæ—¶é—´] =\u003e 2018-04-10 23:59:59 [ä¸Šæœˆèµ·å§‹æ—¥æœŸæ—¶é—´] =\u003e 2018-03-01 00:00:00 [ä¸Šæœˆç»“æŸæ—¥æœŸæ—¶é—´] =\u003e 2018-03-31 23:59:59 [æœ¬æœˆèµ·å§‹æ—¥æœŸæ—¶é—´] =\u003e 2018-04-01 00:00:00 [æœ¬æœˆç»“æŸæ—¥æœŸæ—¶é—´] =\u003e 2018-04-30 23:59:59 [ä¸‹æœˆèµ·å§‹æ—¥æœŸæ—¶é—´] =\u003e 2018-05-01 00:00:00 [ä¸‹æœˆç»“æŸæ—¥æœŸæ—¶é—´] =\u003e 2018-05-31 23:59:59 ) ","date":"2018-04-13","objectID":"/2018/04/13/php-date-calculation/:9:0","tags":["PHP"],"title":"PHP - æ—¥æœŸç›¸å…³è®¡ç®—","uri":"/2018/04/13/php-date-calculation/"},{"categories":["PHP"],"content":"PHP å½“ç„¶ä¹Ÿæœ‰è‡ªå·±çš„å¼‚å¸¸å¤„ç†ï¼Œä¸è¿‡é‚£å·²ç»æ˜¯ PHP5 ä»¥åçš„äº‹äº†ã€‚å°±æˆ‘è‡ªå·±è¿™äº›å¹´å†™ç¨‹åºçš„ç°çŠ¶çœ‹ï¼Œæˆ‘åŸºæœ¬ä¸Šå°±æ²¡æœ‰çœŸæ­£æ˜ç™½ä»€ä¹ˆæ˜¯å¼‚å¸¸å¤„ç†ï¼Œç»å¸¸æŠŠå¼‚å¸¸å’Œé”™è¯¯å¤„ç†æ··ä¸ºä¸€è°ˆï¼Œå…³äºä»£ç ä¸­çš„é‚£äº›å†™æ³•ï¼Œä¸æ˜¯å†™é”™äº†ï¼Œå°±æ˜¯å†™çš„å¤ªç‰¹ä¹ˆçƒ‚äº†ã€‚æ°å¥½æœ€è¿‘åœ¨å†™ä¸€äº›ç±»æ—¶ç”¨åˆ°å¼‚å¸¸å¤„ç†äº†ï¼Œé¡ºä¾¿å°±æŠŠè¿™ä¸ªæ•´ç†ä¸‹ï¼Œä½†æ˜¯è¿™ä¸ªä»…ä»£è¡¨æˆ‘ä¸ªäººçš„ä¸€äº›ç†è§£å’Œä½¿ç”¨ï¼Œä¹Ÿå¯èƒ½æ˜¯é”™è¯¯çš„ï¼Œè¿˜è¯·è°¨æ…é˜…è¯»ã€‚ ","date":"2018-04-05","objectID":"/2018/04/05/php-error-exception-handler/:0:0","tags":["PHP"],"title":"PHP ä¸­çš„é”™è¯¯å’Œå¼‚å¸¸å¤„ç†","uri":"/2018/04/05/php-error-exception-handler/"},{"categories":["PHP"],"content":"æ¦‚è¿° ","date":"2018-04-05","objectID":"/2018/04/05/php-error-exception-handler/:1:0","tags":["PHP"],"title":"PHP ä¸­çš„é”™è¯¯å’Œå¼‚å¸¸å¤„ç†","uri":"/2018/04/05/php-error-exception-handler/"},{"categories":["PHP"],"content":"é”™è¯¯å¤„ç†å®šä¹‰ é”™è¯¯æ˜¯æŒ‡å¯¼è‡´ç³»ç»Ÿä¸èƒ½æŒ‰ç…§ç”¨æˆ·æ„å›¾å·¥ä½œçš„ä¸€åˆ‡åŸå› ã€äº‹ä»¶ã€‚åœ¨ç¨‹åºè®¾è®¡è¿‡ç¨‹ä¸­ï¼Œç”±äºæŸäº›é”™è¯¯çš„å­˜åœ¨ï¼Œè‡´ä½¿ç¨‹åºæ— æ³•æ­£å¸¸è¿è¡Œï¼Œå¤„ç†è¿™äº›é”™è¯¯ä»¥ä½¿ç¨‹åºæ­£ç¡®è¿è¡Œå°±ç§°ä¸ºé”™è¯¯å¤„ç†ã€‚é”™è¯¯å¤„ç†åŠŸèƒ½æ˜¯è¡¡é‡ç¼–è¯‘å™¨æ€§èƒ½çš„é‡è¦æ–¹é¢ï¼Œå®ƒåœ¨å¸®åŠ©ç¨‹åºå‘˜å°½å¿«ä¿®æ”¹ç¨‹åºæ–¹é¢èµ·åˆ°äº†éå¸¸é‡è¦çš„ä½œç”¨ã€‚ é”™è¯¯ç±»å‹ï¼š è¯­æ³•é”™è¯¯ è¯­ä¹‰é”™è¯¯ é€»è¾‘é”™è¯¯ ","date":"2018-04-05","objectID":"/2018/04/05/php-error-exception-handler/:1:1","tags":["PHP"],"title":"PHP ä¸­çš„é”™è¯¯å’Œå¼‚å¸¸å¤„ç†","uri":"/2018/04/05/php-error-exception-handler/"},{"categories":["PHP"],"content":"å¼‚å¸¸å¤„ç†å®šä¹‰ ç¼–ç¨‹è¯­è¨€æˆ–è®¡ç®—æœºç¡¬ä»¶é‡Œçš„ä¸€ç§æœºåˆ¶ï¼Œç”¨äºå¤„ç†è½¯ä»¶æˆ–ä¿¡æ¯ç³»ç»Ÿä¸­å‡ºç°çš„å¼‚å¸¸çŠ¶å†µï¼ˆå³è¶…å‡ºç¨‹åºæ­£å¸¸æ‰§è¡Œæµç¨‹çš„æŸäº›ç‰¹æ®Šæ¡ä»¶ï¼‰ ","date":"2018-04-05","objectID":"/2018/04/05/php-error-exception-handler/:1:2","tags":["PHP"],"title":"PHP ä¸­çš„é”™è¯¯å’Œå¼‚å¸¸å¤„ç†","uri":"/2018/04/05/php-error-exception-handler/"},{"categories":["PHP"],"content":"é¢„å®šä¹‰çš„é”™è¯¯ä»£ç  å½“ç„¶ä½ ä¹Ÿå¯ä»¥å‚è§å®˜ç½‘çš„æ‰‹å†Œ é¢„å®šä¹‰å¸¸é‡ï¼Œæˆ‘æŠ„ä¸€éçº¯ç²¹æ˜¯ä¸ºäº†åŠ æ·±è®°å¿†ã€‚è‡³äºæ¯ç§é”™è¯¯åœ¨ä»€ä¹ˆæƒ…å†µä¸‹äº§ç”Ÿï¼Œä½ å¯ä»¥å‚çœ‹ PHPçš„é”™è¯¯æœºåˆ¶æ€»ç»“ã€‚ å¸¸é‡ å–å€¼ è¯´æ˜ å¤‡æ³¨ E_ERROR 1 è‡´å‘½çš„è¿è¡Œæ—¶é”™è¯¯ã€‚è¿™ç±»é”™è¯¯ä¸€èˆ¬æ˜¯ä¸å¯æ¢å¤çš„æƒ…å†µï¼Œä¾‹å¦‚å†…å­˜åˆ†é…å¯¼è‡´çš„é—®é¢˜ã€‚åæœæ˜¯å¯¼è‡´è„šæœ¬ç»ˆæ­¢ä¸å†ç»§ç»­è¿è¡Œ E_WARNING 2 è¿è¡Œæ—¶è­¦å‘Šï¼ˆéè‡´å‘½é”™è¯¯ï¼‰ã€‚ä»…ç»™å‡ºæç¤ºä¿¡æ¯ï¼Œä½†æ˜¯è„šæœ¬ä¸ä¼šç»ˆæ­¢è¿è¡Œ E_PARSE 4 ç¼–è¯‘æ—¶è¯­æ³•è§£æé”™è¯¯ã€‚è§£æé”™è¯¯ä»…ä»…ç”±åˆ†æå™¨äº§ç”Ÿ E_NOTICE 8 è¿è¡Œæ—¶é€šçŸ¥ã€‚è¡¨ç¤ºè„šæœ¬é‡åˆ°å¯èƒ½ä¼šè¡¨ç°ä¸ºé”™è¯¯çš„æƒ…å†µï¼Œä½†æ˜¯åœ¨å¯ä»¥æ­£å¸¸è¿è¡Œçš„è„šæœ¬é‡Œé¢ä¹Ÿå¯èƒ½ä¼šæœ‰ç±»ä¼¼çš„é€šçŸ¥ E_CORE_ERROR 16 åœ¨ PHP åˆå§‹åŒ–å¯åŠ¨è¿‡ç¨‹ä¸­å‘ç”Ÿçš„è‡´å‘½é”™è¯¯ã€‚è¯¥é”™è¯¯ç±»ä¼¼ E_ERRORï¼Œä½†æ˜¯æ˜¯ç”± PHP å¼•æ“æ ¸å¿ƒäº§ç”Ÿçš„ since PHP 4 E_CORE_WARNING 32 PHP åˆå§‹åŒ–å¯åŠ¨è¿‡ç¨‹ä¸­å‘ç”Ÿçš„è­¦å‘Šï¼ˆéè‡´å‘½é”™è¯¯ï¼‰ã€‚ç±»ä¼¼ E_WARNINGï¼Œä½†æ˜¯æ˜¯ç”± PHP å¼•æ“æ ¸å¿ƒäº§ç”Ÿçš„ since PHP 4 E_COMPILE_ERROR 64 è‡´å‘½ç¼–è¯‘æ—¶é”™è¯¯ã€‚ç±»ä¼¼ E_ERRORï¼Œä½†æ˜¯æ˜¯ç”± Zend è„šæœ¬å¼•æ“äº§ç”Ÿçš„ since PHP 4 E_COMPILE_WARNING 128 ç¼–è¯‘æ—¶è­¦å‘Šï¼ˆéè‡´å‘½é”™è¯¯ï¼‰ã€‚ç±»ä¼¼ E_WARNINGï¼Œä½†æ˜¯æ˜¯ç”± Zend è„šæœ¬å¼•æ“äº§ç”Ÿçš„ since PHP 4 E_USER_ERROR 256 ç”¨æˆ·äº§ç”Ÿçš„é”™è¯¯ä¿¡æ¯ã€‚ç±»ä¼¼ E_ERRORï¼Œä½†æ˜¯æ˜¯ç”±ç”¨æˆ·è‡ªå·±åœ¨ä»£ç ä¸­ä½¿ç”¨ PHP å‡½æ•° trigger_error() æ¥äº§ç”Ÿçš„ since PHP 4 E_USER_WARNING 512 ç”¨æˆ·äº§ç”Ÿçš„è­¦å‘Šä¿¡æ¯ã€‚ç±»ä¼¼ E_WARNINGï¼Œä½†æ˜¯æ˜¯ç”±ç”¨æˆ·è‡ªå·±åœ¨ä»£ç ä¸­ä½¿ç”¨ PHP å‡½æ•° trigger_error() æ¥äº§ç”Ÿçš„ since PHP 4 E_USER_NOTICE 1024 ç”¨æˆ·äº§ç”Ÿçš„é€šçŸ¥ä¿¡æ¯ã€‚ç±»ä¼¼ E_NOTICEï¼Œä½†æ˜¯æ˜¯ç”±ç”¨æˆ·è‡ªå·±åœ¨ä»£ç ä¸­ä½¿ç”¨ PHP å‡½æ•° trigger_error() æ¥äº§ç”Ÿçš„ since PHP 4 E_STRICT 2048 å¯ç”¨ PHP å¯¹ä»£ç çš„ä¿®æ”¹å»ºè®®ï¼Œä»¥ç¡®ä¿ä»£ç å…·æœ‰æœ€ä½³çš„äº’æ“ä½œæ€§å’Œå‘å‰å…¼å®¹æ€§ since PHP 5 E_RECOVERABLE_ERROR 4096 å¯è¢«æ•æ‰çš„è‡´å‘½é”™è¯¯ã€‚å®ƒè¡¨ç¤ºå‘ç”Ÿäº†ä¸€ä¸ªå¯èƒ½éå¸¸å±é™©çš„é”™è¯¯ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å¯¼è‡´ PHP å¼•æ“å¤„äºä¸ç¨³å®šçš„çŠ¶æ€ã€‚å¦‚æœè¯¥é”™è¯¯æ²¡æœ‰è¢«ç”¨æˆ·è‡ªå®šä¹‰å¥æŸ„æ•è·ï¼ˆå‚è§ set_error_handler()ï¼‰ï¼Œå°†æˆä¸ºä¸€ä¸ª E_ERRORã€€ä»è€Œè„šæœ¬ä¼šç»ˆæ­¢è¿è¡Œ since PHP 5.2.0 E_DEPRECATED 8192 è¿è¡Œæ—¶é€šçŸ¥ã€‚å¯ç”¨åå°†ä¼šå¯¹åœ¨æœªæ¥ç‰ˆæœ¬ä¸­å¯èƒ½æ— æ³•æ­£å¸¸å·¥ä½œçš„ä»£ç ç»™å‡ºè­¦å‘Š since PHP 5.3.0 E_USER_DEPRECATED 16384 ç”¨æˆ·äº§å°‘çš„è­¦å‘Šä¿¡æ¯ã€‚ç±»ä¼¼ E_DEPRECATEDï¼Œä½†æ˜¯æ˜¯ç”±ç”¨æˆ·è‡ªå·±åœ¨ä»£ç ä¸­ä½¿ç”¨ PHP å‡½æ•° trigger_error() æ¥äº§ç”Ÿçš„ since PHP 5.3.0 E_ALL 30719 E_STRICT å‡ºå¤–çš„æ‰€æœ‰é”™è¯¯å’Œè­¦å‘Šä¿¡æ¯ 30719 in PHP 5.3.x, 6143 in PHP 5.2.x, 2047 previously è­¦å‘Š å¯ä»¥ä½¿ç”¨æŒ‰ä½è¿ç®—ç¬¦æ¥ç»„åˆè¿™äº›å€¼æˆ–è€…å±è”½æŸäº›ç±»å‹çš„é”™è¯¯ã€‚åœ¨ php.ini ä¹‹ä¸­ï¼Œä»… |, ~, !, ^, \u0026 è¿™äº›æ“ä½œç¬¦ä¼šè¢«æ­£ç¡®è§£æ ä»¥ä¸‹çº§åˆ«çš„é”™è¯¯ä¸èƒ½ç”±ç”¨æˆ·å®šä¹‰çš„å‡½æ•°æ¥å¤„ç†ï¼šE_ERRORã€E_PARSEã€E_CORE_ERRORã€E_CORE_WARNINGã€E_COMPILE_ERRORã€E_COMPILE_WARNING å’Œåœ¨è°ƒç”¨ set_error_handler() å‡½æ•°æ‰€åœ¨æ–‡ä»¶ä¸­äº§ç”Ÿçš„å¤§å¤šæ•° E_STRICT ","date":"2018-04-05","objectID":"/2018/04/05/php-error-exception-handler/:1:3","tags":["PHP"],"title":"PHP ä¸­çš„é”™è¯¯å’Œå¼‚å¸¸å¤„ç†","uri":"/2018/04/05/php-error-exception-handler/"},{"categories":["PHP"],"content":"ç›¸å…³æ–‡ç«  æ·±å…¥ç†è§£PHPåŸç†ä¹‹å¼‚å¸¸æœºåˆ¶ æˆ‘ä»¬ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨å¼‚å¸¸ PHP æœ€ä½³å®è·µä¹‹å¼‚å¸¸å’Œé”™è¯¯ Throwable Exceptions and Errors in PHP 7 æ—©æœ‰äººæŠŠ PHP å„ä¸ªç‰ˆæœ¬çš„é”™è¯¯å’Œå¼‚å¸¸å¤„ç†ç±»æ ‘æ•´ç†å‡ºæ¥ä¾›æˆ‘ç­‰å‚è§‚ã€‚å¦‚æœåœ¨æœ¬åœ°æ‰§è¡Œæ­¤ä»£ç ï¼Œä¾æ®æœ¬åœ°å¯¹ PHP å®‰è£…çš„æ‰©å±•çš„ä¸åŒï¼Œä¼šæŠŠæ‰©å±•ä¸­çš„ç›¸å…³å¼‚å¸¸å¤„ç†ç±»ä¸€å¹¶æ‰“å°å‡ºæ¥ æ‰“å°é”™è¯¯å’Œå¼‚å¸¸å¤„ç†ç±»æ ‘ä»£ç  æ‰“å°è¾“å‡ºç»“æœ ","date":"2018-04-05","objectID":"/2018/04/05/php-error-exception-handler/:1:4","tags":["PHP"],"title":"PHP ä¸­çš„é”™è¯¯å’Œå¼‚å¸¸å¤„ç†","uri":"/2018/04/05/php-error-exception-handler/"},{"categories":["PHP"],"content":"é”™è¯¯å¤„ç† Note that other types of errors such as warnings and notices remain unchanged in PHP 7. Only fatal and recoverable errors throw exceptions. Prior to PHP 7 alpha-2, the exception hierarchy in PHP 7 was different. Fatal and recoverable errors threw instances of EngineException, which did not inherit from Exception. Both Exception and EngineException inherited from BaseException. The hierarchy was revised with the RFC I authored, Throwable Interface. I felt switching to Throwable and Error was important to avoid confusion from classes using the suffix Exception that did not extend Exception, as well as being more concise and appealing names. E_ERROR å’Œ E_RECOVERABLE_ERROR çº§åˆ«çš„é”™è¯¯åœ¨ PHP7 ä¹‹å‰æ˜¯ä¸èƒ½è¢«æ•è·åˆ°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ æ— æ³•ä½¿ç”¨ try...catch... è¿™æ ·çš„è¯­å¥æ•è·åˆ°è¿™ç§çº§åˆ«çš„é”™è¯¯ï¼Œä½†ä¸ç®¡æ˜¯ PHP7 è¿˜æ˜¯ PHP5 å¯¹äºæœªæ•è·çš„å¼‚å¸¸ä¾ç„¶æ˜¯ä¸€ä¸ªè‡´å‘½é”™è¯¯ åœ¨ PHP5 ä¸­ \u003c?php $object = null; $object-\u003emethod(); // ç»“æœ Fatal error: Call to a member function method() on null in åœ¨ PHP7 ä¸­ï¼š \u003c?php $object = null; try { $object-\u003emethod(); } catch (Error $error) { echo $error-\u003egetMessage(); } // ç»“æœ Call to a member function method() on null æ˜¯çš„ï¼ŒPHP7 å†…ç½®äº†ä¸€ä¸ªåä¸º Error çš„ç±»æ¥æ•è·ä¸€äº›è‡´å‘½é”™è¯¯å’Œå¼‚å¸¸äº†ï¼Œå…¶ä¸­ Error å’Œ Exception ç±»å®ç°äº† Throwable æ¥å£ã€‚ // Throwable æ¥å£ Throwable { /* Methods */ abstract public string getMessage ( void ) abstract public int getCode ( void ) abstract public string getFile ( void ) abstract public int getLine ( void ) abstract public array getTrace ( void ) abstract public string getTraceAsString ( void ) abstract public Throwable getPrevious ( void ) abstract public string __toString ( void ) } è­¦å‘Š å¼€å‘è€…ä¸èƒ½ç›´æ¥å®ç° Throwable æ¥å£ï¼Œå¿…é¡»é€šè¿‡ Error æˆ–è€… Exception ç­‰ç±»å»æ‰©å±• ä¹Ÿå¯ä»¥ç”¨ä»¥ä¸‹çš„æ–¹å¼å»æ‰©å±•è‡ªå·±çš„é”™è¯¯å’Œå¼‚å¸¸ç±»ã€‚ \u003c?php interface TestThrowable extends \\Throwable { } class TestException extends \\Exception implements TestThrowable { } class DemoError extends \\Error implements TestThrowable { } ","date":"2018-04-05","objectID":"/2018/04/05/php-error-exception-handler/:1:5","tags":["PHP"],"title":"PHP ä¸­çš„é”™è¯¯å’Œå¼‚å¸¸å¤„ç†","uri":"/2018/04/05/php-error-exception-handler/"},{"categories":["PHP"],"content":"å¼‚å¸¸å¤„ç† ç”±äº Error å’Œ Exception éƒ½å®ç°äº† Throwable æ¥å£ï¼Œé‚£ä¹ˆé—®é¢˜å°±æ¥äº†ï¼Œåœ¨ç¨‹åºä¸­æˆ‘ä»¬ç©¶ç«Ÿè¦ç”¨å“ªä¸ªï¼Ÿé€šè¿‡ä¸€äº›æœ€ä½³å®è·µæˆ‘ä»¬çŸ¥é“ï¼Œé”™è¯¯ä¸€èˆ¬æ˜¯å»çº¦æŸç¨‹åºå‘˜å’Œä»£ç è¯­æ³•ã€è¯­ä¹‰åŠé€»è¾‘æ–¹é¢çš„ï¼Œè€Œå¼‚å¸¸æ˜¯ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹å‡ºç°çš„ä¸€äº›ä¸åˆæœŸæœ›çš„æƒ…å†µã€‚å› æ­¤ï¼Œåœ¨ä»£ç ä¸­æˆ‘ä»¬åº”å½“ä½¿ç”¨å¼‚å¸¸è€Œä¸æ˜¯é”™è¯¯ã€‚ PHP 7.2.0 - 7.2.3 ç‰ˆæœ¬ä¸­æä¾›çš„å†…ç½®å¼‚å¸¸ï¼š Exception ClosedGeneratorException DOMException ErrorException IntlException LogicException BadFunctionCallException BadMethodCallException DomainException InvalidArgumentException LengthException OutOfRangeException PharException ReflectionException RuntimeException OutOfBoundsException OverflowException PDOException RangeException UnderflowException UnexpectedValueException SodiumException å…¼å®¹ PHP5 å’Œ PHP7 çš„å¼‚å¸¸å¤„ç† \u003c?php try { // Code that may throw an Exception or Error. } catch (Throwable $t) { // Executed only in PHP 7, will not match in PHP 5.x. } catch (Exception $e) { // Executed only in PHP 5.x, will not be reached in PHP 7. } ","date":"2018-04-05","objectID":"/2018/04/05/php-error-exception-handler/:2:0","tags":["PHP"],"title":"PHP ä¸­çš„é”™è¯¯å’Œå¼‚å¸¸å¤„ç†","uri":"/2018/04/05/php-error-exception-handler/"},{"categories":["PHP"],"content":"è‡ªå®šä¹‰æ•è·é”™è¯¯å’Œå¼‚å¸¸ æœªæ•è·çš„ Error å’Œ Exception é€šè¿‡ set_exception_handler() åšåç»­æ¸…ç†å’Œæ—¥å¿—è®°å½• å…¶ä»–é”™è¯¯ä»ç„¶é€šè¿‡ set_error_handler() æ¥å¤„ç†ï¼Œåœ¨å¤„ç†çš„æ—¶å€™ä½¿ç”¨æ›´åŠ æ˜ç¡®çš„ E_* ç±»å‹ï¼Œå¹¶æŠ›å‡º ErrorException è®°å½•è°ƒç”¨æ ˆ ä»¥ä¸‹å®ä¾‹ä¸­ä½¿ç”¨ set_error_handler() å‡½æ•°å»æ•è·é”™è¯¯ï¼Œè®¾ç½®ä¸€ä¸ªç”¨æˆ·è‡ªå®šä¹‰çš„é”™è¯¯å¤„ç†å‡½æ•°ï¼Œè¿™é‡Œæˆ‘å°±ç²—æš´çš„æŠ›å‡º äº† ErrorException å¼‚å¸¸ï¼Œå½“ç„¶å®˜æ–¹æ–‡æ¡£ä¹Ÿæ˜ç¡®è¯´äº†è¿™ä¸ªå‡½æ•°ä¸èƒ½æ•è· E_ERRORã€E_PARSEã€E_CORE_ERRORã€E_CORE_WARNINGã€E_COMPILE_ERRORã€E_COMPILE_WARNING å’Œåœ¨è°ƒç”¨ set_error_handler() å‡½æ•°æ‰€åœ¨æ–‡ä»¶ä¸­äº§ç”Ÿçš„å¤§å¤šæ•° E_STRICT å¼‚å¸¸ï¼Œè¨€å¤–ä¹‹è¯­ä¹Ÿå°±æ˜¯ä»…èƒ½æ•è·ç”¨æˆ·å®šä¹‰çš„é”™è¯¯å’Œå¼‚å¸¸ã€‚ä½¿ç”¨ set_exception_handler() å‡½æ•°å»è®¾ç½®é»˜è®¤çš„å¼‚å¸¸å¤„ç†ç¨‹åºï¼Œç”¨åœ¨æ²¡æœ‰ç”¨ try/catch å—æ¥æ•è·çš„å¼‚å¸¸ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ç®¡ä½ æŠ›å‡ºçš„å¼‚å¸¸æœ‰æ²¡æœ‰äººæ•è·ï¼Œå¦‚æœæ²¡æœ‰äººæ•è·å°±ä¼šè¿›å…¥åˆ°è¯¥æ–¹æ³•ä¸­ï¼Œå¹¶ä¸”åœ¨å›è°ƒå‡½æ•°è°ƒç”¨åå¼‚å¸¸ä¼šä¸­æ­¢ã€‚ä½¿ç”¨ register_shutdown_function() å‡½æ•°å»æ•è· PHP çš„é”™è¯¯ï¼šFatal or Parse Error ç­‰ï¼Œæ­£ç”±äºè¿™ä¸ªå‡½æ•°æ˜¯ PHP è„šæœ¬æ‰§è¡Œç»“æŸå‰çš„æœ€åä¸€ä¸ªæœ‰æ•ˆè°ƒç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰ç”¨å®ƒæ¥å®Œæˆä¸€äº›ä¸å¯æ€è®®çš„äº‹æƒ…ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œéƒ½ä¼šåœ¨è¿™ä¸ªå‡½æ•°çš„å›è°ƒå‡½æ•°ä¸­ä½¿ç”¨ error_get_last() å‡½æ•°æ¥è·å–æ‰§è¡Œäº§ç”Ÿçš„é”™è¯¯ï¼Œé¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œåƒè¯­æ³•è¿™æ ·çš„é”™è¯¯æ˜¯æ•è·ä¸åˆ°çš„ æ­£å¸¸æƒ…å†µæ—¶çš„å¼‚å¸¸æ•è· \u003c?php class ErrorHandler { public static function register() { error_reporting(E_ALL); set_error_handler([__CLASS__, 'handleError']); set_exception_handler([__CLASS__, 'handleException']); register_shutdown_function([__CLASS__, 'handleShutdown']); } public static function handleError($code, $message, $file, $line) { throw new \\ErrorException($message, $code, 1, $file, $line); } public static function handleException($e) { self::handle($e); } public static function handleShutdown() { $error = error_get_last(); if (null !== $error \u0026\u0026 self::isFatal($error['type'])) { self::handleException($error); } } /** * @param \\Exception|\\Throwable $e */ public static function handle($e) { $message = $e-\u003egetMessage() . PHP_EOL; echo $message; error_log($message, 3, __DIR__ . '/run.log'); } protected static function isFatal($type): bool { $types = [E_ERROR, E_CORE_ERROR, E_COMPILE_ERROR, E_PARSE]; return in_array($type, $types, true); } } ErrorHandler::register(); $object = null; $object-\u003etoArray(); // ç»“æœ Call to a member function toArray() on null æ­¤æ—¶é”™è¯¯å·²ç»è®°å½•åˆ°æ—¥å¿—æ–‡ä»¶ä¸­ å†™é”™è¯­æ³•æ—¶çš„å¼‚å¸¸æ•è· \u003c?php // æ­¤å¤„ç•¥å» ErrorHandler ç±»ä»£ç ï¼Œè¯¦è§ä¸Šé¢ ErrorHandler::register(); $object = null; // è¿™å„¿æ•…æ„ä¸å†™åˆ†å· $object-\u003etoArray() // ç»“æœ PHP Parse error: syntax error, unexpected end of file in ... PHP PHP Dump $_SERVER PHP Parse error: syntax error, unexpected end of file in ... äº‹æƒ…è¿›å±•åˆ°è¿™é‡Œï¼ŒæŒ‰ç†æ¥è¯´ï¼Œæˆ‘åº”è¯¥å°±æ­¤åœç¬”æ”¶å°¾ï¼Œå¼„ä¸ªæ€»ç»“ä¹‹ç±»çš„ä¸€å¿½æ‚ ä¸€ä¸‹æ­£åœ¨é˜…è¯»çš„ä½ ã€‚ä½†æ˜¯å‘¢ï¼Œæˆ‘åˆå¿½ç„¶æƒ³èµ·æ¥ PHP é‚£ä¹ˆå¤šçš„æ¡†æ¶æ˜¯å¦‚ä½•å¤„ç†è¿™ä¸ªäº‹æƒ…çš„ï¼Œæˆ‘æƒ³ä½ ä¹Ÿå¥½å¥‡ï¼Œä¸å¦¨æˆ‘ä»¬å»çœ‹çœ‹ ","date":"2018-04-05","objectID":"/2018/04/05/php-error-exception-handler/:2:1","tags":["PHP"],"title":"PHP ä¸­çš„é”™è¯¯å’Œå¼‚å¸¸å¤„ç†","uri":"/2018/04/05/php-error-exception-handler/"},{"categories":["PHP"],"content":"æ¡†æ¶ä¸­çš„é”™è¯¯å¼‚å¸¸å¤„ç† å¾ˆé—æ†¾çš„å‘Šè¯‰ä½ ï¼Œæˆ‘ä¸ä¼šå‰–ææ¡†æ¶æºç ï¼Œæˆ‘åªæƒ³åšä¸ª demo å¾—ç‘Ÿä¸€ä¸‹ï¼Œå‰©ä¸‹å…¨äº¤ç»™ä½ ã€‚æ­¤å¤„æˆ‘ä»¥ symfony debug ä¸ºä¾‹ Symfony debug GitHub Symfony debug Docs // å®‰è£… symfony/debug $ composer require symfony/debug \u003c?php require __DIR__ . '/vendor/autoload.php'; \\Symfony\\Component\\Debug\\Debug::enable(); \\Symfony\\Component\\Debug\\ErrorHandler::register(); $object = null; $object-\u003etoArray(); ","date":"2018-04-05","objectID":"/2018/04/05/php-error-exception-handler/:2:2","tags":["PHP"],"title":"PHP ä¸­çš„é”™è¯¯å’Œå¼‚å¸¸å¤„ç†","uri":"/2018/04/05/php-error-exception-handler/"},{"categories":["PHP"],"content":"ä»£ç é«˜äº®ä¸€ç›´ä»¥æ¥æ˜¯ç¨‹åºå‘˜çš„ä¸€é¡¹åŸºæœ¬è¯‰æ±‚ï¼Œå·²æˆä¸ºå„å¤§ç¼–è¾‘å™¨ã€IDE çš„æ ‡é…ã€‚å½“ç„¶è¿™ä¸ªèŒƒå›´å¯ä»¥å†æ‰©å¤§äº›ï¼Œç°åœ¨åŸºæœ¬ä¸Šæœ‰ä»£ç çš„åœ°æ–¹å°±æœ‰ä»£ç é«˜äº®äº†ï¼Œæ— è®ºä½ åœ¨å“ªæ¡èˆ¹ä¸Šã€‚å•¥ï¼Ÿä¸æ”¯æŒä»£ç é«˜äº®ï¼Œè¿™ä¸æ‰¯çŠŠå­å—ï¼Ÿä½œä¸ºä¸€ä¸ªæœ‰ç‚¹æ‰¯è°ˆçš„ç¨‹åºå‘˜ï¼Œæˆ‘å¯¹æ²¡æœ‰ä»£ç è¯­æ³•é«˜äº®çš„è¿™ä»¶äº‹æ˜¯åšå†³ä¸èƒ½å¿å—çš„ã€‚ ","date":"2018-03-18","objectID":"/2018/03/18/php-highlight/:0:0","tags":["PHP"],"title":"PHP - è¾“å‡ºä¸­çš„ä»£ç è¯­æ³•é«˜äº®","uri":"/2018/03/18/php-highlight/"},{"categories":["PHP"],"content":"å†…ç½®çš„é«˜äº®å‡½æ•° ","date":"2018-03-18","objectID":"/2018/03/18/php-highlight/:1:0","tags":["PHP"],"title":"PHP - è¾“å‡ºä¸­çš„ä»£ç è¯­æ³•é«˜äº®","uri":"/2018/03/18/php-highlight/"},{"categories":["PHP"],"content":"å­—ç¬¦ä¸²çš„è¯­æ³•é«˜äº® è¯­æ³•é«˜äº®çš„ç›¸å…³é…ç½®ï¼š Name Default Range ignore_user_abort \"0\" PHP_INI_ALL highlight.string \"#DD0000\" PHP_INI_ALL highlight.comment \"#FF8000\" PHP_INI_ALL highlight.keyword \"#007700\" PHP_INI_ALL highlight.bg - Removed in PHP-5.4.0 \"#FFFFFF\" PHP_INI_ALL highlight.default #000000\" PHP_INI_ALL highlight.html \"#0000BB\" PHP_INI_ALL browscap NULL PHP_INI_SYSTEM å®ä¾‹ä¸€ï¼š \u003c?php $string = ''; $string .= \"\u003c?php \\r\\n\\r\\n\"; $string .= \"echo 'hello world, hello highlight.';\\r\\n\\r\\n\"; $string .= \"\\$array = ['a', 'b', 'c', 'd', 'e'];\\r\\n\"; $string .= \"function pr(\\$vars)\\r\\n\"; $string .= \"{\\r\\n\"; $string .= \"\\tforeach (\\$vars as \\$key =\u003e \\$var) {\\r\\n\"; $string .= \"\\t\\tif (\\$key % 2 === 0) {\\r\\n\"; $string .= \"\\t\\t\\t\\$array[\\$key] = \\$var . '_test';\\r\\n\"; $string .= \"\\t\\t}\\r\\n\"; $string .= \"\\t}\\r\\n\"; $string .= \"}\\r\\n\"; $string .= 'pr($array);'; echo highlight_string($string, true); å®ä¾‹äºŒï¼š \u003c?php echo highlight_text(file_get_contents('date.php')); function highlight_text($text) { ini_set('highlight.comment', '#546E78'); ini_set('highlight.default', '#DD7455'); ini_set('highlight.html', '#D56162; font-family: Courier; font-weight: bold'); ini_set('highlight.keyword', '#5083E6'); ini_set('highlight.string', '#C3E88D'); $text = trim($text); $text = highlight_string('\u003c?php ' . $text, true); $text = trim($text); // remove custom added \"\u003c?php \" $pattern = '|\u003cspan style=\"color: \\#[a-zA-Z0-9]{0,6}\"\u003e\u0026lt;\\?php\u0026nbsp;\u003c/span\u003e|'; $text = preg_replace($pattern, '', $text); return $text; } å®ä¾‹ä¸‰ï¼š \u003c?php highlight(); ?\u003e $string = '[ PHP è¯­æ³•é«˜äº®å¤§æ³•å¥½ ]'; \u003c?php highlight(); ?\u003e \u003c?php function highlight() { static $on = false; if (! $on) { ob_start(); } else { $buffer = \"\u003c?php\\n\" . ob_get_contents() . '?\u003e'; ob_end_clean(); highlight_string($buffer); } $on = ! $on; } `3` è¡Œè¾“å‡ºï¼Œæˆ‘å°±æ‡’çš„æˆªå›¾äº†ã€‚ ?\u003e ","date":"2018-03-18","objectID":"/2018/03/18/php-highlight/:1:1","tags":["PHP"],"title":"PHP - è¾“å‡ºä¸­çš„ä»£ç è¯­æ³•é«˜äº®","uri":"/2018/03/18/php-highlight/"},{"categories":["PHP"],"content":"æ–‡ä»¶çš„è¯­æ³•é«˜äº® \u003c?php highlight_file('date.php'); ","date":"2018-03-18","objectID":"/2018/03/18/php-highlight/:1:2","tags":["PHP"],"title":"PHP - è¾“å‡ºä¸­çš„ä»£ç è¯­æ³•é«˜äº®","uri":"/2018/03/18/php-highlight/"},{"categories":["PHP"],"content":"æ‰©å±•é«˜äº®æ”¯æŒ Syntax Highlighter supporting multiple languages, themes, fonts, highlighting from a URL, local file or post text A port of highlight.js by Ivan Sagalaev to PHP è¿™ç§æ’ä»¶æ¯”è¾ƒå¤šï¼Œè¿™å„¿æˆ‘é€‰æ‹© highlight.phpï¼Œè¿™æ¬¾æ’ä»¶æ”¯æŒå¾ˆå¤šè¯­è¨€çš„ä»£ç é«˜äº®ï¼ŒæŒ‰å®˜æ–¹çš„è¯´æ³•ï¼Œæ”¯æŒè¾¾ 176 ç§è¯­è¨€ï¼Œæ— è®ºå¦‚ä½•å·²ç»å¤Ÿç”¨äº†ã€‚ ","date":"2018-03-18","objectID":"/2018/03/18/php-highlight/:2:0","tags":["PHP"],"title":"PHP - è¾“å‡ºä¸­çš„ä»£ç è¯­æ³•é«˜äº®","uri":"/2018/03/18/php-highlight/"},{"categories":["PHP"],"content":"å®‰è£… // å®‰è£… scrivo/highlight.php $ composer require scrivo/highlight.php ","date":"2018-03-18","objectID":"/2018/03/18/php-highlight/:2:1","tags":["PHP"],"title":"PHP - è¾“å‡ºä¸­çš„ä»£ç è¯­æ³•é«˜äº®","uri":"/2018/03/18/php-highlight/"},{"categories":["PHP"],"content":"å®ä¾‹ \u003c?php require './vendor/autoload.php'; $highlight = new \\Highlight\\Highlighter(); $code = file_get_contents('date.php'); $object = $highlight-\u003ehighlight('php', $code); ?\u003e \u003chtml\u003e \u003chead\u003e \u003clink rel=\"stylesheet\" href=\"\u003c?= './vendor/scrivo/highlight.php/styles/monokai.css' ?\u003e\"\u003e \u003c/head\u003e \u003cbody\u003e \u003cpre class=\"hljs \u003c?= $object-\u003elanguage ?\u003e\"\u003e\u003c?= $object-\u003evalue ?\u003e\u003c/pre\u003e \u003c/body\u003e \u003c/html\u003e ","date":"2018-03-18","objectID":"/2018/03/18/php-highlight/:2:2","tags":["PHP"],"title":"PHP - è¾“å‡ºä¸­çš„ä»£ç è¯­æ³•é«˜äº®","uri":"/2018/03/18/php-highlight/"},{"categories":["PHP"],"content":"è¿™å¹´å¤´å“ªä¸ªæ¡†æ¶è¦æ˜¯ä¸æä¾›å‘½ä»¤è¡Œäº¤äº’æ¥å£å’Œè„šæ‰‹æ¶ï¼Œå°±ä¸å¥½æ„æ€è‡ªç§°æ˜¯æ¡†æ¶ã€‚äº‹å®ä¸Šï¼Œä¸€ä¸ªä¼˜ç§€çš„æ¡†æ¶æ€»ä¼šé¢é¢ä¿±åˆ°çš„ï¼Œæ¡†æ¶æœ¬æ¥å°±æ˜¯è®©å¼€å‘è€…å‡è½»è´Ÿæ‹…ï¼Œé¿å…é‡å¤é€ è½®å­çš„ï¼Œè®©å¼€å‘è€…ä¸“æ³¨ä¸šåŠ¡æœ¬èº«ï¼Œè€Œä¸æ˜¯æŠŠæ—¶é—´ç²¾åŠ›æ¶ˆè€—åœ¨ç£¨åˆ€ä¸Šé¢ã€‚å½“ç„¶è¿™æ˜¯æŸ„åŒåˆƒå‰‘ï¼Œç†æƒ³çš„çŠ¶æ€ç†åº”æ˜¯ä¸šåŠ¡æŠ€æœ¯å¹¶é©¾é½é©±ã€‚æ— è®ºæ˜¯å»ºé€ é’¢é“å¤§å¦çš„ Symfonyï¼Œè¿˜æ˜¯åˆ›é€ è‰ºæœ¯å®¶å›­ Laravelï¼Œå…¶å‘½ä»¤è¡Œå¼ºå¤§çš„ä»¤äººæœ›è€Œå´æ­¥ã€‚å›è¿‡å¤´æ¥çœ‹ä¸€çœ‹ä¸»æ‰“é€Ÿåº¦çš„ Phalcon å§ã€‚ ","date":"2018-03-07","objectID":"/2018/03/07/php-phalcon-command/:0:0","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å‘½ä»¤è¡Œ","uri":"/2018/03/07/php-phalcon-command/"},{"categories":["PHP"],"content":"å®‰è£…å‘½ä»¤ Phalcon Developer Tools for Offical Website Phalcon Developer Tools for Official GitHub ","date":"2018-03-07","objectID":"/2018/03/07/php-phalcon-command/:1:0","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å‘½ä»¤è¡Œ","uri":"/2018/03/07/php-phalcon-command/"},{"categories":["PHP"],"content":"æŒ‡å®šçš„ç›®å½• å°† phalcon å‘½ä»¤åŠ å…¥åˆ°ç³»ç»Ÿ PATH å˜é‡ä¸­ $ cd ~ $ git clone https://github.com/phalcon/phalcon-devtools.git .phalcon-devtools $ cd .phalcon-devtools $ ln -s ~/phalcon-devtools/phalcon.php /usr/local/bin/phalcon $ chmod a+x /usr/local/bin/phalcon æˆ–è€… $ cd ~ $ composer global require phalcon/devtools $ vim ~/.zshrc # vim ~/.bashrc $ export PATH=\"$PATH:$HOME/.composer/vendor/bin/phalcon\" ","date":"2018-03-07","objectID":"/2018/03/07/php-phalcon-command/:1:1","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å‘½ä»¤è¡Œ","uri":"/2018/03/07/php-phalcon-command/"},{"categories":["PHP"],"content":"åˆ›å»ºé¡¹ç›® æ”¯æŒçš„é¡¹ç›®ç±»å‹ï¼šcliï¼Œmicroï¼Œsimple - é»˜è®¤ï¼Œmodulesï¼Œå…± 4 ç§ç±»å‹çš„é¡¹ç›® ","date":"2018-03-07","objectID":"/2018/03/07/php-phalcon-command/:2:0","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å‘½ä»¤è¡Œ","uri":"/2018/03/07/php-phalcon-command/"},{"categories":["PHP"],"content":"å¯ç”¨å‘½ä»¤ä¸€è§ˆ $ phalcon Phalcon DevTools (3.2.12) Available commands: info (alias of: i) commands (alias of: list, enumerate) controller (alias of: create-controller) module (alias of: create-module) model (alias of: create-model) all-models (alias of: create-all-models) project (alias of: create-project) scaffold (alias of: create-scaffold) migration (alias of: create-migration) webtools (alias of: create-webtools) serve (alias of: server) console (alias of: shell, psysh) ","date":"2018-03-07","objectID":"/2018/03/07/php-phalcon-command/:2:1","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å‘½ä»¤è¡Œ","uri":"/2018/03/07/php-phalcon-command/"},{"categories":["PHP"],"content":"åˆ›å»ºé»˜è®¤é¡¹ç›® // åˆ›å»ºä¸€ä¸ª `cli` ç±»å‹çš„é¡¹ç›® $ phalcon project cli // åˆ›å»ºä¸€ä¸ª `micro` ç±»å‹çš„é¡¹ç›® $ phalcon project micro // åˆ›å»ºä¸€ä¸ª `simple` ç±»å‹çš„é¡¹ç›® $ phalcon project simple // åˆ›å»ºä¸€ä¸ª `modules` ç±»å‹çš„é¡¹ç›® $ phalcon project modules ","date":"2018-03-07","objectID":"/2018/03/07/php-phalcon-command/:2:2","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å‘½ä»¤è¡Œ","uri":"/2018/03/07/php-phalcon-command/"},{"categories":["PHP"],"content":"åˆ›å»ºå®šåˆ¶é¡¹ç›® $ phalcon project --name example --enable-webtools --directory ./ --type simple --use-config-ini --trace ","date":"2018-03-07","objectID":"/2018/03/07/php-phalcon-command/:2:3","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å‘½ä»¤è¡Œ","uri":"/2018/03/07/php-phalcon-command/"},{"categories":["PHP"],"content":"åˆ›å»ºæ§åˆ¶å™¨å’Œæ¨¡å‹ ","date":"2018-03-07","objectID":"/2018/03/07/php-phalcon-command/:3:0","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å‘½ä»¤è¡Œ","uri":"/2018/03/07/php-phalcon-command/"},{"categories":["PHP"],"content":"åœ¨åˆ›å»ºæ§åˆ¶å™¨å’Œæ¨¡å‹æ—¶ï¼Œå…ˆæ³¨å†Œå‘½åç©ºé—´ // loader.php $loader = new \\Phalcon\\Loader(); $loader-\u003eregisterNamespaces([ 'App\\\\Controller' =\u003e '../app/controllers', 'App\\\\Model' =\u003e '../app/models', ])-\u003eregister(); /** * We're a registering a set of directories taken from the configuration file. */ $loader-\u003eregisterDirs([ $config-\u003eapplication-\u003econtrollersDir, $config-\u003eapplication-\u003emodelsDir, ])-\u003eregister(); ","date":"2018-03-07","objectID":"/2018/03/07/php-phalcon-command/:3:1","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å‘½ä»¤è¡Œ","uri":"/2018/03/07/php-phalcon-command/"},{"categories":["PHP"],"content":"åˆ›å»ºæ§åˆ¶å™¨ $ phalcon controller --name article --base-class ControllerBase --force æˆ–è€… $ phalcon controller --name article --namespace App\\\\Controller --base-class ControllerBase --force ","date":"2018-03-07","objectID":"/2018/03/07/php-phalcon-command/:3:2","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å‘½ä»¤è¡Œ","uri":"/2018/03/07/php-phalcon-command/"},{"categories":["PHP"],"content":"åˆ›å»ºæ¨¡å‹ $ phalcon model --name user æˆ–è€… $ phalcon model --name users --namespace App\\\\Model --get-set --doc --force --camelize --trace --mapcolumn --annotate ","date":"2018-03-07","objectID":"/2018/03/07/php-phalcon-command/:3:3","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å‘½ä»¤è¡Œ","uri":"/2018/03/07/php-phalcon-command/"},{"categories":["PHP"],"content":"åˆ›å»ºè¿ç§» $ phalcon migration --action=generate --config=./app/config/config.php --version=1.0.0 --descr=init --force ","date":"2018-03-07","objectID":"/2018/03/07/php-phalcon-command/:3:4","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å‘½ä»¤è¡Œ","uri":"/2018/03/07/php-phalcon-command/"},{"categories":["PHP"],"content":"åˆ›å»ºè„šæ‰‹æ¶ $ phalcon scaffold --table-name=user --get-set --force --trace ","date":"2018-03-07","objectID":"/2018/03/07/php-phalcon-command/:3:5","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å‘½ä»¤è¡Œ","uri":"/2018/03/07/php-phalcon-command/"},{"categories":["PHP"],"content":"è¿è¡Œå†…ç½®æœåŠ¡å™¨ $ phalcon serve --hostname=127.0.0.1 --port=8080 --basepath=.htrouter.php --rootpath=public ","date":"2018-03-07","objectID":"/2018/03/07/php-phalcon-command/:3:6","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å‘½ä»¤è¡Œ","uri":"/2018/03/07/php-phalcon-command/"},{"categories":["PHP"],"content":"é—®é¢˜ Error: SQLSTATE[HY000] [2002] No such file or directory // ç¼–è¾‘ php.ini æ–‡ä»¶ä¸­çš„ PDO é»˜è®¤ socket $ pdo_mysql.default_socket=/usr/local/var/run/mysql/mysql.sock // æŸ¥è¯¢ socket å˜é‡ $ SHOW VARIABLES LIKE '%socket%'; ","date":"2018-03-07","objectID":"/2018/03/07/php-phalcon-command/:4:0","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å‘½ä»¤è¡Œ","uri":"/2018/03/07/php-phalcon-command/"},{"categories":["PHP"],"content":"ç¨€é‡Œç³Šæ¶‚çš„ä½¿ç”¨ Phalcon ä¸€å¹´å¤šäº†ï¼Œå¯¹äºå…¶è¿è¡Œçš„çš„æµç¨‹ä¹ŸçŸ¥é“ä¸ªå¤§æ¦‚ï¼Œæœ¬æ¥è®¡åˆ’å°½æ—©æ¢³ç†ä¸€ä¸‹ï¼Œæ•´ç†ä¸‹å­¦ä¹ å¿ƒå¾—ï¼Œä½†æ˜¯ï¼Œç”±äºç§ç§åŸå› è¿˜æ˜¯æ²¡å¥½å¥½æ•´ç†è®°å½•ã€‚å¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ï¼Œå†ç»è¿‡æ¥æ¥å›å›ç¿»æ–‡æ¡£è¿‡ç¨‹ä¸­æ„ˆåŠ ç—›æ¨è‡ªå·±çš„è®°å¿†åŠ›äº†ï¼Œæ–‡æ¡£ä¸Šæ‰¾èµ·æ¥ä¹Ÿä¸è§å¾—å®¹æ˜“ï¼Œè¿˜æ˜¯è€è€å®å®è®°å½•ä¸€ä¸‹å¸¸ç”¨çš„ä¸€äº›ä¸œè¥¿å§ï¼Œè¿™æ ·åœ¨ä¸€ä¸ªåœ°æ–¹æ‰¾æ€»èƒœè¿‡åœ¨ä¸€ä¸ªåºå¤§çš„æ‰‹å†Œè·³æ¥è·³å»å§ã€‚é¡ºä¾¿æä¸€ä¸‹ï¼ŒPhalcon çš„å®˜æ–¹æ–‡æ¡£è¶Šæ¥è¶Šå¥½ç”¨äº†ã€‚ ","date":"2018-03-06","objectID":"/2018/03/06/php-phalcon-bootstrap/:0:0","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å¯åŠ¨æµç¨‹","uri":"/2018/03/06/php-phalcon-bootstrap/"},{"categories":["PHP"],"content":"åˆ›å»ºé¡¹ç›® æ‰§è¡Œä»¥ä¸‹çš„å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ ‡å‡†çš„ Phalcon Micro Project $ phalcon project --name example --enable-webtools --directory ./ --type micro --use-config-ini --trace å…¥å£æ–‡ä»¶ \u003c?php use Phalcon\\Di\\FactoryDefault; use Phalcon\\Mvc\\Micro; error_reporting(E_ALL); define('BASE_PATH', dirname(__DIR__)); define('APP_PATH', BASE_PATH . '/app'); try { /** * The FactoryDefault Dependency Injector automatically registers the services that * provide a full stack framework. These default services can be overidden with custom ones. */ $di = new FactoryDefault(); /** * Include Services */ include APP_PATH . '/config/services.php'; /** * Get config service for use in inline setup below */ $config = $di-\u003egetConfig(); /** * Include Autoloader */ include APP_PATH . '/config/loader.php'; /** * Starting the application * Assign service locator to the application */ $app = new Micro($di); /** * Include Application */ include APP_PATH . '/app.php'; /** * Handle the request */ $app-\u003ehandle(); } catch (\\Exception $e) { echo $e-\u003egetMessage() . '\u003cbr\u003e'; echo '\u003cpre\u003e' . $e-\u003egetTraceAsString() . '\u003c/pre\u003e'; } ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ åˆ›å»ºä¾èµ–æ³¨å…¥å®¹å™¨ å¼•å…¥æœåŠ¡ï¼Œå°†ä¾èµ–åŠæœåŠ¡æ”¶é›†åˆ°å®¹å™¨ä¸­ è‡ªåŠ¨åŠ è½½ å°†å®¹å™¨æ³¨å…¥ç»™åº”ç”¨ç¨‹åº è¯·æ±‚å¤„ç†å¹¶å“åº” ","date":"2018-03-06","objectID":"/2018/03/06/php-phalcon-bootstrap/:1:0","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å¯åŠ¨æµç¨‹","uri":"/2018/03/06/php-phalcon-bootstrap/"},{"categories":["PHP"],"content":"ä¾èµ–æ³¨å†Œ ","date":"2018-03-06","objectID":"/2018/03/06/php-phalcon-bootstrap/:2:0","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å¯åŠ¨æµç¨‹","uri":"/2018/03/06/php-phalcon-bootstrap/"},{"categories":["PHP"],"content":"ç³»ç»Ÿé»˜è®¤æ³¨å†Œ /** * Include Services */ include APP_PATH . '/config/services.php'; services.php é»˜è®¤æ³¨å†Œäº† é…ç½® - \\Phalcon\\Config\\Adapter\\Ini(ConfigFile), è§†å›¾ - Phalcon\\Mvc\\View\\Simple, URL - Phalcon\\Mvc\\Url å’Œ Phalcon\\Db\\Adapter\\Pdo\\XxxAdapter è¿™å››ä¸ªç»„ä»¶ï¼ŒåŒæ—¶å½“åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼ŒDI ä¸­é»˜è®¤æ³¨å†Œäº†å…¶å®ƒæœåŠ¡ $services = $app-\u003egetDI()-\u003egetServices(); foreach ($services as $key =\u003e $service) { var_dump($key); var_dump(get_class($app-\u003egetDI()-\u003eget($key))); } è¾“å‡ºåçš„ Phalcon æ³¨å†ŒæœåŠ¡å¦‚ä¸‹ï¼š å…¶ä¸­ urlã€configã€viewã€dbã€application æ˜¯æ²¡æœ‰å¯¹åº”çš„ä¾èµ–æœåŠ¡çš„ router - Phalcon\\Mvc\\Router: è·¯ç”± dispatcher - Phalcon\\Mvc\\Dispatcher: è°ƒåº¦ï¼Œå°†è·¯ç”±å‘½ä¸­çš„ç»“æœåˆ†å‘åˆ°å¯¹åº”çš„å¤„ç†å•å…ƒä¸Š url - Phalcon\\Mvc\\Url: è§£æç”Ÿæˆ URL modelsManager - Phalcon\\Mvc\\Model\\Manager: æ¨¡å‹ç®¡ç†å™¨ modelsMetadata - Phalcon\\Mvc\\Model\\MetaData\\Memory: ORM æ˜ å°„ response - Phalcon\\Http\\Response: å“åº” cookies - Phalcon\\Http\\Response\\Cookies: Cookies request - Phalcon\\Http\\Request: è¯·æ±‚ filter - Phalcon\\Filter: è¿‡æ»¤å™¨ escaper - Phalcon\\Escaper: è½¬ä¹‰å·¥å…· security - Phalcon\\Security: å®‰å…¨å·¥å…·(å¯†ç  Hashã€CRSF ä¿æŠ¤) crypt - Phalcon\\Crypt: å¯†ç å·¥å…· annotations - Phalcon\\Annotations\\Adapter\\Memory: æ³¨é‡Šåˆ†æ flash - Phalcon\\Flash\\Direct: æç¤ºä¿¡æ¯è¾“å‡º flashSession - Phalcon\\Flash\\Session: æç¤ºä¿¡æ¯é€šè¿‡ Session å»¶è¿Ÿè¾“å‡º tag - Phalcon\\Tag: è§†å›¾åŠ©æ‰‹ session - Phalcon\\Session\\Adapter\\Files: Session sessionBag - Phalcon\\Session\\Bag: Session åŒ… eventsManager - Phalcon\\Events\\Manager: äº‹ä»¶ transactionManager - Phalcon\\Mvc\\Model\\Transaction\\Manager: äº‹åŠ¡ assets - Phalcon\\Assets\\Manager: èµ„äº§ config - \\Phalcon\\Config\\Adapter\\Ini(ConfigFile): é…ç½® view - Phalcon\\Mvc\\View\\Simple: è§†å›¾ db - Phalcon\\Db\\Adapter\\Pdo\\Mysql: æ•°æ®åº“ï¼Œå¯é€‰(MySQLã€Postgresql ç­‰) application - Phalcon\\Mvc\\Micro: åº”ç”¨ ","date":"2018-03-06","objectID":"/2018/03/06/php-phalcon-bootstrap/:2:1","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å¯åŠ¨æµç¨‹","uri":"/2018/03/06/php-phalcon-bootstrap/"},{"categories":["PHP"],"content":"ä¾èµ–æ³¨å†Œå±æ€§çš„æ”¹å˜ /** * Set routing capabilities */ $router = $app-\u003egetDI()-\u003eget('router'); $router-\u003esetUriSource(\\Phalcon\\Mvc\\Router::URI_SOURCE_SERVER_REQUEST_URI); ","date":"2018-03-06","objectID":"/2018/03/06/php-phalcon-bootstrap/:2:2","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å¯åŠ¨æµç¨‹","uri":"/2018/03/06/php-phalcon-bootstrap/"},{"categories":["PHP"],"content":"æ¨¡å—æ³¨å†Œ /** * Composer autoloader */ require BASE_PATH . '/vendor/autoload.php'; /** * Registering an autoloader */ $loader = new \\Phalcon\\Loader(); $loader-\u003eregisterNamespaces([ 'App\\\\Model' =\u003e '../app/models', 'App\\\\Component' =\u003e '../app/components', 'App\\\\Util' =\u003e '../app/utils', ])-\u003eregister(); $loader-\u003eregisterDirs([ $config-\u003eapplication-\u003emodelsDir, ])-\u003eregister(); æ¨¡å—æ³¨å†Œï¼Œå…¶å®å°±æ˜¯å‘Šè¯‰åº”ç”¨ç¨‹åºéœ€è¦å¼•å¯¼çš„æ¨¡å—è·¯å¾„å’Œç±»å ","date":"2018-03-06","objectID":"/2018/03/06/php-phalcon-bootstrap/:3:0","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å¯åŠ¨æµç¨‹","uri":"/2018/03/06/php-phalcon-bootstrap/"},{"categories":["PHP"],"content":"MVC åˆ†å±‚ æ­¤å¤„çš„ $app æŒ‡çš„å°±æ˜¯åˆ›å»ºçš„ Micro å¯¹è±¡ï¼Œä¸€å¼€å§‹æˆ‘ä»¬åˆ›å»ºçš„åº”ç”¨ç±»å‹ä¸º Phalcon Micro Project $app-\u003ehandle(); æ˜¯æ•´ä¸ª MVC çš„æ ¸å¿ƒï¼Œè¿™ä¸ªæ–¹æ³•å¤„ç†äº† MVC çš„å…¨éƒ¨æµç¨‹ï¼Œå®ƒè·å¾—æ‰€æœ‰è¯·æ±‚åï¼Œåœ¨å¤„ç†è¿‡ç¨‹ä¸­é€šè¿‡äº‹ä»¶é©±åŠ¨è§¦å‘ä¸€ç³»åˆ—çš„ app äº‹ä»¶ï¼Œæœ€ç»ˆè¿”å›ä¸€ä¸ªå®Œæ•´çš„ Phalcon\\Http\\Response å¯¹è±¡ ","date":"2018-03-06","objectID":"/2018/03/06/php-phalcon-bootstrap/:4:0","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å¯åŠ¨æµç¨‹","uri":"/2018/03/06/php-phalcon-bootstrap/"},{"categories":["PHP"],"content":"è‡ªæ£€ è¿™ä¸ªé˜¶æ®µï¼Œä¸»è¦æ£€æŸ¥ DIï¼Œç¡®ä¿å¿…è¦çš„æœåŠ¡æ³¨å†Œè¿›æ¥ // å¦‚æœå°† `db` æœåŠ¡æ³¨é‡Šæ‰ï¼Œä¼šæŠ›å‡ºä¸‹é¢çš„å¼‚å¸¸ /** * Database connection is created based in the parameters defined in the configuration file */ // $di-\u003esetShared('db', function () { // $config = $this-\u003egetConfig(); // // $class = 'Phalcon\\Db\\Adapter\\Pdo\\\\' . $config-\u003edatabase-\u003eadapter; // $params = [ // 'host' =\u003e $config-\u003edatabase-\u003ehost, // 'username' =\u003e $config-\u003edatabase-\u003eusername, // 'password' =\u003e $config-\u003edatabase-\u003epassword, // 'dbname' =\u003e $config-\u003edatabase-\u003edbname, // 'charset' =\u003e $config-\u003edatabase-\u003echarset, // ]; // // if ($config-\u003edatabase-\u003eadapter == 'Postgresql') { // unset($params['charset']); // } // // $connection = new $class($params); // // return $connection; // }); Service 'db' wasn't found in the dependency injection container æ¥ä¸‹æ¥ï¼Œapp å¯ä»¥æŠŠäº‹ä»¶ç»‘å®šåˆ° Phalcon\\Events\\Manager ä¸Š äº‹ä»¶åç§° è§¦å‘ç‚¹ å¤‡æ³¨ boot å½“åº”ç”¨å¤„ç†å®ƒé¦–ä¸ªè¯·æ±‚æ—¶è¢«æ‰§è¡Œ beforeStartModule åˆå§‹åŒ–æ¨¡å—ä¹‹å‰ï¼Œä»…å½“æ¨¡å—è¢«æ³¨å†Œæ—¶ afterStartModule åˆå§‹åŒ–æ¨¡å—ä¹‹åï¼Œä»…å½“æ¨¡å—è¢«æ³¨å†Œæ—¶ beforeHandleRequest è°ƒåº¦åˆ†å‘å¾ªç¯ä¹‹å‰ afterHandleRequest è°ƒåº¦åˆ†å‘å¾ªç¯ä¹‹å å°†ä¸€ä¸ªäº‹ä»¶ç»‘å®šåˆ°äº‹ä»¶ç®¡ç†å™¨ä¸Š \u003c?php use Phalcon\\Events\\Event; use Phalcon\\Events\\Manager as EventsManager; $eventsManager = new EventsManager(); $application-\u003esetEventsManager($eventsManager); $eventsManager-\u003eattach( \"application\", function (Event $event, $application) { // ... } ); åšå®Œè¿™äº›è‡ªæ£€åï¼Œå°±é¡ºå¾—åœ°è¿›å…¥äº†è·¯ç”±é˜¶æ®µ ","date":"2018-03-06","objectID":"/2018/03/06/php-phalcon-bootstrap/:4:1","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å¯åŠ¨æµç¨‹","uri":"/2018/03/06/php-phalcon-bootstrap/"},{"categories":["PHP"],"content":"è·¯ç”± ä» DI ä¸­å®¹å™¨ä¸­é€šè¿‡é”®å router è·å–è·¯ç”±æœåŠ¡ï¼Œå°† uri ä¼ å…¥è·¯ç”±å¹¶è°ƒç”¨è·¯ç”±çš„ handle() æ–¹æ³• è·¯ç”±çš„ handle() æ–¹æ³•ä¹Ÿæ˜¯å¥½è„¾æ°”ï¼Œè´Ÿè´£æŠŠå°†è¯·æ±‚ä¸­çš„åŸå§‹ uri æ£€æŸ¥(è·¯ç”±æ˜¯å¦å‘½ä¸­)è§£æåï¼Œè½¬æ¢ä¸ºå¯¹åº”çš„ Moduleï¼ŒControllerï¼ŒAction ç­‰ï¼Œå¹¶é€šè¿‡ $router-\u003egetModuleName() è·å–æ¨¡å—åï¼Œåˆ¤æ–­æ¨¡å—æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨å°±åŠ è½½ç›¸åº”çš„æ¨¡å—å¯åŠ¨æ¨¡å—ï¼Œå¦åˆ™ï¼Œå°±ç›´æ¥è¿›å…¥åˆ°è·¯ç”±çš„åˆ†å‘é˜¶æ®µ ","date":"2018-03-06","objectID":"/2018/03/06/php-phalcon-bootstrap/:4:2","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å¯åŠ¨æµç¨‹","uri":"/2018/03/06/php-phalcon-bootstrap/"},{"categories":["PHP"],"content":"æ¨¡å— ä¹‹å‰ç»‘å®šåˆ°äº‹ä»¶ç®¡ç†å™¨ä¸Šäº‹ä»¶å°±ä¼šå› ä¸ºæŒ‡å®šçš„è·¯ç”±è€Œè§¦å‘ï¼Œäº‹ä»¶è§¦å‘åæ£€æŸ¥æ¨¡å—çš„æ­£ç¡®æ€§ï¼Œæ ¹æ®æ¨¡å—æ–‡ä»¶ä¸­å®šä¹‰çš„ classNameï¼Œpath ç­‰ï¼Œå°†æ¨¡å—å¼•å¯¼æ–‡ä»¶åŠ è½½è¿›æ¥ï¼Œå¹¶è°ƒç”¨æ¨¡å—å¼•å¯¼æ–‡ä»¶ä¸­å¿…é¡»å­˜åœ¨çš„æ–¹æ³•. ä¹Ÿå°±æ˜¯è¯´ï¼Œè‡ªå®šä¹‰çš„æ¨¡å—å¿…é¡»å®ç° ModuleDefinitionInterface å®šä¹‰çš„ registerAutoloaders(\\Phalcon\\DiInterface $dependencyInjector = null) å’Œ registerServices(\\Phalcon\\DiInterface $dependencyInjector) æ–¹æ³• \u003c?php namespace Phalcon\\Mvc; /** * Phalcon\\Mvc\\ModuleDefinitionInterface * * This interface must be implemented by class module definitions */ interface ModuleDefinitionInterface { /** * Registers an autoloader related to the module * * @param \\Phalcon\\DiInterface $dependencyInjector */ public function registerAutoloaders(\\Phalcon\\DiInterface $dependencyInjector = null); /** * Registers services related to the module * * @param \\Phalcon\\DiInterface $dependencyInjector */ public function registerServices(\\Phalcon\\DiInterface $dependencyInjector); } æ¨¡å—å¯åŠ¨å®Œæˆåè§¦å‘ afterStartModule äº‹ä»¶ï¼Œæ ‡å¿—ç€æ­£å¼è¿›å…¥è·¯ç”±çš„è°ƒåº¦åˆ†å‘é˜¶æ®µ ","date":"2018-03-06","objectID":"/2018/03/06/php-phalcon-bootstrap/:4:3","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å¯åŠ¨æµç¨‹","uri":"/2018/03/06/php-phalcon-bootstrap/"},{"categories":["PHP"],"content":"åˆ†å‘ Phalcon çš„è·¯ç”±è°ƒåº¦åˆ†å‘æ˜¯ç”± Phalcon\\Mvc\\Dispatcher æ¥å®Œæˆ. æ‰€è°“åˆ†å‘ï¼Œå°±æ˜¯ Phalcon æ ¹æ®è¯·æ±‚çš„åŸå§‹ uriï¼Œå°†å…¶åŒ¹é…åˆ°çš„åœ°å€è§£æåˆ°å¯¹åº”çš„ Controller åŠ Actionï¼Œå¹¶è¿”å› Action ç»“æœ \u003c?php namespace Phalcon\\Mvc; /** * Phalcon\\Mvc\\Dispatcher * * Dispatching is the process of taking the request object, extracting the module name, * controller name, action name, and optional parameters contained in it, and then * instantiating a controller and calling an action of that controller. * * \u003ccode\u003e * $di = new \\Phalcon\\Di(); * * $dispatcher = new \\Phalcon\\Mvc\\Dispatcher(); * * $dispatcher-\u003esetDI($di); * * $dispatcher-\u003esetControllerName(\"posts\"); * $dispatcher-\u003esetActionName(\"index\"); * $dispatcher-\u003esetParams([]); * * $controller = $dispatcher-\u003edispatch(); * \u003c/code\u003e */ class Dispatcher extends \\Phalcon\\Dispatcher implements \\Phalcon\\Mvc\\DispatcherInterface { protected $_handlerSuffix = \"Controller\"; protected $_defaultHandler = \"index\"; protected $_defaultAction = \"index\"; /** * Sets the default controller suffix * * @param string $controllerSuffix */ public function setControllerSuffix($controllerSuffix) {} /** * Sets the default controller name * * @param string $controllerName */ public function setDefaultController($controllerName) {} /** * Sets the controller name to be dispatched * * @param string $controllerName */ public function setControllerName($controllerName) {} /** * Gets last dispatched controller name * * @return string */ public function getControllerName() {} /** * Gets previous dispatched namespace name * * @return string */ public function getPreviousNamespaceName() {} /** * Gets previous dispatched controller name * * @return string */ public function getPreviousControllerName() {} /** * Gets previous dispatched action name * * @return string */ public function getPreviousActionName() {} /** * Throws an internal exception * * @param string $message * @param int $exceptionCode */ protected function _throwDispatchException($message, $exceptionCode = 0) {} /** * Handles a user exception * * @param \\Exception $exception */ protected function _handleException(\\Exception $exception) {} /** * Possible controller class name that will be located to dispatch the request * * @return string */ public function getControllerClass() {} /** * Returns the latest dispatched controller * * @return \\Phalcon\\Mvc\\ControllerInterface */ public function getLastController() {} /** * Returns the active controller in the dispatcher * * @return \\Phalcon\\Mvc\\ControllerInterface */ public function getActiveController() {} } ç”±äºè¿™é‡Œæˆ‘åˆ›å»ºçš„æ˜¯ Phalcon Micro Projectï¼Œä¸»è¦ç”¨æ¥å†™æ¥å£ API ç”¨çš„ï¼Œæ‰€ä»¥è¿™ä¸ªè¿‡ç¨‹ä¸­å°±æ²¡æœ‰æåŠ Viewã€‚å½“ç„¶ View æ¨¡å—å¹¶ä¸æ˜¯åœ¨è¿™ä¸ªé˜¶æ®µå¯åŠ¨çš„ï¼Œå®ƒä¹Ÿæ˜¯å…ˆäºè°ƒåº¦åˆ†å‘å‰å¯åŠ¨çš„ã€‚å¦‚æœè°ƒåº¦åˆ†å‘é˜¶æ®µå‡ºç°ä»»ä½•é”™è¯¯ï¼Œéƒ½éœ€è¦ View å°†é—®é¢˜æ˜¾ç¤ºå‡ºæ¥çš„ è°ƒåº¦å™¨ä¹Ÿæ˜¯ä» DI å®¹å™¨ä¸­é€šè¿‡é”®å dispatcher è·å–çš„ï¼Œè·¯ç”±çš„åˆ†å‘éœ€è¦è°ƒåº¦å™¨åˆ†æ´¾ï¼Œå› æ­¤è°ƒåº¦å™¨éœ€è¦å–å¾—è·¯ç”±çš„è¯¦æƒ…ä¿¡æ¯ï¼Œå¦‚ï¼šå‘½åç©ºé—´\\æ¨¡å—å\\ç±»å\\åŠ¨ä½œå\\å‚æ•° ","date":"2018-03-06","objectID":"/2018/03/06/php-phalcon-bootstrap/:4:4","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å¯åŠ¨æµç¨‹","uri":"/2018/03/06/php-phalcon-bootstrap/"},{"categories":["PHP"],"content":"æ¸²æŸ“ ","date":"2018-03-06","objectID":"/2018/03/06/php-phalcon-bootstrap/:4:5","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å¯åŠ¨æµç¨‹","uri":"/2018/03/06/php-phalcon-bootstrap/"},{"categories":["PHP"],"content":"å“åº” èµ°åˆ°è¿™é‡Œï¼Œéœ€è¦æ±‡æ€»ä¸€ä¸ªå”¯ä¸€çš„å“åº”ä¸€è‡´å¯¹å¤–ã€‚æ­¤æ—¶ä¼šè§¦å‘ beforeSendResponseï¼Œå¹¶è°ƒç”¨ Phalcon\\Http\\Response-\u003esendHeaders() å’Œ Phalcon\\Http\\Response-\u003esendCookies()ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å»è®¾ç½®ï¼Œç„¶åå¯¹å¤–è¿”å›ä¸€ä¸ª Phalcon\\Http\\Response å“åº” æœªå®Œå¾…ç»­â€¦â€¦ ","date":"2018-03-06","objectID":"/2018/03/06/php-phalcon-bootstrap/:4:6","tags":["PHP"],"title":"Phalcon æ¡†æ¶ä¹‹å¯åŠ¨æµç¨‹","uri":"/2018/03/06/php-phalcon-bootstrap/"},{"categories":["PHP"],"content":"ä»¥å‰æ€»ä»¥ä¸º echoï¼Œprint ä¹‹ç±»çš„è¾“å‡ºå·¥å…·èƒŒåæ²¡ä»€ä¹ˆäº†ä¸èµ·çš„é€»è¾‘ï¼Œä¸å°±æ˜¯ç»™ä¸ªå­—ç¬¦ä¸²è®©ç»ˆç«¯æ˜¾ç¤ºä¸€ä¸‹å—ï¼Ÿå…¶å®ä¸ç„¶ï¼Œæ¯ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„è¯­è¨€ç‰¹æ€§ï¼Œå‡½æ•°ï¼Œæ–¹æ³•â€¦èƒŒåéƒ½å¯è°“ç‹¬å…·åŒ å¿ƒï¼Œä½ çœ‹ï¼ŒPHP è¯­è¨€ä»æ¥éƒ½ä¸ä¼šè®¾è®¡ä¸€ä¸ªä¸€æ— æ˜¯å¤„çš„å·¥å…·å‡ºæ¥ï¼Œé‚£äº›é›•ç¢å‡ºæ¥çš„ç‰¹æ€§éƒ½æ˜¯é‚£ä¹ˆçš„æ°åˆ°å¥½å¤„ã€‚ ","date":"2018-03-05","objectID":"/2018/03/05/php-output-buffer/:0:0","tags":["PHP"],"title":"PHP ä¸­çš„è¾“å‡ºç¼“å†²åŒº","uri":"/2018/03/05/php-output-buffer/"},{"categories":["PHP"],"content":"ç¼“å†²åŒºçš„ä¸€äº›è¯´æ˜ æ­£å¸¸æƒ…å†µä¸‹ï¼Œä»»ä½•ä¼šè¾“å‡ºå†…å®¹çš„å‡½æ•°éƒ½ä¼šç”¨åˆ°è¾“å‡ºç¼“å†²åŒº è¾“å‡ºç¼“å†²åŒºä¸æ˜¯å”¯ä¸€ç”¨äºç¼“å†²è¾“å‡ºçš„å±‚ï¼Œå®ƒå®é™…ä¸Šæ˜¯å¾ˆå¤šå±‚ä¸­çš„ä¸€ä¸ª SAPI ä¸­çš„è¾“å‡ºç¼“å†²åŒº æ•°æ®å†™å…¥é¡ºåºï¼šecho/print =\u003e PHP è¾“å‡ºç¼“å†²åŒº =\u003e SAPI ç¼“å†²åŒº =\u003e TCP ç¼“å†²åŒº =\u003e æµè§ˆå™¨ ","date":"2018-03-05","objectID":"/2018/03/05/php-output-buffer/:1:0","tags":["PHP"],"title":"PHP ä¸­çš„è¾“å‡ºç¼“å†²åŒº","uri":"/2018/03/05/php-output-buffer/"},{"categories":["PHP"],"content":"é»˜è®¤çš„è¾“å‡ºç¼“å†²åŒº åœ¨ PHP-FPM ä¸­ï¼Œä¸ç¼“å†²åŒºç›¸å…³çš„é…ç½®ã€‚ è¿™äº›å€¼é€šè¿‡ ini_set() è®¾ç½®åä¹Ÿä¸èµ·ä½œç”¨ï¼Œæ¢å¥è¯è¯´å°±æ˜¯è®¾ç½®çš„å¤ªè¿Ÿäº†ï¼Œå› ä¸ºè¾“å‡ºç¼“å†²åŒºå±‚åœ¨ PHP ç¨‹åºå¯åŠ¨æ—¶ï¼Œè¿˜æ²¡æœ‰è¿è¡Œä»»ä½•è„šæœ¬è§£æä¹‹å‰å°±å·²ç»å¯åŠ¨äº†ã€‚è¿™äº›å€¼éœ€è¦åœ¨ php.ini æˆ–è€…åœ¨æ‰§è¡Œç¨‹åºæ—¶ä½¿ç”¨ -d é€‰é¡¹æ‰æœ‰æ•ˆ ","date":"2018-03-05","objectID":"/2018/03/05/php-output-buffer/:2:0","tags":["PHP"],"title":"PHP ä¸­çš„è¾“å‡ºç¼“å†²åŒº","uri":"/2018/03/05/php-output-buffer/"},{"categories":["PHP"],"content":"output_buffering é»˜è®¤å€¼ä¸º 4096ï¼Œè®¾ç½®ä¸º Off æˆ–è€… 0ï¼Œè¡¨ç¤ºç¦ç”¨è¾“å‡ºç¼“å†²åŒºï¼›è®¾ç½®ä¸º Onï¼Œè¡¨ç¤ºè¾“å‡ºç¼“å†²åŒºä¸å—é™åˆ¶ï¼Œæ…ç”¨ï¼› ","date":"2018-03-05","objectID":"/2018/03/05/php-output-buffer/:2:1","tags":["PHP"],"title":"PHP ä¸­çš„è¾“å‡ºç¼“å†²åŒº","uri":"/2018/03/05/php-output-buffer/"},{"categories":["PHP"],"content":"implicit_flush é»˜è®¤å€¼ä¸º Offï¼Œè®¾ç½®ä¸º Onï¼Œè¡¨ç¤ºä¸€æ—¦æœ‰ä»»ä½•è¾“å‡ºå†™åˆ° SAPI ç¼“å†²åŒºå±‚ï¼Œå®ƒéƒ½ä¼šç«‹å³åˆ·æ–°ï¼Œä¹Ÿå°±æ˜¯æŠŠæ•°æ®å†™åˆ°æ›´ä½å±‚ï¼Œå¹¶ä¸”ç¼“å†²åŒºä¼šè¢«æ¸…ç©º ","date":"2018-03-05","objectID":"/2018/03/05/php-output-buffer/:2:2","tags":["PHP"],"title":"PHP ä¸­çš„è¾“å‡ºç¼“å†²åŒº","uri":"/2018/03/05/php-output-buffer/"},{"categories":["PHP"],"content":"output_handler å›è°ƒå‡½æ•°ï¼Œå®ƒå¯ä»¥åœ¨ç¼“å†²åŒºåˆ·æ–°ä¹‹å‰ä¿®æ”¹ç¼“å†²ä¸­çš„å†…å®¹ã€‚PHP çš„æ‰©å±•æä¾›äº†å¾ˆå¤šå›è°ƒå‡½æ•°ï¼š ob_gzhandlerï¼šä½¿ç”¨ ext/zlib å‹ç¼©è¾“å‡º mb_output_handlerï¼šä½¿ç”¨ ext/mbstring è½¬æ¢å­—ç¬¦ç¼–ç  ob_iconv_handlerï¼šä½¿ç”¨ ext/iconv è½¬æ¢å­—ç¬¦ç¼–ç  ob_tidyhandlerï¼šä½¿ç”¨ ext/tidy æ•´ç†è¾“å‡ºçš„ HTML æ–‡æœ¬ ob_[inflate/deflate]_handlerï¼šä½¿ç”¨ ext/http å‹ç¼©è¾“å‡º ob_etaghandlerï¼šä½¿ç”¨ ext/http è‡ªåŠ¨ç”Ÿæˆ HTTP çš„ Etag ","date":"2018-03-05","objectID":"/2018/03/05/php-output-buffer/:2:3","tags":["PHP"],"title":"PHP ä¸­çš„è¾“å‡ºç¼“å†²åŒº","uri":"/2018/03/05/php-output-buffer/"},{"categories":["PHP"],"content":"å®ä¾‹ è®¾ç½®ç¼“å†²åŒºå¤§å°ä¸º 16 å­—èŠ‚ï¼Œä½¿ç”¨ PHP å†…ç½®çš„ Web æœåŠ¡å™¨ SAPIã€‚ $ php -d output_buffering=16 -d implicit_flush=1 -S 127.0.0.1:8080 -t ~/Downloads/test æµè§ˆå™¨è®¿é—®è„šæœ¬ \u003c?php // ç¨‹åºè„šæœ¬è¿è¡Œçš„åå‘ç¼“å†²åŒºå†™å…¥ 15 ä¸ªå­—èŠ‚ echo str_repeat('Hello', 3); // è¿›å…¥ 2 ç§’ä¼‘çœ çŠ¶æ€ sleep(2); // æ­¤æ—¶è¿™ä¸ªå­—èŠ‚å¡«æ»¡äº†ç¼“å†²åŒºï¼Œç¼“å†²åŒºä¼šç«‹å³åˆ·æ–°è‡ªèº«ï¼ŒæŠŠæ•°æ®ä¼ é€’ç»™ SAPI å±‚çš„ç¼“å†²åŒº // ç”±äº implicit_flush=1ï¼ŒSAPI å±‚çš„ç¼“å†²åŒºä¹Ÿä¼šç«‹å³åˆ·æ–°åˆ°ä¸‹ä¸€å±‚ // æµè§ˆå™¨è¾“å‡º HelloHelloHelloW echo 'W'; // è¿›å…¥ 2 ç§’ä¼‘çœ çŠ¶æ€ sleep(2); // æ­¤æ—¶å°†è¿™ 2 ä¸ªå­—èŠ‚å†™å…¥åˆ°ç¼“å†²åŒºï¼Œç”±äºè¿˜ä¸å¤Ÿå¡«æ»¡ç¼“å†²åŒºï¼Œè¿™æ—¶è¿˜ä¸ä¼šè¾“å‡ºåˆ°æµè§ˆå™¨ echo 'or'; // è¿›å…¥ 2 ç§’ä¼‘çœ çŠ¶æ€ sleep(2); // æ­¤æ—¶è„šæœ¬æ‰§è¡Œå®Œæ¯•ï¼Œåœ¨æ‰§è¡Œå®Œæ¯•ä¹‹å‰ï¼Œå°†è¿™ 2 ä¸ªå­—èŠ‚å†™å…¥åˆ°ç¼“å†²åŒºï¼Œè¿˜æ˜¯ä¸å¤Ÿå¡«æ»¡ç¼“å†²åŒº // ä½†è¿™æ—¶è„šæœ¬å·²ç»æ‰§è¡Œå®Œæ¯•ï¼Œç¼“å†²åŒºå°†å·²æœ‰çš„æ•°æ®å…¨éƒ¨è¾“å‡ºæµè§ˆå™¨ echo 'ld'; ","date":"2018-03-05","objectID":"/2018/03/05/php-output-buffer/:2:4","tags":["PHP"],"title":"PHP ä¸­çš„è¾“å‡ºç¼“å†²åŒº","uri":"/2018/03/05/php-output-buffer/"},{"categories":["PHP"],"content":"æ¶ˆæ¯å¤´å’Œæ¶ˆæ¯ä½“ å¦‚æœä½¿ç”¨äº†è¾“å‡ºç¼“å†²åŒºå±‚ï¼Œé‚£ä¹ˆ PHP ä¼šæ¥ç®¡è¿™äº›æ¶ˆæ¯å¤´å’Œæ¶ˆæ¯ä½“çš„å‘é€ã€‚ PHP ä¸­æœ‰å…³ä¸æ¶ˆæ¯å¤´çš„å‡½æ•°éƒ½ä½¿ç”¨äº†å†…éƒ¨çš„ sapi_header_op() å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°è´Ÿè´£æŠŠå†…å®¹å†™å…¥åˆ°æ¶ˆæ¯å¤´ç¼“å†²åŒºä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰èƒ½ä¼˜é›…çš„ä½¿ç”¨ header()ï¼Œsetcookie() è¯¸å¦‚æ­¤ç±»çš„æ–¹æ³•ã€‚ åœ¨è¾“å‡ºå†…å®¹æ—¶ï¼Œå†…å®¹ä¼šå…ˆè¢«å†™å…¥åˆ°è¾“å‡ºç¼“å†²åŒºï¼ˆå¯èƒ½æ˜¯å¤šä¸ªï¼‰ï¼Œå½“ç¼“å†²åŒºä¸­çš„å†…å®¹éœ€è¦è¢«å‘é€æ—¶ï¼ŒPHP ä¼šå…ˆå‘é€æ¶ˆæ¯å¤´ï¼Œå†å‘é€æ¶ˆæ¯ä½“ï¼Œä½ çœ‹ï¼Œæ‰€æœ‰çš„è¿™äº›éƒ½ä¸è´¹å¹ç°ä¹‹åŠ›ï¼ŒPHP ä¸ºæˆ‘ä»¬æå®šäº†æ‰€æœ‰çš„äº‹æƒ…ã€‚ ","date":"2018-03-05","objectID":"/2018/03/05/php-output-buffer/:3:0","tags":["PHP"],"title":"PHP ä¸­çš„è¾“å‡ºç¼“å†²åŒº","uri":"/2018/03/05/php-output-buffer/"},{"categories":["PHP"],"content":"ç”¨æˆ·çš„è¾“å‡ºç¼“å†²åŒº å¤šä¸ªç¼“å†²åŒºä¼šç»„æˆä¸€ä¸ªå †æ ˆç»“æ„ï¼Œæ¯ä¸ªæ–°å»ºçš„ç¼“å†²åŒºéƒ½ä¼šå †å åˆ°ä¹‹å‰çš„ç¼“å†²åŒºä¸Šï¼Œæ¯å½“å®ƒè¢«å¡«æ»¡æˆ–è€…æº¢å‡ºï¼Œéƒ½ä¼šæ‰§è¡Œåˆ·æ–°æ“ä½œï¼Œç„¶åæŠŠå…¶ä¸­çš„æ•°æ®ä¼ é€’ç»™ä¸‹ä¸€ä¸ªç¼“å†²åŒºã€‚ \u003c?php ob_start(function ($parameter) { static $index = 0; return $index++ . ': ' . $parameter . \"\\n\"; }, 6); ob_start('handle', 3); function handle($parameter) { return ucfirst($parameter); } // æ­¤æ—¶å­—ç¬¦ä¸²è¢«å†™å…¥åˆ°ç¬¬äºŒä¸ªç¼“å†²åŒºï¼Œç¼“å†²åŒºçš„é•¿åº¦ä¸å¤Ÿè®¾å®šå€¼ï¼Œä¸ä¼šåˆ·æ–°è¿™ä¸ªç¼“å†²åŒº echo 'fo'; // ä¼‘çœ  2 ç§’ sleep(2); // 1. æ­¤æ—¶å­—ç¬¦ä¸²å†™å…¥åˆ°ç¬¬äºŒä¸ªç¼“å†²åŒºåï¼Œç”±äº chunk_size ä¸º 3ï¼Œæ‰€ä»¥ç¬¬äºŒä¸ªç¼“å†²åŒºä¼šåˆ·æ–° // 2. å¹¶ä¸”å°†è¿”å›çš„å­—ç¬¦ä¸² Foo å†™å…¥åˆ°ç¬¬ä¸€ä¸ªç¼“å†²åŒº // 3. æ­¤åˆ»ç¬¬ä¸€ä¸ªç¼“å†²åŒºæœªè¢«å¡«æ»¡ echo 'o'; // ä¼‘çœ  2 ç§’ sleep(2); // 1. æ­¤æ—¶å­—ç¬¦ä¸²å†™å…¥åˆ°ç¬¬äºŒä¸ªç¼“å†²åŒºåï¼Œç«‹å³åˆ·æ–°ç¼“å†²åŒº // 2. å¹¶ä¸”å°†è¿”å›çš„å­—ç¬¦ä¸² HelloWorld å†™å…¥åˆ°ç¬¬ä¸€ä¸ªç¼“å†²åŒº // 3. ä¸Šä¸€æ¬¡ç¼“å†²åŒºçš„ Foo ä¸ æœ¬æ¬¡çš„ HelloWorld åˆå¹¶ // 4. ç”±äºç¬¬ä¸€ä¸ªç¼“å†²åŒº chunk_size ä¸º 10ï¼Œè¿™æ—¶ç¼“å†²å·²ç»è¢«å¡«æ»¡ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªç¼“å†²åŒºä¼šåˆ·æ–°è¾“å‡ºåˆ°æµè§ˆå™¨ echo 'helloWorld'; // ä¼‘çœ  2 ç§’ sleep(2); // 1. æ­¤æ—¶å­—ç¬¦ä¸²å†™å…¥åˆ°ç¬¬äºŒä¸ªç¼“å†²åŒºåï¼Œç«‹å³åˆ·æ–°ç¼“å†²åŒº // 2. å¹¶ä¸”å°†è¿”å›çš„å­—ç¬¦ä¸² Enough å†™å…¥åˆ°ç¬¬ä¸€ä¸ªç¼“å†²åŒº // 3. ç”±äºä¸Šä¸€æ¬¡çš„ç¼“å†²è¢«å¡«æ»¡åˆ·æ–°è¾“å‡ºäº†ï¼Œæ­£å¥½æœ¬æ¬¡çš„ç¼“å†²åŒºä¹Ÿåˆšå¥½è¢«å¡«æ»¡ï¼Œæ‰€æœ‰ç¬¬ä¸€ä¸ªç¼“å†²åŒºä¼šåˆ·æ–°è¾“å‡ºåˆ°æµè§ˆå™¨ echo 'enough'; sleep(2); // é‡å¤æ­¤å‰çš„æ­¥éª¤ï¼Œç”±äºè„šæœ¬å·²ç»æ‰§è¡Œç»“æœï¼Œè¢«è¿«åˆ·æ–°è¾“å‡ºåˆ°æµè§ˆå™¨ echo 'exit'; // ç»“æœ 0: FooHelloWorld 1: Enough 2: Exit ","date":"2018-03-05","objectID":"/2018/03/05/php-output-buffer/:4:0","tags":["PHP"],"title":"PHP ä¸­çš„è¾“å‡ºç¼“å†²åŒº","uri":"/2018/03/05/php-output-buffer/"},{"categories":["PHP"],"content":"è¾“å‡ºç¼“å†²åŒºå®ä¾‹ ","date":"2018-03-05","objectID":"/2018/03/05/php-output-buffer/:5:0","tags":["PHP"],"title":"PHP ä¸­çš„è¾“å‡ºç¼“å†²åŒº","uri":"/2018/03/05/php-output-buffer/"},{"categories":["PHP"],"content":"é»˜è®¤çš„ç¼“å†²åŒºè¾“å‡º åœ¨è„šæœ¬å¤„ç†ç»“æŸä¹‹å‰ï¼Œæµè§ˆå™¨ç«¯ä¸ä¼šè¾“å‡ºï¼Œç”±äºæ•°æ®é‡å¤ªå°ï¼Œè¾“å‡ºç¼“å†²åŒºæ²¡æœ‰å†™æ»¡ã€‚å†™å…¥æ•°æ®çš„é¡ºåºï¼šPHP ç¼“å†²åŒºã€TCP ç¼“å†²åŒºã€æµè§ˆå™¨ \u003c?php $i = 0; while ($i \u003c 10) { echo $i . '\u003cbr\u003e'; $i++; sleep($i); } ","date":"2018-03-05","objectID":"/2018/03/05/php-output-buffer/:5:1","tags":["PHP"],"title":"PHP ä¸­çš„è¾“å‡ºç¼“å†²åŒº","uri":"/2018/03/05/php-output-buffer/"},{"categories":["PHP"],"content":"å…³é—­åçš„ç¼“å†²åŒºè¾“å‡º å°† output_buffering çš„å€¼æ”¹ä¸º 0ï¼Œæ‰§è¡Œè„šæœ¬åï¼Œå› åº”ç¼“å†²åŒºçš„å®¹é‡è®¾ç½®ä¸º 0ï¼Œå³ç¦ç”¨äº† PHP ç¼“å†²åŒºæœºåˆ¶ã€‚è¿™æ—¶æµè§ˆå™¨ç«¯ä¼šæŒ‰ç¨‹åºå®šä¹‰çš„æ—¶é—´é—´éš”ä¸æ–­è¾“å‡ºï¼Œä¸ä¼šå‡ºç°æµè§ˆå™¨ç•Œé¢ç©ºç™½ç­‰å¾…çš„æƒ…å†µã€‚å†™å…¥æ•°æ®çš„é¡ºåºï¼šTCP ç¼“å†²åŒºã€æµè§ˆå™¨ \u003c?php $i = 0; while ($i \u003c 10) { echo $i . '\u003cbr\u003e'; flush(); sleep(1); $i++; } ","date":"2018-03-05","objectID":"/2018/03/05/php-output-buffer/:5:2","tags":["PHP"],"title":"PHP ä¸­çš„è¾“å‡ºç¼“å†²åŒº","uri":"/2018/03/05/php-output-buffer/"},{"categories":["PHP"],"content":"è‡ªå®šä¹‰çš„ç¼“å†²åŒºè¾“å‡º å°† output_buffing å€¼æ”¹ä¸ºé»˜è®¤çš„ 4096 ä½¿ç”¨ dd å‘½ä»¤å‡†å¤‡ä¸€ä¸ªå¤§å°ä¸º 4096 æ–‡ä»¶ $ dd if=/dev/zero of=file4096 bs=4096 count=1 $ ll file4096 -rw-r--r-- 1 majinyun staff 4.0K Mar 16 11:16 file4096 è„šæœ¬åœ¨æ¯æ¬¡æ‰§è¡Œæ—¶ï¼Œç”±äºè¯»å–çš„æ–‡ä»¶å†…å®¹å¤§å°æ­£å¥½ç­‰äºç¼“å†²åŒºçš„å¤§å°ï¼Œæ‰€ä»¥ä¼šç«‹å³åˆ·æ–°ç¼“å†²åŒºï¼Œè¾“å‡ºåˆ°å®¢æˆ·ç«¯æµè§ˆå™¨ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­æµè§ˆå™¨ä¸ä¼šå‡ºç°ç©ºç™½ç­‰å¾…æœŸï¼Œè€Œä¼šæŒç»­è¾“å‡ºç¨‹åºä¸­æŒ‡å®šçš„å†…å®¹ \u003c?php $filename = dirname(dirname(__DIR__)) . '/../Downloads/test/file4096'; for ($i = 0; $i \u003c 10; $i++) { echo file_get_contents($filename) . $i . '\u003cbr\u003e'; sleep(1); } ","date":"2018-03-05","objectID":"/2018/03/05/php-output-buffer/:5:3","tags":["PHP"],"title":"PHP ä¸­çš„è¾“å‡ºç¼“å†²åŒº","uri":"/2018/03/05/php-output-buffer/"},{"categories":["PHP"],"content":"ä½¿ç”¨ ob_start åçš„ç¼“å†²åŒºè¾“å‡º ä½¿ç”¨ ob_start() åï¼ŒPHP çš„ç¼“å†²åŒºä¼šè¢«æ‰©å±•åˆ°è¶³å¤Ÿå¤§ï¼Œç›´åˆ° ob_end_flush() å‡½æ•°è°ƒç”¨æˆ–è€…è„šæœ¬è¿è¡Œç»“æŸåï¼Œæ‰å‘é€ç¼“å†²åŒºä¸­çš„æ•°æ®åˆ°å®¢æˆ·ç«¯æµè§ˆå™¨ \u003c?php ob_start(); $filename = dirname(__DIR__, 3) . '/Downloads/test/f4096'; for ($i = 0; $i \u003c 10; $i++) { echo file_get_contents($filename) . $i . '\u003cbr\u003e'; sleep(1); } ob_end_flush(); æ‰§è¡Œè„šæœ¬åï¼Œob_get_contents() ä¼šè·å–ä¸€åˆ†ç¼“å†²åŒºä¸­çš„å‰¯æœ¬ï¼Œç»“æœä¸­æœ‰ä¸¤æ¬¡è¾“å‡º \u003c?php ob_start(); echo 'hello world' . '\u003cbr\u003e'; $contents = ob_get_contents(); ob_end_flush(); echo $contents; // ç»“æœ hello world hello world æ‰§è¡Œè„šæœ¬ç»“æŸåï¼Œç”±äºä½¿ç”¨äº† ob_end_clean() å‡½æ•°ï¼Œå°† PHP ç¼“å†²åŒºä¸­çš„å†…å®¹ç»™åˆ é™¤äº†ï¼Œæ‰€ä»¥ç»“æœä¸­ä»…æœ‰ä¸€æ¬¡è¾“å‡º \u003c?php ob_start(); echo 'hello world' . '\u003cbr\u003e'; $contents = ob_get_contents(); ob_end_clean(); echo $contents; // ç»“æœ hello world ","date":"2018-03-05","objectID":"/2018/03/05/php-output-buffer/:5:4","tags":["PHP"],"title":"PHP ä¸­çš„è¾“å‡ºç¼“å†²åŒº","uri":"/2018/03/05/php-output-buffer/"},{"categories":["PHP"],"content":"PHP ä¸­ä¸€å…±æä¾›äº† 3 ç§æ–¹æ³•æ£€æµ‹å‡½æ•°ï¼Œåˆ†åˆ«æ˜¯ï¼šfunction_exists / method_exists / is_callableï¼Œè¿™ä¸‰ä¸ªå‡½æ•°åˆ†åˆ«é€‚ç”¨äºä¸åŒçš„åœºæ™¯ï¼Œç°å°†å…¶ç”¨æ³•åšä¸€è¯´æ˜ã€‚ ","date":"2018-03-04","objectID":"/2018/03/04/php-method-detection-function/:0:0","tags":["PHP"],"title":"PHP æ–¹æ³•æ£€æµ‹å‡½æ•°","uri":"/2018/03/04/php-method-detection-function/"},{"categories":["PHP"],"content":"æ£€æµ‹å‡½æ•°æ˜¯å¦å­˜åœ¨ è¿™ç±»å‡½æ•°ä¸€èˆ¬æŒ‡ PHP å†…æ ¸æä¾›çš„ä¸€äº›å·¥å…·å‡½æ•°æˆ–è€…ç”¨æˆ·è‡ªå®šä¹‰çš„å‡½æ•° \u003c?php if (! function_exists('dd')) { function dd(...$vars) { foreach ($vars as $var) { print_r($var); echo PHP_EOL; } die(1); } } dd('test', 'hello', 'world'); // ç»“æœ test hello world ","date":"2018-03-04","objectID":"/2018/03/04/php-method-detection-function/:1:0","tags":["PHP"],"title":"PHP æ–¹æ³•æ£€æµ‹å‡½æ•°","uri":"/2018/03/04/php-method-detection-function/"},{"categories":["PHP"],"content":"æ£€æµ‹ç±»çš„æ–¹æ³•æ˜¯å¦å­˜åœ¨ ","date":"2018-03-04","objectID":"/2018/03/04/php-method-detection-function/:2:0","tags":["PHP"],"title":"PHP æ–¹æ³•æ£€æµ‹å‡½æ•°","uri":"/2018/03/04/php-method-detection-function/"},{"categories":["PHP"],"content":"èƒ½æ£€æµ‹å‡ºçš„æ–¹æ³• method_exists() èƒ½æ£€æµ‹å‡ºå¯¹è±¡ä¸­çš„ static, final, abstract æ–¹æ³•ï¼Œè¿˜èƒ½æ£€æµ‹å‡º public, protected, private ä¿®é¥°çš„æ–¹æ³• \u003c?php abstract class Foo { public function __construct() { if (method_exists($this, 'publicMethod')) { $this-\u003epublicMethod(); } } abstract public function abstractMethod(); final public function finalMethod() { } } class Bar extends Foo { public function publicMethod() { } protected function protectedMethod() { } private function privateMethod() { } public function abstractMethod() { } public static function staticMethod() { } } $result = [ method_exists(Bar::class, '__construct'), method_exists(Bar::class, 'publicMethod'), method_exists(Bar::class, 'protectedMethod'), method_exists(Bar::class, 'privateMethod'), method_exists(Bar::class, 'abstractMethod'), method_exists(Bar::class, 'staticMethod'), method_exists(Bar::class, 'finalMethod'), ]; var_dump($result); // ç»“æœ array(7) { [0] =\u003e bool(true) [1] =\u003e bool(true) [2] =\u003e bool(true) [3] =\u003e bool(true) [4] =\u003e bool(true) [5] =\u003e bool(true) [6] =\u003e bool(true) } ","date":"2018-03-04","objectID":"/2018/03/04/php-method-detection-function/:2:1","tags":["PHP"],"title":"PHP æ–¹æ³•æ£€æµ‹å‡½æ•°","uri":"/2018/03/04/php-method-detection-function/"},{"categories":["PHP"],"content":"ä¸èƒ½æ£€æµ‹å‡ºçš„æ–¹æ³• method_exists() æ— æ³•æ£€æµ‹å‡ºä½¿ç”¨é­”æ³•æ–¹æ³• __call è°ƒç”¨çš„å‡½æ•° \u003c?php class Foo { public function getName() { return __METHOD__; } public function __call($method, $arguments) { if (method_exists($this, $method)) { return call_user_func_array([$this, $method], $arguments); } return null; } } $foo = new Foo(); var_dump($foo-\u003egetName()); var_dump($foo-\u003egetDescription()); var_dump(method_exists($foo, 'getName')); var_dump(method_exists($foo, 'getDescription')); // ç»“æœ string(12) \"Foo::getName\" NULL bool(true) bool(false) ","date":"2018-03-04","objectID":"/2018/03/04/php-method-detection-function/:3:0","tags":["PHP"],"title":"PHP æ–¹æ³•æ£€æµ‹å‡½æ•°","uri":"/2018/03/04/php-method-detection-function/"},{"categories":["PHP"],"content":"æ£€æµ‹å‚æ•°æ˜¯å¦ä¸ºåˆæ³•çš„å¯è°ƒç”¨ç»“æ„ ","date":"2018-03-04","objectID":"/2018/03/04/php-method-detection-function/:4:0","tags":["PHP"],"title":"PHP æ–¹æ³•æ£€æµ‹å‡½æ•°","uri":"/2018/03/04/php-method-detection-function/"},{"categories":["PHP"],"content":"é»˜è®¤è°ƒç”¨ is_callable() å¯ä»¥åˆ¤æ–­å‡ºæ˜¯å¦èƒ½å¤Ÿè¿›è¡Œè°ƒç”¨ã€‚é»˜è®¤ç¬¬äºŒä¸ªå‚æ•°ä¸º falseï¼Œè¡¨ç¤ºè¯¥å›è°ƒæ“ä½œæœ‰æƒé™èƒ½å¤Ÿè¢«è°ƒç”¨ï¼Œå¦‚æœä¸º true çš„è¯ï¼Œä»…ä»…éªŒè¯ä¼ é€’çš„å¯èƒ½æ˜¯å‡½æ•°æˆ–æ–¹æ³•ï¼Œè¡¨ç¤ºåªæ£€æµ‹å…¶å­˜åœ¨å…·æœ‰å¯å›è°ƒçš„æ ¼å¼ \u003c?php abstract class Foo { public function __construct() { if (method_exists($this, 'publicMethod')) { $this-\u003epublicMethod(); } } abstract public function abstractMethod(); final public function finalMethod() { } } class Bar extends Foo { public function publicMethod() { } protected function protectedMethod() { } private function privateMethod() { } public function abstractMethod() { } public static function staticMethod() { } } $bar = new Bar(); $callables = [ is_callable([$bar, '__construct'], false, $a), is_callable([$bar, 'publicMethod'], false, $b), is_callable([$bar, 'protectedMethod'], false, $c), is_callable([$bar, 'privateMethod'], false, $d), is_callable([$bar, 'abstractMethod'], false, $e), is_callable([$bar, 'staticMethod'], false, $f), is_callable([$bar, 'finalMethod'], false, $g), ]; $names = [$a, $b, $c, $d, $e, $f, $g]; var_dump($callables); var_dump($names); // ç»“æœ array(7) { [0] =\u003e bool(true) [1] =\u003e bool(true) [2] =\u003e bool(false) [3] =\u003e bool(false) [4] =\u003e bool(true) [5] =\u003e bool(true) [6] =\u003e bool(true) } array(7) { [0] =\u003e string(16) \"Bar::__construct\" [1] =\u003e string(17) \"Bar::publicMethod\" [2] =\u003e string(20) \"Bar::protectedMethod\" [3] =\u003e string(18) \"Bar::privateMethod\" [4] =\u003e string(19) \"Bar::abstractMethod\" [5] =\u003e string(17) \"Bar::staticMethod\" [6] =\u003e string(16) \"Bar::finalMethod\" } ","date":"2018-03-04","objectID":"/2018/03/04/php-method-detection-function/:4:1","tags":["PHP"],"title":"PHP æ–¹æ³•æ£€æµ‹å‡½æ•°","uri":"/2018/03/04/php-method-detection-function/"},{"categories":["PHP"],"content":"é­”æœ¯æ–¹æ³•ä¸­è°ƒç”¨ å¦‚æœè®¾ç½®äº† __call() æ–¹æ³•çš„è¯ï¼Œé‚£ä¹ˆæ£€æµ‹å‡ºæ¥çš„ä»»ä½•æ–¹æ³•éƒ½æ˜¯è¿”å› true \u003c?php abstract class Foo { public function __construct() { if (method_exists($this, 'publicMethod')) { $this-\u003epublicMethod(); } } abstract public function abstractMethod(); final public function finalMethod() { } } class Bar extends Foo { public function publicMethod() { } protected function protectedMethod() { } private function privateMethod() { } public function abstractMethod() { } public static function staticMethod() { } public function __call($method, $arguments) { } } $bar = new Bar(); $callables = [ is_callable([$bar, '__construct'], false, $a), is_callable([$bar, 'publicMethod'], false, $b), is_callable([$bar, 'protectedMethod'], false, $c), is_callable([$bar, 'privateMethod'], false, $d), is_callable([$bar, 'abstractMethod'], false, $e), is_callable([$bar, 'staticMethod'], false, $f), is_callable([$bar, 'finalMethod'], false, $g), is_callable([$bar, 'notExistMethod'], true, $h), ]; $names = [$a, $b, $c, $d, $e, $f, $g, $h]; var_dump($callables); var_dump($names); // ç»“æœ array(8) { [0] =\u003e bool(true) [1] =\u003e bool(true) [2] =\u003e bool(true) [3] =\u003e bool(true) [4] =\u003e bool(true) [5] =\u003e bool(true) [6] =\u003e bool(true) [7] =\u003e bool(true) } array(8) { [0] =\u003e string(16) \"Bar::__construct\" [1] =\u003e string(17) \"Bar::publicMethod\" [2] =\u003e string(20) \"Bar::protectedMethod\" [3] =\u003e string(18) \"Bar::privateMethod\" [4] =\u003e string(19) \"Bar::abstractMethod\" [5] =\u003e string(17) \"Bar::staticMethod\" [6] =\u003e string(16) \"Bar::finalMethod\" [7] =\u003e string(19) \"Bar::notExistMethod\" } ","date":"2018-03-04","objectID":"/2018/03/04/php-method-detection-function/:4:2","tags":["PHP"],"title":"PHP æ–¹æ³•æ£€æµ‹å‡½æ•°","uri":"/2018/03/04/php-method-detection-function/"},{"categories":["PHP"],"content":"ç»“è®º å¦‚æœ is_callable() çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ stringï¼Œé‚£ä¹ˆå’Œ function_exists() ç›¸ä¼¼ï¼›å¦‚æœæ˜¯æ•°ç»„åˆ™å’Œ method_exists() ç›¸ä¼¼ï¼Œä½†åˆæœ‰ä¸åŒ method_exists() ä¸ä¼šè€ƒè™‘ç±»æ–¹æ³•çš„å®šä¹‰èŒƒå›´ publicã€protectedã€privateï¼Œåªè¦å­˜åœ¨å°±è¿”å› trueï¼›è€Œ is_callable() ä¼šåœ¨æ–¹æ³•æ˜¯è¢« protectedã€private æ—¶è¿”å› false is_callable() ä¼šå»è°ƒç”¨ __call() é­”æœ¯æ–¹æ³•æ¥åˆ¤æ–­ï¼Œè€Œ method_exists() ä¸ä¼š ","date":"2018-03-04","objectID":"/2018/03/04/php-method-detection-function/:5:0","tags":["PHP"],"title":"PHP æ–¹æ³•æ£€æµ‹å‡½æ•°","uri":"/2018/03/04/php-method-detection-function/"},{"categories":["PHP"],"content":"åœ¨ PHP-5.4 ä¹‹å‰å®šä¹‰æ•°ç»„åªèƒ½ç”¨ array()ï¼Œä½†åœ¨ PHP0-5.4 ä¹‹åå¯ä»¥ç”¨ []ï¼Œè¿™ä¸ªçœŸæ˜¯æ–¹ä¾¿äº†å¤ªå¤šï¼Œé¡ºä¾¿è¿˜çœäº† 5 ä¸ªå­—ç¬¦ã€‚åƒ array() ä¸€æ ·ï¼Œlist() ä¸æ˜¯çœŸæ­£çš„å‡½æ•°ï¼Œè€Œæ˜¯è¯­è¨€ç»“æ„ã€‚list() å¯ä»¥åœ¨å•æ¬¡æ“ä½œå†…å°±ä¸ºä¸€ç»„å˜é‡èµ‹å€¼ã€‚ ","date":"2018-03-01","objectID":"/2018/03/01/php-php7-list/:0:0","tags":["PHP"],"title":"PHP7 ä¸­çš„ list","uri":"/2018/03/01/php-php7-list/"},{"categories":["PHP"],"content":"å˜é‡èµ‹å€¼ PHP 5 é‡Œï¼Œlist() ä»æœ€å³è¾¹çš„å‚æ•°å¼€å§‹èµ‹å€¼ï¼›PHP 7 é‡Œï¼Œlist() ä»æœ€å·¦è¾¹çš„å‚æ•°å¼€å§‹èµ‹å€¼ å‡ºç°åœ¨å·¦å€¼ä¸­çš„ [] å¹¶ä¸æ˜¯æ•°ç»„çš„ç®€å†™ï¼Œæ˜¯ list() çš„ç®€å†™ èµ‹å€¼æ“ä½œçš„é¡ºåºå‘ç”Ÿäº†å˜åŒ– list() è¡¨è¾¾å¼ä¸å†å¯ä»¥å®Œå…¨ä¸ºç©º å­—ç¬¦ä¸²æ— æ³•å†è¢«æ‹†åŒ…ï¼ˆunpackï¼‰ \u003c?php list($hello, $world) = ['hello', 'world']; var_dump($hello, $world); [$new, $old] = ['new', 'old']; var_dump($new, $old); // ç»“æœ string(5) \"hello\" string(5) \"world\" string(3) \"new\" string(3) \"old\" ","date":"2018-03-01","objectID":"/2018/03/01/php-php7-list/:1:0","tags":["PHP"],"title":"PHP7 ä¸­çš„ list","uri":"/2018/03/01/php-php7-list/"},{"categories":["PHP"],"content":"æ•°ç»„ç´¢å¼• \u003c?php [$a[0], $a[1], $a[2]] = ['hello', 'world', '!']; var_dump($a); // ç»“æœ array(3) { [0] =\u003e string(5) \"hello\" [1] =\u003e string(5) \"world\" [2] =\u003e string(1) \"!\" } ","date":"2018-03-01","objectID":"/2018/03/01/php-php7-list/:2:0","tags":["PHP"],"title":"PHP7 ä¸­çš„ list","uri":"/2018/03/01/php-php7-list/"},{"categories":["PHP"],"content":"äº’ç›¸åµŒå¥— \u003c?php // ä¸åˆæ³• list([$a, $b], [$c, $d]) = [[1, 2], [3, 4]]; // ä¸åˆæ³• [list($a, $b), list($c, $d)] = [[1, 2], [3, 4]]; // åˆæ³• [[$a, $b], [$c, $d]] = [[1, 2], [3, 4]]; ","date":"2018-03-01","objectID":"/2018/03/01/php-php7-list/:3:0","tags":["PHP"],"title":"PHP7 ä¸­çš„ list","uri":"/2018/03/01/php-php7-list/"},{"categories":["PHP"],"content":"å¾ªç¯ä¸­ä½¿ç”¨ ","date":"2018-03-01","objectID":"/2018/03/01/php-php7-list/:4:0","tags":["PHP"],"title":"PHP7 ä¸­çš„ list","uri":"/2018/03/01/php-php7-list/"},{"categories":["PHP"],"content":"é¡ºåºç´¢å¼• \u003c?php $array = [['a', 'b'], ['c', 'd'], ['e', 'f']]; foreach ($array as $key =\u003e [$x, $y]) { echo sprintf('ç¬¬ %d æ¬¡å¾ªç¯çš„å€¼ï¼š', $key + 1); echo $x, '-\u003e', $y . PHP_EOL; } // ç»“æœ ç¬¬ 1 æ¬¡å¾ªç¯çš„å€¼ï¼ša-\u003eb ç¬¬ 2 æ¬¡å¾ªç¯çš„å€¼ï¼šc-\u003ed ç¬¬ 3 æ¬¡å¾ªç¯çš„å€¼ï¼še-\u003ef ","date":"2018-03-01","objectID":"/2018/03/01/php-php7-list/:4:1","tags":["PHP"],"title":"PHP7 ä¸­çš„ list","uri":"/2018/03/01/php-php7-list/"},{"categories":["PHP"],"content":"æŒ‡å®šç´¢å¼• \u003c?php $array = [ ['x' =\u003e 'a', 'y' =\u003e 'b'], ['x' =\u003e 'c', 'y' =\u003e 'd'], ['x' =\u003e 'e', 'y' =\u003e 'f'], ]; foreach ($array as $key =\u003e ['x' =\u003e $x, 'y' =\u003e $y]) { echo sprintf('ç¬¬ %d æ¬¡å¾ªç¯çš„å€¼ï¼š', $key + 1); echo $x, '-\u003e', $y . PHP_EOL; } // ç»“æœ ç¬¬ 1 æ¬¡å¾ªç¯çš„å€¼ï¼ša-\u003eb ç¬¬ 2 æ¬¡å¾ªç¯çš„å€¼ï¼šc-\u003ed ç¬¬ 3 æ¬¡å¾ªç¯çš„å€¼ï¼še-\u003ef ","date":"2018-03-01","objectID":"/2018/03/01/php-php7-list/:4:2","tags":["PHP"],"title":"PHP7 ä¸­çš„ list","uri":"/2018/03/01/php-php7-list/"},{"categories":["PHP"],"content":"å…è®¸æŒ‡å®šé”® \u003c?php $array = ['x' =\u003e 1, 'y' =\u003e 2, 'z' =\u003e 3]; ['x' =\u003e $x, 'y' =\u003e $y, 'z' =\u003e $z] = $array; var_dump($x, $y, $z); // ç›¸å½“äº $x = $array['x']; $y = $array['y']; $z = $array['z']; // ç»“æœ int(1) int(2) int(3) ","date":"2018-03-01","objectID":"/2018/03/01/php-php7-list/:5:0","tags":["PHP"],"title":"PHP7 ä¸­çš„ list","uri":"/2018/03/01/php-php7-list/"},{"categories":["PHP"],"content":"è°ƒæ•´é¡ºåº \u003c?php // PHP 5 ä¼šæŠ¥ PHP Notice: Undefined offset: 0... list($a, $b) = [1 =\u003e 'a', 2 =\u003e 'b']; // PHP 7 å¤„ç†èµ·æ¥ä¸è´¹å¹ç°ä¹‹åŠ› [10 =\u003e $a, 11 =\u003e $b, 12 =\u003e $c] = [10 =\u003e 'a', 11 =\u003e 'b', 12 =\u003e 'c']; var_dump($a, $b, $c); // ç»“æœ string(1) \"a\" string(1) \"b\" string(1) \"c\" ","date":"2018-03-01","objectID":"/2018/03/01/php-php7-list/:6:0","tags":["PHP"],"title":"PHP7 ä¸­çš„ list","uri":"/2018/03/01/php-php7-list/"},{"categories":["PHP"],"content":"æ··åˆé”® PHP 7 ä¸­ list() æ”¯æŒæ··åˆå½¢å¼çš„ key \u003c?php // PHP 5 ä¼šæŠ¥ PHP Notice: Undefined offset: 0... list($a, $b, $c) = [1 =\u003e 'a', 'x' =\u003e 'b', 2 =\u003e 'c']; // PHP 7 å¤„ç†èµ·æ¥æ¯«æ— å‹åŠ› [10 =\u003e $a, 'x' =\u003e $b, 12 =\u003e $c] = [10 =\u003e 'a', 'x' =\u003e 'b', 12 =\u003e 'c']; var_dump($a, $b, $c); // ç»“æœ string(1) \"a\" string(1) \"b\" string(1) \"c\" ","date":"2018-03-01","objectID":"/2018/03/01/php-php7-list/:7:0","tags":["PHP"],"title":"PHP7 ä¸­çš„ list","uri":"/2018/03/01/php-php7-list/"},{"categories":["PHP"],"content":"å¤åˆå½¢å¼ ","date":"2018-03-01","objectID":"/2018/03/01/php-php7-list/:8:0","tags":["PHP"],"title":"PHP7 ä¸­çš„ list","uri":"/2018/03/01/php-php7-list/"},{"categories":["PHP"],"content":"é”®åä¸€è‡´ \u003c?php $array = [ ['m' =\u003e 11, 'n' =\u003e 22], ['m' =\u003e 'hello', 'n' =\u003e 'world'], ['m' =\u003e true, 'n' =\u003e false], ]; [ ['m' =\u003e $m1, 'n' =\u003e $n1], ['m' =\u003e $m2, 'n' =\u003e $n2], ['m' =\u003e $m3, 'n' =\u003e $n3], ] = $array; var_dump(\"$m1 $n1\", \"$m2 $n2\", \"$m3 $n3\"); // ç»“æœ string(6) \"11 22\" string(12) \"hello world\" string(3) \"1 \" ","date":"2018-03-01","objectID":"/2018/03/01/php-php7-list/:8:1","tags":["PHP"],"title":"PHP7 ä¸­çš„ list","uri":"/2018/03/01/php-php7-list/"},{"categories":["PHP"],"content":"é”®åä¸åŒ \u003c?php $array = [ 'x' =\u003e ['a', 'b'], 'y' =\u003e [1, 2], 'z' =\u003e [true, false], ]; ['x' =\u003e [$a, $b], 'y' =\u003e [$c, $d], 'z' =\u003e [$e, $f]] = $array; var_dump(\"$a $b\", \"$c $d\", \"$e $f\"); // ç»“æœ string(3) \"a b\" string(3) \"1 2\" string(2) \"1 \" ","date":"2018-03-01","objectID":"/2018/03/01/php-php7-list/:8:2","tags":["PHP"],"title":"PHP7 ä¸­çš„ list","uri":"/2018/03/01/php-php7-list/"},{"categories":["PHP"],"content":"æ”¶é›†æ•´ç†ä¸€ä¸‹ PHP çš„ä¸€äº›å¿«é€Ÿå¼€å‘å·¥å…·åŒ…ã€‚ ","date":"2018-02-28","objectID":"/2018/02/28/php-toolkit/:0:0","tags":["PHP"],"title":"PHP - å¼€å‘å·¥å…·åŒ…","uri":"/2018/02/28/php-toolkit/"},{"categories":["PHP"],"content":"å¼€å‘åŒ… Composer - Dependency Management for PHP Guzzle - Guzzle is a PHP HTTP client that makes it easy to send HTTP requests and trivial to integrate with web services Zephir is a compiled high level language aimed to the creation of C-extensions for PHP Swoole - Event-driven asynchronous \u0026 concurrent \u0026 coroutine networking engine with high performance for PHP Sami - An API documentation generator Intervention Image - Intervention Image is a PHP image handling and manipulation library providing an easier and expressive way to create, edit, and compose images. Monolog - Sends your logs to files, sockets, inboxes, databases and various web services PHP dotenv - Loads environment variables from .env to getenv() ","date":"2018-02-28","objectID":"/2018/02/28/php-toolkit/:1:0","tags":["PHP"],"title":"PHP - å¼€å‘å·¥å…·åŒ…","uri":"/2018/02/28/php-toolkit/"},{"categories":["PHP"],"content":"å¾®æ¡†æ¶ Lumen - The stunningly fast micro-framework by Laravel Slim - Slim is a PHP micro-framework that helps you quickly write simple yet powerful web applications and APIs Silex - The PHP micro-framework based on the Symfony Components Bullet - Bullet is a resource-oriented micro PHP framework built around HTTP URIs Proton - Proton is a StackPHP compatible micro framework Fat-Free - A powerful yet easy-to-use PHP micro-framework designed to help you build dynamic and robust Web applications - fast ","date":"2018-02-28","objectID":"/2018/02/28/php-toolkit/:2:0","tags":["PHP"],"title":"PHP - å¼€å‘å·¥å…·åŒ…","uri":"/2018/02/28/php-toolkit/"},{"categories":["PHP"],"content":"Web æ¡†æ¶ Laravel - A PHP framework for web artisans Symfony - The Symfony PHP framework CakePHP - The Rapid Development Framework for PHP Yii 2 - The Fast, Secure and Professional PHP Framework Zend Framework - PHP Official Framework CodeIgniter - CodeIgniter is an Application Development Framework Phalcon - High performance, full-stack PHP framework delivered as a C extension PHPixie - A lightweight MVC PHP framework designed for speed and simplicty FuelPHP - FuelPHP is a fast, lightweight PHP 5.4 framework ThinkPHP - ä¸º API å¼€å‘è€Œè®¾è®¡çš„é«˜æ€§èƒ½ PHP æ¡†æ¶ ","date":"2018-02-28","objectID":"/2018/02/28/php-toolkit/:3:0","tags":["PHP"],"title":"PHP - å¼€å‘å·¥å…·åŒ…","uri":"/2018/02/28/php-toolkit/"},{"categories":["PHP"],"content":"ä»£ç è´¨é‡ PHP CodeSniffer - PHP_CodeSniffer tokenizes PHP, JavaScript and CSS files and detects violations of a defined set of coding standards PHP CS Fixer - The PHP Coding Standards Fixer (PHP CS Fixer) tool fixes your code to follow standards PHPMD - PHPMD is a spin-off project of PHP Depend and aims to be a PHP equivalent of the well known Java tool PMD. PHPMD can be seen as an user friendly frontend application for the raw metrics stream measured by PHP Depend ","date":"2018-02-28","objectID":"/2018/02/28/php-toolkit/:4:0","tags":["PHP"],"title":"PHP - å¼€å‘å·¥å…·åŒ…","uri":"/2018/02/28/php-toolkit/"},{"categories":["Linux"],"content":"æ—¨åœ¨æ”¶é›†ä¸€äº›å¸¸ç”¨çš„ Linux å‘½ä»¤äºæ­¤ï¼Œæ–¹ä¾¿ä»¥åå¿«é€ŸæŸ¥è¯¢åŠä½¿ç”¨ã€‚å…¶ä¸­æœ‰äº›å‘½ä»¤åœ¨ CentOS 7 åŠä»¥ä¸Šçš„ç‰ˆæœ¬ä¸­å¹¶ä¸èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œéœ€è¦å®‰è£…ç›¸åº”çš„åŒ…æ‰èƒ½å·¥ä½œã€‚ ","date":"2018-02-13","objectID":"/2018/02/13/linux-common-command/:0:0","tags":["Linux"],"title":"Linux - å¸¸ç”¨å‘½ä»¤","uri":"/2018/02/13/linux-common-command/"},{"categories":["Linux"],"content":"å‘½ä»¤æŠ€å·§ ","date":"2018-02-13","objectID":"/2018/02/13/linux-common-command/:1:0","tags":["Linux"],"title":"Linux - å¸¸ç”¨å‘½ä»¤","uri":"/2018/02/13/linux-common-command/"},{"categories":["Linux"],"content":"å‘½ä»¤å¸®åŠ© è®°å¾—å…³é”®å­—çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡ man -k \u003ccommand keyword\u003e æ¥æœç´¢ å‘½ä»¤ç®€è¦è¯´æ˜ä½¿ç”¨ whatis \u003ccommand\u003eï¼›å‘½ä»¤è¯¦ç»†è¯´æ˜ä½¿ç”¨ info \u003ccommand\u003e æŸ¥çœ‹å‘½ä»¤ä½ç½®ä½¿ç”¨ which \u003ccommand\u003e å‘½ä»¤çš„å…·ä½“å‚æ•°å’Œä½¿ç”¨æ–¹æ³•ä½¿ç”¨ man \u003ccommand\u003e ","date":"2018-02-13","objectID":"/2018/02/13/linux-common-command/:1:1","tags":["Linux"],"title":"Linux - å¸¸ç”¨å‘½ä»¤","uri":"/2018/02/13/linux-common-command/"},{"categories":["Linux"],"content":"Bash å¿«æ·é”® åç§° æè¿° Ctrl-U åˆ é™¤å…‰æ ‡åˆ°è¡Œé¦–çš„æ‰€æœ‰å­—ç¬¦ï¼Œåœ¨æŸäº›è®¾ç½®ä¸‹ï¼Œåˆ é™¤å…¨è¡Œ Ctrl-W åˆ é™¤å½“å‰å…‰æ ‡åˆ°å‰è¾¹çš„æœ€è¿‘ä¸€ä¸ªç©ºæ ¼ä¹‹é—´çš„å­—ç¬¦ Ctrl-H åˆ é™¤å…‰æ ‡å‰è¾¹çš„å­—ç¬¦ Ctrl-R åŒ¹é…æœ€ç›¸è¿‘çš„ä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶åè¾“å‡º ","date":"2018-02-13","objectID":"/2018/02/13/linux-common-command/:1:2","tags":["Linux"],"title":"Linux - å¸¸ç”¨å‘½ä»¤","uri":"/2018/02/13/linux-common-command/"},{"categories":["Linux"],"content":"ç³»ç»Ÿå‘½ä»¤ å‘½ä»¤ æè¿° lspci -tv åˆ—å‡ºæ‰€æœ‰ PCI è®¾å¤‡ lsusb -tv åˆ—å‡ºæ‰€æœ‰ USB è®¾å¤‡ lsmod åˆ—å‡ºåŠ è½½çš„å†…æ ¸æ¨¡å— uname -a æŸ¥çœ‹å†…æ ¸ï¼Œæ“ä½œç³»ç»Ÿï¼ŒCPU ä¿¡æ¯ head -n 1 /etc/issue æŸ¥çœ‹æ“ä½œç³»ç»Ÿç‰ˆæœ¬ cat /proc/cpuinfo æŸ¥çœ‹ CPU ä¿¡æ¯ grep â€œmodel nameâ€ /proc/cpuinfo | wc -l æŸ¥çœ‹ CPU æ•°é‡ hostname æŸ¥çœ‹è®¡ç®—æœºå env æŸ¥çœ‹ç¯å¢ƒå˜é‡ free -m æŸ¥çœ‹å†…å­˜ä½¿ç”¨é‡å’Œäº¤æ¢åŒºä½¿ç”¨é‡ df -h æŸ¥çœ‹å„åˆ†åŒºä½¿ç”¨æƒ…å†µ grep MemTotal /proc/meminfo æŸ¥çœ‹å†…å­˜æ€»é‡ grep MemFree /proc/meminfo æŸ¥çœ‹ç©ºé—²å†…å­˜é‡ uptime æŸ¥çœ‹ç³»ç»Ÿè¿è¡Œæ—¶é—´ï¼Œç”¨æˆ·æ•°ï¼Œè´Ÿè½½ cat /proc/loadavg æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½ lsof -i:3306 æŸ¥çœ‹ç«¯å£å ç”¨çš„è¿›ç¨‹çŠ¶æ€ kill -9 \u003cpid\u003e å¼ºè¡Œä¸­æ­¢è¿›ç¨‹ ps -ef | grep name | awk â€˜{print $2}â€™ | xargs kill -9 æŸ¥è¯¢æŒ‡å®šçš„è¿›ç¨‹å¹¶è¿›è¡Œä¸­æ­¢ ps -aux æ˜¾ç¤ºæ‰€æœ‰ï¼ˆåŒ…å«å…¶ä»–ç”¨æˆ·ï¼‰çš„è¿›ç¨‹ ps -ef | grep name æŸ¥çœ‹æŒ‡å®šè¿›ç¨‹ ps -x -o pid,rss,vsz,command æŸ¥çœ‹è¿›ç¨‹å ç”¨å†…å­˜ä¿¡æ¯ ","date":"2018-02-13","objectID":"/2018/02/13/linux-common-command/:2:0","tags":["Linux"],"title":"Linux - å¸¸ç”¨å‘½ä»¤","uri":"/2018/02/13/linux-common-command/"},{"categories":["Linux"],"content":"ç£ç›˜å‘½ä»¤ å‘½ä»¤ æè¿° mount è¾“å‡ºç³»ç»Ÿç›®å‰çš„æŒ‚è½½ä¿¡æ¯ mount /dev/sda1 /mnt å°† sda1 æŒ‚è½½åˆ° /mnt ä¸­ mount | column -t æŸ¥çœ‹æŒ‚æ¥çš„åˆ†åŒºçŠ¶æ€ umount /mnt å¸è½½ /mnt è¿™ä¸ªæŒ‚è½½ç‚¹çš„æ–‡ä»¶ç³»ç»Ÿ umount -a å¸è½½æ‰€æœ‰å·²æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿ fdisk -l æŸ¥çœ‹æ‰€æœ‰åˆ†åŒº swapon -s æŸ¥çœ‹æ‰€æœ‰äº¤æ¢åˆ†åŒº dmesg | grep IDE æŸ¥çœ‹å¯åŠ¨æ—¶ IDE è®¾å¤‡æ£€æµ‹çŠ¶å†µ iptables -L æŸ¥çœ‹é˜²ç«å¢™è®¾ç½® du -sh \u003cdirectory\u003e æŸ¥çœ‹æŒ‡å®šç›®å½•çš„å¤§å° du -sh ls | sort æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹æ‰€æœ‰å­æ–‡ä»¶å¤¹æ’åºåçš„å¤§å° ","date":"2018-02-13","objectID":"/2018/02/13/linux-common-command/:3:0","tags":["Linux"],"title":"Linux - å¸¸ç”¨å‘½ä»¤","uri":"/2018/02/13/linux-common-command/"},{"categories":["Linux"],"content":"ç½‘ç»œå‘½ä»¤ å‘½ä»¤ æè¿° ifconfig æŸ¥çœ‹æ‰€æœ‰ç½‘ç»œæ¥å£çš„å±æ€§ ip addr show æŸ¥çœ‹æ‰€æœ‰ç½‘ç»œæ¥å£çš„å±æ€§ route -n æŸ¥çœ‹è·¯ç”±è¡¨ netstat -lntp æŸ¥çœ‹æ‰€æœ‰ç›‘å¬çš„ç«¯å£ netstat -antp æŸ¥çœ‹æ‰€æœ‰å·²ç»å»ºç«‹çš„è¿æ¥ netstat -s æŸ¥çœ‹ç½‘ç»œç»Ÿè®¡ä¿¡æ¯ netstat -nap | grep å°†ä¼šæ˜¾ç¤ºä½¿ç”¨è¯¥ç«¯å£çš„åº”ç”¨ç¨‹åºçš„è¿›ç¨‹ ID netstat -all æˆ– netstat -a å°†ä¼šæ˜¾ç¤ºåŒ…æ‹¬ TCP å’Œ UDP çš„æ‰€æœ‰è¿æ¥ netstat --tcp æˆ– netstat -t å°†ä¼šæ˜¾ç¤º TCP è¿æ¥ netstat --udp æˆ– netstat -u å°†ä¼šæ˜¾ç¤º UDP è¿æ¥ netstat -g å°†ä¼šæ˜¾ç¤ºè¯¥ä¸»æœºè®¢é˜…çš„æ‰€æœ‰å¤šæ’­ç½‘ç»œ netstat -anpt | grep â€˜:â€™ æ‰¾å‡ºè¿è¡Œåœ¨æŒ‡å®šç«¯å£çš„è¿›ç¨‹ netstat -an awk â€˜/^tcp/{+S[$NF]} END {for(a in S) print a,S[a]}â€™ ping -c 3 \u003cdomain\u003e æŒ‡å®šæ¬¡æ•°å Ping åŸŸå ","date":"2018-02-13","objectID":"/2018/02/13/linux-common-command/:4:0","tags":["Linux"],"title":"Linux - å¸¸ç”¨å‘½ä»¤","uri":"/2018/02/13/linux-common-command/"},{"categories":["Linux"],"content":"wget The Ultimate Wget Download Guide With 15 Awesome Examples // ä¸‹è½½å•ä¸ªæ–‡ä»¶ $ wget https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm // ä¸‹è½½æ–‡ä»¶é‡å‘½å $ wget -O baidu.html http://www.baidu.com/index.html // é™åˆ¶ä¸‹è½½é€Ÿç‡ $ wget --limit-rate=200k http://www.openss7.org/repos/tarballs/strx25-0.9.2.1.tar.bz2 // æ–­ç‚¹ç»­ä¼  $ wget -c http://www.openss7.org/repos/tarballs/strx25-0.9.2.1.tar.bz2 // åå°ä¸‹è½½ $ wget -b http://www.openss7.org/repos/tarballs/strx25-0.9.2.1.tar.bz2 $ tail -f wget-log # æŸ¥çœ‹ä¸‹è½½è¿›åº¦ ","date":"2018-02-13","objectID":"/2018/02/13/linux-common-command/:4:1","tags":["Linux"],"title":"Linux - å¸¸ç”¨å‘½ä»¤","uri":"/2018/02/13/linux-common-command/"},{"categories":["Linux"],"content":"scp // æœ¬åœ°æ–‡ä»¶å¤åˆ¶åˆ°è¿œç¨‹æœåŠ¡å™¨ $ scp -r test.sql user@ip:/home/user // è¿œç¨‹æœåŠ¡å™¨æ–‡ä»¶å¤åˆ¶åˆ°æœ¬åœ° $ scp -r user@ip:/home/user/test.sql ./ ","date":"2018-02-13","objectID":"/2018/02/13/linux-common-command/:4:2","tags":["Linux"],"title":"Linux - å¸¸ç”¨å‘½ä»¤","uri":"/2018/02/13/linux-common-command/"},{"categories":["Linux"],"content":"ç”¨æˆ·å‘½ä»¤ å‘½ä»¤ æè¿° w æŸ¥çœ‹æ´»åŠ¨ç”¨æˆ· id \u003cusername\u003e æŸ¥çœ‹æŒ‡å®šç”¨æˆ·ä¿¡æ¯ last æŸ¥çœ‹ç”¨æˆ·ç™»å½•æ—¥å¿— cut -d: -f1 /etc/passwd æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰ç”¨æˆ· cut -d: -f1 /etc/group æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰ç»„ crontab -l æŸ¥çœ‹å½“å‰ç”¨æˆ·çš„è®¡åˆ’ä»»åŠ¡ ","date":"2018-02-13","objectID":"/2018/02/13/linux-common-command/:5:0","tags":["Linux"],"title":"Linux - å¸¸ç”¨å‘½ä»¤","uri":"/2018/02/13/linux-common-command/"},{"categories":["Linux"],"content":"æ–‡ä»¶å‘½ä»¤ å‘½ä»¤ æè¿° ln source dest ä¸º source åˆ›å»ºä¸€ä¸ªåä¸º dest çš„ç¡¬é“¾æ¥ ln -s source dest ä¸º source åˆ›å»ºä¸€ä¸ªåä¸º dest çš„è½¯é“¾æ¥ tar -cvf filename.tar . å°†å½“å‰ç›®å½•æ‰€æœ‰æ–‡ä»¶å½’æ¡£ï¼Œä½†ä¸å‹ç¼© tar -xvf filename.tar è§£å‹ filename.tar åˆ°å½“å‰æ–‡ä»¶å¤¹ tar -cvjf filename.tar.bz2 . ä½¿ç”¨ bzip2 å‹ç¼©å½“å‰ç›®å½• tar -xvjf filename.tar.bz2 è§£å‹ filename.tar.bz2 åˆ°å½“å‰ç›®å½• tar -cvzf filename.tar.gz . ä½¿ç”¨ gzip å‹ç¼©å½“å‰ç›®å½• tar -xvzf filename.tar.gz è§£å‹ filename.tar.gz åˆ°å½“å‰æ–‡ä»¶å¤¹ tar -tf filename åªæŸ¥çœ‹ filename å½’æ¡£ä¸­çš„æ–‡ä»¶ï¼Œä¸è§£å‹ chown user filename æ”¹å˜ filename çš„æ‰€æœ‰è€…ä¸º user chown user:group filename æ”¹å˜ filename çš„æ‰€æœ‰è€…ä¸º userï¼Œç»„ä¸º group chown -R root folder æ”¹å˜ folder æ–‡ä»¶å¤¹åŠå…¶å­æ–‡ä»¶çš„æ‰€æœ‰è€…ä¸º root chmod +x filename ä¸º userï¼Œgroupï¼Œother æ·»åŠ æ‰§è¡Œæƒé™ chmod -x filename å–æ¶ˆ userï¼Œgroupï¼Œother çš„æ‰§è¡Œæƒé™ chmod +w filename ä¸º user æ·»åŠ å†™å…¥æƒé™ chmod ugo=rwx filename è®¾ç½® userï¼Œgroupï¼Œother å…·æœ‰è¯»å–ã€å†™å…¥ã€æ‰§è¡Œæƒé™ chmod ug=rw filename è®¾ç½® userï¼Œgroup æ·»åŠ è¯»å–ã€å†™å…¥æƒé™ chmod ugo=--- filename å–æ¶ˆæ‰€æœ‰æƒé™ find . -name \u003cpattern\u003e ä»å½“å‰ç›®å½•æŸ¥æ‰¾ç¬¦åˆ pattern çš„æ–‡ä»¶ find \u003cdirectory\u003e -name PATTERN -exec ls -l {} \\; ä»æŒ‡å®šæ–‡ä»¶æŸ¥æ‰¾æ‰€æœ‰ç¬¦åˆ pattern çš„æ–‡ä»¶ï¼Œå¹¶äº¤ç”± ls è¾“å‡ºè¯¦ç»†ä¿¡æ¯ find ./ -name \"*.txt\" -exec rm {} \\; é€’å½’å½“å‰ç›®å½•åŠå­ç›®å½•åˆ é™¤æ‰€æœ‰ .txt æ–‡ä»¶ find . \\( -name \"*.txt\" -o -name \"*.pdf\" \\) -print åœ¨å½“å‰ç›®å½•ä¸‹é€’å½’æŸ¥æ‰¾ .txt å’Œ .pdf æ–‡ä»¶ find . -type d -print é€’å½’åˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½• find . -type f -size +5k æŸ¥æ‰¾å¤§äºæŒ‡å®šå¤§å°çš„æ–‡ä»¶ find . -type f -name â€œ*.phpâ€ -print0 | xargs -0 wc -l ç»Ÿè®¡æŒ‡å®šç›®å½•ä¸‹çš„ç¨‹åºè¡Œæ•° locate php.ini æ›´å¿«çš„æŸ¥è¯¢æŒ‡å®šçš„æ–‡ä»¶ï¼Œéœ€è¦å®šæœŸæ‰§è¡Œæ›´æ–°å‘½ä»¤ updatedb æ¥æ›´æ–°ç´¢å¼•åº“ grep -r \"string\" /home/user/ ä»¥é€’å½’æ–¹å¼åœ¨æŒ‡å®šçš„æ–‡ä»¶ä¸­æœç´¢ç»™å®šçš„å­—ç¬¦ä¸² grep -i \"the\" /home/user/.zshrc åœ¨æŒ‡å®šçš„æ–‡ä»¶ä¸­æœç´¢ç»™å®šçš„å­—ç¬¦ä¸² grep \"Controller\" . -R -n åœ¨å¤šçº§ç›®å½•ä¸­å¯¹æŒ‡å®šçš„æ–‡æœ¬é€’å½’æœç´¢ diff -w ~/a.txt ~/b.txt å¿½ç•¥ç©ºç™½åæ¯”è¾ƒä¸¤ä¸ªæ–‡ä»¶çš„å·®å¼‚ ","date":"2018-02-13","objectID":"/2018/02/13/linux-common-command/:6:0","tags":["Linux"],"title":"Linux - å¸¸ç”¨å‘½ä»¤","uri":"/2018/02/13/linux-common-command/"},{"categories":["Linux"],"content":"sed // å°† a.txt æ–‡ä»¶ä¸­çš„ php å­—ç¬¦ä¸²æ›¿æ¢æˆ javascript å­—ç¬¦ä¸² $ sed -i \"s/php/javascript/g\" `grep php -rl ./a.txt` // ä»¥ç›¸åçš„é¡ºåºæ‰“å°æ–‡ä»¶å†…å®¹ $ sed -n '1!G;h;$p' /home/user/.zshrc ","date":"2018-02-13","objectID":"/2018/02/13/linux-common-command/:6:1","tags":["Linux"],"title":"Linux - å¸¸ç”¨å‘½ä»¤","uri":"/2018/02/13/linux-common-command/"},{"categories":["Linux"],"content":"awk AWK ç¨‹åºè®¾è®¡è¯­è¨€ å‘½ä»¤ æè¿° $0 å½“å‰è®°å½•(è¿™ä¸ªå˜é‡ä¸­å­˜æ”¾ç€æ•´ä¸ªè¡Œçš„å†…å®¹) $1-$n å½“å‰è®°å½•çš„ç¬¬ n ä¸ªå­—æ®µï¼Œå­—æ®µé—´ç”± FS åˆ†éš” FS è¾“å…¥å­—æ®µåˆ†éš”ç¬¦ï¼Œé»˜è®¤æ˜¯ç©ºæ ¼æˆ– Tab NF å½“å‰è®°å½•ä¸­çš„å­—æ®µä¸ªæ•°ï¼Œå°±æ˜¯æœ‰å¤šå°‘åˆ— NR å·²ç»è¯»å‡ºçš„è®°å½•æ•°ï¼Œå°±æ˜¯è¡Œå·ï¼Œä» 1 å¼€å§‹ï¼Œå¦‚æœæœ‰å¤šä¸ªæ–‡ä»¶è¯ï¼Œè¿™ä¸ªå€¼ä¹Ÿæ˜¯ä¸æ–­ç´¯åŠ ä¸­ FNR å½“å‰è®°å½•æ•°ï¼Œä¸ NR ä¸åŒçš„æ˜¯ï¼Œè¿™ä¸ªå€¼ä¼šæ˜¯å„ä¸ªæ–‡ä»¶è‡ªå·±çš„è¡Œå· RS è¾“å…¥çš„è®°å½•åˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºæ¢è¡Œç¬¦ OFS è¾“å‡ºå­—æ®µåˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºç©ºæ ¼ ORS è¾“å‡ºçš„è®°å½•åˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºæ¢è¡Œç¬¦ FILENAME å½“å‰è¾“å…¥æ–‡ä»¶çš„åå­— // ç§»é™¤æŒ‡å®šæ–‡ä»¶ä¸­é‡å¤çš„è¡Œå¹¶æ˜¾ç¤ºå‡ºæ¥ $ awk '!($0 in array) { array[$0]; print }' a.txt // å°† uid å’Œ gid ç›¸åŒçš„è¡Œæ˜¾ç¤ºå‡ºæ¥ $ awk -F ':' '$3==$4' /etc/passwd // å‡†å¤‡è¦æ“ä½œçš„æ•°æ® $ netstat -atlnpe \u003e netstat.log // è¾“å‡ºä¸‰åˆ—ï¼ˆ1ï¼Œ4ï¼Œ9ï¼‰ $ awk '{print $1, $4, $9}' netstat.log // æ ¼å¼åŒ–è¾“å‡º $ awk '{printf \"%-8s %-8s %-8s %-25s %-25s %-15s\\n\",$1,$2,$3,$4,$5,$6}' netstat.log // ä»…æ˜¾ç¤ºç¬¬ 3 åˆ—çš„å€¼ä¸º 0 \u0026\u0026 ç¬¬ 6 åˆ—çš„å€¼ä¸º LISTE $ awk '$3==0 \u0026\u0026 $6==\"LISTEN\"' netstat.log // ä»…æ˜¾ç¤ºç¬¬ 3 åˆ—çš„å€¼ä¸º 0 \u0026\u0026 ç¬¬ 6 åˆ—çš„å€¼ä¸º LISTE, åŒæ—¶æŠŠè¡¨å¤´ä¹Ÿæ˜¾ç¤ºå‡ºæ¥ $ awk '$3==0 \u0026\u0026 $6==\"LISTEN\" || NR==2' netstat.log // ä»…æ˜¾ç¤ºç¬¬ 3 åˆ—çš„å€¼ä¸º 0 \u0026\u0026 ç¬¬ 6 åˆ—çš„å€¼ä¸º LISTE, åŒæ—¶æŠŠè¡¨å¤´ä¹Ÿæ˜¾ç¤ºå‡ºæ¥, å¹¶ä¸”æ ¼å¼åŒ–è¾“å‡ºä¸‰åˆ—(4, 5, 6) $ awk '$3==0 \u0026\u0026 $6==\"LISTEN\" || NR==2 {printf \"%-20s %-20s %s\\n\", $4 , $5, $6}' netstat.log // ä»…æ˜¾ç¤ºç¬¬ 3 åˆ—çš„å€¼ä¸º 0 \u0026\u0026 ç¬¬ 6 åˆ—çš„å€¼ä¸º ESTABLISHED, åŒæ—¶æŠŠè¡¨å¤´ä¹Ÿæ˜¾ç¤ºå‡ºæ¥, å¹¶ä¸”æ ¼å¼åŒ–è¾“å‡ºä¸‰åˆ—(4, 5, 6) $ awk '$3==0 \u0026\u0026 $6==\"ESTABLISHED\" || NR==2 {printf \"%02s %s %-20s %-20s %s\\n\", NR, FNR, $4, $5, $6}' netstat.log // æŒ‡å®šåˆ†éš”ç¬¦ $ awk 'BEGIN{FS=\":\"} {print $1, $3, $6}' /etc/passwd æˆ–è€… $ awk -F: '{print $1, $3, $6}' /etc/passwd // -t ä½œä¸ºåˆ†éš”ç¬¦ $ awk -F: '{print $1, $3, $6}' OFS=\"\\t\" /etc/passwd // åŒ¹é… LISTEN $ awk '$6 ~ /LISTEN/ || NR==2 {print NR, $4, $5, $6}' OFS=\"\\t\" netstat.log æˆ–è€… $ awk '/LISTEN/' netstat.log // åŒ¹é… ESTABLISHED $ awk '$6 ~ /ESTABLISHED/ || NR==2 {print NR, $4, $5, $6}' OFS=\"\\t\" netstat.log // åŒ¹é… ESTABLISHED å–å $ awk '$6 !~ /ESTABLISHED/ || NR==2 {print NR, $4, $5, $6}' OFS=\"\\t\" netstat.log æˆ–è€… $ awk '!/ESTABLISHED/' netstat.log // æ‹†åˆ†æ–‡ä»¶ $ awk 'NR!=1 \u0026\u0026 NR!=2 {print \u003e $6}' netstat.log // åˆ¤æ–­åŒ¹é…æ‹†åˆ†æ–‡ä»¶ $ awk 'NR!=1 { if ($6 ~ /TIME|ESTABLISHED/) print \u003e \"1.log\"; else if ($6 ~ /LISTEN/) print \u003e \"2.log\"; else print \u003e \"3.log\" }' netstat.log // æ±‚ *.php *.js æ–‡ä»¶å¤§å°æ€»å’Œ $ ls -l *.php *.js | awk '{sum+=$5} END {print sum}' // ç»Ÿè®¡æ¯ä¸ªç”¨æˆ·çš„è¿›ç¨‹çš„å äº†å¤šå°‘å†…å­˜ $ ps aux | awk 'NR!=1 {a[$1]+=$6;} END { for(i in a) print i \": \" a[i]\" KB\"; }' // ä»æ–‡ä»¶ä¸­æ‰¾å‡ºé•¿åº¦å¤§äº 80 çš„è¡Œ $ awk 'length\u003e80' /etc/php.ini // æŒ‰è¿æ¥æ•°æŸ¥çœ‹å®¢æˆ·ç«¯ IP $ netstat -ntu | awk '{print $5}' | cut -d: -f1 | sort | uniq -c | sort -nr // æ‰“å°ä¹ä¹ä¹˜æ³•è¡¨ $ seq 9 | sed 'H;g' | awk -v RS='' '{ for(i=1;i\u003c=NF;i++)printf(\"%dx%d=%d%s\", i, NR, i*NR, i==NR?\"\\n\":\"\\t\") }' ","date":"2018-02-13","objectID":"/2018/02/13/linux-common-command/:6:2","tags":["Linux"],"title":"Linux - å¸¸ç”¨å‘½ä»¤","uri":"/2018/02/13/linux-common-command/"},{"categories":["Linux"],"content":"wc // ç»Ÿè®¡ä¸€ä¸ªæ–‡ä»¶çš„è¡Œæ•°ï¼Œå­—æ•°ï¼Œå­—èŠ‚æ•°ï¼Œæ–‡ä»¶åç§° $ wc filename // ç»Ÿè®¡ä¸€ä¸ªæ–‡ä»¶çš„å­—ç¬¦æ•° $ wc -c filename // ç»Ÿè®¡ä¸€ä¸ªæ–‡ä»¶çš„å­—ç¬¦æ•° $ wc -m filename // ç»Ÿè®¡ä¸€ä¸ªæ–‡ä»¶çš„è¡Œæ•° $ wc -l filename // ç»Ÿè®¡ä¸€ä¸ªæ–‡ä»¶çš„å•è¯æ•° $ wc -w filename // ç»Ÿè®¡ç›®å½•ä¸‹çš„æ–‡ä»¶ä¸ªæ•° $ ll \u003cdirectory\u003e | wc -l ","date":"2018-02-13","objectID":"/2018/02/13/linux-common-command/:6:3","tags":["Linux"],"title":"Linux - å¸¸ç”¨å‘½ä»¤","uri":"/2018/02/13/linux-common-command/"},{"categories":["Linux"],"content":"date Format Description %D æ˜¾ç¤ºæ—¥æœŸä¸ºæœˆæ—¥å¹´ (mm/dd/yy) %d æ˜¾ç¤ºå¤©çš„æ—¥æœŸ (01~31) %a æ˜¾ç¤ºå‘¨çš„ç¼©å†™åç§° (Sun~Sat) %A æ˜¾ç¤ºå‘¨çš„å…¨éƒ¨åç§° (Sunday~Saturday) %h æ˜¾ç¤ºæœˆä»½çš„ç¼©å†™åç§° (Jan~Dec) %b æ˜¾ç¤ºæœˆä»½çš„ç¼©å†™åç§° (Jan~Dec) %B æ˜¾ç¤ºå®Œæ•´çš„æœˆä»½åç§° (January~December) %y æ˜¾ç¤ºå¹´ä»½çš„æœ€åä¸¤ä½ (00~99) %Y æ˜¾ç¤ºå®Œæ•´çš„å¹´ä»½åç§° %T æ˜¾ç¤ºæ—¶é—´ä»¥ 24 å°æ—¶æ ¼å¼çš„ HH:MM:SS %H æ˜¾ç¤ºå°æ—¶ (00~23) %M æ˜¾ç¤ºåˆ†é’Ÿ (00~59) %S æ˜¾ç¤ºç§’æ•° (00~59) // æ˜¾ç¤ºç³»ç»Ÿæœ¬åœ°æ—¥æœŸæ—¶é—´ $ date Thu Jul 14 13:46:13 CST 2022 $ date +%c Thu 14 Jul 2022 02:10:31 PM CST // æ˜¾ç¤ºç³»ç»Ÿ UTC æ—¥æœŸæ—¶é—´ $ date -u Thu Jul 14 05:46:41 UTC 2022 $ date -u +%Y-%m-%dT%H:%M:%SZ 2022-07-14T06:10:11Z // ä»¥æ—¥æœŸæ—¶é—´æ ¼å¼æ˜¾ç¤ºç»™å®šçš„æ—¥æœŸå­—ç¬¦ä¸² $ date --date=\"2/02/2012\" Thu Feb 2 00:00:00 CST 2012 $ date --date=\"12/12/2022T12:30:30\" Mon Dec 12 13:30:30 CST 2022 $ date --date=\"Feb 2 2022 12\" Wed Feb 2 12:00:00 CST 2022 // æ˜¾ç¤ºè¿‡å»çš„æ—¥æœŸ $ date --date=\"2 year ago\" Tue Jul 14 13:51:32 CST 2020 $ date --date=\"10 day ago\" Mon Jul 4 13:52:45 CST 2022 $ date --date=\"5 min ago\" Thu Jul 14 13:46:46 CST 2022 $ date --date=\"5 sec ago\" Thu Jul 14 13:51:46 CST 2022 $ date --date=\"yesterday\" Wed Jul 13 13:52:20 CST 2022 // æ˜¾ç¤ºæœªæ¥çš„æ—¥æœŸ $ date --date=\"next tue\" Tue Jul 19 00:00:00 CST 2022 $ date --date=\"2 day\" Sat Jul 16 13:53:31 CST 2022 $ date --date=\"10 sec\" Thu Jul 14 13:53:46 CST 2022 $ date --date=\"next year\" Fri Jul 14 13:53:46 CST 2023 $ date --date=\"tomorrow\" Fri Jul 15 13:54:21 CST 2022 // æ ¼å¼åŒ–æ˜¾ç¤º $ date '+%D' 07/14/22 $ date '+%D %T' 07/14/22 14:05:59 $ date '+%Y-%m-%d %H:%M:%S' 2022-07-14 14:06:23 $ date '+%A %B %d %T %Y' Thursday July 14 14:06:45 2022 // æ˜¾ç¤ºå½“å‰æ—¥æœŸçš„æ—¶é—´æˆ³ $ date +%s 1657779074 // æ˜¾ç¤ºæ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ $ date -r /etc/hosts Fri Jun 11 23:13:54 CST 2021 // æ˜¾ç¤ºè‡ªå®šä¹‰è¾“å‡º $ date +\"Week: %V; Year: %Y\" Week: 28; Year: 2022 // å°†æ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¥æœŸæ—¶é—´æ ¼å¼ $ date -d @`date +%s` Thu Jul 14 14:16:38 CST 2022 $ date +'%Y-%m-%d %H:%M:%S' -d @`date +%s` 2022-07-14 14:17:53 ","date":"2018-02-13","objectID":"/2018/02/13/linux-common-command/:6:4","tags":["Linux"],"title":"Linux - å¸¸ç”¨å‘½ä»¤","uri":"/2018/02/13/linux-common-command/"},{"categories":["PHP"],"content":"æ— è§„çŸ©ä¸æˆæ–¹åœ†ï¼Œæ— è§„èŒƒä¸èƒ½åä½œã€‚æ¯é—¨ç¼–ç¨‹è¯­è¨€å‡ ä¹éƒ½æœ‰ä¸€å¥—åˆä¹è‡ªæœ‰ç« æ³•çš„è§„çŸ©ï¼Œå½“ç„¶äº†ï¼ŒPHP ä¹Ÿä¸ä¾‹å¤–ã€‚å³ä½¿æ˜¯ä½ ç‹¬ç«‹æ’¸ç ï¼Œä¹Ÿè‡ªæœ‰ä¸€å¥—è‡ªå·±çš„ç« æ³•ï¼Œå¯æƒœï¼Œä½ ä¸æ˜¯ä¸€ä¸ªäººåœ¨æˆ˜æ–—ï¼Œåœ¨è¿™ä¸ªè®²ç©¶ç¼–ç¨‹æ•ˆç‡çš„å…µå›¢ä½œæˆ˜æ—¶ä»£ï¼Œæ²¡æœ‰äººæ„¿æ„å¿å—åˆ«äººç³Ÿç³•çš„ä»£ç é£æ ¼ã€‚æ˜¯çš„ï¼Œä»£ç çš„çš„ç¡®ç¡®æ˜¯æœºå™¨å»æ‰§è¡Œçš„ï¼Œä½†æ˜¯å› æ›´æ”¹éœ€æ±‚è€Œç»´æŠ¤çš„ä»£ç å¯ä¸æ˜¯æœºå™¨äººå¹²çš„ã€‚ä¸ºäº†è®©ä»£ç å¯ç»´æŠ¤ï¼Œçœ‹èµ·æ¥åƒé‚£ä¹ˆå›äº‹ï¼Œè¿˜æ˜¯å°½åŠ›ç å¥½å§ï¼Œä¸ç„¶ï¼Œä¸‹ä¸€ä¸ªé­åæ§½å¯èƒ½å°±æ˜¯ä½ äº†ï¼Œæˆ‘å·²ç»ä¸è‡³ä¸€æ¬¡å¬è¿‡ã€è¿™ç‰¹ä¹ˆè°å†™çš„ã€è¿™å¥è¯äº†ï¼Œåæ­£å¬èµ·æ¥ä¸åƒæ˜¯åœ¨å¤¸è°ã€‚ ","date":"2018-02-07","objectID":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/:0:0","tags":["PHP"],"title":"PHP ç¼–ç æ ‡å‡†æ’ä»¶","uri":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/"},{"categories":["PHP"],"content":"PHP CodeSniffer PHP_CodeSniffer Pear PHP_CodeSniffer GitHub PHP_CodeSniffer Documentation ","date":"2018-02-07","objectID":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/:1:0","tags":["PHP"],"title":"PHP ç¼–ç æ ‡å‡†æ’ä»¶","uri":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/"},{"categories":["PHP"],"content":"CodeSniffer å®‰è£… PHP CodeSniffer æœ‰ä¸¤ä¸ªè„šæœ¬ï¼Œphpcs è„šæœ¬ç”¨æ¥æ£€æµ‹è¿åå®šä¹‰çš„ç¼–ç æ ‡å‡†ï¼Œphpcbf è„šæœ¬ç”¨æ¥è‡ªåŠ¨çº æ­£ç¼–ç æ ‡å‡†è¿è§„ã€‚ Curl å®‰è£… CodeSniffer // ä¸‹è½½ phpcs å’Œ phpcbf æ–‡ä»¶å¹¶ç§»åŠ¨åˆ°ç›¸åº”ç›®å½• $ cd ~ $ curl -OL https://squizlabs.github.io/PHP_CodeSniffer/phpcs.phar $ sudo mv phpcs.phar /usr/local/bin/phpcs $ sudo chmod +x /usr/local/bin/phpcs $ curl -OL https://squizlabs.github.io/PHP_CodeSniffer/phpcbf.phar $ sudo mv phpcbf.phar /usr/local/bin/phpcbf $ sudo chmod +x /usr/local/bin/phpcbf Composer å®‰è£… CodeSniffer å®‰è£…å®Œæˆåï¼Œå°† $HOME/.composer/vendor/bin æ·»åŠ åˆ°ç³»ç»Ÿ PATH ä¸­ã€‚ å…¨å±€å®‰è£… // å®‰è£… squizlabs/php_codesniffer $ composer global require \"squizlabs/php_codesniffer=*\" é¡¹ç›®å®‰è£… $ vim composer.json { \"require-dev\": { \"squizlabs/php_codesniffer\": \"3.*\" } } $ composer install ","date":"2018-02-07","objectID":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/:1:1","tags":["PHP"],"title":"PHP ç¼–ç æ ‡å‡†æ’ä»¶","uri":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/"},{"categories":["PHP"],"content":"å·¥å…·è®¾ç½® è®¾ç½®ç¼–ç æ ‡å‡† æ”¯æŒçš„ç¼–ç æ ‡å‡†ï¼šPEAR, Zend, PSR2, MySource, Squiz, PSR1ï¼Œé»˜è®¤ï¼šPEARã€‚ // è®¾ç½®ç¼–ç æ ‡å‡†ä¸º PSR2 $ phpcs --config-set default_standard PSR2 è®¾ç½®æŠ¥å‘Šæ ¼å¼ æ”¯æŒçš„æŠ¥å‘Šæ ¼å¼ï¼šfull, xml, checkstyle, csv, json, junit, emacs, source, summary, diff, svnblame, gitblame, hgblame, notifysendï¼Œé»˜è®¤ï¼šfull // è®¾ç½®æŠ¥å‘Šæ ¼å¼ä¸º full $ phpcs --config-set report_format full è®¾ç½®è­¦å‘Šéšè— // é»˜è®¤å€¼ä¸º 1 $ phpcs --config-set show_warnings 0 è®¾ç½®è¿è¡Œè¿›åº¦ // é»˜è®¤å€¼ä¸º 0 $ phpcs --config-set show_progress 1 è®¾ç½®è¾“å‡ºæ—¶ä½¿ç”¨æ¶¦è‰² // é»˜è®¤å€¼ä¸º 0 $ phpcs --config-set colors 1 è®¾ç½®æŠ¥å‘Šçš„å®½åº¦ // è®¾ç½®æŠ¥å‘Šçš„å®½åº¦ä¸º 120 $ phpcs --config-set report_width 120 è®¾ç½®æ–‡æœ¬å­—ç¬¦ç¼–ç  // è®¾ç½®æ–‡æœ¬å­—ç¬¦ç¼–ç ä¸º UTF-8 $ phpcs --config-set encoding UTF-8 è®¾ç½®åˆ¶è¡¨ç¬¦å®½åº¦ é»˜è®¤æƒ…å†µä¸‹ï¼ŒPHP_CodeSniffer ä¸ä¼šå°†æ£€æŸ¥æ–‡ä»¶ä¸­çš„åˆ¶è¡¨ç¬¦è½¬æ¢ä¸ºç©ºæ ¼ï¼ŒæŒ‡å®šä¸€ä¸ªåˆ¶è¡¨ç¬¦å®½åº¦å°†ä½¿ PHP_CodeSniffer ç”¨ç©ºæ ¼æ›¿æ¢åˆ¶è¡¨ç¬¦ã€‚ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½® tab_width é…ç½®é€‰é¡¹æ¥å¼ºåˆ¶ PHP_CodeSniffer å°†åˆ¶è¡¨ç¬¦æ›¿æ¢ä¸ºç©ºæ ¼ã€‚ // è®¾ç½®åˆ¶è¡¨ç¬¦å®½åº¦ä¸º 4 ä¸ªç©ºæ ¼ $ phpcs --config-set tab_width 4 è®¾ç½® PHP ç‰ˆæœ¬ // ä½¿ç”¨ PHP_VERSION_ID è·å–åå†è®¾ç½® $ phpcs --config-set php_version 70114 è®¾ç½® PHP è·¯å¾„ // ä½¿ç”¨ which å‘½ä»¤è·å–åå†è®¾ç½® $ phpcs --config-set php_path /usr/local/bin/php æŸ¥çœ‹è®¾ç½® // æŸ¥çœ‹åˆšæ‰çš„ä¸€äº›è®¾ç½® $ phpcs --config-show Using config file: /Users/user/.composer/vendor/squizlabs/php_codesniffer/CodeSniffer.conf colors: 1 default_standard: PSR2 encoding: UTF-8 php_path: /usr/local/bin/php php_version: 70114 report_format: full report_width: 120 show_progress: 1 show_warnings: 1 tab_width: 4 ","date":"2018-02-07","objectID":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/:1:2","tags":["PHP"],"title":"PHP ç¼–ç æ ‡å‡†æ’ä»¶","uri":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/"},{"categories":["PHP"],"content":"å·¥å…·ä½¿ç”¨ æŒ‡å®šç¼–ç æ ‡å‡† ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ç¼–ç æ ‡å‡†ï¼Œç„¶ååŠ å…¥åˆ°æ£€æŸ¥æ ‡å‡†ä¸­ã€‚ $ phpcs --standard=PEAR /path/to/code/Demo.php æˆ– $ phpcs --standard=/path/to/MyStandard /path/to/code/Demo.php æˆ– $ phpcs --standard=PEAR,Squiz,/path/to/MyStandard /path/to/code/Demo.php æ‰“å°å®‰è£…ç¼–ç æ ‡å‡†çš„åˆ—è¡¨ $ phpcs -i The installed coding standards are PEAR, Zend, PSR2, MySource, Squiz and PSR1 ç¼–ç æ ‡å‡†å†…çš„å—…æ¢åˆ—è¡¨ $ phpcs --standard=PSR2 -e The PSR2 standard contains 42 sniffs Generic (12 sniffs) ------------------- Generic.ControlStructures.InlineControlStructure Generic.Files.ByteOrderMark Generic.Files.LineEndings Generic.Files.LineLength Generic.Formatting.DisallowMultipleStatements Generic.Functions.FunctionCallArgumentSpacing Generic.NamingConventions.UpperCaseConstantName Generic.PHP.DisallowShortOpenTag Generic.PHP.LowerCaseConstant Generic.PHP.LowerCaseKeyword Generic.WhiteSpace.DisallowTabIndent Generic.WhiteSpace.ScopeIndent PEAR (1 sniff) --------------- PEAR.Functions.ValidDefaultValue PSR1 (3 sniffs) --------------- PSR1.Classes.ClassDeclaration PSR1.Files.SideEffects PSR1.Methods.CamelCapsMethodName PSR2 (12 sniffs) ---------------- PSR2.Classes.ClassDeclaration PSR2.Classes.PropertyDeclaration PSR2.ControlStructures.ControlStructureSpacing PSR2.ControlStructures.ElseIfDeclaration PSR2.ControlStructures.SwitchDeclaration PSR2.Files.ClosingTag PSR2.Files.EndFileNewline PSR2.Methods.FunctionCallSignature PSR2.Methods.FunctionClosingBrace PSR2.Methods.MethodDeclaration PSR2.Namespaces.NamespaceDeclaration PSR2.Namespaces.UseDeclaration Squiz (14 sniffs) ----------------- Squiz.Classes.ValidClassName Squiz.ControlStructures.ControlSignature Squiz.ControlStructures.ForEachLoopDeclaration Squiz.ControlStructures.ForLoopDeclaration Squiz.ControlStructures.LowercaseDeclaration Squiz.Functions.FunctionDeclaration Squiz.Functions.FunctionDeclarationArgumentSpacing Squiz.Functions.LowercaseFunctionKeywords Squiz.Functions.MultiLineFunctionDeclaration Squiz.Scope.MethodScope Squiz.WhiteSpace.ControlStructureSpacing Squiz.WhiteSpace.ScopeClosingBrace Squiz.WhiteSpace.ScopeKeywordSpacing Squiz.WhiteSpace.SuperfluousWhitespace ","date":"2018-02-07","objectID":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/:1:3","tags":["PHP"],"title":"PHP ç¼–ç æ ‡å‡†æ’ä»¶","uri":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/"},{"categories":["PHP"],"content":"ä½¿ç”¨ CodeSniffer æ ¼å¼åŒ–ä»£ç  è¯·è‡ªè¡Œåˆ›å»ºå·¥ç¨‹å»æµ‹è¯•ã€‚ CodeSniffer æ ¼å¼åŒ–å‰çš„ä¸è§„èŒƒä»£ç  \u003c?php namespace Nilnice\\Acme; class Finder{ public const IGNORE_VCS_FILES =1; public const IGNORE_DOT_FILES=2; private $ignore = 0; public function __construct(){ $this-\u003e ignore=static::IGNORE_VCS_FILES|static::IGNORE_DOT_FILES ; } public function getIterator() { if (0===count($this-\u003edirs)\u0026\u00260===count($this-\u003eiterators)){ throw new \\LogicException('You must call one of in() or append() methods before iterating over a Finder.'); } if(1===count( $this-\u003edirs ) \u0026\u00260 ===count($this-\u003eiterators)){ return $this -\u003esearchInDirectory( $this-\u003edirs[0]); } $iterator=new \\AppendIterator (); foreach ($this-\u003e dirs as $dir) { $iterator-\u003eappend($this-\u003esearchInDirectory( $dir )) ; } foreach ( $this-\u003eiterators as $it) { $iterator-\u003eappend( $it); } return$iterator; }} ç»è¿‡ phpcs æ£€æŸ¥åçš„æŠ¥å‘Š æ€ä¹ˆæ ·ï¼Œè¿™ä¸ªæ£€æŸ¥ç»“æœæ˜ç æ ‡ä»·ï¼Œç«¥åŸæ— æ¬ºçŸ£ï¼ ä½¿ç”¨ phpcbf ä¿®ç†ä»£ç  // æŒ‡å®šæ–‡ä»¶ä¿®ç† $ phpcbf ./src/Test.php ä¿®ç†åçš„ä»£ç æ ·å¼ \u003c?php namespace Nilnice\\Acme; class Finder { public const IGNORE_VCS_FILES = 1; public const IGNORE_DOT_FILES = 2; private $ignore = 0; public function __construct() { $this-\u003e ignore = static::IGNORE_VCS_FILES | static::IGNORE_DOT_FILES ; }//end __construct() public function getIterator() { if (0 === count($this-\u003edirs)\u0026\u00260 === count($this-\u003eiterators)) { throw new \\LogicException('You must call one of in() or append() methods before iterating over a Finder.'); } if (1 === count($this-\u003edirs) \u0026\u00260 === count($this-\u003eiterators)) { return $this -\u003esearchInDirectory($this-\u003edirs[0]); } $iterator = new \\AppendIterator(); foreach ($this-\u003e dirs as $dir) { $iterator-\u003eappend($this-\u003esearchInDirectory($dir)); } foreach ($this-\u003eiterators as $it) { $iterator-\u003eappend($it); } return$iterator; }//end getIterator() }//end class // æ­¤å¤„å¤šä¸€ç©ºè¡Œ ","date":"2018-02-07","objectID":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/:1:4","tags":["PHP"],"title":"PHP ç¼–ç æ ‡å‡†æ’ä»¶","uri":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/"},{"categories":["PHP"],"content":"PHP Coding Standards Fixer PHP Coding Standards Fixer Website PHP Coding Standards Fixer GitHub ","date":"2018-02-07","objectID":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/:2:0","tags":["PHP"],"title":"PHP ç¼–ç æ ‡å‡†æ’ä»¶","uri":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/"},{"categories":["PHP"],"content":"Fixer å®‰è£… Curl æˆ– Wget æ–¹å¼å®‰è£… $ wget http://cs.sensiolabs.org/download/php-cs-fixer-v2.phar -O php-cs-fixer æˆ– $ wget https://github.com/FriendsOfPHP/PHP-CS-Fixer/releases/download/v2.10.2/php-cs-fixer.phar -O php-cs-fixer æˆ– $ curl -L http://cs.sensiolabs.org/download/php-cs-fixer-v2.phar -o php-cs-fixer $ sudo chmod +x php-cs-fixer $ sudo mv php-cs-fixer /usr/local/bin/php-cs-fixer Composer å®‰è£… Fixer $ composer global require friendsofphp/php-cs-fixer // å¦‚æœä¹‹å‰è®¾ç½®è¿‡ï¼Œå°±ä¸éœ€è¦ $ export PATH=\"$PATH:$HOME/.composer/vendor/bin\" Homebrew å®‰è£… Fixer // å…ˆæœç´¢ fixer ä»¥ç¡®å®šåç§°åå†å®‰è£… $ brew install homebrew/php/php-cs-fixer ","date":"2018-02-07","objectID":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/:2:1","tags":["PHP"],"title":"PHP ç¼–ç æ ‡å‡†æ’ä»¶","uri":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/"},{"categories":["PHP"],"content":"ä½¿ç”¨ Fixer æ ¼å¼åŒ–ä»£ç  ä½¿ç”¨ Fixer æ ¼å¼åŒ–å‰çš„ä¸è§„èŒƒä»£ç  \u003c?php declare(strict_types=1); namespace A ; use SebastianBergmann\\CodeCoverage\\InvalidArgumentException ; abstract class Foo extends FooBaseClass implements Bar1 , Bar2 , Bar3{ protected const FIRST='first'; protected const SECOND=0; protected const Z = -1; public const E_FOO = 200; public const E_BAR = 400; private $isNull = null ; protected $hello, $world; public $numbers=array('one','two','three','four','five','six'); public $v = 0; public $path = 'root'; public function bar( $v, $w = 'a' ) { $y = $w; $result = foo( 'arg1', 'arg2', 10 ); switch ($v) { case 0: return 1; case 1 : echo '1'; break; case 2: break; default: $result = 10; } return$result; } static public function fOne( $argA, $argB, $argC, $argD, $argE, $argF, $argG, $argH){ $x = $argA + $argB + $argC + $argD + $argE + $argF + $argG + $argH; list($field1, $field2, $field3, $filed4, $field5, $field6) = explode(',', $x); fTwo( $argA, $argB, $argC, fThree( $argD, $argE, $argF, $argG, $argH ) ); $z = $argA === 'Some string' ? 'yes' : 'no'; $colors = [ 'red', 'green', 'blue', 'black' , 'white', 'gray' , ]; $count=count($colors); for ($i = 0; $i \u003c $count; $i++) { $colorString = $colors[$i]; } } public function fTwo( $strA, $strB, $strC, $strD ){ if ($strA === 'one' || $strB === 'two' || $strC === 'three') { return $strA + $strB + $strC; } if ($strA==='hello'){$strB = 'world';} if($strB==='second') { $strA=null; throw new \\InvalidArgumentException('Invalid argument.'); } $x = $foo-\u003eone('a', 'b') -\u003etwo('c', 'd', 'e') -\u003ethree('fg')-\u003e four(); $y = a() -\u003e b() -\u003ec (); return $strD; } public function fThree( $strA, $strB, $strC, $strD, $strE ) { try { } catch (Exception $e) { foo(); } finally { // do something } return $strA + $strB + $strC + $strD + $strE;} abstract protected function fFour(); } final class Bar{ public final function foo($x,$z){ global $k, $s1; $obj-\u003efoo()-\u003ebar(); $arr =array(0 =\u003e 'zero', 1 =\u003e 'one'); call_func(function () { return 0; }); for ($i = 0; $i \u003c $x; $i++) { $y+= ($y^0x123) \u003c\u003c 2; } $k = $x \u003e 15 ? 1 : 2; $k = $x ?: 0; $k = $x ?? $z; $k = $x\u003c=\u003e$z; do { try { if (!0 \u003e $x \u0026\u0026 ! $x \u003c 10){ while ($x !== $y){ $x = f($x * 3 + 5); } $z += 2; } elseif ($x \u003e 20) { $z = $x \u003c\u003c1; } else { $z = $x|2; } $j = intval($z); switch ($j) { case 0: $s1=strval('100'); break; case 2: $s1 = 'two'; break; default: $s1 = 'other'; } } catch (\\Exception $e) { $t = $one[0]; $u = $one['str']; $v = $one[$x[1]]; echo $val{foo . $num}[$cell{$a}]; }finally{// do something } }while ($x \u003c0); } } function foo() { return 0; } function bar( $x, $y, int $z = 1 ){ $x = 0; // $x = 1 do{$y += 1;} while ($y \u003c 10); if(true){$x = 10;}elseif ($y \u003c 10) {$x=5;}elseif (true) {$x= 5 ;} for ($i = 0; $i \u003c 10; $i++){$yy=$x\u003e2?1:2;} while( true ) {$x=0;} do{$x += 1;}while( true ) ; foreach ([ 'a' =\u003e 0, 'b' =\u003e 1, 'c'=\u003e2, ] as $e1) {echo$e1;} $count = 10; $x = [ 'x','y', [ 1 =\u003e 'abc', 2 =\u003e 'def', 3 =\u003e 'ghi' ], ]; $zz = [ 0.1, 0.2, 0.3, 0.4, ]; $x = [ 0 =\u003e 'zero', 123 =\u003e 'one two three', 25 =\u003e 'two five' ]; bar(0, bar( 1, 'b' )); } function foobar( $a ):Bar { $a=null ===$a?$a:new $a; include('a.php'); } function emptyreturn() { return; } $map = array_map (function( $value ) { return$value + 10; }, $array ); ?\u003e \u003cdiv\u003e\u003c?= foo() ?\u003e\u003c/div\u003e è‡ªå®šä¹‰ä»£ç ä¿®å¤æ ¼å¼ åˆ›å»º .php_cs æ–‡ä»¶ï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹ã€‚ \u003c?php require __DIR__ . '/vendor/autoload.php'; use PhpCsFixer\\Config; use PhpCsFixer\\Finder; $finder = Finder::create()-\u003ein(__DIR__ . '/src'); return Config::create() -\u003esetRiskyAllowed(true) -\u003esetCacheFile(__DIR__ . '/.php_cs.cache') -\u003esetRules([ '@PSR2' =\u003e true, // ä½¿ç”¨ PSR2 æ ‡å‡† 'array_syntax' =\u003e [ 'syntax' =\u003e 'short', // æ•°ç»„ä½¿ç”¨çŸ­è¯­æ³• ], 'binary_operator_spaces' =\u003e [ 'align_double_arrow' =\u003e false, // ä¸å¯¹é½åŒç®­å¤´æ“ä½œç¬¦ 'align_equals' =\u003e false, // ä¸å¯¹é½èµ‹å€¼æ“ä½œç¬¦ ], 'blank_line_after_namespace' =\u003e true, // å‘½åç©ºé—´ä¹‹åæœ‰ä¸€ä¸ªç©ºè¡Œ 'blank_line_after_opening_tag' =\u003e true, // PHP æ‰“å¼€æ ‡è®°ä¹‹åæœ‰ä¸€ä¸ªç©ºè¡Œ 'blank_line_before_return' =\u003e true, // return è¯­å¥ä¹‹å‰æœ‰ä¸€ä¸ªç©ºè¡Œ 'blank_line_before_statement' =\u003e [ 'statements' =\u003e [ 'break', 'continue', 'declare', 'return', 'throw', 't","date":"2018-02-07","objectID":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/:2:2","tags":["PHP"],"title":"PHP ç¼–ç æ ‡å‡†æ’ä»¶","uri":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/"},{"categories":["PHP"],"content":"ç»“è®º ","date":"2018-02-07","objectID":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/:3:0","tags":["PHP"],"title":"PHP ç¼–ç æ ‡å‡†æ’ä»¶","uri":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/"},{"categories":["PHP"],"content":"åŸå§‹ä»£ç  \u003c?php $result = []; $array = [ 'x' =\u003e 0 , 'a' =\u003e 1 , 'b' =\u003e 2 , 'c' =\u003e 3 , 'd' =\u003e 4 , 'e' =\u003e 5 , 'f' =\u003e 6 , 'g' =\u003e 7 , 'y' =\u003e 8 , 'z' =\u003e 9, ]; foreach ($array as $key =\u003e $val) { if (in_array($key, ['a', 'b', 'c'], true)) { continue; } $result[$key] = $val; } ","date":"2018-02-07","objectID":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/:3:1","tags":["PHP"],"title":"PHP ç¼–ç æ ‡å‡†æ’ä»¶","uri":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/"},{"categories":["PHP"],"content":"PHP_CodeSniffer æ ¼å¼åŒ– æ‰§è¡Œ phpcbf ./src/Test.php åï¼š \u003c?php $result = []; $array = [ 'x' =\u003e 0 , 'a' =\u003e 1 , 'b' =\u003e 2 , 'c' =\u003e 3 , 'd' =\u003e 4 , 'e' =\u003e 5 , 'f' =\u003e 6 , 'g' =\u003e 7 , 'y' =\u003e 8 , 'z' =\u003e 9, ]; foreach ($array as $key =\u003e $val) { if (in_array($key, ['a', 'b', 'c'], true)) { continue; } $result[$key] = $val; } ","date":"2018-02-07","objectID":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/:3:2","tags":["PHP"],"title":"PHP ç¼–ç æ ‡å‡†æ’ä»¶","uri":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/"},{"categories":["PHP"],"content":"PHP-CS-Fixer æ ¼å¼åŒ– æ‰§è¡Œ php-cs-fixer fix ./src/Test.php åï¼š \u003c?php $result = []; $array = [ 'x' =\u003e 0 , 'a' =\u003e 1 , 'b' =\u003e 2 , 'c' =\u003e 3 , 'd' =\u003e 4 , 'e' =\u003e 5 , 'f' =\u003e 6 , 'g' =\u003e 7 , 'y' =\u003e 8 , 'z' =\u003e 9, ]; foreach ($array as $key =\u003e $val) { if (in_array($key, ['a', 'b', 'c'], true)) { continue; } $result[$key] = $val; } ç»è¿‡å¯¹ä¸¤ä¸ªå·¥å…·çš„ä½¿ç”¨ï¼Œå‘ç°å„æœ‰æ‰€é•¿ï¼ŒPHP_CodeSniffer å›Šæ‹¬ä»£ç è´¨é‡æ£€æµ‹å’Œè‡ªåŠ¨ä¿®å¤ï¼Œè€Œ PHP-CS-Fixer åˆ™åªæœ‰è‡ªåŠ¨ä¿®å¤åŠŸèƒ½ï¼Œæ— è®ºå“ªç§å·¥å…·ï¼Œåœ¨æˆ‘æµ‹è¯•çš„è¿‡ç¨‹ä¸­ï¼Œéƒ½æ²¡æ³•æŠŠç”¨æˆ·ä¸»åŠ¨æ·»åŠ çš„ä¸€äº›ç©ºæ ¼ç»™åˆ©ç´¢çš„å»æ‰ï¼Œç•¥æœ‰ç‚¹å¤±æœ›ã€‚ ","date":"2018-02-07","objectID":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/:3:3","tags":["PHP"],"title":"PHP ç¼–ç æ ‡å‡†æ’ä»¶","uri":"/2018/02/07/php-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86%E6%8F%92%E4%BB%B6/"},{"categories":["Mac"],"content":"ä¸€è¡Œå‘½ä»¤æå®šä½ è¦å®‰è£…çš„è½¯ä»¶ï¼Œçœæ‰äº†è‡ªå·±å»ä¸‹è½½ã€è§£å‹ã€æ‹–æ‹½è¿™äº›æ“ä½œï¼ŒCask ä½ å€¼å¾—æ‹¥æœ‰ ","date":"2018-02-05","objectID":"/2018/02/05/mac-homebrew-cask/:0:0","tags":["Mac"],"title":"Mac Homebrew Cask","uri":"/2018/02/05/mac-homebrew-cask/"},{"categories":["Mac"],"content":"ç®€ä»‹ Homebrew Cask Website Homebrew Cask GitHub Homebrew Cask Documentation Homebrew Cask Package Search A CLI workflow for the administration of macOS applications distributed as binaries. ","date":"2018-02-05","objectID":"/2018/02/05/mac-homebrew-cask/:1:0","tags":["Mac"],"title":"Mac Homebrew Cask","uri":"/2018/02/05/mac-homebrew-cask/"},{"categories":["Mac"],"content":"å®‰è£… $ brew tap caskroom/cask ","date":"2018-02-05","objectID":"/2018/02/05/mac-homebrew-cask/:2:0","tags":["Mac"],"title":"Mac Homebrew Cask","uri":"/2018/02/05/mac-homebrew-cask/"},{"categories":["Mac"],"content":"æ“ä½œ // å®‰è£…åº”ç”¨è½¯ä»¶ $ brew cask install package-name // å¸è½½åº”ç”¨è½¯ä»¶ $ brew cask uninstall package-name // æ›´æ–°åº”ç”¨è½¯ä»¶ $ brew cask reinstall package-name // æœç´¢åº”ç”¨è½¯ä»¶ $ brew cask search package-name // æŸ¥çœ‹åº”ç”¨è½¯ä»¶è¯¦æƒ… $ brew cask info package-name // æŸ¥çœ‹å®‰è£…è½¯ä»¶åˆ—è¡¨ $ brew cask list // æ£€æŸ¥é…ç½®é—®é¢˜ $ brew cask doctor // æ¸…ç†ç¼“å­˜ä¸‹è½½å’Œè·Ÿè¸ªç¬¦å·é“¾æ¥ $ brew cask cleanup // è½¬åˆ°ä¸»é¡µ $ brew cask home // æŸ¥çœ‹ç‰ˆæœ¬ $ brew cask --version // æŸ¥çœ‹å¸®åŠ©å‘½ä»¤ $ brew cask help ","date":"2018-02-05","objectID":"/2018/02/05/mac-homebrew-cask/:3:0","tags":["Mac"],"title":"Mac Homebrew Cask","uri":"/2018/02/05/mac-homebrew-cask/"},{"categories":["Mac"],"content":"å‚è€ƒ brew å’Œ brew cask æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ Homebrew cask è®© macOS é”¦ä¸Šæ·»èŠ± ","date":"2018-02-05","objectID":"/2018/02/05/mac-homebrew-cask/:4:0","tags":["Mac"],"title":"Mac Homebrew Cask","uri":"/2018/02/05/mac-homebrew-cask/"},{"categories":["Mac"],"content":"ä»¥å‰ç”¨ Windows çš„æ—¶å€™å‡ ä¹ä¸æ€ä¹ˆå…³æ³¨æ•ˆç‡ï¼Œä»€ä¹ˆä»€ä¹ˆè½¯ä»¶æœ‰å¤šç‰›é€¼å‘€è¿™ç§äº‹æƒ…ï¼ˆå½“ç„¶æˆ‘ä¸æ˜¯è¯´ Windows ä¸ç‰›é€¼ï¼Œä»–ä»¬éƒ½ç‰¹ä¹ˆç‰›é€¼ï¼‰ï¼ŒåŸºæœ¬ä¸Šæ˜¯ä»¥å®Œæˆä»»åŠ¡ä¸ºç›®æ ‡ï¼Œé™¤äº†å¼€å‘å·¥å…·å…¶å®ƒçš„éƒ½ä¸æ€ä¹ˆæŠ˜è…¾ï¼Œè‡ªä»æœ‰äº† Mac åæˆ‘ä¹ŸæŠ˜è…¾äº†ä¸€ç¿»ã€‚ ","date":"2018-02-04","objectID":"/2018/02/04/mac-necessary-tools/:0:0","tags":["Mac"],"title":"Mac é‚£äº›å±…å®¶å¿…å¤‡çš„å·¥å…·","uri":"/2018/02/04/mac-necessary-tools/"},{"categories":["Mac"],"content":"å‘½ä»¤è¡Œå·¥å…· ","date":"2018-02-04","objectID":"/2018/02/04/mac-necessary-tools/:1:0","tags":["Mac"],"title":"Mac é‚£äº›å±…å®¶å¿…å¤‡çš„å·¥å…·","uri":"/2018/02/04/mac-necessary-tools/"},{"categories":["Mac"],"content":"æ•ˆç‡å·¥å…· Homebrew Homebrew Website Homebrew GitHub Homebrew Documentation Homebrew Formulae The missing package manager for macOS. å¯èƒ½æ˜¯ macOS æœ€å¥½ç”¨çš„åŒ…ç®¡ç†å™¨ï¼Œæˆ‘ä¸ç®¡ï¼Œæˆ‘å°±æ˜¯è¿™ä¹ˆè®¤ä¸ºçš„ // å®‰è£… $ /usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\" // å¸è½½ $ /usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/uninstall)\" Oh My Zsh Oh My Zsh Website Oh My Zsh GitHub Oh My Zsh Documentation ä¸ºä»€ä¹ˆè¯´ zsh æ˜¯ shell ä¸­çš„æå“ï¼Ÿ Your terminal never felt this good before. æ± è€è¯´è¿‡ï¼Œè¿™æ˜¯ç»ˆæ shellï¼Œå¾ˆå¤šäººéƒ½è®¤ä¸ºå®ƒæ˜¯ shell ä¸­çš„æå“ // å®‰è£…ï¼šcurl æˆ–è€… wget æ–¹å¼ $ sh -c \"$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)\" æˆ– sh -c \"$(wget https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)\" // å¸è½½ $ uninstall_oh_my_zsh zsh-autosuggestions zsh-autosuggestions GitHub zsh-autosuggestions Documentation å¼ºå¤§ Zsh çš„å‘½ä»¤æç¤ºã€‚ $ brew install zsh-autosuggestions $ vim ~/.zshrc source /usr/local/share/zsh-autosuggestions/zsh-autosuggestions.zsh $ source ~/.zshrc iTerm2 iTerm2 Website iTerm2 GitHub iTerm2 Documentation iTerm2 Downloads iTerm2 is a terminal emulator for macOS that does amazing things. ä¸èƒ½æ²¡æœ‰çš„ä»¿çœŸç»ˆç«¯ï¼Œè€Œä¸”è¿˜æ˜¯å…è´¹çš„ï¼Œè‰¯å¿ƒè½¯ä»¶å‘€ï¼ Vim Ultimate Vim Website Ultimate Vim GitHub Ultimate Vim Documentation // å®‰è£… $ curl http://j.mp/spf13-vim3 -L -o - | sh æˆ–è€… $ curl https://j.mp/spf13-vim3 -L \u003e spf13-vim.sh \u0026\u0026 sh spf13-vim.sh // å¸è½½ $ sh ~/.spf13-vim-3/uninstall.sh The Ultimate Vim Distribution. ç”¨è¿‡ Vimï¼Œä½†æƒ³ç”¨ç»ˆçº§ Vimï¼Œä½ å°±è¯•è¯•ã€‚ ","date":"2018-02-04","objectID":"/2018/02/04/mac-necessary-tools/:1:1","tags":["Mac"],"title":"Mac é‚£äº›å±…å®¶å¿…å¤‡çš„å·¥å…·","uri":"/2018/02/04/mac-necessary-tools/"},{"categories":["Mac"],"content":"å¼€å‘å·¥å…· Git Git - Git is a free and open source distributed version control system designed to handle everything from small to very large projects with speed and efficiency. Git is easy to learn and has a tiny footprint with lightning fast performance. It outclasses SCM tools like Subversion, CVS, Perforce, and ClearCase with features like cheap local branching, convenient staging areas, and multiple workflows. è¿™ä¸ªå¹´å¤´ä½ è¦æ˜¯ä¸ä¼šç”¨ gitï¼Œå‡ºé—¨ä¼šè¢«äººå˜²ç¬‘çš„ï¼Œå°¤å…¶æ˜¯ç¨‹åºå‘˜ã€‚ {% note warning %} ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸éœ€è¦å®‰è£…ï¼Œå› ä¸º Xcode Command Line Tools å°±è‡ªå¸¦ã€‚ {% endnote %} // å®‰è£… $ brew install git // å¸è½½ $ brew uninstall git Curl Curl - Command line tool and library for transferring data with URLs. curl is used in command lines or scripts to transfer data. It is also used in cars, television sets, routers, printers, audio equipment, mobile phones, tablets, settop boxes, media players and is the internet transfer backbone for thousands of software applications affecting billions of humans daily. ä¸ä¼šä½¿ç”¨è¿™ä¸ªå·¥å…·ï¼Œä½ ä¹Ÿé…è°ˆäº’è”ç½‘ï¼Œåˆ«å›å¤´ï¼Œè¯´çš„å°±æ˜¯ä½  // å®‰è£… $ brew install curl // å¸è½½ $ brew uninstall curl ","date":"2018-02-04","objectID":"/2018/02/04/mac-necessary-tools/:1:2","tags":["Mac"],"title":"Mac é‚£äº›å±…å®¶å¿…å¤‡çš„å·¥å…·","uri":"/2018/02/04/mac-necessary-tools/"},{"categories":["Mac"],"content":"çª—ä½“å·¥å…· ","date":"2018-02-04","objectID":"/2018/02/04/mac-necessary-tools/:2:0","tags":["Mac"],"title":"Mac é‚£äº›å±…å®¶å¿…å¤‡çš„å·¥å…·","uri":"/2018/02/04/mac-necessary-tools/"},{"categories":["Mac"],"content":"æ•ˆç‡å·¥å…· @hzlzh å·²ç»åšè¿‡ä¸€ä¸ªéå¸¸ä¼˜ç§€çš„é£Ÿè°± - Best Appï¼Œé‡Œé¢åˆ—å‡ºäº†å¾ˆå¤šä¼˜ç§€çš„è½¯ä»¶ï¼Œä½†æ˜¯å‘¢ï¼Œè¿™ä¸ªå¤ªå¤šäº†ï¼Œæˆ‘æ˜¯æ–­ä¸å¯èƒ½æŠŠè¿™ä¹ˆå¤šè½¯ä»¶éƒ½ç”¨çš„å‡ºç¥å…¥åŒ–ï¼Œèƒ½å¸¸ç”¨çš„å¯èƒ½çœŸæ²¡å‡ ä¸ªï¼Œä¹Ÿå¯èƒ½æ˜¯æˆ‘å­¤é™‹å¯¡é—»ï¼Œæ²¡è§è¿‡çœŸæ­£çš„å¤§ç¥æ˜¯æ€ä¹ˆæŠŠè¿™ä¹ˆå¤šå·¥å…·ç”¨çš„ç™»å³°é€ æçš„ï¼Œä¸è¿‡æ„Ÿè°¢ @hzlzh å’Œç»´æŠ¤è¿™ä»½é£Ÿè°±çš„ä¼™ä¼´ä»¬ï¼Œæœ‰ä½ ä»¬è¿™æ ·çš„æå®¢ï¼Œæ‰æˆå°±äº†æ›´å¤šäººçš„æ–¹ä¾¿ Alfred Alfred is an award-winning app for Mac OS X which boosts your efficiency with hotkeys, keywords, text expansion and more. Search your Mac and the web, and be more productive with custom actions to control your Mac. macOS çš„ç¥å…µåˆ©å™¨ï¼Œè¿„ä»Šä¸ºæ­¢æœ€å…·æ•ˆç‡çš„è½¯ä»¶ï¼Œæ²¡æœ‰ä¹‹ä¸€ï¼Œä¸è§£é‡Š Alfred Workflow è®©ä½ éšå¿ƒæ‰€æ¬²ï¼š å¦‚ä½•ç¼–å†™ Alfred ä½¿ç”¨çš„ Workflowï¼Œéœ€è¦æŒæ¡å“ªäº›çŸ¥è¯†ï¼Ÿ å€ŸåŠ© Alfred çš„ Workflows åŠŸèƒ½å¯ä»¥åšå“ªäº›å¥½ç©çš„äº‹æƒ…ï¼Ÿ å†™ä¸äº† Workflows æˆ‘å°±ç”¨åˆ«äººçš„ Workflowsï¼Œæˆ‘æœ‰ç‚¹æ— è€» 1Password 1Password remembers them all for you. Save your passwords and log in to sites with a single click. Itâ€™s that simple. åŸæ¥ç®¡ç†å¯†ç è´¦å·ä¹Ÿé‚£ä¹ˆè½»æ¾å‘€ï¼Œè°ç”¨è°çŸ¥é“ï¼Œä¸è§£é‡Š iStat Menus 6 iStat Menus 6 - An advanced Mac system monitor for your menubar. èœå•æ ç›‘è§†ç³»ç»Ÿè¿è¡ŒçŠ¶å†µï¼Œå¼ºè¿«ç—‡å¿…å¤‡ Bartender 3 Bartender 3 - Organize your menu bar apps. Bartender 3 lets you organize your menu bar apps, by hiding them, rearranging them, or moving them to the Bartender Items. You can display the full menu bar, set options to have menu bar items show in the menu bar when they have updated, or have them visible in the Bartender Items whenever you want. èšåˆèœå•æ å›¾æ ‡ï¼Œå¼ºè¿«ç—‡å¿…å¤‡ CleanMyMac 3 CleanMyMac 3 - Clean, optimize, and maintain your Mac with the all-new CleanMyMac 3. It scans every inch of your system, removes gigabytes of junk in just two clicks, and monitors the health of your Mac. æ¸…ç†ã€ä¼˜åŒ–ã€ç»´æŠ¤ç³»ç»Ÿï¼Œä½†æ¯”æµæ°“çš„èŠ‚æ“è¦é«˜ï¼Œæœ‰åº•çº¿ Paste Paste - Never lose anything youâ€™ve copied on your Mac again. Paste automatically stores everything you copy across all your devices and keeps your clipboard history organized. è¿ç»´çš„æœ€çˆ±ï¼Œå½“ç„¶ï¼Œå®ƒä¹Ÿå¯ä»¥æ˜¯ä½ çš„çœŸçˆ±ï¼ŒTime machine for your clipboardï¼Œä¸æ˜¯ç›–çš„ï¼Œä»æ­¤å¤åˆ¶ç²˜è´´å¦‚è¡Œäº‘æµæ°´ aText aText Typing Accelerator - aText accelerates your typing by replacing abbreviations with frequently used phrases you define. ç¾¡æ…•è¿‡åˆ«äººçš„è¾“å…¥é€Ÿåº¦ï¼Œä½ æ˜¯ä¸æ˜¯ä¹Ÿè ¢è ¢æ¬²åŠ¨ï¼Œtry ä¸€ä¸‹è¿™ä¸ªï¼Œä½ ä¹Ÿå¯ä»¥çš„ MWeb Mweb - MWeb for Mac, iPad and iPhoneï¼Œä¸“ä¸šçš„ Markdown å†™ä½œã€è®°ç¬”è®°ã€é™æ€åšå®¢ç”Ÿæˆè½¯ä»¶ æœ€å¥½çš„ Markdown å†™ä½œè½¯ä»¶ä¹‹ä¸€ æ˜¯çš„ï¼ŒMarkdown å†™ä½œè½¯ä»¶æ¯”è¾ƒå¤šï¼Œå„äººæœ‰å„äººçš„å–œå¥½å§ï¼Œåƒæˆ‘åçˆ± Mweb å¤šä¸€ç‚¹è€Œå·²ã€‚æ¯ä¸ªäººçš„ä½¿ç”¨åœºæ™¯ä¸å°½ç›¸åŒï¼Œæ‰€ä»¥å‘¢ï¼Œè‡ªå·±æŒ‘å§ï¼Œåæ­£æœ‰è¿™ä¹ˆå¤šé€‰æ‹©å‘¢ï¼Œå‹æƒ…æç¤ºï¼šä¸è¦æŒ‘èŠ±çœ¼äº†ï¼Œé€‰ä¸€ä¸¤ä¸ªå°±å¥½ï¼Œæ¯•ç«Ÿå†™æ‰æ˜¯ç›®çš„å˜› åŒæ ·åœ¨ä½¿ç”¨åŒæ ·çš„å·¥å…·ï¼Œæœ‰äº›äººçœŸå°±æŠŠå·¥å…·ç”¨å‡ºäº†èŠ±ï¼Œè¿™ä¸ªå¢ƒç•Œï¼Œæˆ‘ä¹Ÿå¾—è¯•ä¸€ä¸‹ ç å­—å¿…å¤‡ï¼š18 æ¬¾ä¼˜ç§€çš„ Markdown å†™ä½œå·¥å…· | 2015 å¹´åº¦ç›˜ç‚¹ è®©ä½ çˆ±ä¸Šå†™ä½œçš„ 11 æ¬¾ Markdown å·¥å…· | ä¸“é¢˜ Â· å†™ä½œ ç”¨ Markdown å†™ä½œç”¨ä»€ä¹ˆæ–‡æœ¬ç¼–è¾‘å™¨ï¼Ÿ Quick Look Plugin Quick Look Plugin å¿«é€Ÿé¢„è§ˆçš„æ’ä»¶ï¼Œæ— è®ºå›¾ç‰‡ã€æ–‡æœ¬ï¼Œä¸è¯•ä¸€ä¸‹æ€ä¹ˆçŸ¥é“å‘¢ï¼Ÿè¯·å…ˆå®‰è£… Homebrew Cask $ brew cask install qlcolorcode qlstephen qlmarkdown quicklook-json qlimagesize webpquicklook suspicious-package quicklookase qlvideo ","date":"2018-02-04","objectID":"/2018/02/04/mac-necessary-tools/:2:1","tags":["Mac"],"title":"Mac é‚£äº›å±…å®¶å¿…å¤‡çš„å·¥å…·","uri":"/2018/02/04/mac-necessary-tools/"},{"categories":["Mac"],"content":"å¼€å‘å·¥å…· JetBrains IDE JetBrains å…¨å®¶æ¡¶ - Whichever technologies you use, thereâ€™s a JetBrains tool to match. ä½ å°±å¯¹å·å…¥åº§å§ï¼Œæˆ‘æ˜¯ PHPerï¼Œæˆ‘é€‰ PhpStorm Visual Studio Code Visual Studio Code - Code editing. Redefined. Free. Open source. Runs everywhere. Visual Studio Code is a lightweight but powerful source code editor which runs on your desktop and is available for Windows, macOS and Linux. It comes with built-in support for JavaScript, TypeScript and Node.js and has a rich ecosystem of extensions for other languages (such as C++, C#, Java, Python, PHP, Go) and runtimes (such as .NET and Unity). Begin your journey with VS Code with these introductory videos. å®‡å®™æœ€å¼ºçš„ç¼–è¾‘å™¨éš¾é“ä¸æ˜¯ Vim or Emacsï¼ŒNO NO NOï¼Œä½ ä¹Ÿçœ‹è§äº†ï¼Œå¾®è½¯å‘æ¥ä¸æœå‘€ Sublime Text 3 Sublime Text 3 - A sophisticated text editor for code, markup and prose. è¿™ä¸ªæˆ‘å°±ä¸è¯´äº†ï¼Œå¿«æ·é”®è®¾ç½®çš„æœ€ä¸ºä¼˜é›…ï¼Œæ‰€ä»¥æˆ‘æŠŠ PhpStorm å’Œ Visual Studio Code çš„å¿«æ·é”®éƒ½æ˜ å°„æˆäº† Sublime è¿™ä¸ªå¾·æ€§ï¼Œä¸€å¥—å¿«æ·é”®ä¸€ç»Ÿæ±Ÿæ¹– æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚ ","date":"2018-02-04","objectID":"/2018/02/04/mac-necessary-tools/:2:2","tags":["Mac"],"title":"Mac é‚£äº›å±…å®¶å¿…å¤‡çš„å·¥å…·","uri":"/2018/02/04/mac-necessary-tools/"},{"categories":["PHP"],"content":"Xdebug is an extension for PHP, and provides a range of features to improve the PHP development experience. ","date":"2018-01-30","objectID":"/2018/01/30/php-xdebug/:0:0","tags":["PHP"],"title":"PHP å®‰è£… Xdebug æ‰©å±•æ¥è°ƒè¯•ç¨‹åº","uri":"/2018/01/30/php-xdebug/"},{"categories":["PHP"],"content":"æ¦‚è¿° Xdebug Website Xdebug GitHub Xdebug æ˜¯ PHP çš„ä¸€ä¸ªæ‰©å±•ï¼Œä»¥ååŠ©è°ƒè¯•å’Œå¼€å‘ã€‚å®ƒåŒ…å«ä¸€ä¸ª single step debugger ä¸ IDEs ä¸€èµ·ä½¿ç”¨ï¼›å®ƒå‡çº§äº† PHP çš„ var_dump() å‡½æ•°ï¼›å®ƒä¸ºé€šçŸ¥ã€è­¦å‘Šã€é”™è¯¯å’Œå¼‚å¸¸æ·»åŠ äº†å †æ ˆè·Ÿè¸ªï¼›å®ƒå…·æœ‰è®°å½•æ¯ä¸ªå‡½æ•°è°ƒç”¨å’Œå˜é‡èµ‹å€¼åˆ°ç£ç›˜çš„åŠŸèƒ½ï¼›å®ƒåŒ…å«ä¸€ä¸ªåˆ†æå™¨ï¼›å¹¶ä¸”æä¾›äº†ä¸ PHPUnit ä¸€èµ·ä½¿ç”¨æ—¶çš„ä»£ç è¦†ç›–åŠŸèƒ½ã€‚ ","date":"2018-01-30","objectID":"/2018/01/30/php-xdebug/:1:0","tags":["PHP"],"title":"PHP å®‰è£… Xdebug æ‰©å±•æ¥è°ƒè¯•ç¨‹åº","uri":"/2018/01/30/php-xdebug/"},{"categories":["PHP"],"content":"å®‰è£… ","date":"2018-01-30","objectID":"/2018/01/30/php-xdebug/:2:0","tags":["PHP"],"title":"PHP å®‰è£… Xdebug æ‰©å±•æ¥è°ƒè¯•ç¨‹åº","uri":"/2018/01/30/php-xdebug/"},{"categories":["PHP"],"content":"Mac å®‰è£… $ brew install homebrew/php/php71-xdebug ","date":"2018-01-30","objectID":"/2018/01/30/php-xdebug/:2:1","tags":["PHP"],"title":"PHP å®‰è£… Xdebug æ‰©å±•æ¥è°ƒè¯•ç¨‹åº","uri":"/2018/01/30/php-xdebug/"},{"categories":["PHP"],"content":"Linux å®‰è£… $ git clone https://github.com/xdebug/xdebug.git $ cd xdebug $ phpize $ ./configure --enable-xdebug --with-php-config=/usr/local/bin/php-config $ sudo make clean $ sudo make $ sudo make install ","date":"2018-01-30","objectID":"/2018/01/30/php-xdebug/:2:2","tags":["PHP"],"title":"PHP å®‰è£… Xdebug æ‰©å±•æ¥è°ƒè¯•ç¨‹åº","uri":"/2018/01/30/php-xdebug/"},{"categories":["PHP"],"content":"Windows å®‰è£… Xdebug Download Page ä¸‹è½½å¯¹åº”çš„ Windows ç‰ˆæœ¬ï¼Œå°† php_xdebug-*.dll å¤åˆ¶åˆ°ç›¸åº”çš„æ–‡ä»¶ä¸­ ","date":"2018-01-30","objectID":"/2018/01/30/php-xdebug/:2:3","tags":["PHP"],"title":"PHP å®‰è£… Xdebug æ‰©å±•æ¥è°ƒè¯•ç¨‹åº","uri":"/2018/01/30/php-xdebug/"},{"categories":["PHP"],"content":"é…ç½® ","date":"2018-01-30","objectID":"/2018/01/30/php-xdebug/:3:0","tags":["PHP"],"title":"PHP å®‰è£… Xdebug æ‰©å±•æ¥è°ƒè¯•ç¨‹åº","uri":"/2018/01/30/php-xdebug/"},{"categories":["PHP"],"content":"å°†ç”Ÿæˆçš„ xdebug.so æ·»åŠ åˆ° php.ini æ–‡ä»¶ä¸­ ç”±äºä¸åŒçš„å®‰è£…æ–¹å¼ï¼Œé…ç½®æ–‡ä»¶çš„è·¯å¾„å¯èƒ½ä¸å¤ªä¸€æ ·ã€‚æœ‰çš„æ‰©å±•å¯èƒ½éœ€è¦å•ç‹¬çš„æ–‡ä»¶å»é…ç½® [xdebug] zend_extension=\"/path/to/xdebug.so\" ","date":"2018-01-30","objectID":"/2018/01/30/php-xdebug/:3:1","tags":["PHP"],"title":"PHP å®‰è£… Xdebug æ‰©å±•æ¥è°ƒè¯•ç¨‹åº","uri":"/2018/01/30/php-xdebug/"},{"categories":["PHP"],"content":"é‡å¯ php-fpm // Mac $ brew services restart php71 // Linux $ sudo systemctl restart php71-fpm ","date":"2018-01-30","objectID":"/2018/01/30/php-xdebug/:3:2","tags":["PHP"],"title":"PHP å®‰è£… Xdebug æ‰©å±•æ¥è°ƒè¯•ç¨‹åº","uri":"/2018/01/30/php-xdebug/"},{"categories":["PHP"],"content":"æŸ¥çœ‹ xdebug æ˜¯å¦æ­£ç¡®å®‰è£… $ php -i | grep xdebug /usr/local/etc/php/7.1/conf.d/ext-xdebug.ini xdebug xdebug support =\u003e enabled # è¯´æ˜å·²ç»å®‰è£…æˆåŠŸ æˆ–è€… $ php --ini | grep xdebug /path/to/conf.d/ext-xdebug.ini $ cat /path/to/conf.d/ext-xdebug.ini [xdebug] zend_extension=\"/usr/local/opt/php71-xdebug/xdebug.so\" æˆ–è€… $ php --ri xdebug xdebug xdebug support =\u003e enabled ","date":"2018-01-30","objectID":"/2018/01/30/php-xdebug/:3:3","tags":["PHP"],"title":"PHP å®‰è£… Xdebug æ‰©å±•æ¥è°ƒè¯•ç¨‹åº","uri":"/2018/01/30/php-xdebug/"},{"categories":["PHP"],"content":"è¿›é˜¶ å½“ä½ ä¹ æƒ¯äº†ä½¿ç”¨ var_dump()ï¼Œechoï¼Œdd()ï¼Œprint_r()ï¼Œprint ç­‰è¿™ç§æ–¹å¼è°ƒè¯•ä»£ç ï¼Œé‚£ä¹ˆä»ç°åœ¨èµ·å’±ä»¬æ¢ä¸€ç§è½»æ¾çš„æ–¹å¼æ¥è°ƒè¯•ä»£ç ã€‚ ","date":"2018-01-30","objectID":"/2018/01/30/php-xdebug/:4:0","tags":["PHP"],"title":"PHP å®‰è£… Xdebug æ‰©å±•æ¥è°ƒè¯•ç¨‹åº","uri":"/2018/01/30/php-xdebug/"},{"categories":["PHP"],"content":"é…ç½® Xdebug å‚æ•° ä½¿ç”¨ Homebrew å®‰è£… PHP ç¯å¢ƒåï¼Œåœ¨å®‰è£…æ‰©å±•æ—¶ï¼Œä¸€èˆ¬ä¼šå•ç‹¬å»åŠ è½½æ‰©å±•çš„é…ç½® $ vim /path/to/ext-xdebug.ini [xdebug] zend_extension=\"/usr/local/opt/php71-xdebug/xdebug.so\" xdebug.remote_enable = 1 xdebug.idekey = PHPSTORM xdebug.remote_port = 9001 xdebug.collect_vars = On xdebug.collect_params = 4 xdebug.dump_globals = On xdebug.dump.SERVER = REQUEST_URI xdebug.show_local_vars = On ","date":"2018-01-30","objectID":"/2018/01/30/php-xdebug/:4:1","tags":["PHP"],"title":"PHP å®‰è£… Xdebug æ‰©å±•æ¥è°ƒè¯•ç¨‹åº","uri":"/2018/01/30/php-xdebug/"},{"categories":["PHP"],"content":"é…ç½® PhpStorm IDE ","date":"2018-01-30","objectID":"/2018/01/30/php-xdebug/:4:2","tags":["PHP"],"title":"PHP å®‰è£… Xdebug æ‰©å±•æ¥è°ƒè¯•ç¨‹åº","uri":"/2018/01/30/php-xdebug/"},{"categories":["PHP"],"content":"æ•ˆæœ å¯¹äº†ï¼Œç”±äºæœ€è¿‘åœ¨è°ƒè¯•æ”¯ä»˜å®æ¥å£ï¼Œçœ‹åˆ°ä¸€äº›é”™è¯¯æç¤ºç ä»£ç ï¼Œæ²¡æœ‰ä¸Šä¸‹æ–‡çš„æç¤ºï¼ŒåŠ ä¸Šæœ¬äººç‰¹æ‡’ï¼Œä¸æƒ³åœ¨å¤šæ¬¡çš„è°ƒè¯•ä¸­è°ƒè¯•è·Ÿè¸ªï¼Œé¢å¯¹è¿™äº›ç»æœ›çš„é”™è¯¯æç¤ºï¼Œæ‡µé€¼äºæ­¤ï¼Œå¥½åœ¨æˆ‘æœ›çœ¼æ¬²ç©¿çš„æ—¶å€™ï¼ŒçŒ›ç„¶é—´æƒ³èµ·äº†æœ‰ä¸ªå« xdebug ä¸œä¸œï¼ŒçœŸç‰¹ä¹ˆé è°±ï¼Œè¿™ä¹Ÿæ˜¯è¿™ç¯‡æ–‡ç« çš„ç”±æ¥ï¼ŒèŠ±äº†åå‡ åˆ†é’Ÿçš„å·¥å¤«æŠŠè¿™è´§å®‰ç½®å¦¥å½“ï¼Œå°±èµ°ä¸Šäº†è°ƒè¯•çš„æ¼«æ¼«é•¿è·¯ï¼Œä½ çœ‹ç¥é©¬é”™è¯¯ä¸Šä¸‹æ–‡ä¸€è§ˆæ— ä½™çš„åŸå½¢æ¯•éœ²ï¼Œè°ƒè¯•ä»£ç æ€ä¸€ä¸ªçˆ½å­—äº†å¾—ï¼Œä¸è¯´äº†çœ‹å›¾ã€‚ ","date":"2018-01-30","objectID":"/2018/01/30/php-xdebug/:4:3","tags":["PHP"],"title":"PHP å®‰è£… Xdebug æ‰©å±•æ¥è°ƒè¯•ç¨‹åº","uri":"/2018/01/30/php-xdebug/"},{"categories":["PHP"],"content":"é¡¹ç›®è°ƒè¯• ","date":"2018-01-30","objectID":"/2018/01/30/php-xdebug/:5:0","tags":["PHP"],"title":"PHP å®‰è£… Xdebug æ‰©å±•æ¥è°ƒè¯•ç¨‹åº","uri":"/2018/01/30/php-xdebug/"},{"categories":["PHP"],"content":"é…ç½® Xdebug [xdebug] zend_extension=\"/usr/local/opt/php71-xdebug/xdebug.so\" xdebug.remote_enable = 1 xdebug.idekey = PHPSTORM xdebug.remote_port = 9001 xdebug.remote_connect_back = 1 xdebug.profiler_enable = 1 ","date":"2018-01-30","objectID":"/2018/01/30/php-xdebug/:5:1","tags":["PHP"],"title":"PHP å®‰è£… Xdebug æ‰©å±•æ¥è°ƒè¯•ç¨‹åº","uri":"/2018/01/30/php-xdebug/"},{"categories":["PHP"],"content":"é…ç½® PhpStorm PHP Debug DBGp Proxy é…ç½®å®Œæˆåé‡å¯ php-fpmã€‚ PHP Servers å¦‚æœæ˜¯è™šæ‹Ÿæœºå¼€å‘ï¼Œè¯·é…ç½®é¡¹ç›®è·¯å¾„æ˜ å°„ã€‚ PHP Debug Configurations Server è¿™é‡Œé€‰æ‹©ä¸Šä¸€æ­¥é…ç½®çš„ Server å°±å¥½ã€‚ é¡¹ç›®è°ƒè¯•æ•ˆæœå›¾ å½“æµè§ˆå™¨è¿è¡ŒæŒ‡å®šçš„ URLï¼Œä¹Ÿå°±æ˜¯ PHP Web Application é…ç½®çš„ Start URL æ—¶ï¼Œå‡ºç° Xdebug æ§åˆ¶å°ï¼Œæ ¹æ®æ§åˆ¶å°æ¥è¿›è¡Œæ“ä½œ è°ƒè¯•çª—å£è¯´æ˜ï¼š Debuggerï¼šè°ƒè¯•å™¨ï¼Œæ¯”å¦‚ï¼šè·³è¿‡ï¼Œå•æ­¥è°ƒè¯•ç­‰æ“ä½œ Framesï¼šè¿è¡Œçš„å¸§ï¼Œå½“å‰é¡¹ç›®è°ƒè¯•æ—¶è½½å…¥çš„å…³è”ç¨‹åº Variablesï¼šè°ƒè¯•ä¸­çš„æ‰€æœ‰å˜é‡ Watchesï¼šç›‘è§†å™¨ï¼Œè‡ªå®šä¹‰å˜é‡ç›‘è§† ","date":"2018-01-30","objectID":"/2018/01/30/php-xdebug/:5:2","tags":["PHP"],"title":"PHP å®‰è£… Xdebug æ‰©å±•æ¥è°ƒè¯•ç¨‹åº","uri":"/2018/01/30/php-xdebug/"},{"categories":["PHP"],"content":"å‚è€ƒ Configuring Xdebug ","date":"2018-01-30","objectID":"/2018/01/30/php-xdebug/:6:0","tags":["PHP"],"title":"PHP å®‰è£… Xdebug æ‰©å±•æ¥è°ƒè¯•ç¨‹åº","uri":"/2018/01/30/php-xdebug/"},{"categories":["Git"],"content":"æœ€è¿‘é‡åˆ°è¿™æ ·çš„éœ€æ±‚ï¼Œéœ€è¦åœ¨ä¸€å°ç”µè„‘ä¸ŠåŒæ—¶ä½¿ç”¨ä¸¤ä¸ª github è´¦å·ï¼Œè´Ÿè´£ä¸åŒçš„ç”¨é€”ï¼Œæ¯”å¦‚ï¼šä¸€ä¸ªç”¨æ¥å†™ä¸ªäººé¡¹ç›®ï¼Œä¸€ä¸ªç”¨æ¥å†™å…¬å¸çš„é¡¹ç›®ã€‚ Git èµ·æ­¥ Git åŸºæœ¬æ“ä½œ Git æŸ¥çœ‹æ—¥å¿— Git åˆ†æ”¯ Git ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªè´¦å· Git Workflow Git å‘½ä»¤å¤§å…¨ ","date":"2018-01-27","objectID":"/2018/01/27/git-multiple-accounts/:0:0","tags":["Git"],"title":"Git ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªè´¦å·","uri":"/2018/01/27/git-multiple-accounts/"},{"categories":["Git"],"content":"é…ç½® ","date":"2018-01-27","objectID":"/2018/01/27/git-multiple-accounts/:1:0","tags":["Git"],"title":"Git ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªè´¦å·","uri":"/2018/01/27/git-multiple-accounts/"},{"categories":["Git"],"content":"æ³¨å†Œä¸¤ä¸ª git è´¦å· é€‰æ‹©ä¸€ä¸ªå¹³å°æ³¨å†Œä¸¤ä¸ªè´¦å·å³å¯ã€‚ GitHub Gitee Coding Bitbucket GitLab ","date":"2018-01-27","objectID":"/2018/01/27/git-multiple-accounts/:1:1","tags":["Git"],"title":"Git ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªè´¦å·","uri":"/2018/01/27/git-multiple-accounts/"},{"categories":["Git"],"content":"å–æ¶ˆå…¨å±€è®¾ç½®çš„ç”¨æˆ·åå’Œé‚®ç®± // å–æ¶ˆå…¨å±€ç”¨æˆ·åå’Œé‚®ç®± $ git config --global --unset user.name $ git config --global --unset user.email ","date":"2018-01-27","objectID":"/2018/01/27/git-multiple-accounts/:1:2","tags":["Git"],"title":"Git ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªè´¦å·","uri":"/2018/01/27/git-multiple-accounts/"},{"categories":["Git"],"content":"SSH é…ç½® ","date":"2018-01-27","objectID":"/2018/01/27/git-multiple-accounts/:2:0","tags":["Git"],"title":"Git ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªè´¦å·","uri":"/2018/01/27/git-multiple-accounts/"},{"categories":["Git"],"content":"ç”Ÿæˆç§é’¥å’Œå…¬é’¥ å¦‚æœç”¨æˆ·å®¶ç›®å½•ä¸‹æ²¡æœ‰ .ssh ç›®å½•ï¼Œè¯·è‡ªè¡Œåˆ›å»º ç”±äºæˆ‘æ³¨å†Œå¤šå®¶å¹³å°çš„ git è´¦å·ï¼Œæ‰€ä»¥å¯¹å…¶è¿›è¡Œäº†ä¸€ä¸ªæ–‡ä»¶ç›®å½•åˆ†ç±» $ mkdir -pv ~/.ssh/github # gitee|coding|bitbucket|gitlab $ ssh-keygen -t rsa -C \"myfirst@gmail.com\" # åœ¨å›è½¦æç¤ºä¸­è¾“å…¥å®Œæ•´è·¯å¾„ï¼Œå¦‚ï¼š/path/to/user/.ssh/github/id_myfirst_rsa Generating public/private rsa key pair. Enter file in which to save the key (/path/to/user/.ssh/id_rsa):/path/to/user/.ssh/github/id_myfirst_rsa $ ssh-keygen -t rsa -C \"mysecond@gmail.com\" # åœ¨å›è½¦æç¤ºä¸­è¾“å…¥å®Œæ•´è·¯å¾„ï¼Œå¦‚ï¼š/path/to/user/.ssh/github/id_mysecond_rsa Generating public/private rsa key pair. Enter file in which to save the key (/path/to/user/.ssh/id_rsa):/path/to/user/.ssh/github/id_mysecond_rsa åˆ†åˆ«é…ç½®ä¸¤ä¸ªè´¦å·çš„ SSH and GPG keys åœ¨ Settings æ§åˆ¶é¢æ¿ä¸­æ‰¾åˆ° SSH and GPG keysï¼Œç‚¹å‡» New SSH Key è¿›è¡Œæ·»åŠ ï¼ŒTitle è¯·è‡ªè¡Œå†³å®šã€‚ ","date":"2018-01-27","objectID":"/2018/01/27/git-multiple-accounts/:2:1","tags":["Git"],"title":"Git ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªè´¦å·","uri":"/2018/01/27/git-multiple-accounts/"},{"categories":["Git"],"content":"å°†å¯†é’¥æ·»åŠ åˆ° ssh-agent çš„ä¼šè¯ä¸­ å¦‚æœæ‰§è¡Œ ssh-add æ—¶æ˜¾ç¤ºé”™è¯¯ Could not open a connection to your authentication agent. é‚£ä¹ˆæ‰§è¡Œ eval ssh-agent -sã€‚ $ ssh-add -K ~/.ssh/github/id_myfirst_rsa Identity added: /path/to/.ssh/github/id_myfirst_rsa (/path/to/.ssh/github/id_myfirst_rsa) $ ssh-add -K ~/.ssh/github/id_mysecond_rsa Identity added: /path/to/.ssh/github/id_mysecond_rsa (/path/to/.ssh/github/id_mysecond_rsa) ","date":"2018-01-27","objectID":"/2018/01/27/git-multiple-accounts/:2:2","tags":["Git"],"title":"Git ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªè´¦å·","uri":"/2018/01/27/git-multiple-accounts/"},{"categories":["Git"],"content":"æŸ¥çœ‹ ssh key çš„è®¾ç½® $ ssh-add -l 2048 SHA256:ai3jRoAfkqgB2LYtJuQR8QZN1F5XXXXXXXXXXXXXXXX /path/to/.ssh/github/id_myfirst_rsa (RSA) 2048 SHA256:AL2jRoAfkqgB2LYtJuQR8QZN1F5XXXXXXXXXXXXXXXX /path/to/.ssh/github/id_mysecond_rsa (RSA) ","date":"2018-01-27","objectID":"/2018/01/27/git-multiple-accounts/:2:3","tags":["Git"],"title":"Git ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªè´¦å·","uri":"/2018/01/27/git-multiple-accounts/"},{"categories":["Git"],"content":"ä¿®æ”¹ ssh config æ–‡ä»¶ $ vim ~/.ssh/config Host * KexAlgorithms +diffie-hellman-group1-sha1 # default: myfirst Host github.com HostName github.com User myfirst PreferredAuthentications publickey IdentityFile ~/.ssh/github/id_myfirst_rsa # mysecond Host mysecond.github.com HostName github.com User mysecond PreferredAuthentications publickey IdentityFile ~/.ssh/github/id_mysecond_rsa ","date":"2018-01-27","objectID":"/2018/01/27/git-multiple-accounts/:2:4","tags":["Git"],"title":"Git ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªè´¦å·","uri":"/2018/01/27/git-multiple-accounts/"},{"categories":["Git"],"content":"æµ‹è¯•è¿é€šæ€§ mysecond.github.com éœ€è¦é…ç½® GitHub çš„ Hostã€‚ // æµ‹è¯•é»˜è®¤ç”¨æˆ· myfirst çš„è¿æ¥æ€§ $ ssh -T git@github.com Hi myfirst! You\\'ve successfully authenticated, but GitHub does not provide shell access. // æµ‹è¯•å¦ä¸€ä¸ªç”¨æˆ· mysecond çš„è¿æ¥æ€§ $ ssh -T git@mysecond.github.com Hi mysecond! You\\'ve successfully authenticated, but GitHub does not provide shell access. ","date":"2018-01-27","objectID":"/2018/01/27/git-multiple-accounts/:2:5","tags":["Git"],"title":"Git ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªè´¦å·","uri":"/2018/01/27/git-multiple-accounts/"},{"categories":["Git"],"content":"é¡¹ç›®æµ‹è¯• ","date":"2018-01-27","objectID":"/2018/01/27/git-multiple-accounts/:3:0","tags":["Git"],"title":"Git ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªè´¦å·","uri":"/2018/01/27/git-multiple-accounts/"},{"categories":["Git"],"content":"åˆ›å»ºä¸¤ä¸ªé¡¹ç›®ç›®å½• $ cd ~/ \u0026\u0026 mkdir -pv {a,b} ","date":"2018-01-27","objectID":"/2018/01/27/git-multiple-accounts/:3:1","tags":["Git"],"title":"Git ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªè´¦å·","uri":"/2018/01/27/git-multiple-accounts/"},{"categories":["Git"],"content":"åˆå§‹åŒ–é¡¹ç›® a $ cd ~/a $ git init $ echo \"myfirst\" \u003e README.md $ git add README.md $ git config user.name \"myfirst\" $ git config user.email \"myfirst@gmail.com\" $ git remote add github git@github.com:myfirst/test.git $ git push -u github master Counting objects: 3, done. Writing objects: 100% (3/3), 213 bytes | 213.00 KiB/s, done. Total 3 (delta 0), reused 0 (delta 0) To github.com:myfirst/test.git * [new branch] master -\u003e master Branch master set up to track remote branch master from github. ","date":"2018-01-27","objectID":"/2018/01/27/git-multiple-accounts/:3:2","tags":["Git"],"title":"Git ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªè´¦å·","uri":"/2018/01/27/git-multiple-accounts/"},{"categories":["Git"],"content":"åˆå§‹åŒ–é¡¹ç›® b $ cd ~/b $ git init $ echo \"mysecond\" \u003e README.md $ git add README.md $ git config user.name \"mysecond\" $ git config user.email \"mysecond@gmail.com\" $ git remote add github git@mysecond.github.com:mysecond/test.git $ git push -u github master Counting objects: 3, done. Writing objects: 100% (3/3), 218 bytes | 218.00 KiB/s, done. Total 3 (delta 0), reused 0 (delta 0) To mysecond.github.com:mysecond/test.git * [new branch] master -\u003e master Branch master set up to track remote branch master from github. ","date":"2018-01-27","objectID":"/2018/01/27/git-multiple-accounts/:3:3","tags":["Git"],"title":"Git ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªè´¦å·","uri":"/2018/01/27/git-multiple-accounts/"},{"categories":["Mac"],"content":"å®˜æ–¹çš„è¯´æ³•æ˜¯ macOS ç¼ºå¤±çš„è½¯ä»¶åŒ…ç®¡ç†å™¨ï¼Œä¸ªäººè®¤ä¸ºè¿™ä¹Ÿè®¸æ˜¯ macOS ä¸Šæœ€å¥½çš„åŒ…ç®¡ç†å™¨ã€‚ ","date":"2018-01-26","objectID":"/2018/01/26/mac-homebrew/:0:0","tags":["Mac"],"title":"Mac ç¼ºå¤±çš„åŒ…ç®¡ç† Homebrew","uri":"/2018/01/26/mac-homebrew/"},{"categories":["Mac"],"content":"ç®€ä»‹ Homebrew Website Homebrew Github Homebrew Documentation The missing package manager for macOS. ","date":"2018-01-26","objectID":"/2018/01/26/mac-homebrew/:1:0","tags":["Mac"],"title":"Mac ç¼ºå¤±çš„åŒ…ç®¡ç† Homebrew","uri":"/2018/01/26/mac-homebrew/"},{"categories":["Mac"],"content":"å®‰è£… $ /usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\" ","date":"2018-01-26","objectID":"/2018/01/26/mac-homebrew/:2:0","tags":["Mac"],"title":"Mac ç¼ºå¤±çš„åŒ…ç®¡ç† Homebrew","uri":"/2018/01/26/mac-homebrew/"},{"categories":["Mac"],"content":"å¸è½½ $ ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/uninstall)\" å½“ç„¶ä¹Ÿå¯ä»¥ä¸‹è½½ å¸è½½è„šæœ¬ï¼Œç„¶åè¿è¡Œ ./uninstall --help å»æŸ¥çœ‹æ›´å¤šå¸è½½é€‰é¡¹ã€‚ ","date":"2018-01-26","objectID":"/2018/01/26/mac-homebrew/:3:0","tags":["Mac"],"title":"Mac ç¼ºå¤±çš„åŒ…ç®¡ç† Homebrew","uri":"/2018/01/26/mac-homebrew/"},{"categories":["Mac"],"content":"æ›´æ–°å…¬å¼ brew update ","date":"2018-01-26","objectID":"/2018/01/26/mac-homebrew/:4:0","tags":["Mac"],"title":"Mac ç¼ºå¤±çš„åŒ…ç®¡ç† Homebrew","uri":"/2018/01/26/mac-homebrew/"},{"categories":["Mac"],"content":"å…¶å®ƒæ“ä½œ ","date":"2018-01-26","objectID":"/2018/01/26/mac-homebrew/:5:0","tags":["Mac"],"title":"Mac ç¼ºå¤±çš„åŒ…ç®¡ç† Homebrew","uri":"/2018/01/26/mac-homebrew/"},{"categories":["Mac"],"content":"æŸ¥æ‰¾è¿‡æœŸçš„åŒ… $ brew outdated ","date":"2018-01-26","objectID":"/2018/01/26/mac-homebrew/:5:1","tags":["Mac"],"title":"Mac ç¼ºå¤±çš„åŒ…ç®¡ç† Homebrew","uri":"/2018/01/26/mac-homebrew/"},{"categories":["Mac"],"content":"å‡çº§åŒ… // å‡çº§æ‰€æœ‰çš„åŒ… $ brew upgrade or // å‡çº§æŒ‡å®šçš„åŒ… $ brew upgrade \u003cformula\u003e ","date":"2018-01-26","objectID":"/2018/01/26/mac-homebrew/:5:2","tags":["Mac"],"title":"Mac ç¼ºå¤±çš„åŒ…ç®¡ç† Homebrew","uri":"/2018/01/26/mac-homebrew/"},{"categories":["Mac"],"content":"å®‰è£…æŸä¸ªåŒ… $ brew install \u003cformula\u003e ","date":"2018-01-26","objectID":"/2018/01/26/mac-homebrew/:5:3","tags":["Mac"],"title":"Mac ç¼ºå¤±çš„åŒ…ç®¡ç† Homebrew","uri":"/2018/01/26/mac-homebrew/"},{"categories":["Mac"],"content":"å¸è½½æŸä¸ªåŒ… $ brew uninstall \u003cformula\u003e ","date":"2018-01-26","objectID":"/2018/01/26/mac-homebrew/:5:4","tags":["Mac"],"title":"Mac ç¼ºå¤±çš„åŒ…ç®¡ç† Homebrew","uri":"/2018/01/26/mac-homebrew/"},{"categories":["Mac"],"content":"æ¸…ç† By default, Homebrew does not uninstall old versions of a formula, so over time you will accumulate old versions. // æ¸…ç†æŒ‡å®šçš„åŒ… $ brew cleanup \u003cformula\u003e or // æ¸…é™æ‰€æœ‰çš„åŒ… $ brew cleanup ","date":"2018-01-26","objectID":"/2018/01/26/mac-homebrew/:5:5","tags":["Mac"],"title":"Mac ç¼ºå¤±çš„åŒ…ç®¡ç† Homebrew","uri":"/2018/01/26/mac-homebrew/"},{"categories":["Mac"],"content":"ç ´åçš„é“¾æ¥æ¸…é™¤ $ brew prune ","date":"2018-01-26","objectID":"/2018/01/26/mac-homebrew/:5:6","tags":["Mac"],"title":"Mac ç¼ºå¤±çš„åŒ…ç®¡ç† Homebrew","uri":"/2018/01/26/mac-homebrew/"},{"categories":["Mac"],"content":"å¿«é€Ÿé¢„è§ˆæ–‡ä»¶å†…å®¹æ’ä»¶ Quick Look plugins $ brew cask install qlcolorcode qlstephen qlmarkdown quicklook-json qlprettypatch quicklook-csv betterzipql qlimagesize webpquicklook suspicious-package ","date":"2018-01-26","objectID":"/2018/01/26/mac-homebrew/:5:7","tags":["Mac"],"title":"Mac ç¼ºå¤±çš„åŒ…ç®¡ç† Homebrew","uri":"/2018/01/26/mac-homebrew/"},{"categories":["Mac"],"content":"ä¸èƒ½æ›´æ–°çš„é—®é¢˜ Cannot â€œbrew updateâ€ anymore fails to git pull formulas $ cd `brew --prefix` $ git remote add origin https://github.com/mxcl/homebrew.git $ git fetch origin $ git reset --hard origin/master ","date":"2018-01-26","objectID":"/2018/01/26/mac-homebrew/:5:8","tags":["Mac"],"title":"Mac ç¼ºå¤±çš„åŒ…ç®¡ç† Homebrew","uri":"/2018/01/26/mac-homebrew/"},{"categories":["Git"],"content":"åˆ†æ”¯å‡ ä¹æ˜¯ Git çš„å¿…æ€æŠ€ï¼Œå€’ä¸æ˜¯è¯´å…¶ä»–çš„ç‰ˆæœ¬æ§åˆ¶æ²¡æœ‰åˆ†æ”¯è¿™ä¸ªç‰¹æ€§ï¼Œè€Œæ˜¯ Git åˆ†æ”¯æ—©å·²æŠŠå…¶å®ƒçš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿåˆ†æ”¯åŠŸèƒ½ç”©äº†å¥½å‡ æ¡è¡—ã€‚è¿™ä¹ˆè¯´ä¸æ˜¯å¤¸å¼ ï¼Œå› ä¸º Git çš„å®ç°ä¸é¡¹ç›®å¤æ‚åº¦æ— å…³ï¼Œå®ƒæ°¸è¿œå¯ä»¥åœ¨å‡ æ¯«ç§’çš„æ—¶é—´å†…å®Œæˆåˆ†æ”¯çš„åˆ›å»ºå’Œåˆ‡æ¢ã€‚åŒæ—¶ï¼Œå› ä¸ºæ¯æ¬¡æäº¤æ—¶éƒ½è®°å½•äº†ç¥–å…ˆä¿¡æ¯ï¼Œå°†æ¥è¦åˆå¹¶åˆ†æ”¯æ—¶ï¼Œå¯»æ‰¾æ°å½“çš„åˆå¹¶åŸºç¡€çš„å·¥ä½œå…¶å®å·²ç»å¾ˆæ˜¾ç„¶çš„æ‘†åœ¨é‚£é‡Œï¼Œæ‰€ä»¥å®ç°èµ·æ¥éå¸¸å®¹æ˜“ã€‚Git é¼“åŠ±å¼€å‘è€…é¢‘ç¹ä½¿ç”¨åˆ†æ”¯ï¼Œæ­£æ˜¯ä»—ç€è¿™äº›ç‰¹æ€§ä½œä¿éšœã€‚ Git èµ·æ­¥ Git åŸºæœ¬æ“ä½œ Git æŸ¥çœ‹æ—¥å¿— Git åˆ†æ”¯ Git ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªè´¦å· Git Workflow Git å‘½ä»¤å¤§å…¨ æœ¬åœ°åˆ†æ”¯ ","date":"2018-01-25","objectID":"/2018/01/25/git-branch/:0:0","tags":["Git"],"title":"Git åˆ†æ”¯","uri":"/2018/01/25/git-branch/"},{"categories":["Git"],"content":"åˆ›å»ºåˆ†æ”¯ // åˆ›å»ºä¸€ä¸ªåç§°ä¸º develop çš„åˆ†æ”¯ $ git checkout -b develop Switched to a new branch 'develop' ç­‰ä»·äº $ git branch develop $ git checkout develop ","date":"2018-01-25","objectID":"/2018/01/25/git-branch/:1:0","tags":["Git"],"title":"Git åˆ†æ”¯","uri":"/2018/01/25/git-branch/"},{"categories":["Git"],"content":"åˆ é™¤åˆ†æ”¯ // åˆ é™¤ä¸€ä¸ªå·²ç»æœ‰æäº¤è®°å½•ä½†è¿˜æ²¡æœ‰åˆå¹¶åˆ° master çš„åˆ†æ”¯ $ git branch -d develop error: The branch 'develop' is not fully merged. If you are sure you want to delete it, run 'git branch -D develop'. // ç¡®å®šä¸åˆå¹¶ develop åˆ†æ”¯çš„ä»»ä½•æäº¤å¹¶åˆ é™¤æ­¤åˆ†æ”¯ $ git branch -D develop Deleted branch develop (was 833b688). ","date":"2018-01-25","objectID":"/2018/01/25/git-branch/:2:0","tags":["Git"],"title":"Git åˆ†æ”¯","uri":"/2018/01/25/git-branch/"},{"categories":["Git"],"content":"æŸ¥çœ‹åˆ†æ”¯ // æŸ¥çœ‹åˆ†æ”¯åˆ—è¡¨ $ git branch * develop feature master // æŸ¥çœ‹æ¯ä¸€ä¸ªåˆ†æ”¯çš„æœ€åä¸€æ¬¡æäº¤ $ git branch -v * develop 9ad35ee Add index.js feature 992122d Add .editorconfig master 23a0a9e Rename index.php to index.html // æŸ¥çœ‹å“ªäº›åˆ†æ”¯å·²ç»åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ $ git branch --merged develop * master // æŸ¥çœ‹æ‰€æœ‰åŒ…å«æœªåˆå¹¶å·¥ä½œçš„åˆ†æ”¯ $ git branch --no-merged feature ","date":"2018-01-25","objectID":"/2018/01/25/git-branch/:3:0","tags":["Git"],"title":"Git åˆ†æ”¯","uri":"/2018/01/25/git-branch/"},{"categories":["Git"],"content":"åˆå¹¶åˆ†æ”¯ $ git checkout master $ git merge --no-ff develop Merge made by the 'recursive' strategy. README.md | 1 + 1 file changed, 1 insertion(+) ","date":"2018-01-25","objectID":"/2018/01/25/git-branch/:4:0","tags":["Git"],"title":"Git åˆ†æ”¯","uri":"/2018/01/25/git-branch/"},{"categories":["Git"],"content":"åˆ†æ”¯å˜åŸº // åˆ‡æ¢åˆ°è¦å˜åŸºçš„åˆ†æ”¯ $ git checkout feature Switched to branch 'feature' // è¿›è¡Œå˜åŸº $ git rebase master $ git rebase master First, rewinding head to replay your work on top of it... Applying: Add .editorconfig Applying: Add releases link Using index info to reconstruct a base tree... M README.md Falling back to patching base and 3-way merge... Auto-merging README.md CONFLICT (content): Merge conflict in README.md error: Failed to merge in the changes. Patch failed at 0002 Add releases link Use 'git am --show-current-patch' to see the failed patch Resolve all conflicts manually, mark them as resolved with \"git add/rm \u003cconflicted_files\u003e\", then run \"git rebase --continue\". You can instead skip this commit: run \"git rebase --skip\". To abort and get back to the state before \"git rebase\", run \"git rebase --abort\". // æŸ¥çœ‹å½“å‰çš„è¡¥ä¸ $ git am --show-current-patch commit 15539736e18fe133f5916a55e8f38ce7b734113a (feature) Author: imajinyun \u003cimajinyun@gmail.com\u003e Date: Mon Dec 31 21:24:59 2018 +0800 Add releases link diff --git a/README.md b/README.md index d467b4f..8ec2025 100644 --- a/README.md +++ b/README.md @@ -2,3 +2,4 @@ [2]: https://symfony.com/projects [3]: https://symfony.com/doc/current/reference/requirements.html [4]: https://symfony.com/doc/current/setup.html +[5]: https://symfony.com/doc/current/contributing/community/releases.html // è§£å†³å†²çªå®Œæˆå˜åŸº $ vim README.md å†²çªçš„æ–‡ä»¶å†…å®¹ï¼š [1]: https://symfony.com [2]: https://symfony.com/projects [3]: https://symfony.com/doc/current/reference/requirements.html [4]: https://symfony.com/doc/current/setup.html \u003c\u003c\u003c\u003c\u003c\u003c\u003c HEAD [5]: http://semver.org ======= [5]: https://symfony.com/doc/current/contributing/community/releases.html \u003e\u003e\u003e\u003e\u003e\u003e\u003e Add releases link ä¿®å¤åçš„æ–‡ä»¶å†…å®¹ï¼š [1]: https://symfony.com [2]: https://symfony.com/projects [3]: https://symfony.com/doc/current/reference/requirements.html [4]: https://symfony.com/doc/current/setup.html [5]: http://semver.org [6]: https://symfony.com/doc/current/contributing/community/releases.html // æŸ¥çœ‹ä»“åº“çŠ¶æ€ $ git status rebase in progress; onto 4830059 You are currently rebasing branch 'feature' on '4830059'. (fix conflicts and then run \"git rebase --continue\") (use \"git rebase --skip\" to skip this patch) (use \"git rebase --abort\" to check out the original branch) Unmerged paths: (use \"git reset HEAD \u003cfile\u003e...\" to unstage) (use \"git add \u003cfile\u003e...\" to mark resolution) both modified: README.md no changes added to commit (use \"git add\" and/or \"git commit -a\") $ git add README.md $ git rebase --continue Applying: Add releases link // åˆå¹¶æ­¤åˆ†æ”¯ä»£ç åˆ° master åˆ†æ”¯ $ git checkout master $ git merge --no-ff feature Merge made by the 'recursive' strategy. .editorconfig | 0 README.md | 1 + 2 files changed, 1 insertion(+) create mode 100644 .editorconfig // å˜åŸºåçš„å†å²è®°å½•ï¼Œå¯ä»¥çœ‹åˆ°å˜åŸºä½¿å¾—æäº¤å†å²æ›´åŠ æ•´æ´ï¼Œæ—¥å¿—å°±åƒæ˜¯ä¸²è¡Œä¸€æ · $ git log --oneline --graph * f686948 (HEAD -\u003e master) Merge branch 'feature' to master |\\ | * 78a6bfc (feature) Add releases link | * 34f8649 Add .editorconfig |/ * 4830059 (develop) Merge branch 'develop' to master |\\ | * 04a75c1 Add semver link * | 3bdd3fc Merge branch 'develop' to master |\\ \\ | |/ | * d48ea11 Add setup link |/ * 3513802 Merge branch 'develop' to master |\\ | * 9ad35ee Add index.js | * 0bc04c2 Add index.css |/ * 23a0a9e Rename index.php to index.html * da3c74c Add index.php * 7778db8 Add projects and requirements link * facc111 Add symfony website link * a384a2b Add README.md å…¶å®ƒæ“ä½œ ","date":"2018-01-25","objectID":"/2018/01/25/git-branch/:5:0","tags":["Git"],"title":"Git åˆ†æ”¯","uri":"/2018/01/25/git-branch/"},{"categories":["Git"],"content":"æ•´åˆè¿ç»­å¤šæ¬¡æäº¤ // æŸ¥çœ‹æäº¤æ—¥å¿— $ git log --oneline --graph --all * f686948 (HEAD -\u003e master) Merge branch 'feature' to master |\\ | * 78a6bfc (feature) Add releases link | * 34f8649 Add .editorconfig |/ * 4830059 (develop) Merge branch 'develop' to master |\\ | * 04a75c1 Add semver link * | 3bdd3fc Merge branch 'develop' to master |\\ \\ | |/ | * d48ea11 Add setup link |/ * 3513802 Merge branch 'develop' to master |\\ | * 9ad35ee Add index.js | * 0bc04c2 Add index.css |/ * 23a0a9e Rename index.php to index.html * da3c74c Add index.php * 7778db8 Add projects and requirements link * facc111 Add symfony website link * a384a2b Add README.md // æ•´åˆæœ€è¿‘æäº¤çš„ 2 æ¬¡è®°å½•ï¼Œcommit-id ä½¿ç”¨ç¬¬äºŒæ¬¡ä¹‹å‰çš„ $ git rebase -i 4830059 å¼¹å‡ºçš„ç¼–è¾‘ç•Œé¢å†…å®¹ä¸ºï¼š pick 34f8649 Add .editorconfig s 78a6bfc Add releases link # ä¿®æ”¹ pick ä¸º squash æˆ–è€… s # Rebase 4830059..f686948 onto 4830059 (2 commands) # # Commands: # p, pick = use commit # r, reword = use commit, but edit the commit message # e, edit = use commit, but stop for amending # s, squash = use commit, but meld into previous commit # f, fixup = like \"squash\", but discard this commit's log message # x, exec = run command (the rest of the line) using shell # d, drop = remove commit # # These lines can be re-ordered; they are executed from top to bottom. # # If you remove a line here THAT COMMIT WILL BE LOST. # # However, if you remove everything, the rebase will be aborted. # # Note that empty commits are commented out ä¿å­˜åä¼šå¼¹å‡ºå¦ä¸€ä¸ªç¼–è¾‘ç•Œé¢ï¼Œå†…å®¹ä¸ºï¼š # This is a combination of 2 commits. Integrating submission logs # æ·»åŠ æœ¬æ¬¡çš„æäº¤æ—¥å¿—ä¿¡æ¯ # This is the 1st commit message: Add .editorconfig # This is the commit message #2: Add releases link # Please enter the commit message for your changes. Lines starting # with '#' will be ignored, and an empty message aborts the commit. # # Date: Mon Dec 31 20:39:09 2018 +0800 # # interactive rebase in progress; onto 4830059 # Last commands done (2 commands done): # pick 34f8649 Add .editorconfig # squash 78a6bfc Add releases link # No commands remaining. # You are currently rebasing branch 'master' on '4830059'. # # Changes to be committed: # new file: .editorconfig # modified: README.md # [detached HEAD f9fa04a] Integrating submission logs Date: Mon Dec 31 20:39:09 2018 +0800 2 files changed, 1 insertion(+) create mode 100644 .editorconfig Successfully rebased and updated refs/heads/master. // æŸ¥çœ‹æäº¤æ—¥å¿— * f9fa04a (HEAD -\u003e master) Integrating submission logs * 4830059 (develop) Merge branch 'develop' to master |\\ | * 04a75c1 Add semver link * | 3bdd3fc Merge branch 'develop' to master |\\ \\ | |/ | * d48ea11 Add setup link |/ * 3513802 Merge branch 'develop' to master |\\ | * 9ad35ee Add index.js | * 0bc04c2 Add index.css |/ * 23a0a9e Rename index.php to index.html * da3c74c Add index.php * 7778db8 Add projects and requirements link * facc111 Add symfony website link * a384a2b Add README.md ","date":"2018-01-25","objectID":"/2018/01/25/git-branch/:6:0","tags":["Git"],"title":"Git åˆ†æ”¯","uri":"/2018/01/25/git-branch/"},{"categories":["Git"],"content":"æ•´åˆé—´æ­‡å¤šæ¬¡æäº¤ $ git log --oneline --graph * f9fa04a (HEAD -\u003e master) Integrating submission logs * 4830059 (develop) Merge branch 'develop' to master |\\ | * 04a75c1 Add semver link * | 3bdd3fc Merge branch 'develop' to master |\\ \\ | |/ | * d48ea11 Add setup link |/ * 3513802 Merge branch 'develop' to master |\\ | * 9ad35ee Add index.js | * 0bc04c2 Add index.css |/ * 23a0a9e Rename index.php to index.html * da3c74c Add index.php * 7778db8 Add projects and requirements link * facc111 Add symfony website link * a384a2b Add README.md // å˜åŸº $ git rebase -i 23a0a9e å¼¹å‡ºçš„ç¼–è¾‘ç•Œé¢å†…å®¹ä¸ºï¼š pick 23a0a9e s 0bc04c2 Add index.css # ä¿®æ”¹ pick ä¸º squash æˆ– s s 9ad35ee Add index.js # ä¿®æ”¹ pick ä¸º squash æˆ– s s d48ea11 Add setup link # ä¿®æ”¹ pick ä¸º squash æˆ– s s 04a75c1 Add semver link # ä¿®æ”¹ pick ä¸º squash æˆ– s pick f9fa04a Integrating submission logs # Rebase 23a0a9e..f9fa04a onto 23a0a9e (5 commands) # # Commands: # p, pick = use commit # r, reword = use commit, but edit the commit message # e, edit = use commit, but stop for amending # s, squash = use commit, but meld into previous commit # f, fixup = like \"squash\", but discard this commit's log message # x, exec = run command (the rest of the line) using shell # d, drop = remove commit # # These lines can be re-ordered; they are executed from top to bottom. # # If you remove a line here THAT COMMIT WILL BE LOST. # # However, if you remove everything, the rebase will be aborted. # # Note that empty commits are commented out æ­£å¸¸æƒ…å†µä¸‹ä¼šæç¤ºæˆåŠŸï¼Œå¦åˆ™ä¼šå‡ºç°å¦‚ä¸‹æƒ…å†µï¼š The previous cherry-pick is now empty, possibly due to conflict resolution. If you wish to commit it anyway, use: git commit --allow-empty Otherwise, please use 'git reset' interactive rebase in progress; onto 23a0a9e Last command done (1 command done): pick 23a0a9e Add links and static file Next commands to do (5 remaining commands): squash 0bc04c2 Add index.css squash 9ad35ee Add index.js You are currently rebasing branch 'master' on '23a0a9e'. nothing to commit, working tree clean Could not apply 23a0a9e... Add links and static file // æŸ¥çœ‹çŠ¶æ€ $ git status interactive rebase in progress; onto 23a0a9e Last command done (1 command done): pick 23a0a9e Next commands to do (8 remaining commands): squash 04a75c1 Add semver link squash d48ea11 Add setup link squash 9ad35ee Add index.js squash 0bc04c2 Add index.css (use \"git rebase --edit-todo\" to view and edit) You are currently editing a commit while rebasing branch 'master' on '23a0a9e'. (use \"git commit --amend\" to amend the current commit) (use \"git rebase --continue\" once you are satisfied with your changes) nothing to commit, working tree clean // ç»§ç»­å˜åŸº $ git rebase --continue ç»§ç»­åå¼¹å‡ºçš„ç¼–è¾‘ç•Œé¢å†…å®¹ï¼š # This is a combination of 5 commits. Add links and static file # æ·»åŠ ä¸€è¡Œæ—¥å¿—ä¿¡æ¯ # This is the 1st commit message: Rename index.php to index.html # This is the commit message #2: Add index.css # This is the commit message #3: Add index.js # This is the commit message #4: Add setup link # This is the commit message #5: Add semver link # Please enter the commit message for your changes. Lines starting # with '#' will be ignored, and an empty message aborts the commit. # # Date: Mon Dec 31 20:05:25 2018 +0800 # # interactive rebase in progress; onto 23a0a9e # Last commands done (5 commands done): # squash d48ea11 Add setup link # squash 04a75c1 Add semver link # Next command to do (1 remaining command): # pick f9fa04a Integrating submission logs # You are currently rebasing branch 'master' on '23a0a9e'. # # Changes to be committed: # modified: README.md # renamed: index.php -\u003e index.css # new file: index.html # new file: index.js # [detached HEAD 688088f] Add links and static file Date: Mon Dec 31 20:05:25 2018 +0800 4 files changed, 2 insertions(+) rename index.php =\u003e index.css (100%) create mode 100644 index.html create mode 100644 index.js Successfully rebased and updated refs/heads/master. // æŸ¥çœ‹æ—¥å¿—ä¿¡æ¯ $ git log --oneline --graph * fe3b3cf (HEAD -\u003e master) Integrating submission logs * 688088f Add links and static file * da3c74c Add index.php * 7778db8 ","date":"2018-01-25","objectID":"/2018/01/25/git-branch/:7:0","tags":["Git"],"title":"Git åˆ†æ”¯","uri":"/2018/01/25/git-branch/"},{"categories":["Git"],"content":"åœ¨æäº¤äº†è‹¥å¹²æ›´æ–°ä¹‹åï¼Œåˆæˆ–è€…å…‹éš†äº†æŸä¸ªé¡¹ç›®ï¼Œæƒ³å›é¡¾ä¸‹æäº¤å†å²ï¼Œå¯ä»¥ä½¿ç”¨ git log å‘½ä»¤æŸ¥çœ‹ã€‚ Git èµ·æ­¥ Git åŸºæœ¬æ“ä½œ Git æŸ¥çœ‹æ—¥å¿— Git åˆ†æ”¯ Git ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªè´¦å· Git Workflow Git å‘½ä»¤å¤§å…¨ ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:0:0","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"å¸¸ç”¨é€‰é¡¹ é€‰é¡¹ è¯´æ˜ -p æŒ‰è¡¥ä¸æ ¼å¼æ˜¾ç¤ºæ¯ä¸ªæ›´æ–°ä¹‹é—´çš„å·®å¼‚ --word-diff æŒ‰ word diff æ ¼å¼æ˜¾ç¤ºå·®å¼‚ --stat æ˜¾ç¤ºæ¯æ¬¡æ›´æ–°çš„æ–‡ä»¶ä¿®æ”¹ç»Ÿè®¡ä¿¡æ¯ --shortstat åªæ˜¾ç¤º --stat ä¸­æœ€åçš„è¡Œæ•°ä¿®æ”¹æ·»åŠ ç§»é™¤ç»Ÿè®¡ --name-only ä»…åœ¨æäº¤ä¿¡æ¯åæ˜¾ç¤ºå·²ä¿®æ”¹çš„æ–‡ä»¶æ¸…å• --name-status æ˜¾ç¤ºæ–°å¢ã€ä¿®æ”¹ã€åˆ é™¤çš„æ–‡ä»¶æ¸…å• --abbrev-commit ä»…æ˜¾ç¤º SHA-1 çš„å‰å‡ ä¸ªå­—ç¬¦ï¼Œè€Œéæ‰€æœ‰çš„ 40 ä¸ªå­—ç¬¦ --relative-date ä½¿ç”¨è¾ƒçŸ­çš„ç›¸å¯¹æ—¶é—´æ˜¾ç¤ºï¼ˆæ¯”å¦‚ï¼š2 weeks agoï¼‰ --graph æ˜¾ç¤º ASCII å›¾å½¢è¡¨ç¤ºçš„åˆ†æ”¯åˆå¹¶å†å² --pretty ä½¿ç”¨å…¶ä»–æ ¼å¼æ˜¾ç¤ºå†å²æäº¤ä¿¡æ¯ã€‚å¯ç”¨çš„é€‰é¡¹åŒ…æ‹¬ oneline, short, full, fuller å’Œ formatï¼ˆåè·ŸæŒ‡å®šæ ¼å¼ï¼‰ --oneline --pretty=oneline --abbrev-commit çš„ç®€åŒ–ç”¨æ³• ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:1:0","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"é¡¹ç›®å‡†å¤‡ // æ­¤å¤„ä»¥ vue åšæ¼”ç¤º $ cd ~/Desktop/ $ git clone https://github.com/vuejs/vue.git Cloning into 'vue'... remote: Enumerating objects: 89, done. remote: Counting objects: 100% (89/89), done. remote: Compressing objects: 100% (64/64), done. remote: Total 53631 (delta 38), reused 51 (delta 25), pack-reused 53542 Receiving objects: 100% (53631/53631), 25.20 MiB | 1.76 MiB/s, done. Resolving deltas: 100% (37410/37410), done. $ cd vue ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:2:0","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"æ™®é€šæ ¼å¼æŸ¥çœ‹ ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:3:0","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"æŸ¥çœ‹å½“å‰åˆ†æ”¯çš„æ‰€æœ‰ç®€ç•¥æ—¥å¿— commit 38e967b8067441ff37cb3b923200023a6b842759 (HEAD -\u003e dev, origin/dev, origin/HEAD) Author: Xin Du (Clark) \u003cclark.duxin@gmail.com\u003e Date: Wed Dec 12 16:41:45 2018 +0000 refactor: tiny cleanup changes (#9193) commit af9e2b3f0f4156fd52ed4444b96e2b8c0932c658 Author: Nick Hall \u003ciamssb@gmail.com\u003e Date: Thu Dec 13 01:41:36 2018 +0900 chore: minor comment cleanup (#9191) ... ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:3:1","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯çš„æ‰€æœ‰ç®€ç•¥æ—¥å¿— $ git log --all commit ce35159d6d6e9c3607bd3232e386b5b994d0ec49 (origin/2.6) Author: Evan You \u003cyyx990803@gmail.com\u003e Date: Wed Dec 26 17:22:32 2018 -0500 chore: fix types commit c7c13c2a156269d29fd9c9f8f6a3e53a2f2cac3d Author: Evan You \u003cyyx990803@gmail.com\u003e Date: Wed Dec 26 17:17:30 2018 -0500 fix(scoped-slots): ensure $scopedSlots calls always return Arrays Also allow render functions to return an Array of a single element. Close #8056 commit d747469e1ae26190d364e5cc9c8112d3d865a0b9 Author: Evan You \u003cyyx990803@gmail.com\u003e Date: Wed Dec 26 16:02:50 2018 -0500 test: test case for v-for native collection support ... ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:3:2","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"æŸ¥çœ‹æŸä¸ªæ–‡ä»¶å˜åŠ¨çš„å…·ä½“æ—¥å¿—ä¿¡æ¯ $ git log -- src/core/index.js commit 9b22d86ab315a3c6061a6a4776eab1964304f92e Author: Evan You \u003cyyx990803@gmail.com\u003e Date: Thu Mar 8 09:51:03 2018 -0500 fix: install ssr helpers for functional context during SSR close #7443, ref nuxt/nuxt.js#2565 commit 55816543c46e75aa53481ac95a89ff6f87a2d704 Author: JK \u003cjingkai.zhao@foxmail.com\u003e Date: Thu Jun 29 12:37:03 2017 +0800 fix(ssr): reference error when create $ssrContext for root component (#5981) fix #5941 ... ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:3:3","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"æŸ¥çœ‹æŸä¸ªæ–‡ä»¶å˜åŠ¨çš„å…·ä½“æ—¥å¿—ä¿¡æ¯å’Œæ–‡ä»¶å†…å®¹ $ git log --follow -p -- src/core/index.js commit 9b22d86ab315a3c6061a6a4776eab1964304f92e Author: Evan You \u003cyyx990803@gmail.com\u003e Date: Thu Mar 8 09:51:03 2018 -0500 fix: install ssr helpers for functional context during SSR close #7443, ref nuxt/nuxt.js#2565 diff --git a/src/core/index.js b/src/core/index.js index b2a0cb8c..daf6203b 100644 --- a/src/core/index.js +++ b/src/core/index.js @@ -1,6 +1,7 @@ import Vue from './instance/index' import { initGlobalAPI } from './global-api/index' import { isServerRendering } from 'core/util/env' +import { FunctionalRenderContext } from 'core/vdom/create-functional-component' ... ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:3:4","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"æŸ¥çœ‹æœ€è¿‘ä¸¤æ¬¡æ›´æ–°çš„å†…å®¹å·®å¼‚ $ git log -p -2 commit 38e967b8067441ff37cb3b923200023a6b842759 (HEAD -\u003e dev, origin/dev, origin/HEAD) Author: Xin Du (Clark) \u003cclark.duxin@gmail.com\u003e Date: Wed Dec 12 16:41:45 2018 +0000 refactor: tiny cleanup changes (#9193) diff --git a/src/core/instance/events.js b/src/core/instance/events.js index 8225bdec..bb07a96b 100644 --- a/src/core/instance/events.js +++ b/src/core/instance/events.js @@ -102,16 +102,14 @@ export function eventsMixin (Vue: Class\u003cComponent\u003e) { vm._events[event] = null return vm } - if (fn) { - // specific handler - let cb - let i = cbs.length - while (i--) { - cb = cbs[i] - if (cb === fn || cb.fn === fn) { - cbs.splice(i, 1) - break - } + // specific handler + let cb + let i = cbs.length + while (i--) { + cb = cbs[i] + if (cb === fn || cb.fn === fn) { + cbs.splice(i, 1) + break } } return vm ... ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:3:5","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"æŸ¥çœ‹æœ€è¿‘çš„ä¸‰æ¡çš„ç®€ç•¥æ—¥å¿— $ git log --oneline -n3 38e967b8 (HEAD -\u003e dev, origin/dev, origin/HEAD) refactor: tiny cleanup changes (#9193) af9e2b3f chore: minor comment cleanup (#9191) b06c784b fix(ssr): support rendering comment (#9128) ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:3:6","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"æ˜¾ç¤ºç®€è¦çš„å¢æ”¹è¡Œæ•°ç»Ÿè®¡ $ git log --stat commit 38e967b8067441ff37cb3b923200023a6b842759 (HEAD -\u003e dev, origin/dev, origin/HEAD) Author: Xin Du (Clark) \u003cclark.duxin@gmail.com\u003e Date: Wed Dec 12 16:41:45 2018 +0000 refactor: tiny cleanup changes (#9193) src/core/instance/events.js | 18 ++++++++---------- src/core/util/debug.js | 2 +- src/server/template-renderer/index.js | 2 +- 3 files changed, 10 insertions(+), 12 deletions(-) commit af9e2b3f0f4156fd52ed4444b96e2b8c0932c658 Author: Nick Hall \u003ciamssb@gmail.com\u003e Date: Thu Dec 13 01:41:36 2018 +0900 chore: minor comment cleanup (#9191) src/core/observer/dep.js | 6 +++--- 1 file changed, 3 insertions(+), 3 deletions(-) commit b06c784b81a244e1bc2d028216fcd2ab873730b9 Author: Xin Du (Clark) \u003cclark.duxin@gmail.com\u003e Date: Wed Dec 12 16:41:08 2018 +0000 fix(ssr): support rendering comment (#9128) src/server/optimizing-compiler/codegen.js | 6 +++++- test/unit/modules/server-compiler/compiler-options.spec.js | 13 +++++++++++++ 2 files changed, 18 insertions(+), 1 deletion(-) ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:3:7","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"æ˜¾ç¤ºæœ€åä¸€æ¬¡æäº¤ä¿¡æ¯ $ git log -1 HEAD commit 38e967b8067441ff37cb3b923200023a6b842759 (HEAD -\u003e dev, origin/dev, origin/HEAD) Author: Xin Du (Clark) \u003cclark.duxin@gmail.com\u003e Date: Wed Dec 12 16:41:45 2018 +0000 refactor: tiny cleanup changes (#9193) ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:3:8","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"æŸ¥çœ‹æ–‡ä»¶æ”¹å˜ä¿¡æ¯ $ git log --name-status commit 38e967b8067441ff37cb3b923200023a6b842759 (HEAD -\u003e dev, origin/dev, origin/HEAD) Author: Xin Du (Clark) \u003cclark.duxin@gmail.com\u003e Date: Wed Dec 12 16:41:45 2018 +0000 refactor: tiny cleanup changes (#9193) M src/core/instance/events.js M src/core/util/debug.js M src/server/template-renderer/index.js commit af9e2b3f0f4156fd52ed4444b96e2b8c0932c658 Author: Nick Hall \u003ciamssb@gmail.com\u003e Date: Thu Dec 13 01:41:36 2018 +0900 chore: minor comment cleanup (#9191) M src/core/observer/dep.js commit b06c784b81a244e1bc2d028216fcd2ab873730b9 Author: Xin Du (Clark) \u003cclark.duxin@gmail.com\u003e Date: Wed Dec 12 16:41:08 2018 +0000 fix(ssr): support rendering comment (#9128) M src/server/optimizing-compiler/codegen.js A test/unit/modules/server-compiler/compiler-options.spec.js ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:3:9","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"æŒ‡å®šæ ¼å¼æŸ¥çœ‹ git log --pretty=format å¸¸ç”¨çš„é€‰é¡¹ï¼š é€‰é¡¹ è¯´æ˜ %H æäº¤å¯¹è±¡ï¼ˆcommitï¼‰çš„å®Œæ•´å“ˆå¸Œå­—ä¸² %h æäº¤å¯¹è±¡çš„ç®€çŸ­å“ˆå¸Œå­—ä¸² %T æ ‘å¯¹è±¡ï¼ˆtreeï¼‰çš„å®Œæ•´å“ˆå¸Œå­—ä¸² %t æ ‘å¯¹è±¡çš„ç®€çŸ­å“ˆå¸Œå­—ä¸² %P çˆ¶å¯¹è±¡ï¼ˆparentï¼‰çš„å®Œæ•´å“ˆå¸Œå­—ä¸² %p çˆ¶å¯¹è±¡çš„ç®€çŸ­å“ˆå¸Œå­—ä¸² %an ä½œè€…ï¼ˆauthorï¼‰çš„åå­— %ae ä½œè€…çš„ç”µå­é‚®ä»¶åœ°å€ %ad ä½œè€…ä¿®è®¢æ—¥æœŸï¼ˆå¯ä»¥ç”¨ -date= é€‰é¡¹å®šåˆ¶æ ¼å¼ï¼‰ %ar ä½œè€…ä¿®è®¢æ—¥æœŸï¼ŒæŒ‰å¤šä¹…ä»¥å‰çš„æ–¹å¼æ˜¾ç¤º %cn æäº¤è€…ï¼ˆcommitterï¼‰çš„åå­— %ce æäº¤è€…çš„ç”µå­é‚®ä»¶åœ°å€ %cd æäº¤æ—¥æœŸ %cr æäº¤æ—¥æœŸï¼ŒæŒ‰å¤šä¹…ä»¥å‰çš„æ–¹å¼æ˜¾ç¤º %s æäº¤è¯´æ˜ git log è¾“å‡ºçš„é€‰é¡¹ï¼š é€‰é¡¹ è¯´æ˜ -(n) ä»…æ˜¾ç¤ºæœ€è¿‘çš„ n æ¡æäº¤ --since, --after ä»…æ˜¾ç¤ºæŒ‡å®šæ—¶é—´ä¹‹åçš„æäº¤ --until, --before ä»…æ˜¾ç¤ºæŒ‡å®šæ—¶é—´ä¹‹å‰çš„æäº¤ --author ä»…æ˜¾ç¤ºæŒ‡å®šä½œè€…ç›¸å…³çš„æäº¤ --committer ä»…æ˜¾ç¤ºæŒ‡å®šæäº¤è€…ç›¸å…³çš„æäº¤ --grep ä»…æ˜¾ç¤ºå«æŒ‡å®šå…³é”®å­—çš„æäº¤ -S ä»…æ˜¾ç¤ºæ·»åŠ æˆ–ç§»é™¤äº†æŸä¸ªå…³é”®å­—çš„æäº¤ ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:4:0","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"ç”¨ oneline å°†æ¯ä¸ªæäº¤æ”¾åœ¨ä¸€è¡Œæ˜¾ç¤º è¿™åœ¨æäº¤æ•°å¾ˆå¤§æ—¶éå¸¸æœ‰ç”¨ã€‚å¦å¤–è¿˜æœ‰ shortï¼Œfull å’Œ fuller å¯é€‰ã€‚ $ git log --pretty=oneline 38e967b8067441ff37cb3b923200023a6b842759 (HEAD -\u003e dev, origin/dev, origin/HEAD) refactor: tiny cleanup changes (#9193) af9e2b3f0f4156fd52ed4444b96e2b8c0932c658 chore: minor comment cleanup (#9191) b06c784b81a244e1bc2d028216fcd2ab873730b9 fix(ssr): support rendering comment (#9128) 70754084ec2d84e44effeb8f82efda3397a08b0d (tag: v2.5.21) build: release 2.5.21 ... ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:4:1","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"è‡ªå®šä¹‰æ ¼å¼æŸ¥çœ‹æ—¥å¿— $ git log --pretty=format:\"%h - %an, %ar : %s\" 38e967b8 - Xin Du (Clark), 3 weeks ago : refactor: tiny cleanup changes (#9193) af9e2b3f - Nick Hall, 3 weeks ago : chore: minor comment cleanup (#9191) b06c784b - Xi n Du (Clark), 3 weeks ago : fix(ssr): support rendering comment (#9128) 70754084 - Evan You, 3 weeks ago : build: release 2.5.21 $ git log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)\u003c%an\u003e%Creset' --abbrev-commit * 38e967b8 - (HEAD -\u003e dev, origin/dev, origin/HEAD) refactor: tiny cleanup changes (#9193) (3 weeks ago) \u003cXin Du (Clark)\u003e * af9e2b3f - chore: minor comment cleanup (#9191) (3 weeks ago) \u003cNick Hall\u003e * b06c784b - fix(ssr): support rendering comment (#9128) (3 weeks ago) \u003cXin Du (Clark)\u003e * 70754084 - (tag: v2.5.21) build: release 2.5.21 (3 weeks ago) \u003cEvan You\u003e * b449e17e - build: build 2.5.21 (3 weeks ago) \u003cEvan You\u003e ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:4:2","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"å›¾æ–‡æ ¼å¼æŸ¥çœ‹ $ git log --pretty=oneline --graph --abbrev-commit * 5f737e836e (HEAD -\u003e master, origin/master, origin/HEAD) feature #29613 [VarDumper] Use hyperlinks in CliDescriptor (ogizanagi) |\\ | * e54e21933a [VarDumper] Use hyperlinks in CliDescriptor * | 55113775c0 Merge branch '4.2' |\\ \\ | * | 9ade0a7605 [Cache] fix test * | | 96285882cf Merge branch '4.2' |\\ \\ \\ | |/ / | * | 43dfbe2df9 bug #29648 [Cache] fix Simple\\Psr6Cache proxying of metadata (nicolas-grekas) | |\\ \\ | | * | 02edc9b049 [Cache] fix Simple\\Psr6Cache proxying of metadata | |/ / $ git log --pretty=format:\"%h %s\" --graph * 5f737e836e feature #29613 [VarDumper] Use hyperlinks in CliDescriptor (ogizanagi) |\\ | * e54e21933a [VarDumper] Use hyperlinks in CliDescriptor * | 55113775c0 Merge branch '4.2' |\\ \\ | * | 9ade0a7605 [Cache] fix test * | | 96285882cf Merge branch '4.2' ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:4:3","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"é€šè¿‡ ASCII æ ‘å½¢ç»“æ„æ¥å±•ç¤ºæ‰€æœ‰çš„åˆ†æ”¯ $ git log --graph --oneline --decorate --all * 17d7a5f6 chore: update sponsors | * c8139015 (origin/feat-scoped-slot-passdown) test: add slot test case (#8344) | * bb06c75e feat(core): support passing down scopedSlots with v-bind | | * 636c9b4e (tag: v2.5.17, origin/hotfix) build: release 2.5.17 | | * 7e75b79b build: build 2.5.17 | | * b3c5e642 chore: minor tweaks | | * c28f7929 fix: fix potential xss vulnerability in ssr | |/ |/| * | 25342194 (tag: v2.5.16) build: release 2.5.16 * | 90891709 build: build 2.5.16 * | 62a922e8 fix: fix wrongly matched named slots in functional components | | * 0f4e6a9a (origin/fix-component-insert-order) fix: invoke component node create hooks before insertion | |/ |/| | | * 531cea58 (origin/perf-computed) perf: avoid unnecessary re-renders when computed property value did not change | |/ |/| | | * ca2e6a74 (origin/fix-beforeupdate) fix: beforeUpdate should be called before render and allow state mutation | |/ |/| ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:4:4","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"é™åˆ¶æ ¼å¼è¾“å‡º é€‰é¡¹ è¯´æ˜ -(n) ä»…æ˜¾ç¤ºæœ€è¿‘çš„ n æ¡æäº¤ --since, --after ä»…æ˜¾ç¤ºæŒ‡å®šæ—¶é—´ä¹‹åçš„æäº¤ --until, --before ä»…æ˜¾ç¤ºæŒ‡å®šæ—¶é—´ä¹‹å‰çš„æäº¤ --author ä»…æ˜¾ç¤ºæŒ‡å®šä½œè€…ç›¸å…³çš„æäº¤ --committer ä»…æ˜¾ç¤ºæŒ‡å®šæäº¤è€…ç›¸å…³çš„æäº¤ ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:5:0","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"æ˜¾ç¤ºä¸‰å‘¨ä¹‹åçš„æäº¤ $ git log --after=3.weeks commit 38e967b8067441ff37cb3b923200023a6b842759 (HEAD -\u003e dev, origin/dev, origin/HEAD) Author: Xin Du (Clark) \u003cclark.duxin@gmail.com\u003e Date: Wed Dec 12 16:41:45 2018 +0000 refactor: tiny cleanup changes (#9193) commit af9e2b3f0f4156fd52ed4444b96e2b8c0932c658 Author: Nick Hall \u003ciamssb@gmail.com\u003e Date: Thu Dec 13 01:41:36 2018 +0900 chore: minor comment cleanup (#9191) ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:5:1","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"æ˜¾ç¤ºä¸¤å‘¨ä¹‹å‰çš„æäº¤ $ git log --before=2.weeks commit 38e967b8067441ff37cb3b923200023a6b842759 (HEAD -\u003e dev, origin/dev, origin/HEAD) Author: Xin Du (Clark) \u003cclark.duxin@gmail.com\u003e Date: Wed Dec 12 16:41:45 2018 +0000 refactor: tiny cleanup changes (#9193) commit af9e2b3f0f4156fd52ed4444b96e2b8c0932c658 Author: Nick Hall \u003ciamssb@gmail.com\u003e Date: Thu Dec 13 01:41:36 2018 +0900 chore: minor comment cleanup (#9191) ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:5:2","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"æ˜¾ç¤ºæŒ‡å®šäººæäº¤æ—¥å¿— // æŸ¥çœ‹ 2018 å¹´å…ƒæœˆæœŸé—´ï¼ŒEvan You æäº¤çš„ä½†æœªåˆå¹¶çš„ä½äºé¡¹ç›® ./src ç›®å½•ä¸‹çš„ä»£ç  $ git log --pretty=\"%h - %s\" --author='Evan You' --after=\"2018-12-01\" \\ --before=\"2018-12-31\" --no-merges -- ./src 847e4937 - fix: fix single v-for child optimization 4074104f - perf: skip normalization on single child element v-for 47487607 - fix: fix v-for component with undefined value 0d4b35f5 - fix(vdom): remove unnecessary sameVnode condition 5d721a42 - revert: fix(sfc): avoid deindent when pad option is specified (#7647) 780dac56 - fix(ssr): should not warn for custom directives that do not have ssr implementation 8a2dbf50 - fix(transition-group): fix activeInstance regression f077ed17 - fix(ssr): fix ssr template publicPath generation 1b4a8a0c - fix(compiler): fix codegen for v-for component inside template e4b1b57f - fix(ssr): adjust call stack size defer threshold 530ca1b2 - fix(core): properly handle reused vnodes 097f6229 - fix(core): avoid mutating original children when cloning vnode $ git log --before={2,weeks,ago} --after={2018-11-30} --oneline 38e967b8 (HEAD -\u003e dev, origin/dev, origin/HEAD) refactor: tiny cleanup changes (#9193) af9e2b3f chore: minor comment cleanup (#9191) b06c784b fix(ssr): support rendering comment (#9128) 70754084 (tag: v2.5.21) build: release 2.5.21 b449e17e build: build 2.5.21 ... ","date":"2018-01-24","objectID":"/2018/01/24/git-log/:5:3","tags":["Git"],"title":"Git æŸ¥çœ‹æ—¥å¿—","uri":"/2018/01/24/git-log/"},{"categories":["Git"],"content":"é€šè¿‡ä¸€é¡¿æ“ä½œæ¥ç†Ÿæ‚‰ Git æ˜¯ä¸äºŒæ³•é—¨ã€‚ Git èµ·æ­¥ Git åŸºæœ¬æ“ä½œ Git æŸ¥çœ‹æ—¥å¿— Git åˆ†æ”¯ Git ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªè´¦å· Git Workflow Git å‘½ä»¤å¤§å…¨ åˆ›å»ºä»“åº“ è¯·è‡ªè¡Œå‡†å¤‡å¥½ git ç¯å¢ƒã€‚ ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:0:0","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"åˆ›å»ºæœåŠ¡å™¨è£¸ä»“åº“ git init: å°†å½“å‰çš„ç›®å½•è½¬æ¢æˆä¸€ä¸ª git ä»“åº“ git init \u003cdirectory\u003e: åœ¨æŒ‡å®šç›®å½•åˆ›å»ºä¸€ä¸ªç©ºçš„ git ä»“åº“ git init --bare \u003cproject-name\u003e.git: è£¸åº“å¾€å¾€è¢«åˆ›å»ºç”¨äºä½œä¸ºå¤§å®¶ä¸€èµ·å·¥ä½œçš„å…±äº«åº“ï¼Œæ¯ä¸€ä¸ªäººéƒ½å¯ä»¥å¾€é‡Œé¢ push è‡ªå·±çš„æœ¬åœ°ä¿®æ”¹ã€‚æœåŠ¡å™¨ä¸Š bare åˆ›å»ºçš„ä»“åº“ï¼Œä¸»è¦ç”¨æ¥è¿æ¥ï¼ŒåŒæ­¥ï¼Œåè°ƒã€‚è®°å½•æ¯ä¸ªäººæœ¬åœ°ä»“åº“çš„è®°å½•ï¼Œè€Œä¸å­˜æ”¾é¡¹ç›®æºä»£ç ã€‚è€Œæ¯ä¸ªå¼€å‘äººå‘˜è‡ªå·±ç”µè„‘ä¸Šåˆ†åˆ«æœ‰ä¸ªå°ä»“åº“ï¼Œå­˜æ”¾æºä»£ç åŠè‡ªå·±çš„æ”¹åŠ¨ // ç™»å½•è¿œç¨‹æœåŠ¡å™¨ $ ssh \u003cuser\u003e@\u003chost\u003e // è¿›å…¥æ“ä½œç›®å½• $ cd /path/to/repository // åˆ›å»ºç¥¼ä»“åº“ $ git init --bare \u003cproject-name\u003e.git // é€€å‡ºè¿œç¨‹æœåŠ¡å™¨ï¼Œè¿›å…¥æœ¬åœ°ç»ˆç«¯ $ git init \u003cdirectory\u003e $ touch README.md $ git add README.md $ git commit -m \"Initial commit\" $ git remote add origin \u003cuser\u003e@\u003chost\u003e:/path/to/repository/\u003cproject-name\u003e.git $ git push -u origin master // å…¶å®ƒæˆå‘˜å…‹éš†ä»“åº“ $ git clone \u003cuser\u003e@\u003chost\u003e:/path/to/repository/\u003cproject-name\u003e.git ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:1:0","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"åˆ›å»ºæœ¬åœ°ä»“åº“ ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:2:0","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"åˆå§‹åŒ–æœ¬åœ°ä»“åº“ // åˆ›å»ºæœ¬åœ°ä»“åº“ $ mkdir example $ cd example $ git init $ touch README.md $ git add README.md $ git commit -m \"Initial commit\" ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:2:1","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"å…³è”è¿œç¨‹ä»“åº“ å…³è”å¤šä¸ªä»“åº“éœ€è¦ç»™ä¸åŒçš„è¿œç¨‹ä»“åº“èµ·ä¸€ä¸ªåˆ«åï¼Œè¯·è‡ªè¡Œåœ¨ gitee å’Œ github ä¸Šåˆ›å»ºç©ºä»“åº“ã€‚ $ git remote add gitee git@gitee.com:user/project.git $ git push -u gitee master æˆ– $ git remote add github https://github.com/user/project.git $ git push -u github master ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:2:2","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"åˆ†æ”¯è·Ÿè¸ªè¿œç¨‹åˆ†æ”¯ // è®¾ç½®è®©æœ¬åœ°æŸä¸ªåˆ†æ”¯è·Ÿè¸ªè¿œç¨‹çš„æŸä¸ªåˆ†æ”¯ $ git branch --set-upstream-to=origin/\u003cbranch\u003e \u003cbranch\u003e ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:2:3","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"å…‹éš†è¿œç¨‹ä»“åº“ $ git clone \u003cuser\u003e@\u003chost\u003e:/path/to/repository/\u003cproject\u003e.git æˆ– $ git clone https://gitee.com/user/\u003cproject\u003e.git åŸºæœ¬æ“ä½œ ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:2:4","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"åˆå§‹åŒ–ä»“åº“ $ cd ~/Desktop \u0026\u0026 mkdir example \u0026\u0026 cd example $ git init Initialized empty Git repository in /Users/majinyun/Desktop/example/.git/ ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:3:0","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"å¿½ç•¥æ–‡ä»¶ GitHub å®˜æ–¹æä¾›çš„ å¿½ç•¥æ–‡ä»¶æ¨¡ç‰ˆ .gitignore æ–‡ä»¶æ ¼å¼ï¼š æ‰€æœ‰ç©ºè¡Œæˆ–è€…ä»¥æ³¨é‡Šç¬¦å· # å¼€å¤´çš„è¡Œéƒ½ä¼šè¢« git å¿½ç•¥ å¯ä»¥ä½¿ç”¨æ ‡å‡†çš„ glob æ¨¡å¼åŒ¹é… åŒ¹é…æ¨¡å¼æœ€åè·Ÿåæ–œæ  / è¯´æ˜è¦å¿½ç•¥çš„æ˜¯ç›®å½• è¦å¿½ç•¥æŒ‡å®šæ¨¡å¼ä»¥å¤–çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œå¯ä»¥åœ¨æ¨¡å¼å‰åŠ ä¸ŠæƒŠå¹å· ! å–å ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:4:0","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"æ·»åŠ æ–‡ä»¶ ç©ºç›®å½•æ˜¯ä¸èƒ½æäº¤åˆ°ä»“åº“ä¸­çš„ï¼Œè‡³å°‘è¦ä¿è¯ç›®å½•ä¸­æœ‰ä¸€ä¸ªæ–‡ä»¶ã€‚ // åˆ›å»ºä¸€ä¸ª README.md æ–‡ä»¶ $ touch README.md // æŸ¥çœ‹ä»“åº“çŠ¶æ€ $ git status On branch master No commits yet Untracked files: (use \"git add \u003cfile\u003e...\" to include in what will be committed) README.md nothing added to commit but untracked files present (use \"git add\" to track) // å¦‚æœè¿™ä¸ªé˜¶æ®µä½ å‘ç°æ–‡ä»¶åˆ›å»ºé”™è¯¯äº†ï¼ˆæœ¬ä¸åº”è¯¥æ”¾ç½®åœ¨æ­¤ç›®å½•ä¸­æˆ–ä¸éœ€è¦æ­¤æ–‡ä»¶æˆ–è€…å…¶å®ƒä»»ä½•åŸå› ï¼‰ï¼Œç›´æ¥åˆ é™¤æ‰å³å¯ï¼Œå¦åˆ™ç»§ç»­ä»¥ä¸‹æ“ä½œ $ rm -f README.md // æ·»åŠ  README.md æ–‡ä»¶åˆ°æš‚å­˜åŒº $ git add README.md // æŸ¥çœ‹ä»“åº“çŠ¶æ€ $ git status On branch master No commits yet Changes to be committed: (use \"git rm --cached \u003cfile\u003e...\" to unstage) new file: README.md // å¦‚æœè¿™ä¸ªé˜¶æ®µä½ å‘ç°æ­¤æ–‡ä»¶ä¸åº”è¯¥è¢«æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œè¯·ä¸è¦ç²—æš´çš„ rm æ‰ï¼Œè€Œæ˜¯ä½¿ç”¨ git rm å‘½ä»¤å¹²æ‰å®ƒ $ git rm --cached README.md ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:5:0","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"ä»“åº“çŠ¶æ€ $ git status On branch master nothing to commit, working tree clean ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:6:0","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"æäº¤æ–‡ä»¶ // å°†æš‚å­˜åŒºçš„æ–‡ä»¶æäº¤åˆ°ä»“åº“ï¼Œæ­£å¸¸æƒ…å†µä¸‹ä¼šå¦‚ä¸‹é¢çš„æ“ä½œä¸€æ ·ï¼Œæ˜¾ç¤ºæ–‡ä»¶å·²ç»è¢«åŠ å…¥åˆ°ç‰ˆæœ¬åº“ä¸­ï¼Œä½†ä¹Ÿæœ‰ä¸æ­£å¸¸çš„æƒ…å†µ $ git commit -m \"Add README.md\" [master (root-commit) a384a2b] Add README.md 1 file changed, 0 insertions(+), 0 deletions(-) create mode 100644 README.md // è¿™ä¸ªå°±æ˜¯æäº¤æ—¶çš„ä¸æ­£å¸¸æƒ…å†µï¼Œä»€ä¹ˆæ„æ€å‘¢ï¼Ÿç¬¬ä¸€ç§è¯´æ³•çš„æ„æ€æ˜¯éœ€è¦ä½ é…ç½®ä¸€ä¸‹ä»“åº“çš„ç”¨æˆ·åç§°å’Œé‚®ç®±åœ°å€ï¼Œè¿™ä¸ªå°æ„æ€ï¼Œæˆ‘ä»¬ç›´æ¥æ¥ä¸ªå…¨å±€é…ç½®å’Œå±€éƒ¨é…ç½®å°±æå®šäº†ã€‚ç¬¬äºŒç§è¯´æ³•çš„æ„æ€æ˜¯ä½ åœ¨å®Œæˆä¸Šé¢çš„æ“ä½œä¹‹åï¼Œå¯ä»¥ä¿®å¤ç”¨äºæ­¤æäº¤çš„æ ‡è¯†ï¼Œè¯´ç™½äº†å°±æ˜¯ä½ æäº¤åˆ°ä»“åº“åè¿˜å¯ä»¥è¿›è¡Œç¼–è¾‘æäº¤è®°å½•çš„æ³¨é‡Šä¿¡æ¯ï¼ˆå°±æ˜¯å°±å¯¹ä¸‡ä¸€å°†æœ¬æ¬¡æäº¤è®°å½•çš„æ³¨é‡Šä¿¡æ¯å†™é”™çš„æƒ…å†µï¼‰ï¼Œå®ƒä¼šå¼¹å‡ºä½ æ‰€é…ç½®çš„ç¼–è¾‘å™¨è®©ä½ ä¿®æ”¹æäº¤è®°å½•çš„æ³¨é‡Šä¿¡æ¯ï¼Œå¾ˆé—æ†¾è¿™ä¸ªåªä¿®æ”¹æœ€åä¸€ä¸ªæäº¤è®°å½•çš„æ³¨é‡Šä¿¡æ¯ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ€ä¹ˆä¿®æ”¹å‰ N æ¬¡çš„çš„æŸä¸ªæäº¤è®°å½•çš„æ³¨é‡Šä¿¡æ¯å‘¢ï¼Œè¿™é‡Œæš‚æ—¶å…ˆä¸æ¢ç©¶ï¼Œè¿™ä¸ªæ¶‰åŠåˆ° rebase æ“ä½œï¼Œè¶³ä»¥è®©æˆ‘å†æŠ˜è…¾ä¸€ç¯‡æ¥ä¸“é—¨è¯´è¿™ç§æƒ…å†µ $ git commit -m \"Add README.md\" [master (root-commit) a384a2b] Add README.md Committer: user \u003cuser@user.com\u003e Your name and email address were configured automatically based on your username and hostname. Please check that they are accurate. You can suppress this message by setting them explicitly: git config --global user.name \"Your Name\" git config --global user.email you@example.com After doing this, you may fix the identity used for this commit with: git commit --amend --reset-author 1 file changed, 0 insertions(+), 0 deletions(-) create mode 100644 README.md // é…ç½®ç”¨æˆ·å’Œé‚®ç®±äº¤æäº¤åˆ°ä»“åº“ï¼Œå°†ç”¨æˆ·å’Œé‚®ç®±æ¢æˆä½ è‡ªå·±çš„ï¼Œè¿™ä¸ªæ—¶é—´ä»£ç å·²ç»è¢«æäº¤åˆ°ä»“åº“ $ git config user.name \"yourname\" $ git config user.email \"yourname@email.com\" // æŸ¥çœ‹ä»“åº“çŠ¶æ€ $ git status On branch master nothing to commit, working tree clean ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:7:0","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤æ—¥å¿—ä¿¡æ¯ $ vim README.md [1]: https://symfony.com $ git add README.md $ git commit -m \"Add symfony link\" [master 98a19c3] Add symfony link 1 file changed, 1 insertion(+) $ git commit --amend Add symfony website link # ç¼–è¾‘æ­¤ä¿¡æ¯ # Please enter the commit message for your changes. Lines starting # with '#' will be ignored, and an empty message aborts the commit. # # Date: Sun Dec 30 19:22:08 2018 +0800 # # On branch master # Changes to be committed: # modified: README.md # [master abe0281] Add symfony website link Date: Sun Dec 30 19:22:08 2018 +0800 1 file changed, 1 insertion(+) ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:8:0","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤è®°å½•æ—¶çš„ç”¨æˆ·ä¿¡æ¯ $ git commit --amend --author=\"peter \u003cpeter@dot.org\u003e\" [master facc111] Add symfony website link Author: peter \u003cpeter@dot.org\u003e Date: Sun Dec 30 19:22:08 2018 +0800 1 file changed, 1 insertion(+) ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:9:0","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"æ’¤é”€å¯¹æ–‡ä»¶å†…å®¹çš„æ›´æ”¹ $ vim README.md [1]: https://symfony.com [2]: https://symfony.com/projects $ git status On branch master Changes not staged for commit: (use \"git add \u003cfile\u003e...\" to update what will be committed) (use \"git checkout -- \u003cfile\u003e...\" to discard changes in working directory) modified: README.md no changes added to commit (use \"git add\" and/or \"git commit -a\") $ git checkout -- README.md ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:10:0","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"æäº¤æ–‡ä»¶å˜æ›´åˆ°ä»“åº“ $ vim README.md [1]: https://symfony.com [2]: https://symfony.com/projects $ git status On branch master Changes not staged for commit: (use \"git add \u003cfile\u003e...\" to update what will be committed) (use \"git checkout -- \u003cfile\u003e...\" to discard changes in working directory) modified: README.md no changes added to commit (use \"git add\" and/or \"git commit -a\") $ git add README.md $ git commit -m \"Add projects link\" [master 7d8fcb9] Add projects link 1 file changed, 1 insertion(+) ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:11:0","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"å›æ»šä»“åº“åˆ°æŸä¸ªæäº¤ $ git log --oneline 7d8fcb9 (HEAD -\u003e master) Add projects link facc111 Add symfony website link a384a2b Add README.md $ git reset --hard facc111 HEAD is now at facc111 Add symfony website link $ git log --oneline facc111 (HEAD -\u003e master) Add symfony website link a384a2b Add README.md ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:12:0","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"æ’¤é”€å·¥ä½œåŒºå’Œæš‚å­˜åŒº --softï¼šå½“å‰åˆ†æ”¯é‡ç½®åˆ°æŒ‡å®š commit è®°å½•ä½ç½®ï¼Œç´¢å¼•å’Œå·¥ä½œæ ‘ä¸å˜ --mixedï¼šå½“å‰åˆ†æ”¯é‡ç½®åˆ°æŒ‡å®š commit è®°å½•ä½ç½®ï¼Œç´¢å¼•è¢«æ›´æ–°ï¼Œå·¥ä½œæ ‘ä¸å˜ --hardï¼šå½“å‰åˆ†æ”¯é‡ç½®åˆ°æŒ‡å®š commit è®°å½•ä½ç½®ï¼Œç´¢å¼•å’Œå·¥ä½œæ ‘éƒ½æ›´æ–° $ touch index.{html,js,css} $ git status On branch master Untracked files: (use \"git add \u003cfile\u003e...\" to include in what will be committed) index.css index.html index.js nothing added to commit but untracked files present (use \"git add\" to track) $ $ git add . $ git status On branch master Changes to be committed: (use \"git reset HEAD \u003cfile\u003e...\" to unstage) new file: index.css new file: index.html new file: index.js // åªæ’¤é”€æš‚å­˜åŒº $ git reset HEAD // å…¨éƒ¨æ’¤é”€ $ git reset --hard HEAD HEAD is now at facc111 Add symfony website lin ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:13:0","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"æŸ¥çœ‹å·²æš‚å­˜å’Œæœªæš‚å­˜çš„æ›´æ–° $ vim README.md [1]: https://symfony.com [2]: https://symfony.com/projects $ git add README.md $ vim README.md [1]: https://symfony.com [2]: https://symfony.com/projects [3]: https://symfony.com/doc/current/reference/requirements.html // æ¯”è¾ƒå·¥ä½œç›®å½•ä¸­å½“å‰æ–‡ä»¶å’Œæš‚å­˜åŒºåŸŸå¿«ç…§ä¹‹é—´çš„å·®å¼‚ï¼Œä¹Ÿå°±æ˜¯ä¿®æ”¹ä¹‹åè¿˜æ²¡æœ‰æš‚å­˜èµ·æ¥çš„å˜åŒ–å†…å®¹ $ git diff diff --git a/README.md b/README.md index 56737ed..4a93303 100644 --- a/README.md +++ b/README.md @@ -1,2 +1,3 @@ [1]: https://symfony.com [2]: https://symfony.com/projects +[3]: https://symfony.com/doc/current/reference/requirements.html // æŸ¥çœ‹å·²ç»æš‚å­˜èµ·æ¥çš„æ–‡ä»¶å’Œä¸Šæ¬¡æäº¤æ—¶çš„å¿«ç…§ä¹‹é—´çš„å·®å¼‚ $ git diff --cached diff --git a/README.md b/README.md index 55c6709..56737ed 100644 --- a/README.md +++ b/README.md @@ -1 +1,2 @@ [1]: https://symfony.com +[2]: https://symfony.com/projects æˆ–è€… // æŸ¥çœ‹å·²ç»æš‚å­˜èµ·æ¥çš„æ–‡ä»¶å’Œä¸Šæ¬¡æäº¤æ—¶çš„å¿«ç…§ä¹‹é—´çš„å·®å¼‚ $ git diff --staged diff --git a/README.md b/README.md index 55c6709..56737ed 100644 --- a/README.md +++ b/README.md @@ -1 +1,2 @@ [1]: https://symfony.com +[2]: https://symfony.com/projects // è·³è¿‡ä½¿ç”¨æš‚å­˜åŒºåŸŸï¼Œgit ä¼šè‡ªåŠ¨æŠŠæ‰€æœ‰å·²ç»è·Ÿè¸ªè¿‡çš„æ–‡ä»¶æš‚å­˜èµ·æ¥ä¸€å¹¶æäº¤ï¼Œä»è€Œè·³è¿‡ git add æ­¥éª¤ $ git status On branch master Changes to be committed: (use \"git reset HEAD \u003cfile\u003e...\" to unstage) modified: README.md Changes not staged for commit: (use \"git add \u003cfile\u003e...\" to update what will be committed) (use \"git checkout -- \u003cfile\u003e...\" to discard changes in working directory) modified: README.md $ git commit -am \"Add projects and requirements link\" [master 7778db8] Add projects and requirements link 1 file changed, 2 insertions(+) $ git status On branch master nothing to commit, working tree clean ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:14:0","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"ç§»é™¤æ–‡ä»¶ // è¯¯åˆ äº†æ–‡ä»¶ï¼ŒæœŸæœ›ä¸äº§ç”Ÿæäº¤è®°å½•å°±æŠŠæ–‡ä»¶å¹²æ‰ï¼ˆæ­¤æ–‡ä»¶ä»æ¥æ²¡æäº¤åˆ°ä»“åº“ä¸­ï¼‰ï¼Œé€šè¿‡ä»¥ä¸‹çš„æ“ä½œå°±å¯ä»¥çœ‹åˆ°æ­¤æ–‡ä»¶æ¢å¤åˆ°ä¹‹å‰åˆ›å»ºæ—¶çš„çŠ¶æ€ï¼Œæ­¤æ—¶ä½ å¯ä»¥è€ƒè™‘åˆ é™¤æˆ–è€…åšå…¶å®ƒæ›´æ”¹ $ touch index.html \u0026\u0026 git add index.html \u0026\u0026 rm index.html remove index.html? y $ git status On branch master Changes to be committed: (use \"git reset HEAD \u003cfile\u003e...\" to unstage) new file: index.html Changes not staged for commit: (use \"git add/rm \u003cfile\u003e...\" to update what will be committed) (use \"git checkout -- \u003cfile\u003e...\" to discard changes in working directory) deleted: index.html $ git checkout -- index.html $ git status On branch master Changes to be committed: (use \"git reset HEAD \u003cfile\u003e...\" to unstage) new file: index.html $ git reset HEAD index.html $ git status On branch master Untracked files: (use \"git add \u003cfile\u003e...\" to include in what will be committed) index.html nothing added to commit but untracked files present (use \"git add\" to track) // æŠŠæ–‡ä»¶ä»æš‚å­˜åŒºåŸŸç§»é™¤ï¼Œä½†ä»ç„¶å¸Œæœ›ä¿ç•™åœ¨å½“å‰å·¥ä½œåŒº $ git add index.html $ git status On branch master Changes to be committed: (use \"git reset HEAD \u003cfile\u003e...\" to unstage) new file: index.html $ git rm --cached index.html $ git status On branch master Untracked files: (use \"git add \u003cfile\u003e...\" to include in what will be committed) index.html nothing added to commit but untracked files present (use \"git add\" to track) // å°†æœªåŠ å…¥æš‚å­˜åŒºçš„æ–‡ä»¶å…¨éƒ¨æ¸…ç†æ‰ï¼Œå³å°†å·¥ä½œåŒºçš„å˜æ›´å…¨éƒ¨æ¸…ç†æ‰ï¼Œéœ€è¦è°¨æ…æ“ä½œ $ git clean -df Removing index.html ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:15:0","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"ç§»åŠ¨æˆ–è€…é‡å‘½åæ–‡ä»¶ $ touch index.php $ git add index.php $ git commit -m \"Add index.php\" [master da3c74c] Add index.php 1 file changed, 0 insertions(+), 0 deletions(-) create mode 100644 index.php $ git mv index.php index.html $ git status On branch master Changes to be committed: (use \"git reset HEAD \u003cfile\u003e...\" to unstage) renamed: index.php -\u003e index.html ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:16:0","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"å·®å¼‚æ¯”è¾ƒ // æ¯”è¾ƒä¸¤ä¸ªåˆ†æ”¯çš„æ‰€æœ‰å·®å¼‚ $ git diff master develop diff --git a/.editorconfig b/.editorconfig deleted file mode 100644 index e69de29..0000000 diff --git a/README.md b/README.md index f6f24a8..c0cd272 100644 --- a/README.md +++ b/README.md @@ -3,4 +3,3 @@ [3]: https://symfony.com/doc/current/reference/requirements.html [4]: https://symfony.com/doc/current/setup.html [5]: http://semver.org -[6]: https://symfony.com/doc/current/contributing/community/releases.html // æ¯”è¾ƒä¸¤ä¸ªæäº¤è®°å½•çš„æ‰€æœ‰å·®å¼‚ $ git diff fe3b3cf 688088f diff --git a/.editorconfig b/.editorconfig deleted file mode 100644 index e69de29..0000000 diff --git a/README.md b/README.md index f6f24a8..c0cd272 100644 --- a/README.md +++ b/README.md @@ -3,4 +3,3 @@ [3]: https://symfony.com/doc/current/reference/requirements.html [4]: https://symfony.com/doc/current/setup.html [5]: http://semver.org -[6]: https://symfony.com/doc/current/contributing/community/releases.html // æ¯”è¾ƒä¸¤ä¸ªæäº¤ä¸­çš„æŸä¸ªæ–‡ä»¶çš„å·®å¼‚ $ git diff fe3b3cf 688088f -- README.md diff --git a/README.md b/README.md index f6f24a8..c0cd272 100644 --- a/README.md +++ b/README.md @@ -3,4 +3,3 @@ [3]: https://symfony.com/doc/current/reference/requirements.html [4]: https://symfony.com/doc/current/setup.html [5]: http://semver.org -[6]: https://symfony.com/doc/current/contributing/community/releases.html ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:17:0","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"å‚¨è— å½“ä½ æ­£åœ¨è¿›è¡Œé¡¹ç›®ä¸­æŸä¸€éƒ¨åˆ†çš„å·¥ä½œï¼Œé‡Œé¢çš„ä¸œè¥¿å¤„äºä¸€ä¸ªæ¯”è¾ƒæ‚ä¹±çš„çŠ¶æ€ï¼Œè€Œä½ æƒ³è½¬åˆ°å…¶ä»–åˆ†æ”¯ä¸Šè¿›è¡Œä¸€äº›å·¥ä½œã€‚é—®é¢˜æ˜¯ï¼Œä½ ä¸æƒ³æäº¤è¿›è¡Œäº†ä¸€åŠçš„å·¥ä½œï¼Œå¦åˆ™ä»¥åä½ æ— æ³•å›åˆ°è¿™ä¸ªå·¥ä½œç‚¹ã€‚git stash å°±æ˜¯è§£å†³è¿™ç§é—®é¢˜çš„ã€‚ ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:18:0","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"å‚¨è—ä»»åŠ¡ // å‡è®¾ç›®å‰å·¥ä½œè¿›è¡Œäº†ä¸€æ®µæ—¶é—´åï¼Œä»“åº“çš„ç›®å‰çš„çŠ¶æ€ $ git status On branch master Changes to be committed: (use \"git reset HEAD \u003cfile\u003e...\" to unstage) modified: index.css modified: index.html modified: index.js Changes not staged for commit: (use \"git add \u003cfile\u003e...\" to update what will be committed) (use \"git checkout -- \u003cfile\u003e...\" to discard changes in working directory) modified: index.html // æ­¤æ—¶ç”±äºç´§æ€¥çš„ä»»åŠ¡æˆ–è€… bug éœ€è¦è§£å†³ï¼Œæš‚æ—¶å°†ä¹‹å‰åšçš„ä»»åŠ¡æš‚å­˜èµ·æ¥ $ git stash Saved working directory and index state WIP on master: fe3b3cf Integrating submission logs // è·å–ä¸€ä¸ªå¹²å‡€çš„å·¥ä½œç›®å½• $ git status On branch master nothing to commit, working tree clean ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:18:1","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"æŸ¥çœ‹å‚¨è—ä»»åŠ¡åˆ—è¡¨ $ git stash list stash@{0}: WIP on master: fe3b3cf Integrating submission logs stash@{1}: WIP on master: fe3b3cf Integrating submission logs ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:18:2","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"åº”ç”¨æœ€è¿‘çš„å‚¨è— // apply é€‰é¡¹å¹¶ä¸ä¼šåˆ é™¤å‚¨è— $ git stash apply æˆ– $ git stash apply stash@{0} On branch master Changes not staged for commit: (use \"git add \u003cfile\u003e...\" to update what will be committed) (use \"git checkout -- \u003cfile\u003e...\" to discard changes in working directory) modified: README.md no changes added to commit (use \"git add\" and/or \"git commit -a\") // æ­¤æ—¶åº”ç”¨å‚¨è—æ—¶ä¸ä¹‹å‰å‚¨è—æ—¶çš„æ–‡ä»¶çŠ¶æ€ä¸ä¸€è‡´ $ git stash apply stash@{1} On branch master Changes not staged for commit: (use \"git add \u003cfile\u003e...\" to update what will be committed) (use \"git checkout -- \u003cfile\u003e...\" to discard changes in working directory) modified: index.css modified: index.html # çœ‹è¿™ä¸ªæ–‡ä»¶ä¹‹å‰å‚¨è—æ—¶çš„çŠ¶æ€ modified: index.js // å¸¦ä¸Šä¸€ä¸ª --index çš„é€‰é¡¹æ¥å‘Šè¯‰å‘½ä»¤é‡æ–°åº”ç”¨è¢«æš‚å­˜çš„å˜æ›´ $ git stash apply stash@{0} --index On branch master Changes to be committed: (use \"git reset HEAD \u003cfile\u003e...\" to unstage) modified: index.css modified: index.html modified: index.js Changes not staged for commit: (use \"git add \u003cfile\u003e...\" to update what will be committed) (use \"git checkout -- \u003cfile\u003e...\" to discard changes in working directory) modified: index.html # æ–‡ä»¶æš‚å­˜çŠ¶æ€æ¢å¤äº† // åº”ç”¨å‚¨è—åç«‹å³åˆ é™¤å‚¨è— $ git stash pop --index On branch master Changes to be committed: (use \"git reset HEAD \u003cfile\u003e...\" to unstage) modified: index.css modified: index.html modified: index.js Changes not staged for commit: (use \"git add \u003cfile\u003e...\" to update what will be committed) (use \"git checkout -- \u003cfile\u003e...\" to discard changes in working directory) modified: index.html Dropped refs/stash@{0} (5c5c3fe5374020b5d4a1b0d5303b0cb932227134) ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:18:3","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"åˆ é™¤å‚¨è— $ git stash drop stash@{0} Dropped stash@{0} (e2ffa6a2b49d31703266cf6668f2b51f94e9d62f) ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:18:4","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"å–æ¶ˆå‚¨è— // åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½æƒ³åº”ç”¨å‚¨è—çš„ä¿®æ”¹ï¼Œåœ¨è¿›è¡Œäº†ä¸€äº›å…¶ä»–çš„ä¿®æ”¹åï¼Œåˆè¦å–æ¶ˆä¹‹å‰æ‰€åº”ç”¨å‚¨è—çš„ä¿®æ”¹ $ git status On branch master Changes not staged for commit: (use \"git add \u003cfile\u003e...\" to update what will be committed) (use \"git checkout -- \u003cfile\u003e...\" to discard changes in working directory) modified: index.html no changes added to commit (use \"git add\" and/or \"git commit -a\") $ git stash Saved working directory and index state WIP on master: fe3b3cf Integrating submission logs $ git stash list stash@{0}: WIP on master: fe3b3cf Integrating submission logs $ git stash apply stash@{0} --index On branch master Changes not staged for commit: (use \"git add \u003cfile\u003e...\" to update what will be committed) (use \"git checkout -- \u003cfile\u003e...\" to discard changes in working directory) modified: index.html no changes added to commit (use \"git add\" and/or \"git commit -a\") // å–æ¶ˆåº”ç”¨çš„å‚¨è—ï¼Œæ²¡æœ‰æŒ‡å®šé»˜è®¤ä¸ºæœ€è¿‘ä¸€æ¬¡å‚¨è— $ git stash show -p stash@{0} | git apply -R æˆ– $ git stash show -p | git apply -R ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:18:5","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"ä»å‚¨è—ä¸­åˆ›å»ºåˆ†æ”¯ $ git stash branch testchanges Switched to a new branch 'testchanges' On branch testchanges Changes to be committed: (use \"git reset HEAD \u003cfile\u003e...\" to unstage) modified: index.css modified: index.html modified: index.js Changes not staged for commit: (use \"git add \u003cfile\u003e...\" to update what will be committed) (use \"git checkout -- \u003cfile\u003e...\" to discard changes in working directory) modified: index.html Dropped refs/stash@{0} (9d514109f5cf6c23c75297af595189d5af839693) ","date":"2018-01-23","objectID":"/2018/01/23/git-basic/:18:6","tags":["Git"],"title":"Git åŸºæœ¬æ“ä½œ","uri":"/2018/01/23/git-basic/"},{"categories":["Git"],"content":"Git æ˜¯ä¸€ç§åœ¨å…¨çƒèŒƒå›´éƒ½å¹¿å—æ¬¢è¿çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†è·Ÿè¸ªä»£ç ï¼Œæ–‡æ¡£ï¼Œé¡¹ç›®ç­‰ä¿¡æ¯ä¸­çš„å˜åŒ–ï¼Œç‰ˆæœ¬æ§åˆ¶å˜å¾—å‰æ‰€æœªæœ‰çš„é‡è¦ã€‚ä½†è·Ÿè¸ªå˜åŒ–è¿œè¿œä¸èƒ½æ»¡è¶³ç°ä»£è½¯ä»¶å¼€å‘è¡Œä¸šçš„ååŒéœ€æ±‚ï¼ŒåŸºäº Git çš„ Workflow æ»¡è¶³äº†åˆä½œç¼–ç¨‹çš„éœ€æ±‚ï¼Œè®©å¼€å‘ä»æ­¤å˜å¾—æ›´åŠ é«˜æ•ˆå’Œæœ‰è¶£ã€‚ç›¸æ¯”é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå¦‚ SVN ï¼Œåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ Git æ‹¥æœ‰æ›´å¼ºå¤§çš„åˆ†æ”¯ç®¡ç†ä¸åˆå¹¶èƒ½åŠ›ï¼Œæ”¯æŒç¦»çº¿å¼€å‘ï¼Œå¹¶è‰¯å¥½åœ°ä¿ç•™äº†æäº¤è¿‡ç¨‹ï¼Œè®©æ‚¨å’Œæ‚¨çš„å›¢é˜Ÿåœ¨å¼€å‘è¿‡ç¨‹ä¸­å¦‚è™æ·»ç¿¼ã€‚ Git èµ·æ­¥ Git åŸºæœ¬æ“ä½œ Git æŸ¥çœ‹æ—¥å¿— Git åˆ†æ”¯ Git ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªè´¦å· Git Workflow Git å‘½ä»¤å¤§å…¨ ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:0:0","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"æ¦‚è¿° ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:1:0","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"è®¾è®¡åˆè¡· ä¸ºé€Ÿåº¦è€Œç”Ÿ ç®€å•çš„è®¾è®¡ å¯¹éçº¿æ€§å¼€å‘æ¨¡å¼çš„å¼ºåŠ›æ”¯æŒï¼ˆå…è®¸ä¸Šåƒä¸ªå¹¶è¡Œå¼€å‘çš„åˆ†æ”¯ï¼‰ å®Œå…¨åˆ†å¸ƒå¼ æœ‰èƒ½åŠ›é«˜æ•ˆç®¡ç†ç±»ä¼¼ Linux å†…æ ¸ä¸€æ ·çš„è¶…å¤§è§„æ¨¡çš„é¡¹ç›®ï¼ˆé€Ÿåº¦å’Œæ•°é‡ï¼‰ ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:1:1","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"ä¸€äº›ç‰¹æ€§ ä¼˜è¶Šçš„å­˜å‚¨èƒ½åŠ› ç›´æ¥è®°å½•å¿«ç…§ï¼Œè€Œéå·®å¼‚æ¯”è¾ƒ ç¦»çº¿æ“ä½œï¼Œå‡ ä¹æ‰€æœ‰æ“ä½œéƒ½æ˜¯æœ¬åœ°æ‰§è¡Œ æ—¶åˆ»ä¿æŒæ•°æ®å®Œæ•´æ€§ å¤šæ•°æ“ä½œä»…æ·»åŠ æ•°æ® å¼€æº git ä¸­æ–‡ä»¶çš„ä¸‰ç§çŠ¶æ€ï¼šå·¥ä½œç›®å½•ï¼Œæš‚å­˜åŒºåŸŸå’Œæœ¬åœ°ä»“åº“ï¼š ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:1:2","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"å·¥ä½œæµç¨‹ åœ¨å·¥ä½œç›®å½•ä¸­ä¿®æ”¹æŸäº›æ–‡ä»¶ å¯¹ä¿®æ”¹åçš„æ–‡ä»¶è¿›è¡Œå¿«ç…§ï¼Œç„¶åä¿å­˜åˆ°æš‚å­˜åŒºåŸŸ æäº¤æ›´æ–°ï¼Œå°†ä¿å­˜åœ¨æš‚å­˜åŒºåŸŸçš„æ–‡ä»¶å¿«ç…§æ°¸ä¹…è½¬å‚¨åˆ° git ç›®å½•ä¸­ ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:1:3","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"å…³äºç‰ˆæœ¬æ§åˆ¶ ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:2:0","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"é›†ä¸­åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ CVCS - Centralized Version Control Systems ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:2:1","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ DVCS - Distributed Version Control System ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:2:2","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"å®‰è£… ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:3:0","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"Linux å®‰è£… å®‰è£…ä¾èµ– // CentOS $ sudo yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel // Ubuntu $ sudo apt-get install libcurl4-gnutls-dev libexpat1-dev gettext libz-dev libssl-dev æ‰‹åŠ¨ç¼–è¯‘å®‰è£… å»è¿™é‡Œä¸‹è½½ git // è§£å‹åè¿›è¡Œç¼–è¯‘å®‰è£… $ tar -zxf v2.16.1.tar.gz $ cd v2.16.1 $ make prefix=/usr/local all $ sudo make prefix=/usr/local install åŒ…ç®¡ç†å™¨å®‰è£… // CentOS $ yum install git-core // Ubuntu $ apt-get install git ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:3:1","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"Mac å®‰è£… // ä½¿ç”¨ brew å®‰è£… git $ brew install git ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:3:2","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"Windows å®‰è£… We bring the awesome Git SCM to Windows ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:3:3","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"é…ç½® ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:4:0","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"ä¸‰ç§é…ç½® å…¨å±€é…ç½®ï¼šå½“å‰ç”¨æˆ·çš„æ‰€æœ‰ä»“åº“æœ‰æ•ˆï¼Œå­˜å‚¨é…ç½®çš„æ–‡ä»¶ä¸º ~/.gitconfig // æŸ¥çœ‹å…¨å±€é…ç½® $ git config --global -l æˆ– $ git config --list --global å±€éƒ¨é…ç½®ï¼šå½“å‰ç”¨æˆ·çš„æŸä¸ªä»“åº“æœ‰æ•ˆï¼Œå­˜å‚¨é…ç½®çš„æ–‡ä»¶ä¸º .git/config // æŸ¥çœ‹å±€éƒ¨é…ç½® $ git config --local -l æˆ– $ git config --list --local ç³»ç»Ÿé…ç½®ï¼šç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·æœ‰æ•ˆï¼Œå­˜å‚¨é…ç½®çš„æ–‡ä»¶ä¸º /etc/gitconfig // æŸ¥çœ‹ç³»ç»Ÿé…ç½® $ git config --system -l æˆ– $ git config --list --system ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:4:1","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"ç”¨æˆ·ä¿¡æ¯ // é…ç½®å…¨å±€çš„ç”¨æˆ·åç§° $ git config --global user.name \"Your Name\" // é…ç½®å…¨å±€çš„é‚®ç®±åœ°å€ $ git config --global user.email \"Your Email\" // å–æ¶ˆå…¨å±€é…ç½®çš„ç”¨æˆ·åç§° $ git config --global --unset user.name // å–æ¶ˆå…¨å±€é…ç½®çš„é‚®ç®±åœ°å€ $ git config --global --unset user.email // é…ç½®æŸä¸ªä»“åº“çš„ç”¨æˆ·åç§° $ git config --local user.name \"Your Name\" // é…ç½®æŸä¸ªä»“åº“çš„é‚®ç®±åœ°å€ $ git config --local user.email \"Your Email\" ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:4:2","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"æ–‡æœ¬ç¼–è¾‘å™¨ Git Commit Problem: \"error: There was a problem with the editor 'vi'\" // é…ç½® vim ä¸º git é»˜è®¤çš„ç¼–è¾‘å™¨ï¼Œä¸ºæ»¡è¶³åœ¨ git ä¸­è¾“å…¥ä¸€äº›é¢å¤–æ¶ˆæ¯çš„æ—¶å€™ï¼Œè‡ªåŠ¨è°ƒç”¨ä¸€ä¸ªå¤–éƒ¨æ–‡æœ¬ç¼–è¾‘å™¨çš„éœ€è¦ $ git config --global core.editor $(which vim) ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:4:3","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"å·®å¼‚åˆ†æå·¥å…· // é…ç½®è§£å†³åˆå¹¶å†²çªæ—¶ä½¿ç”¨å“ªç§å·®å¼‚åˆ†æå·¥å…· $ git config --global merge.tool vimdiff ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:4:4","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"æ¢è¡Œç¬¦é…ç½® æ“ä½œç³»ç»Ÿå¯¹å›è½¦ CR å’Œæ¢è¡Œ LF å®šä¹‰æ˜¯æœ‰å·®å¼‚çš„ã€‚ AutoCRLF // æäº¤æ—¶è½¬æ¢ä¸º LFï¼Œæ£€å‡ºæ—¶è½¬æ¢ä¸º CRLF $ git config --global core.autocrlf true // æäº¤æ—¶è½¬æ¢ä¸º LFï¼Œæ£€å‡ºæ—¶ä¸è½¬æ¢ $ git config --global core.autocrlf input // æäº¤æ£€å‡ºå‡ä¸è½¬æ¢ $ git config --global core.autocrlf false SafeCRLF // æ‹’ç»æäº¤åŒ…å«æ··åˆæ¢è¡Œç¬¦çš„æ–‡ä»¶ $ git config --global core.safecrlf true // å…è®¸æäº¤åŒ…å«æ··åˆæ¢è¡Œç¬¦çš„æ–‡ä»¶ $ git config --global core.safecrlf false // æäº¤åŒ…å«æ··åˆæ¢è¡Œç¬¦çš„æ–‡ä»¶æ—¶ç»™å‡ºè­¦å‘Š $ git config --global core.safecrlf warn ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:4:5","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"ä¿®æ­£ç©ºç™½ç¬¦ git é¢„å…ˆè®¾ç½®äº†ä¸€äº›é€‰é¡¹æ¥æ¢æµ‹å’Œä¿®æ­£ç©ºç™½é—®é¢˜ é»˜è®¤æ‰“å¼€çš„ 2 ä¸ªé€‰é¡¹æ˜¯ trailing-space å’Œ space-before-tabï¼Œtrailing-space ä¼šæŸ¥æ‰¾æ¯è¡Œç»“å°¾çš„ç©ºæ ¼ï¼Œspace-before-tab ä¼šæŸ¥æ‰¾æ¯è¡Œå¼€å¤´çš„åˆ¶è¡¨ç¬¦å‰çš„ç©ºæ ¼ é»˜è®¤å…³é—­çš„ 2 ä¸ªé€‰é¡¹æ˜¯ indent-with-non-tab å’Œ cr-at-eolï¼Œindent-with-non-tab ä¼šæŸ¥æ‰¾ 8 ä¸ªä»¥ä¸Šç©ºæ ¼ï¼ˆéåˆ¶è¡¨ç¬¦ï¼‰å¼€å¤´çš„è¡Œï¼Œcr-at-eol è®© git çŸ¥é“è¡Œå°¾å›è½¦ç¬¦æ˜¯åˆæ³•çš„ // å…¨å±€é…ç½®ä¿®æ­£ç©ºç™½ç¬¦ $ git config --global core.whitespace trailing-space,space-before-tab ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:4:6","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"é…ç½®å¿«æ·æ“ä½œ // ä¸º git å‘½ä»¤åˆ›å»ºä¸€ä¸ªå¿«æ·æ–¹å¼ $ git config --global alias.\u003calias-name\u003e \u003cgit-command\u003e // æ£€å‡ºå¿«æ·æ–¹å¼è®¾ç½® $ git config --global alias.co checkout // æäº¤å¿«æ·æ–¹å¼è®¾ç½® $ git config --global alias.ci commit // çŠ¶æ€å¿«æ·æ–¹å¼è®¾ç½® $ git config --global alias.st status // åˆ†æ”¯å¿«æ·æ–¹å¼è®¾ç½® $ git config --global alias.br branch ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:4:7","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"é…ç½®åœ¨ Windows ä¸‹ ASCII å­—ç¬¦çš„æ–‡ä»¶åæ­£ç¡®æ˜¾ç¤º git ä¹±ç è§£å†³æ–¹æ¡ˆæ±‡æ€» // ä¸€ä¸ªæ˜¾ç¤ºä¹±ç çš„å®ä¾‹ $ git status On branch master Your branch is up to date with 'gitee/master'. Changes not staged for commit: (use \"git add/rm \u003cfile\u003e...\" to update what will be committed) (use \"git checkout -- \u003cfile\u003e...\" to discard changes in working directory) (commit or discard the untracked or modified content in submodules) deleted: \"xxx-\\345\\210\\235\\350\\257\\206.xx\" // ä¸­æ–‡æ–‡ä»¶åæ˜¾ç¤ºä¸æ­£å¸¸ Untracked files: (use \"git add \u003cfile\u003e...\" to include in what will be committed) // å…¨å±€é…ç½®ä»¥è§£å†³ Windows Git Bashã€Linux ä¸‹çš„ä¸­æ–‡è½¬ç é—®é¢˜ $ git config --global core.quotepath false ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:4:8","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"é…ç½®å¯¹å¤§å°å†™æ•æ„Ÿ // å…¨å±€é…ç½®å¯¹å¤§å°å†™æ•æ„Ÿï¼Œä¿æŒ Mac/Win/Linux ä¸€è‡´æ€§ $ git config --global core.ignorecase false ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:4:9","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"é…ç½®èœè‰²æ˜¾ç¤º // å…¨å±€é…ç½®èœè‰²æ˜¾ç¤º $ git config --global color.ui auto ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:4:10","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"ä»¥ https æ–¹å¼è¿›è¡Œè¿æ¥æ—¶ï¼Œè®°ä½å¯†ç  ä¸ºå½“å‰ä»“åº“è®¾ç½®è®°ä½å¯†ç ï¼Œè®¾ç½®åï¼Œåªè¦åœ¨æ¨é€ä¸€æ¬¡ï¼Œä»¥åå°±ä¸éœ€è¦ç”¨æˆ·åå’Œå¯†ç äº† // è®¾ç½®ä¿å­˜å¯†ç åˆ°ç¡¬ç›˜ï¼Œå¦‚æœæ˜¯ macOSï¼Œé€‰é¡¹å¯ä»¥æ”¹ä¸º osxkeychain $ git config credential.helper store // è®¾ç½®ä¿å­˜å¯†ç çš„è¶…æ—¶æ—¶é—´ $ git config credential.helper 'cache --timeout=36000' // æŸ¥çœ‹å¯†ç æ–‡ä»¶ï¼ˆä»¥æ˜æ–‡çš„æ–¹å¼ä¿å­˜çš„ï¼‰ $ cat ~/.git-credentials ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:5:0","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"æŸ¥çœ‹é…ç½®ä¿¡æ¯ $ git config --list æˆ– $ git config -l ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:5:1","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"è§£å†³ç›®å½•å¡é¡¿é—®é¢˜ ä¸»è¦è§£å†³åœ¨ zsh ä¸‹ï¼Œåœ¨ git ç‰ˆæœ¬æ§åˆ¶çš„ç›®å½•è¾“å…¥å‘½ä»¤æ‰§è¡Œç¼“æ…¢çš„é—®é¢˜ã€‚ // ä¸è¯»å–æ–‡ä»¶å˜åŒ–ä¿¡æ¯ï¼ˆé’ˆå¯¹å½“å‰ç”¨æˆ·å½“å‰é¡¹ç›®ï¼‰ $ git config --add oh-my-zsh.hide-dirty 1 // ä¸è¯»å–ä»»ä½• git ä¿¡æ¯ï¼ˆé’ˆå¯¹å½“å‰ç”¨æˆ·æ‰€æœ‰é¡¹ç›®ï¼‰ $ git config --global --add oh-my-zsh.hide-status 1 ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:5:2","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Git"],"content":"å¸®åŠ©å‘½ä»¤ $ git help \u003cverb\u003e æˆ– $ git \u003cverb\u003e --help æˆ– $ man git // æŸ¥çœ‹å¸®åŠ©å‘½ä»¤ $ git --help usage: git [--version] [--help] [-C \u003cpath\u003e] [-c \u003cname\u003e=\u003cvalue\u003e] [--exec-path[=\u003cpath\u003e]] [--html-path] [--man-path] [--info-path] [-p | --paginate | --no-pager] [--no-replace-objects] [--bare] [--git-dir=\u003cpath\u003e] [--work-tree=\u003cpath\u003e] [--namespace=\u003cname\u003e] \u003ccommand\u003e [\u003cargs\u003e] These are common Git commands used in various situations: start a working area (see also: git help tutorial) clone Clone a repository into a new directory init Create an empty Git repository or reinitialize an existing one work on the current change (see also: git help everyday) add Add file contents to the index mv Move or rename a file, a directory, or a symlink reset Reset current HEAD to the specified state rm Remove files from the working tree and from the index examine the history and state (see also: git help revisions) bisect Use binary search to find the commit that introduced a bug grep Print lines matching a pattern log Show commit logs show Show various types of objects status Show the working tree status grow, mark and tweak your common history branch List, create, or delete branches checkout Switch branches or restore working tree files commit Record changes to the repository diff Show changes between commits, commit and working tree, etc merge Join two or more development histories together rebase Reapply commits on top of another base tip tag Create, list, delete or verify a tag object signed with GPG collaborate (see also: git help workflows) fetch Download objects and refs from another repository pull Fetch from and integrate with another repository or a local branch push Update remote refs along with associated objects 'git help -a' and 'git help -g' list available subcommands and some concept guides. See 'git help \u003ccommand\u003e' or 'git help \u003cconcept\u003e' to read about a specific subcommand or concept. ","date":"2018-01-22","objectID":"/2018/01/22/git-get-started/:5:3","tags":["Git"],"title":"Git èµ·æ­¥","uri":"/2018/01/22/git-get-started/"},{"categories":["Mac"],"content":" Homestead è‹±æ–‡å®˜ç½‘ HomeStead ä¸­æ–‡ç½‘ç«™ HomeStead GitHub ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:0:0","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"ä»‹ç» Laravel è‡´åŠ›äºä½¿æ•´ä¸ª PHP å¼€å‘ä½“éªŒå˜å¾—æ„‰å¿«ï¼ŒåŒ…æ‹¬ä½ çš„æœ¬åœ°å¼€å‘ç¯å¢ƒã€‚Vagrant æä¾›äº†ä¸€ä¸ªç®€å•ã€ä¼˜é›…çš„æ–¹å¼æ¥ç®¡ç†å’Œé…ç½®è™šæ‹Ÿæœºã€‚ Laravel Homestead æ˜¯ä¸€ä¸ªå®˜æ–¹é¢„è½½çš„ Vagrant ç›’å­ï¼Œæ—¨åœ¨æä¾›ä½ ä¸€ä¸ªç¾å¥½çš„å¼€å‘ç¯å¢ƒï¼Œè€Œä¸éœ€è¦åœ¨ä½ çš„æœ¬åœ°æœºå™¨ ä¸­å»å®‰è£… PHPï¼ŒWeb æœåŠ¡å™¨å’Œå…¶å®ƒä»»ä½•æœåŠ¡è½¯ä»¶ã€‚å†ä¹Ÿä¸ç”¨æ‹…å¿ƒä¼šæä¹±ä½ çš„æ“ä½œç³»ç»Ÿï¼Vagrant ç›’å­å®Œå…¨æ˜¯ä¸€æ¬¡æ€§çš„ã€‚å¦‚æœå‡ºç°é—®é¢˜ï¼Œä½ å¯ä»¥åœ¨å‡ åˆ†é’Ÿå†…é”€æ¯å¹¶é‡æ–°åˆ›å»ºå®ƒï¼ Homestead è¿è¡Œåœ¨ä»»ä½• Windowsï¼ŒMacï¼Œæˆ–è€… Linux ç³»ç»Ÿä¸Šï¼Œå¹¶åŒ…å« Nginx Web æœåŠ¡å™¨ï¼ŒPHP 7.2ï¼ŒPHP 7.1ï¼ŒPHP 5.6ï¼ŒMySQLï¼ŒRedisï¼ŒMemcachedï¼ŒNodeï¼Œä»¥åŠå¼€å‘ä»¤äººæƒŠå¹çš„ Laravel åº”ç”¨ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰å…¶ä»–å¥½ä¸œè¥¿ã€‚ {% note danger %} å¦‚æœä½ ä½¿ç”¨ Windowsï¼Œä½ éœ€è¦å¼€å¯ç¡¬ä»¶è™šæ‹ŸåŒ–ï¼ˆVT-xï¼‰ã€‚å®ƒé€šå¸¸æ˜¯é€šè¿‡ä½ çš„ BIOS å»å¼€å¯ã€‚å¦‚æœä½ åœ¨ä¸€ä¸ª UEFI ç³»ç»Ÿä¸Šä½¿ç”¨ Hyper-Vï¼Œä¸ºäº†è®¿é—® VT-xï¼Œä½ å¯èƒ½è¿˜éœ€è¦å»ç¦ç”¨ Hyper-Vã€‚ {% endnote %} ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:1:0","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"å†…ç½®è½¯ä»¶ Ubuntu 18.04 Git PHP 7.2 PHP 7.1 PHP 7.0 PHP 5.6 Nginx Apacheï¼ˆå¯é€‰ï¼‰ MySQL MariaDBï¼ˆå¯é€‰ï¼‰ Sqlite3 PostgreSQL Composer Nodeï¼ˆYarnï¼ŒBowerï¼ŒGrunt å’Œ Gulpï¼‰ Redis Memcached Beanstalkd Mailhog Neo4jï¼ˆå¯é€‰ï¼‰ MongoDBï¼ˆå¯é€‰ï¼‰ Elasticsearchï¼ˆå¯é€‰ï¼‰ ngrok wp-cli Zend Z-Ray Go Minio æ€»ä¹‹ä¸€å¥è¯ï¼Œå·¨ç‰›é€¼ã€‚å¦‚æœè¿™äº›ä¸œè¥¿è®©ä½ è‡ªå·±æŠ˜è…¾ï¼Œæ€ä¹ˆç€ä¹Ÿå¾—å¤§åŠå¤©å§ã€‚æƒ³æƒ³æˆ‘æœè¿™ä¸ªç½‘ç»œï¼Œä½ èƒ½é¡ºåˆ©çš„æå®šé‚£ç®€ç›´å°±æ˜¯ç‰›é€¼ä¸­çš„æˆ˜æ–—æœºã€‚ ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:1:1","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"å®‰è£…ä¸é…ç½® ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:2:0","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"èµ·æ­¥ åœ¨å¯åŠ¨ Homestead ç¯å¢ƒä¹‹å‰ï¼Œä½ å¿…é¡»å®‰è£… VirtualBox 5.2ï¼ŒVMWareï¼ŒParallels æˆ–è€… Hyper-V ä»¥åŠ Vagrantã€‚æ‰€æœ‰è¿™äº›è½¯ä»¶åŒ…éƒ½ä¸ºæ‰€æœ‰æµè¡Œçš„æ“ä½œç³»ç»Ÿæä¾›äº†æ˜“äºä½¿ç”¨çš„å¯è§†åŒ–å®‰è£…ç¨‹åºã€‚ ä¸ºäº†ä½¿ç”¨ VMware æä¾›è€…ï¼Œä½ å°†éœ€è¦å»è´­ä¹° VMware Fusion / Workstation å’Œ VMware Vagrant plug-inã€‚å°½ç®¡å®ƒä¸æ˜¯å…è´¹çš„ï¼ŒVMware æ¯”å…¶å®ƒç›’å­èƒ½æä¾›æ›´å¿«çš„å…±äº«æ–‡ä»¶å¤¹æ€§èƒ½ã€‚ ä¸ºäº†ä½¿ç”¨ Parallels æä¾›è€…ï¼Œä½ å°†éœ€è¦å®‰è£… Parallels Vagrant plug-inï¼Œå®ƒæ˜¯å…è´¹çš„ã€‚ å› ä¸º Vagrant limitationsï¼ŒHyper-V æä¾›è€…å°†å¿½ç•¥æ‰€æœ‰çš„ç½‘ç»œè®¾ç½®ã€‚ å®‰è£… Homestead Vagrant ç›’å­ ä¸€æ—¦ VirtualBox / VMware å’Œ Vagrant è¢«å®‰è£…ï¼Œä½ åº”å½“åœ¨ä½ çš„ç»ˆç«¯ä¸­ä½¿ç”¨å¦‚ä¸‹çš„å‘½ä»¤å°† laravel/homestead æ·»åŠ åˆ°ä½ çš„ Vagrant å®‰è£…ä¸­ã€‚ä¸‹è½½ç›’å­è€—è´¹çš„æ—¶é—´å–å†³äºä½ çš„ç½‘é€Ÿï¼š $ vagrant box add laravel/homestead ==\u003e vagrant: A new version of Vagrant is available: 2.1.4! ==\u003e vagrant: To upgrade visit: https://www.vagrantup.com/downloads.html å¦‚æœæ­¤å‘½ä»¤å¤±è´¥ï¼Œç¡®ä¿ä½ å®‰è£…çš„ Vagrant æ˜¯æœ€æ–°çš„ã€‚ å®‰è£… Homestead ä½ å¯ä»¥å®‰è£… Homestead é€šè¿‡å…‹éš†ä»“åº“ã€‚è€ƒè™‘å…‹éš†ä»“åº“åˆ°ä½ çš„ã€homeã€ç›®å½•ä¸‹çš„ä¸€ä¸ª Homestead æ–‡ä»¶å¤¹ä¸‹ï¼Œè¿™æ · Homestead ç›’å­æœåŠ¡å°†ä½œä¸ºä½ çš„æ‰€æœ‰ Laravel é¡¹ç›®çš„ä¸»æœºï¼š $ git clone https://github.com/laravel/homestead.git ~/Homestead Cloning into 'Homestead'... ä½ åº”å½“æ£€æŸ¥ Homestead çš„æ ‡è®°ç‰ˆæœ¬ï¼Œå› ä¸º master åˆ†æ”¯ä¸æ€»æ˜¯ç¨³å®šçš„ã€‚ä½ èƒ½åœ¨ GitHub Release Page æ‰¾åˆ°æœ€æ–°çš„ç¨³å®šç‰ˆï¼š $ cd ~/Homestead // Clone the desired release... $ git checkout v7.14.2 ä¸€æ—¦ä½ å…‹éš†å…‹éš†äº† Homestead ä»“åº“ï¼Œä» Homestead ç›®å½•è¿è¡Œ bash init.sh å‘½ä»¤å»åˆ›å»º Homestead.yaml é…ç½®æ–‡ä»¶ã€‚æ­¤ Homestead.yaml æ–‡ä»¶å°†ä½äº Homestead ç›®å½•ä¸­ï¼š // Mac / Linux... $ bash init.sh // Windows... \u003e init.bat ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:2:1","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"é…ç½® Homestead è®¾ç½®ä½ çš„æä¾›è€… åœ¨ä½ çš„ Homestead.yaml æ–‡ä»¶ä¸­çš„ provider é”®åè¡¨ç¤ºå“ªä¸ª Vagrant æä¾›è€…åº”å½“è¢«ä½¿ç”¨ï¼švirtualboxï¼Œvmware_fusionï¼Œvmware_workstationï¼Œparallels æˆ–è€… hypervã€‚ä½ å¯ä»¥è®¾ç½®ä½ åå¥½çš„æä¾›è€…ï¼š provider: virtualbox é…ç½®å…±äº«æ–‡ä»¶å¤¹ Homestead.yaml æ–‡ä»¶ä¸­çš„ folders å±æ€§åˆ—å‡ºäº†ä½ å¸Œæœ›ä¸ä½ çš„ Homestead ç¯å¢ƒå…±äº«çš„æ‰€æœ‰æ–‡ä»¶å¤¹ã€‚åœ¨è¿™äº›æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä»–ä»¬å°†åœ¨ä½ çš„æœ¬åœ°æœºå™¨å’Œ Homestead ç¯å¢ƒä¹‹é—´ä¿æŒåŒæ­¥ã€‚ä½ å¯ä»¥æ ¹æ®éœ€è¦å»é…ç½®ä»»æ„æ•°é‡çš„å…±äº«æ–‡ä»¶å¤¹ã€‚ folders: - map: ~/code to: /home/vagrant/code å¦‚æœä½ ä»…ä»…åˆ›å»ºä¸€äº›ç«™ç‚¹ï¼Œè¿™ä¸ªèƒ½ç”¨çš„æ˜ å°„å°†æ­£å¸¸å·¥ä½œã€‚ç„¶è€Œï¼Œéšç€ç«™ç‚¹æ•°é‡çš„ä¸æ–­å¢åŠ ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°æ€§èƒ½é—®é¢˜ã€‚åœ¨åŒ…å«å¤§é‡æ–‡ä»¶çš„ä½ç«¯æœºå™¨æˆ–è€…é¡¹ç›®ä¸­ï¼Œè¿™ä¸ªé—®é¢˜å¯èƒ½éå¸¸æ˜æ˜¾ã€‚å¦‚æœä½ é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œå°è¯•å°†æ¯ä¸ªé¡¹ç›®æ˜ å°„åˆ°å…¶è‡ªå·±çš„ Vagrant æ–‡ä»¶å¤¹ä¸‹ï¼š folders: - map: ~/code/project1 to: /home/vagrant/code/project1 - map: ~/code/project2 to: /home/vagrant/code/project2 è¦å¼€å¯ NFSï¼Œä½ ä»…ä»…éœ€è¦å¢åŠ ä¸€ä¸ªç®€å•çš„æ ‡å¿—åˆ°ä½ çš„åŒæ­¥æ–‡ä»¶é…ç½®ä¸­ï¼š folders: - map: ~/code to: /home/vagrant/code type: \"nfs\" {% note danger %} å½“ä½¿ç”¨ NFS æ—¶ï¼Œä½ åº”å½“è€ƒè™‘å®‰è£… vagrant-bindfs æ’ä»¶ã€‚è¿™ä¸ªæ’ä»¶å°†ä¸º Homestead ç›’å­ä¸­çš„æ–‡ä»¶å’Œç›®å½•ç»´æŠ¤æ­£ç¡®çš„ user / group æƒé™ã€‚ {% endnote %} ä½ ä¹Ÿå¯ä»¥ä¼ é€’é€šè¿‡ options é”®ä¸‹åˆ—å‡ºå®ƒä»¬çš„ Vagrant çš„ Synced Folders æ‰€æ”¯æŒçš„ä»»ä½•é€‰é¡¹ï¼š folders: - map: ~/code to: /home/vagrant/code type: \"rsync\" options: rsync__args: [\"--verbose\", \"--archive\", \"--delete\", \"-zz\"] rsync__exclude: [\"node_modules\"] é…ç½® Nginx ç«™ç‚¹ ä¸ç†Ÿæ‚‰ Nginxï¼Ÿæ²¡é—®é¢˜ã€‚sites å±æ€§å…è®¸ä½ è½»æ¾æ˜ å°„ä¸€ä¸ªã€domainã€åˆ°ä½ çš„ Homestead ç¯å¢ƒçš„ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚åœ¨ Homestead.yaml æ–‡ä»¶ä¸­åŒ…å«ä¸€ä¸ªç¤ºä¾‹ç«™ç‚¹é…ç½®ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦æ·»åŠ è®¸å¤šç«™ç‚¹åˆ°ä½ çš„ Homestead ç¯å¢ƒã€‚Homestead èƒ½ä½œä¸ºä¸€ä¸ªæ–¹ä¾¿çš„ï¼Œè™šæ‹ŸåŒ–çš„ç¯å¢ƒä¸ºä½ å·¥ä½œçš„æ¯ä¸€ä¸ª Laravel é¡¹ç›®æœåŠ¡ï¼š sites: - map: homestead.test to: /home/vagrant/code/Laravel/public å¦‚æœä½ æ”¹å˜ sites å±æ€§åœ¨é…ç½® Homestead ç›’å­åï¼Œä½ åº”å½“é‡æ–°è¿è¡Œ vagrant reload --provision å»æ›´æ–°è™šæ‹Ÿæœºä¸­çš„ Nginx é…ç½®ã€‚ ä¸»æœºæ–‡ä»¶ ä½ å¿…é¡»åœ¨ä½ æœºå™¨çš„ hosts æ–‡ä»¶ä¸­ä¸º Nginx ç«™ç‚¹æ·»åŠ ã€domainsã€ã€‚hosts æ–‡ä»¶å°†æŠŠä½ çš„ Homestead ç«™ç‚¹è¯·æ±‚é‡å®šå‘åˆ°ä½ çš„ Homestead æœºå™¨ã€‚åœ¨ Mac å’Œ Linux ä¸­ï¼Œè¿™ä¸ªæ–‡ä»¶ä½äº /etc/hostsã€‚åœ¨ Windows ä¸­ï¼Œä½äº C:\\Windows\\System32\\drivers\\etc\\hostsã€‚ä½ æ·»åŠ åˆ°æ­¤æ–‡ä»¶ä¸­çš„è¡Œçœ‹èµ·æ¥åƒå¦‚ä¸‹è¿™æ ·ï¼š 192.168.10.10 homestead.test ç¡®ä¿åˆ—å‡ºçš„ IP åœ°å€æ˜¯ Homestead.yaml æ–‡ä»¶ä¸­è®¾ç½®çš„ IP åœ°å€ã€‚ä¸€æ—¦ä½ æ·»åŠ åŸŸååˆ°ä½ çš„ hosts æ–‡ä»¶ï¼Œå¯åŠ¨ Vagrant ç›’å­åä½ èƒ½åœ¨ä½ çš„ Web æµè§ˆå™¨ä¸­è®¿é—®å®ƒï¼š http://homestead.test ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:2:2","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"å¯åŠ¨ Vagrant ç›’å­ ä¸€æ—¦ä½ æ ¹æ®ä½ çš„å–œå¥½ç¼–è¾‘ Homestead.yaml åï¼Œä»ä½ çš„ Homestead ç›®å½•è¿è¡Œ vagrant up å‘½ä»¤ã€‚Vagrant å°†å¯åŠ¨è™šæ‹Ÿæœºå¹¶è‡ªåŠ¨é…ç½®ä½ çš„å…±äº«æ–‡ä»¶å¤¹å’Œ Nginx ç«™ç‚¹ã€‚ åœ¨é”€æ¯è™šæ‹Ÿæœºï¼Œä½ å¯ä»¥ä½¿ç”¨ vagrant destroy --force å‘½ä»¤ã€‚ ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:2:3","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"æŒ‰é¡¹ç›®å®‰è£… ä½ å¯ä»¥ä¸ºä½ æ‰€ç®¡ç†çš„æ¯ä¸ªé¡¹ç›®é…ç½®é…ç½®ä¸€ä¸ª Homestead å®ä¾‹ï¼Œè€Œä¸æ˜¯åœ¨å…¨å±€èŒƒå›´å†…å®‰è£… Homestead å¹¶åœ¨æ‰€æœ‰çš„é¡¹ç›®ä¸­å…±äº«ç›¸åŒçš„ Homestead ç›’å­ã€‚å¦‚æœä½ å¸Œæœ›éšé¡¹ç›®ä¸€èµ·å‘é€ä¸€ä¸ª Vagrantfileï¼Œé‚£ä¹ˆä¸ºæ¯ä¸ªé¡¹ç›®å®‰è£… Homestead å¯èƒ½æ˜¯å¤§æœ‰è£¨ç›Šçš„ï¼Œå…è®¸å…¶å®ƒäººåœ¨é¡¹ç›®ä¸­ vagrant up è¿›è¡Œå·¥ä½œã€‚ è¦ç›´æ¥å°† Homestead å®‰è£…åˆ°ä½ çš„é¡¹ç›®ï¼Œéœ€è¦ä½¿ç”¨ Composerï¼š $ composer require laravel/homestead --dev ä¸€æ—¦ Homestead è¢«å®‰è£…ï¼Œä½¿ç”¨ make å‘½ä»¤å»ç”Ÿæˆ Vagrantfile å’Œ Homestead.yaml æ–‡ä»¶åœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•ã€‚make å‘½ä»¤å°†è‡ªåŠ¨é…ç½® site å’Œ folders æŒ‡ä»¤åœ¨ Homestead.yaml æ–‡ä»¶ä¸­ã€‚ // Mac / Linux $ php vendor/bin/homestead make // Windows $ vendor\\\\bin\\\\homestead make æ¥ä¸‹æ¥ï¼Œåœ¨ç»ˆç«¯ä¸­è¿è¡Œ vagrant up å‘½ä»¤å¹¶åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ http://homestead.test å»è®¿é—®ä½ çš„é¡¹ç›®ã€‚è®°ä½ï¼Œä½ å°†éœ€è¦æ·»åŠ ä¸€ä¸ª homestead.test åˆ° /etc/hosts æ–‡ä»¶ä¸­æˆ–è€…ä½ è‡ªå®šä¹‰çš„åŸŸåã€‚ ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:2:4","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"å®‰è£… MariaDB å¦‚æœä½ åå¥½ä½¿ç”¨ MariaDB è€Œä¸æ˜¯ MySQLï¼Œä½ å¯ä»¥åœ¨ Homestead.yaml æ–‡ä»¶ä¸­æ·»åŠ  mariadb é€‰é¡¹ã€‚è¿™ä¸ªé€‰é¡¹å°†ç§»é™¤ MySQL å¹¶å®‰è£… MariaDBã€‚MariaDB æœåŠ¡ä½œä¸º MySQL çš„ä¸€ä¸ªæ›¿ä»£å“ï¼Œå› æ­¤ä½ ä»ç„¶åœ¨ä½ çš„åº”ç”¨ç¨‹åºæ•°æ®åº“é…ç½®ä¸­ä½¿ç”¨ mysql æ•°æ®åº“é©±åŠ¨ï¼š box: laravel/homestead ip: \"192.168.10.10\" memory: 2048 cpus: 4 provider: virtualbox mariadb: true ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:2:5","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"å®‰è£… MongoDB è¦å®‰è£… MongoDB ç¤¾åŒºç‰ˆï¼Œæ›´æ–°ä½ çš„ Homestead.yaml æ–‡ä»¶ç”¨å¦‚ä¸‹çš„é…ç½®é€‰é¡¹ï¼š mongodb: true é»˜è®¤çš„ MongoDB å®‰è£…å°†è®¾ç½®æ•°æ®åº“ç”¨æˆ·åä¸º homesteadï¼Œç›¸åº”åœ°å¯†ç ä¸º secretã€‚ ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:2:6","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"å®‰è£… Elasticsearch è¦å®‰è£… Elasticsearchï¼Œæ·»åŠ  elasticsearch é€‰é¡¹åˆ°ä½ çš„ Homestead.yaml æ–‡ä»¶å¹¶æŒ‡å®šä¸€ä¸ªæ”¯æŒçš„ç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬å¯èƒ½æ˜¯ä¸€ä¸ªä¸»ç‰ˆæœ¬æˆ–è€…ä¸€ä¸ªç²¾ç¡®çš„ç‰ˆæœ¬å·ï¼ˆä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®å¤ç‰ˆæœ¬å·ï¼‰ã€‚é»˜è®¤å®‰è£…å°†åˆ›å»ºä¸€ä¸ªåä¸º homestead çš„é›†ç¾¤ã€‚ä½ åº”å½“ä»ä¸ç»™ Elasticsearch è¶…è¿‡æ“ä½œç³»ç»Ÿä¸€åŠçš„å†…å­˜ï¼Œæ‰€ä»¥è¦ç¡®ä¿ä½ çš„ Homestead æœºå™¨è‡³å°‘æœ‰ä¸¤å€çš„ Elasticsearch åˆ†é…çš„å†…å­˜ï¼š box: laravel/homestead ip: \"192.168.10.10\" memory: 4096 cpus: 4 provider: virtualbox elasticsearch: 6 {% note info %} æŸ¥é˜… Elasticsearch documentation å»å­¦ä¹ å¦‚ä½•è‡ªå®šä¹‰ä½ çš„é…ç½®ã€‚ {% endnote %} ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:2:7","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"å®‰è£… Neo4j Neo4j æ˜¯ä¸€ä¸ªå›¾å½¢æ•°æ®åº“ç®¡ç†ç³»ç»Ÿã€‚è¦å®‰è£… Neo4j ç¤¾åŒºç‰ˆï¼Œæ›´æ–°ä½ çš„ Homestead.yaml æ–‡ä»¶ç”¨å¦‚ä¸‹çš„é…ç½®é€‰é¡¹ï¼š neo4j: true é»˜è®¤çš„ Neo4j å®‰è£…å°†è®¾ç½®æ•°æ®åº“çš„ç”¨æˆ·åä¸º homesteadï¼Œç›¸åº”çš„å¯†ç ä¸º secretã€‚è¦è®¿é—® Neo4jï¼Œç”¨æµè§ˆå™¨è®¿é—® http://homestead.test:7474 åœ°å€ã€‚ä½ çš„ç«¯å£ 7687ï¼ˆBoltï¼‰ï¼Œ7474ï¼ˆHTTPï¼‰ï¼Œ7473ï¼ˆHTTPSï¼‰æ˜¯å‡†å¤‡å¥½æœåŠ¡æ¥è‡ª Neo4j å®¢æˆ·ç«¯çš„è¯·æ±‚çš„ã€‚ ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:2:8","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"åˆ«å ä½ å¯ä»¥é€šè¿‡åœ¨ä½ çš„ Homestead ç›®å½•ä¸‹ä¿®æ”¹ aliases æ–‡ä»¶æ·»åŠ  Bash åˆ«ååˆ°ä½ çš„ Homestead æœºå™¨ï¼š alias c='clear' alias ..='cd ..' éšåä½ éœ€è¦æ›´æ–° aliases æ–‡ä»¶ï¼Œä½ åº”å½“ä½¿ç”¨ vagrant reload --provision å‘½ä»¤é‡æ–°é…ç½® Homestead æœºå™¨ã€‚è¿™å°†ç¡®ä¿åœ¨æœºå™¨ä¸­ä½ çš„æ–°åˆ«åå¯ç”¨ã€‚ ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:2:9","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"è¸©è¿‡çš„å‘ è£…è½½ Homestead é•œåƒ å®˜æ–¹çš„å‘½ä»¤æ˜¯è¿™æ ·çš„ï¼Œå¦‚æœä½ è§‰å¾—æ‰§è¡Œä¸‹é¢å‘½ä»¤æ²¡é—®é¢˜ï¼Œé‚£ä½ çœŸæ˜¯ too young too simpleï¼Œæˆ‘å¯æ˜¯è¸©è¿‡å‘çš„ã€‚ $ vagrant box add laravel/homestead æ‰§è¡Œä¸Šé¢å‘½ä»¤åï¼Œä½ åœ¨ vagrant up æ˜¯æ—¶ä¼šé‡åˆ° Box 'laravel/homestead' could not be found è¿™ä¸ªä¸æ˜¯é—®é¢˜çš„é—®é¢˜ï¼Œæ€ä¹ˆåŠï¼Œä¸èƒ½å‡‰æ‹Œå§ã€‚ä¹Ÿå¥½åŠï¼Œä¸å°±æœç´¢å—? åˆ«æœäº†ï¼Œè·Ÿæˆ‘ä¸Šï¼š $ mkdir -pv ~/Homestead $ cd ~/Homestead $ git clone https://github.com/laravel/homestead.git æŸ¥çœ‹ä½ çš„ box åˆ—è¡¨ // `virtualbox` ç‰ˆæœ¬ä¸º `0` $ vagrant box list laravel/homestead (virtualbox, 0) // åˆ é™¤è¿™ä¸ªæ·»åŠ çš„ `box` $ vagrant box remove laravel/homestead åœ¨ ~/Homestead/scripts/homestead.rb æ–‡ä»¶ä¸­æœ‰è¿™ä¹ˆä¸€è¡Œï¼Œè¦æ±‚ç‰ˆæœ¬å¿…é¡»æ˜¯å¤§äº 4.0.0ï¼Œæ€ä¹ˆæ ·ï¼Œæˆ‘æ²¡éª—ä½ å§ï¼Œç‰ˆæœ¬å±…ç„¶ä¸ä¸€è‡´ã€‚å°æ„æ€ï¼Œæ”¹ä¸‹ç‰ˆæœ¬å·å˜›ï¼Œå¯åˆ«ï¼Œå’±èƒ½ä¸ç¢°ä»£ç å°±ä¸ç¢°ï¼š config.vm.box_version = settings[\"version\"] ||= \"\u003e= 4.0.0\" æ‰“å¼€å…‹éš†çš„é¡¹ç›®ï¼Œæ ¹ç›®å½•åˆ›å»º Homestead.json æ–‡ä»¶ï¼Œæ–‡ä»¶å¡«å…¥ä»¥ä¸‹å†…å®¹ { \"name\": \"laravel/homestead\", \"versions\": [{ \"version\": \"5.0.1\", \"providers\": [{ \"name\": \"virtualbox\", \"url\": \"file:///path/to/homestead-virtualbox.box\" }] }] } å¥½äº†ï¼Œèµ°ä¸€ä¸ªè¯•è¯• $ vagrant box add Homestead.json $ vagrant box list laravel/homestead (virtualbox, 5.0.1) å¿…é¡»å§æ§½å‘€ï¼Œç‰ˆæœ¬å·å›æ¥äº†ï¼Œå¥½äº†ï¼Œæˆ‘ä»¬å‡ºå‘ ç”Ÿæˆ key $ mkdir -pv ~/.ssh/homestead // æ–‡ä»¶è·¯å¾„åŠåç§°ä¸º: ~/.ssh/homestead/homestead_rsa $ ssh-keygen -t rsa -C \"lumen@homestead\" é…ç½® è¿™ä¸ªåŸºæœ¬ä¸Šæ˜¯åœ¨ä¿®æ”¹ ~/Homestead/Vagrantfile æ–‡ä»¶ --- ip: \"192.168.10.10\" memory: 2048 cpus: 1 provider: virtualbox authorize: ~/.ssh/homestead/homestead_rsa.pub keys: - ~/.ssh/homestead/homestead_rsa folders: - map: ~/Codes to: /home/vagrant/workspace sites: - map: dev.lumen.com to: /home/vagrant/workspace/lumen/public databases: - homestead # blackfire: # - id: foo # token: bar # client-id: foo # client-token: bar # ports: # - send: 50000 # to: 5000 # - send: 7777 # to: 777 # protocol: udp å¯åŠ¨å¹¶è¿›å…¥è™šæ‹Ÿæœº // å¯åŠ¨ $ vagrant up // ç™»å½•è™šæ‹Ÿæœº $ vagrant ssh Welcome to Ubuntu 16.04.5 LTS (GNU/Linux 4.4.0-101-generic x86_64) * Documentation: https://help.ubuntu.com * Management: https://landscape.canonical.com * Support: https://ubuntu.com/advantage 102 packages can be updated. 29 updates are security updates. Last login: Thu Aug 30 13:32:04 2018 from 10.0.2.2 ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:2:10","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"æ—¥å¸¸æ“ä½œ ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:3:0","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"å…¨å±€è®¿é—® Homestead æœ‰æ—¶ä½ æƒ³æ–‡ä»¶ç³»ç»Ÿçš„ä»»ä½•åœ°æ–¹ vagrant up ä½ çš„ Homestead æœºå™¨ã€‚ä½ èƒ½è¿™æ ·åšï¼Œåœ¨ Mac / Linux ç³»ç»Ÿä¸Šé€šè¿‡æ·»åŠ ä¸€ä¸ª Bash å‡½æ•°åˆ°ä½ çš„ Bash ç®€ä»‹ä¸­ã€‚åœ¨ Windows ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡æ·»åŠ ä¸€ä¸ªã€batchã€æ–‡ä»¶åˆ° PATH æ¥å®Œæˆè¿™ä¸ªæ“ä½œã€‚è¿™äº›è„šæœ¬å°†å…è®¸ä½ åœ¨ä½ çš„ç³»ç»Ÿçš„ä»»ä½•åœ°æ–¹è¿è¡Œä»»ä½• Vagrant å‘½ä»¤ï¼Œå¹¶è‡ªåŠ¨å°†è¯¥å‘½ä»¤æŒ‡å‘ä½ çš„ Homestead å®‰è£…ç›®å½•ï¼š Mac / Linux function homestead() { ( cd ~/Homestead \u0026\u0026 vagrant $* ) } ç¡®ä¿å‡½æ•°ä¸­çš„ ~/Homestead è·¯å¾„è°ƒæ•´åˆ°å®é™… çš„ Homestead å®‰è£…çš„ä½ç½®ã€‚ä¸€æ—¦è¯¥å‡½æ•°è¢«å®‰è£…ï¼Œä½ å¯ä»¥ä»ä½ çš„ç³»ç»Ÿçš„ä»»ä½•ä½ç½®è¿è¡Œåƒ homestead up æˆ–è€… homestead ssh å‘½ä»¤ã€‚ Windows åœ¨ä½ çš„æœºå™¨çš„ä»»ä½•ä½ç½®åˆ›å»ºä¸€ä¸ªå¦‚ä¸‹å†…å®¹çš„ homestead.bat æ‰¹å¤„ç†æ–‡ä»¶ï¼š @echo off set cwd=%cd% set homesteadVagrant=C:\\Homestead cd /d %homesteadVagrant% \u0026\u0026 vagrant %* cd /d %cwd% set cwd= set homesteadVagrant= ç¡®ä¿åœ¨è„šæœ¬ä¸­çš„å®ä¾‹ C:\\Homestead è·¯å¾„è°ƒæ•´ä¸º Homestead å®é™…å®‰è£…çš„ä½ç½®ã€‚åˆ›å»ºæ–‡ä»¶ä¹‹åï¼Œé’ˆæ–‡ä»¶æ·»åŠ åˆ° PATH ä¸­ã€‚ç„¶åï¼Œä½ å¯ä»¥åœ¨ä½ çš„ç³»ç»Ÿçš„ä»»ä½•åœ°æ–¹è¿è¡Œåƒ homestead up æˆ–è€… homestead ssh ä¹‹ç±»çš„å‘½ä»¤ã€‚ ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:3:1","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"é€šè¿‡ SSH è¿æ¥ ä½ èƒ½ä»ä½ çš„ Homestead ç›®å½•ä¸­é€šè¿‡åœ¨ç»ˆç«¯ä¸­å‘é€ vagrant ssh å‘½ä»¤æ¥ SSH åˆ°ä½ çš„è™šæ‹Ÿæœºä¸­ã€‚ ä½†æ˜¯ï¼Œç”±äºä½ å¯èƒ½éœ€è¦ç»å¸¸ SSH åˆ°ä½ çš„ Homestead æœºå™¨ï¼Œè€ƒè™‘å°†ä¸Šé¢çš„ã€functionã€ æ·»åŠ åˆ°ä¸»æœºä»¥å¿«é€Ÿ SSH åˆ° Homestead ç›’å­ä¸­ã€‚ ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:3:2","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"æ•°æ®åº“è¿æ¥ ä¸€ä¸ª homestead æ•°æ®åº“é…ç½®äº†å¼€ç®±å³ç”¨çš„ MySQL å’Œ PostgreSQLã€‚ä¸ºäº†æ›´åŠ æ–¹ä¾¿ï¼ŒLaravel çš„ .env æ–‡ä»¶é…ç½®åˆ°æ¡†æ¶ä»¥å¼€ç®±å³ç”¨æ­¤æ•°æ®åº“ã€‚ è¦ä»ä½ çš„ä¸»æœºçš„æ•°æ®åº“å®¢æˆ·ç«¯è¿æ¥åˆ°ä½ çš„ MySQL æˆ–è€… PostgreSQL æ•°æ®åº“ï¼Œä½ åº”å½“è¿æ¥ 127.0.0.1 å’Œç«¯å£ä¸º 33060ï¼ˆMySQLï¼‰æˆ–è€… 54320ï¼ˆPostgreSQLï¼‰ã€‚ä¸¤ä¸ªæ•°æ®åº“çš„ç”¨æˆ·åå’Œå¯†ç æ˜¯ homestead / secretã€‚ {% note danger %} å½“ä»ä½ çš„ä¸»æœºè¿æ¥åˆ°æ•°æ®åº“æ—¶ï¼Œä½ åº”å½“ä»…ä½¿ç”¨è¿™äº›éæ ‡å‡†ç«¯å£ã€‚ç”±äº Laravel åœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œã€‚ä½ å°†åœ¨ä½ çš„ Laravel æ•°æ®åº“é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨é»˜è®¤çš„ 3306 å’Œ 5532 ç«¯å£ã€‚ {% endnote %} ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:3:3","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"æ•°æ®åº“å¤‡ä»½ å½“ä½ çš„ Vagrant ç›’å­é”€æ¯æ—¶ï¼ŒHomestead èƒ½è‡ªåŠ¨å¤‡ä»½ä½ çš„æ•°æ®åº“ã€‚ä¸ºäº†ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œä½ å¿…é¡»ä½¿ç”¨ Vagrant 2.1.0 æˆ–è€…æ›´é«˜çš„ç‰ˆæœ¬ã€‚æˆ–è€…ï¼Œå¦‚æœä½ ä½¿ç”¨ä¸€ä¸ªæ—§ç‰ˆæœ¬çš„ Vagrantï¼Œä½ å¿…é¡»å®‰è£… vagrant-triggers æ’ä»¶ã€‚ä¸ºäº†å¼€å¯è‡ªåŠ¨æ•°æ®åº“å¤‡ä»½ï¼Œæ·»åŠ å¦‚ä¸‹çš„è¡Œåˆ°ä½ çš„ Homestead.yaml æ–‡ä»¶ï¼š backup: true ä¸€æ—¦é…ç½®äº†ï¼Œå½“ vagrant destroy å‘½ä»¤è¢«æ‰§è¡Œæ—¶ï¼ŒHomestead å°†å¯¼å‡ºä½ çš„æ•°æ®åº“åˆ° mysql_backup å’Œ postgres_backup ç›®å½•ã€‚å¦‚æœä½ ä½¿ç”¨ per project installation æ–¹æ³•ï¼Œåˆ™å¯ä»¥åœ¨å…‹éš†çš„ Homestead æˆ–è€…åœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•ä¸­æ‰¾åˆ°è¿™äº›ç›®å½•ã€‚ ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:3:4","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"æ·»åŠ é¢å¤–çš„ç«™ç‚¹ ä¸€æ—¦ä½ çš„ Homestead ç¯å¢ƒå·²é…ç½®å¹¶è¿è¡Œï¼Œä½ å¯ä»¥ä¸ºä½ çš„ Laravel åº”ç”¨æ·»åŠ é¢å¤–çš„ Nginx ç«™ç‚¹ã€‚ä½ èƒ½åœ¨ä½ å¸Œæœ›çš„å•ä¸ª Homestead ç¯å¢ƒè¿è¡Œå¤šä¸ª Laravel å®‰è£…ã€‚è¦æ·»åŠ é¢å¤–çš„ç«™ç‚¹ï¼Œåœ¨ä½ çš„ Homestead.yaml æ–‡ä»¶ä¸­æ·»åŠ ç«™ç‚¹ï¼š sites: - map: homestead.test to: /home/vagrant/code/Laravel/public - map: another.test to: /home/vagrant/code/another/public å¦‚æœ Vagrant ä¸èƒ½è‡ªåŠ¨ç®¡ç†ä½ çš„ã€hostsã€æ–‡ä»¶ï¼Œä½ å¯èƒ½è¿˜éœ€è¦æ·»åŠ æ–°çš„ç«™ç‚¹åˆ°è¯¥æ–‡ä»¶ä¸­ï¼š 192.168.10.10 homestead.test 192.168.10.10 another.test ä¸€æ—¦è¿™ä¸ªç«™ç‚¹è¢«æ·»åŠ ï¼Œä»ä½ çš„ Homestead ç›®å½•è¿è¡Œ vagrant reload --provision å‘½ä»¤ã€‚ ç«™ç‚¹ç±»å‹ Homestead æ”¯æŒå¤šç§ç±»å‹çš„ç«™ç‚¹ï¼Œå…è®¸ä½ è½»æ¾è¿è¡Œä¸æ˜¯åŸºäº Laravel çš„é¡¹ç›®ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ symfony2 ç«™ç‚¹ç±»å‹è½»æ¾åœ°æ·»åŠ ä¸€ä¸ª Symfony åº”ç”¨åˆ° Homesteadï¼š sites: - map: symfony2.test to: /home/vagrant/code/Symfony/web type: \"symfony2\" å¯ç”¨çš„ç«™ç‚¹ç±»å‹æ˜¯ï¼šapacheï¼Œapigilityï¼Œexpressiveï¼Œlaravelï¼ˆé»˜è®¤ï¼‰ï¼Œproxyï¼Œsilverstripeï¼Œstatamicï¼Œsymfony2ï¼Œsymfony4ï¼Œå’Œ zfã€‚ ç«™ç‚¹å‚æ•° ä½ å¯ä»¥é€šè¿‡ params ç«™ç‚¹æŒ‡ä»¤æ·»åŠ é¢å¤–çš„ Nginx fastcgi_param å€¼åˆ°ä½ çš„ç«™ç‚¹ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æ·»åŠ ä¸€ä¸ªå€¼ä¸º BAR çš„ Foo å‚æ•°ï¼š sites: - map: homestead.test to: /home/vagrant/code/Laravel/public params: - key: FOO value: BAR ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:3:5","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"ç¯å¢ƒå˜é‡ ä½ èƒ½é€šè¿‡æ·»åŠ å¦‚ä¸‹çš„å€¼åˆ° Homestead.yaml æ–‡ä»¶æ¥è®¾ç½®å…¨å±€ç¯å¢ƒå˜é‡ï¼š variables: - key: APP_ENV value: local - key: FOO value: bar æ›´æ–° Homestead.yaml æ–‡ä»¶ä¹‹åï¼Œç¡®ä¿é€šè¿‡è¿è¡Œ vagrant reload --provision å‘½ä»¤é‡æ–°é…ç½®æœºå™¨ã€‚è¿™ä¸ªå°†æ›´æ–°æ‰€æœ‰å®‰è£… çš„ PHP ç‰ˆæœ¬çš„ PHP-FPM é…ç½®å¹¶ä¸º vagrant ç”¨æˆ·æ›´æ–°ç¯å¢ƒã€‚ ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:3:6","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"é…ç½®å®šæ—¶è®¡åˆ’ Laravel æä¾›äº†ä¸€ç§é€šè¿‡å•ä¸ªè®¡åˆ’å°†æ¯åˆ†é’Ÿè¿è¡Œ schedule:run Artisan å‘½ä»¤ schedule Cron jobs çš„ä¾¿æ·æ–¹å¼ã€‚schedule:run å‘½ä»¤å°†æ£€æŸ¥åœ¨ä½ çš„ App\\Console\\Kernel ç±»ä¸­å®šä¹‰çš„è®¡åˆ’æ¥å†³å®šå“ªä¸ªå·¥ä½œåº”å½“è¢«è¿è¡Œã€‚ å¦‚æœä½ æƒ³ä¸ºä¸€ä¸ª Homestead ç«™ç‚¹çš„ schedule:run å‘½ä»¤å»è¿è¡Œï¼Œå½“å®šä¹‰ç«™ç‚¹æ—¶ï¼Œä½ å¯ä»¥è®¾ç½® schedule é€‰é¡¹ä¸º trueï¼š sites: - map: homestead.test to: /home/vagrant/code/Laravel/public schedule: true ç«™ç‚¹çš„ Cron å·¥ä½œå°†è¢«å®šä¹‰åœ¨è™šæœºçš„ /etc/cron.d æ–‡ä»¶å¤¹ä¸‹ã€‚ ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:3:7","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"é…ç½® Mailhog Mailhog å…è®¸ä½ è½»æ¾åœ°æ•è·å¤–å‘çš„ç”µå­é‚®ä»¶å¹¶è¿›è¡Œæ£€æŸ¥å®ƒï¼Œè€Œå®é™…ä¸Šæ²¡æœ‰å°†å‘é€é‚®ä»¶ç»™æ”¶ä»¶äººã€‚å¼€å§‹ä½¿ç”¨æ—¶ï¼Œæ›´æ–°ä½ çš„ .env æ–‡ä»¶ä»¥ä½¿ç”¨ä»¥ä¸‹çš„é‚®ä»¶è®¾ç½®ï¼š MAIL_DRIVER=smtp MAIL_HOST=localhost MAIL_PORT=1025 MAIL_USERNAME=null MAIL_PASSWORD=null MAIL_ENCRYPTION=null ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:3:8","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"é…ç½® Minio Minio æ˜¯ä¸€ä¸ªå¼€æºçš„å¯¹è±¡å­˜å‚¨æœåŠ¡å™¨ï¼Œå…·æœ‰ä¸ Amazon S3 å…¼å®¹çš„ APIã€‚è¦å®‰è£… Minioï¼Œç”¨ä»¥ä¸‹çš„é…ç½®é€‰é¡¹æ›´æ–°ä½ çš„ Homestead.yaml æ–‡ä»¶ï¼š minio: true é»˜è®¤æƒ…å†µä¸‹ï¼ŒMinio ä¸ºç«¯å£ 9600 ä¸Šå¯ç”¨ã€‚ä½ å¯ä»¥è®¿é—® Minio æ§åˆ¶é¢æ¿é€šè¿‡è®¿é—® http://homestead:9600ã€‚é»˜è®¤è®¿é—®çš„é”®åæ˜¯ homesteadï¼ŒåŒæ—¶é»˜è®¤çš„å¯†é’¥æ˜¯ secretkeyã€‚å½“è®¿é—® Minioï¼Œä½ åº”å½“æ€»æ˜¯ä½¿ç”¨ us-east-1ã€‚ ä¸ºäº†ä½¿ç”¨ Minioï¼Œä½ å°†éœ€è¦åœ¨ä½ çš„ config/filesystems.php é…ç½®æ–‡ä»¶ä¸­è°ƒæ•´ S3 ç£ç›˜é…ç½®ã€‚ä½ å°†éœ€è¦æ·»åŠ  use_path_style_endpoint é€‰é¡¹åˆ°ç£ç›˜é…ç½®ï¼Œå¹¶å°† url é”®æ›´æ”¹ä¸º endpointï¼š 's3' =\u003e [ 'driver' =\u003e 's3', 'key' =\u003e env('AWS_ACCESS_KEY_ID'), 'secret' =\u003e env('AWS_SECRET_ACCESS_KEY'), 'region' =\u003e env('AWS_DEFAULT_REGION'), 'bucket' =\u003e env('AWS_BUCKET'), 'endpoint' =\u003e env('AWS_URL'), 'use_path_style_endpoint' =\u003e true ] æœ€åï¼Œç¡®ä¿ä½ çš„ .env æ–‡ä»¶æœ‰å¦‚ä¸‹çš„é€‰é¡¹ï¼š AWS_ACCESS_KEY_ID=homestead AWS_SECRET_ACCESS_KEY=secretkey AWS_DEFAULT_REGION=us-east-1 AWS_URL=http://homestead:9600 ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:3:9","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"ç«¯å£ é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚ä¸‹çš„ç«¯å£å°†è½¬å‘åˆ°ä½ çš„ Homestead ç¯å¢ƒï¼š SSHï¼š2222 -\u003e 22 ngrok UIï¼š4040 -\u003e 4040 HTTPï¼š8000 -\u003e 80 HTTPSï¼š44300 -\u003e 443 MySQLï¼š33060 -\u003e 3306 PostgreSQLï¼š54320 -\u003e 5432 MongoDBï¼š27017 -\u003e 27017 Mailhogï¼š8025 -\u003e 8025 Minioï¼š9600 -\u003e 9600 è½¬å‘é¢å¤–çš„ç«¯å£ å¦‚æœä½ æ„¿æ„ï¼Œä½ å¯ä»¥è½¬å‘é¢å¤–çš„ç«¯å£åˆ° Vagrant ç›’å­ï¼ŒåŒæ—¶ä¹ŸæŒ‡å®šä»–ä»¬çš„åè®®ï¼š ports: - send: 50000 to: 5000 - send: 7777 to: 777 protocol: udp ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:3:10","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"å…±äº«ä½ çš„ç¯å¢ƒ æœ‰æ—¶ä½ å¸Œæœ›å…±äº«ä½ å½“å‰å·¥ä½œçš„å†…å®¹è·ŸåŒäº‹æˆ–å®¢æˆ·ã€‚Vagrant æœ‰å†…ç½®çš„æ–¹æ³•é€šè¿‡ vagrant share å»æ”¯æŒè¿™ä¸ªï¼›ç„¶è€Œï¼Œå¦‚æœä½ æœ‰å¤šä¸ªç«™ç‚¹åœ¨ä½ çš„ Homestead.yaml æ–‡ä»¶ä¸­é…ç½®è¿‡ï¼Œè¿™ä¸ªå°†ä¸ä¼šå·¥ä½œã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒHomestead åŒ…å«å®ƒè‡ªå·±çš„ share å‘½ä»¤ã€‚å¼€å§‹ï¼Œé€šè¿‡ SSH å³ vagrant ssh å‘½ä»¤è¿›å…¥åˆ°ä½ çš„ Homestead æœºå™¨å¹¶è¿è¡Œ share homestead.testã€‚è¿™ä¸ªå°†ä»ä½ çš„ Homestead.yaml é…ç½®æ–‡ä»¶ä¸­åˆ†äº« homestead.test ç«™ç‚¹ã€‚å½“ç„¶ï¼Œä½ å¯ä»¥å°†ä»»ä½•å…¶å®ƒé…ç½®çš„ç«™ç‚¹æ›¿æ¢ä¸º homestead.testï¼š share homestead.test è¿è¡Œæ­¤å‘½ä»¤ä¹‹åï¼Œä½ å°†çœ‹åˆ°ä¸€ä¸ª Ngrok å±å¹•å‡ºç°ï¼Œå…¶ä¸­åŒ…å«äº†æ´»åŠ¨æ—¥å¿—å’Œå…±äº«ç«™ç‚¹çš„å¯è®¿é—®çš„ URLã€‚å¦‚æœä½ æƒ³æŒ‡å®šä¸€ä¸ªè‡ªå®šä¹‰çš„åŒºåŸŸï¼Œå­åŸŸï¼Œæˆ–è€…å…¶å®ƒ Ngrok è¿è¡Œæ—¶é€‰é¡¹ï¼Œä½ å¯ä»¥æ·»åŠ ä»–ä»¬åˆ°ä½ çš„ share å‘½ä»¤ï¼š share homestead.test -region=eu -subdomain=laravel {% note danger %} è®°ä½ï¼ŒVagrant æœ¬è´¨ä¸Šæ˜¯ä¸å®‰å…¨çš„ï¼Œå¹¶ä¸”åœ¨è¿è¡Œ share æ—¶å°†è™šæ‹Ÿæœºæ˜¾éœ²ç»™äº’è”ç½‘ã€‚ {% endnote %} ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:3:11","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"å¤šç‰ˆæœ¬ PHP {% note danger %} è¿™ä¸ªåŠŸèƒ½ä»…å…¼å®¹ Nginxã€‚ {% endnote %} Homestead 6 åœ¨åŒä¸€ä¸ªè™šæ‹Ÿæœºä¸Šå¼•å…¥äº†å¯¹å¤šä¸ª PHP ç‰ˆæœ¬çš„æ”¯æŒã€‚ä½ å¯ä»¥åœ¨ä½ çš„ Homestead.yaml æ–‡ä»¶ä¸­æŒ‡å®šè¦ç”¨äºç»™å®šç«™ç‚¹çš„ PHP ç‰ˆæœ¬ã€‚å¯ç”¨çš„ PHP ç‰ˆæœ¬æ˜¯ï¼šã€5.6ã€ï¼Œã€7.0ã€ï¼Œã€7.1ã€å’Œã€7.2ã€ï¼ˆé»˜è®¤ï¼‰ï¼š sites: - map: homestead.test to: /home/vagrant/code/Laravel/public php: \"5.6\" å¦å¤–ï¼Œä½ å¯ä»¥é€šè¿‡ CLI ä½¿ç”¨ä»»ä½• PHP æ”¯æŒçš„ç‰ˆæœ¬ï¼š php5.6 artisan list php7.0 artisan list php7.1 artisan list php7.2 artisan list è®¾ç½® Cli ä¸‹é»˜è®¤çš„ PHP ç‰ˆæœ¬ï¼š // æŸ¥çœ‹æ‰€æœ‰ php ç‰ˆæœ¬å’Œå½“å‰ç‰ˆæœ¬ update-alternatives --display php // æ‰§è¡Œåï¼Œä¼šåˆ—å‡ºå½“å‰ php æ‰€æœ‰ç‰ˆæœ¬å’Œç¼–å·ï¼Œè¾“å…¥ç¼–å·ï¼Œåˆ‡æ¢åˆ°æ‰§è¡Œçš„ç‰ˆæœ¬ update-alternatives --config php ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:3:12","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"Web æœåŠ¡å™¨ é»˜è®¤æƒ…å†µä¸‹ï¼ŒHomestead ä½¿ç”¨ Nginx Web æœåŠ¡å™¨ã€‚ç„¶è€Œï¼Œå¦‚æœ apache æ˜¯æŒ‡å®šçš„ä¸€ä¸ªç«™ç‚¹ç±»å‹ï¼Œå®ƒèƒ½å®‰è£… Apacheã€‚åŒæ—¶ä¸¤ä¸ª Web æœåŠ¡å™¨åœ¨åŒæ—¶è¢«å®‰è£…ï¼Œä»–ä»¬ä¸èƒ½åŒæ—¶è¿è¡Œã€‚flip è„šæœ¬å‘½ä»¤å¯ç”¨æ¥æ˜“äºå¤„ç† Web æœåŠ¡å™¨ä¹‹é—´çš„åˆ‡æ¢ã€‚flip å‘½ä»¤è‡ªåŠ¨ç¡®å®šæ­£åœ¨è¿è¡Œçš„ Web æœåŠ¡å™¨ï¼Œå°†å…¶å…³é—­ã€‚ç„¶åå¯åŠ¨åˆ«ä¸€å°æœåŠ¡å™¨ã€‚è¦ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼ŒSSH è¿›å…¥åˆ°ä½ çš„ Homestead æœºå™¨å¹¶åœ¨ç»ˆç«¯è¿è¡Œå‘½ä»¤ï¼š flip ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:3:13","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"é‚®ä»¶ Homestead åŒ…æ‹¬ Postfix é‚®ä»¶ä¼ è¾“ä»£ç†ï¼Œé»˜è®¤ç›‘å¬ 1025 ç«¯å£ã€‚å› æ­¤ï¼Œä½ å¯ä»¥æŒ‡ç¤ºä½ çš„åº”ç”¨ç¨‹åºåœ¨ localhost ç«¯å£ 1025 ä¸Šä½¿ç”¨ smtp é‚®ä»¶é©±åŠ¨ã€‚æ‰€æœ‰å‘é€çš„é‚®ä»¶å°†ç”± Postfix å¤„ç†å¹¶ç”± Mailhog æ•è·ã€‚è¦æŸ¥çœ‹å·²å‘é€çš„é‚®ä»¶ï¼Œåœ¨ Web æµè§ˆå™¨ä¸­æ‰“å¼€ http://localhost:8025ã€‚ ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:3:14","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"ç½‘ç»œæ¥å£ Homestead.yaml ä¸­çš„ networks å±æ€§ä¸ºä½ çš„ Homestead ç¯å¢ƒé…ç½®ç½‘ç»œæ¥å£ã€‚ä½ å¯ä»¥æ ¹æ®éœ€è¦é…ç½®å¤šä¸ªæ¥å£ï¼š networks: - type: \"private_network\" ip: \"192.168.10.20\" è¦å¼€å¯ä¸€ä¸ª bridged æ¥å£ï¼Œé…ç½® bridge è®¾ç½®å¹¶æ”¹å˜ public_network ç½‘ç»œç±»å‹ï¼š networks: - type: \"public_network\" ip: \"192.168.10.20\" bridge: \"en1: Wi-Fi (AirPort)\" è¦å¼€å¯ DHCPï¼Œä»…ä»ä½ çš„é…ç½®ä¸­ç§»é™¤ ip é€‰é¡¹ï¼š networks: - type: \"public_network\" bridge: \"en1: Wi-Fi (AirPort)\" ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:4:0","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"æ›´æ–° Homestead ä½ èƒ½é€šè¿‡ä¸¤ä¸ªç®€å•çš„æ­¥éª¤æ›´æ–° Homesteadã€‚é¦–å…ˆï¼Œä½ åº”å½“æ›´æ–° Vagrant ç›’å­ä½¿ç”¨ vagrant box update å‘½ä»¤ï¼š $ vagrant box update æ¥ä¸‹æ¥ï¼Œä½ éœ€è¦å»æ›´æ–° Homestead æºä»£ç ã€‚å¦‚æœä½ å…‹éš†è¿‡ä»“åº“ï¼Œä½ èƒ½åœ¨æœ€åˆå…‹éš†ä»“åº“çš„ä½ç½® git pull origin masterã€‚ å¦‚æœä½ é€šè¿‡ä½ çš„é¡¹ç›®çš„ composer.json å®‰è£… Homesteadï¼Œä½ åº”å½“ç¡®ä¿ä½ çš„ composer.json åŒ…å« \"laravel/homestead\": \"^7\" å¹¶æ›´æ–°ä½ çš„ä¾èµ–ï¼š $ composer update ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:5:0","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"æä¾›æŒ‡å®šçš„è®¾ç½® ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:6:0","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"VirtualBox é»˜è®¤æƒ…å†µä¸‹ï¼ŒHomestead å°† natdnshostresolver é…ç½®è®¾ç½®ä¸º onã€‚è¿™å…è®¸ Homestead å»ä½¿ç”¨ä½ çš„ä¸»æœºæ“ä½œç³»ç»Ÿçš„ DNS è®¾ç½®ã€‚å¦‚æœä½ ä¸æƒ³è¦†ç›–è¿™ä¸ªè¡Œä¸ºï¼Œæ·»åŠ å¦‚ä¸‹çš„è¡Œåˆ°ä½ çš„ Homestead.yaml æ–‡ä»¶ï¼š provider: virtualbox natdnshostresolver: off ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:6:1","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"ç¬¦å·é“¾æ¥åœ¨ Windows å¦‚æœç¬¦å·é“¾æ¥åœ¨ä½ çš„ Windows æœºå™¨ä¸Šæ— æ³•æ­£å¸¸å·¥ä½œï¼Œä½ å¯èƒ½éœ€è¦æ·»åŠ ä»¥ä¸‹çš„å—åˆ° Vagrantfile æ–‡ä»¶ï¼š config.vm.provider \"virtualbox\" do |v| v.customize [\"setextradata\", :id, \"VBoxInternal2/SharedFoldersEnableSymlinksCreate/v-root\", \"1\"] end ","date":"2018-01-21","objectID":"/2018/01/21/mac-homestead/:6:2","tags":["Mac"],"title":"Mac æ­å»º Homestead é›†æˆå¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-homestead/"},{"categories":["Mac"],"content":"ç®€ä»‹ MNMP æ˜¯ macOS, Nginx, MySQL, PHP ç»„åˆå¼€å‘ç¯å¢ƒçš„ç®€ç§° ","date":"2018-01-21","objectID":"/2018/01/21/mac-mnmp/:1:0","tags":["Mac"],"title":"Mac æ‰“é€  PHP å¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-mnmp/"},{"categories":["Mac"],"content":"Mac å‡†å¤‡ è¯·å…ˆå®‰è£… Homebrew - The missing package manager for macOS ","date":"2018-01-21","objectID":"/2018/01/21/mac-mnmp/:2:0","tags":["Mac"],"title":"Mac æ‰“é€  PHP å¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-mnmp/"},{"categories":["Mac"],"content":"æ—§çš„å®‰è£…æ–¹å¼ Homebrew/php deprecation #4721 è¿™ç§å®‰è£…æ–¹å¼å·²ç»ä¸è¢«æ¨èï¼Œç›¸å…³çš„ Formula å·²ç»è¢«è¿ç§»åˆ° homebrew-core ä¸‹ $ brew tap homebrew/dupes $ brew tap homebrew/versions $ brew tap homebrew/php $ brew tap homebrew/homebrew-php ","date":"2018-01-21","objectID":"/2018/01/21/mac-mnmp/:2:1","tags":["Mac"],"title":"Mac æ‰“é€  PHP å¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-mnmp/"},{"categories":["Mac"],"content":"æ–°çš„å®‰è£…æ–¹å¼ php: import from homebrew/php #16067 é»˜è®¤äº†ä¸€äº›å¿…è¦çš„æ‰©å±•ï¼ˆopcache/openssl ç­‰ï¼‰ å…¶å®ƒæ‰©å±•é€šè¿‡ pecl å»å®‰è£… ","date":"2018-01-21","objectID":"/2018/01/21/mac-mnmp/:2:2","tags":["Mac"],"title":"Mac æ‰“é€  PHP å¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-mnmp/"},{"categories":["Mac"],"content":"Nginx å®‰è£… $ brew info nginx $ brew install nginx ","date":"2018-01-21","objectID":"/2018/01/21/mac-mnmp/:3:0","tags":["Mac"],"title":"Mac æ‰“é€  PHP å¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-mnmp/"},{"categories":["Mac"],"content":"æ“ä½œ $ sudo brew services start nginx $ sudo brew services restart nginx $ sudo brew services stop nginx ","date":"2018-01-21","objectID":"/2018/01/21/mac-mnmp/:3:1","tags":["Mac"],"title":"Mac æ‰“é€  PHP å¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-mnmp/"},{"categories":["Mac"],"content":"å¼€æœºè¿è¡Œ $ cp /usr/local/opt/nginx/homebrew.mxcl.nginx.plist ~/Library/LaunchAgents/ $ launchctl load -w ~/Library/LaunchAgents/homebrew.mxcl.nginx.plist ","date":"2018-01-21","objectID":"/2018/01/21/mac-mnmp/:3:2","tags":["Mac"],"title":"Mac æ‰“é€  PHP å¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-mnmp/"},{"categories":["Mac"],"content":"å‚è€ƒ Full Example Configuration ","date":"2018-01-21","objectID":"/2018/01/21/mac-mnmp/:3:3","tags":["Mac"],"title":"Mac æ‰“é€  PHP å¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-mnmp/"},{"categories":["Mac"],"content":"MySQL å®‰è£… $ brew install mysql $ unset TMPDIR $ mysqld --initialize-insecure --explicit_defaults_for_timestamp=1 --user=`whoami` --basedir=\"$(brew --prefix mysql)\" --datadir=/usr/local/var/mysql --tmpdir=/tmp $ mysql_secure_installation ","date":"2018-01-21","objectID":"/2018/01/21/mac-mnmp/:4:0","tags":["Mac"],"title":"Mac æ‰“é€  PHP å¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-mnmp/"},{"categories":["Mac"],"content":"PHP å®‰è£… ","date":"2018-01-21","objectID":"/2018/01/21/mac-mnmp/:5:0","tags":["Mac"],"title":"Mac æ‰“é€  PHP å¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-mnmp/"},{"categories":["Mac"],"content":"æ—§çš„å®‰è£…æ–¹å¼ $ brew info php71 $ brew install php71 ","date":"2018-01-21","objectID":"/2018/01/21/mac-mnmp/:5:1","tags":["Mac"],"title":"Mac æ‰“é€  PHP å¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-mnmp/"},{"categories":["Mac"],"content":"æ–°çš„å®‰è£…æ–¹å¼ $ brew info php@7.1 $ brew install php@7.1 ","date":"2018-01-21","objectID":"/2018/01/21/mac-mnmp/:5:2","tags":["Mac"],"title":"Mac æ‰“é€  PHP å¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-mnmp/"},{"categories":["Mac"],"content":"PHP-FPM: Configuration the Listen Directive PHP-FPM: Configuration the Listen Directive Unix Sockets // www.conf listen = /var/run/php71-fpm.sock listen.owner = www-data listen.group = www-data // nginx.conf fastcgi_pass unix:/var/run/php71-fpm.sock; TCP Sockets // www.conf Listen 127.0.0.1:9000 listen.allowed_clients = 127.0.0.1 // nginx.conf fastcgi_pass 127.0.0.1:9000; ","date":"2018-01-21","objectID":"/2018/01/21/mac-mnmp/:5:3","tags":["Mac"],"title":"Mac æ‰“é€  PHP å¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-mnmp/"},{"categories":["Mac"],"content":"æ‰©å±•å®‰è£… æ—§çš„æ‰©å±•å®‰è£…æ–¹å¼ æ­£å¸¸æ‰©å±•çš„å®‰è£… // Redis $ brew install --HEAD homebrew/php/php71-redis // Memcached $ brew install --HEAD homebrew/php/php71-memcached // Opcache $ brew install php71-opcache // Phalcon $ brew install php71-phalcon // Mongodb $ brew install php71-mongodb ç‰¹æ®Šæ‰©å±•çš„å®‰è£… Intl æ‰©å±•å®‰è£… #4386 php70-intl #4139 php70-intl sierra bottle not installing config file #2544 php**-intl broken after ï»¿ï»¿icu4c upgrade // php71 $ brew install php71-intl // php70 $ brew install -s php70-intl æ–°çš„æ‰©å±•å®‰è£…æ–¹å¼ æ­£å¸¸æ‰©å±•çš„å®‰è£… å¿…è¦æ˜¯è¯·ä½¿ç”¨ sudo æ‰§è¡Œ // Igbinary $ pecl install igbinary // Mongodb $ pecl install mongodb // Redis $ pecl install redis // Memcached $ pecl install memcached // Xdebug $ pecl install xdebug ç‰¹æ®Šæ‰©å±•çš„å®‰è£… Phalcon å®‰è£… $ which php $ git clone https://github.com/phalcon/cphalcon $ cd cphalcon/build/php7/64bits $ sudo /usr/local/opt/php@7.1/bin/phpize $ sudo ./configure --with-php-config=/usr/local/opt/php@7.1/bin/php-config $ cd /usr/local/include $ ls -s ../opt/openssl/include/openssl . $ cd - $ sudo make $ sudo make install ","date":"2018-01-21","objectID":"/2018/01/21/mac-mnmp/:5:4","tags":["Mac"],"title":"Mac æ‰“é€  PHP å¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-mnmp/"},{"categories":["Mac"],"content":"è·¯å¾„ å°†ç¯å¢ƒå˜é‡æ·»åŠ åˆ° ~/.zshrc æˆ–è€… ~/.bashrc ä¸­å¹¶è¿›è¡Œ source ~/.zshrc æˆ–è€… source ~/.bashrc ","date":"2018-01-21","objectID":"/2018/01/21/mac-mnmp/:5:5","tags":["Mac"],"title":"Mac æ‰“é€  PHP å¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-mnmp/"},{"categories":["Mac"],"content":"æ—§çš„è·¯å¾„ export PATH=\"$(brew --prefix homebrew/php/php71)/bin:$PATH\" export PATH=\"$(brew --prefix php71)/sbin:$PATH\" ","date":"2018-01-21","objectID":"/2018/01/21/mac-mnmp/:5:6","tags":["Mac"],"title":"Mac æ‰“é€  PHP å¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-mnmp/"},{"categories":["Mac"],"content":"æ–°çš„è·¯å¾„ export PATH=\"/usr/local/opt/php@7.1/bin:$PATH\" export PATH=\"/usr/local/opt/php@7.1/sbin:$PATH\" ","date":"2018-01-21","objectID":"/2018/01/21/mac-mnmp/:5:7","tags":["Mac"],"title":"Mac æ‰“é€  PHP å¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-mnmp/"},{"categories":["Mac"],"content":"æ“ä½œ $ brew services start php71 $ brew services restart php71 $ brew services stop php71 ","date":"2018-01-21","objectID":"/2018/01/21/mac-mnmp/:5:8","tags":["Mac"],"title":"Mac æ‰“é€  PHP å¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-mnmp/"},{"categories":["Mac"],"content":"å¼€æœºè¿è¡Œ $ cp /usr/local/opt/php71/homebrew.mxcl.php71.plist ~/Library/LaunchAgents/ $ launchctl load -w ~/Library/LaunchAgents/homebrew.mxcl.php71.plist ","date":"2018-01-21","objectID":"/2018/01/21/mac-mnmp/:5:9","tags":["Mac"],"title":"Mac æ‰“é€  PHP å¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-mnmp/"},{"categories":["Mac"],"content":"å¤šç‰ˆæœ¬ PHP å®‰è£…å¤šç‰ˆæœ¬ PHP $ brew unlink php[55,56,70,71...] $ brew install php[55,56,70,71...] åˆ‡æ¢ PHP ç‰ˆæœ¬ $ brew-php-switcher [55,56,70,71...] -s ","date":"2018-01-21","objectID":"/2018/01/21/mac-mnmp/:5:10","tags":["Mac"],"title":"Mac æ‰“é€  PHP å¼€å‘ç¯å¢ƒ","uri":"/2018/01/21/mac-mnmp/"},{"categories":["Mac"],"content":"Vagrant æ˜¯ä¸€ä¸ªåŸºäº Ruby çš„å·¥å…·ï¼Œç”¨äºåˆ›å»ºå’Œéƒ¨ç½²è™šæ‹ŸåŒ–å¼€å‘ç¯å¢ƒã€‚å®ƒä½¿ç”¨ Oracle çš„å¼€æº VirtualBox è™šæ‹ŸåŒ–ç³»ç»Ÿï¼Œä½¿ç”¨ Chef åˆ›å»ºè‡ªåŠ¨åŒ–è™šæ‹Ÿç¯å¢ƒã€‚ ","date":"2018-01-21","objectID":"/2018/01/21/mac-vagrant/:0:0","tags":["Mac"],"title":"Mac ä¸­è®©å¼€å‘æ›´åŠ å®¹æ˜“çš„ Vagrant","uri":"/2018/01/21/mac-vagrant/"},{"categories":["Mac"],"content":"å®‰è£… ","date":"2018-01-21","objectID":"/2018/01/21/mac-vagrant/:1:0","tags":["Mac"],"title":"Mac ä¸­è®©å¼€å‘æ›´åŠ å®¹æ˜“çš„ Vagrant","uri":"/2018/01/21/mac-vagrant/"},{"categories":["Mac"],"content":"å®‰è£… VirtualBox VirtualBox æˆ–è€… Parallels å®‰è£…å…¶ä¸€å°±å¯ä»¥äº† Download VirtualBox ","date":"2018-01-21","objectID":"/2018/01/21/mac-vagrant/:1:1","tags":["Mac"],"title":"Mac ä¸­è®©å¼€å‘æ›´åŠ å®¹æ˜“çš„ Vagrant","uri":"/2018/01/21/mac-vagrant/"},{"categories":["Mac"],"content":"å®‰è£… Parallels Vagrant Parallels Plugin ","date":"2018-01-21","objectID":"/2018/01/21/mac-vagrant/:1:2","tags":["Mac"],"title":"Mac ä¸­è®©å¼€å‘æ›´åŠ å®¹æ˜“çš„ Vagrant","uri":"/2018/01/21/mac-vagrant/"},{"categories":["Mac"],"content":"å®‰è£… Vagrant å®˜ç½‘ GitHub ","date":"2018-01-21","objectID":"/2018/01/21/mac-vagrant/:1:3","tags":["Mac"],"title":"Mac ä¸­è®©å¼€å‘æ›´åŠ å®¹æ˜“çš„ Vagrant","uri":"/2018/01/21/mac-vagrant/"},{"categories":["Mac"],"content":"å‘½ä»¤ ","date":"2018-01-21","objectID":"/2018/01/21/mac-vagrant/:2:0","tags":["Mac"],"title":"Mac ä¸­è®©å¼€å‘æ›´åŠ å®¹æ˜“çš„ Vagrant","uri":"/2018/01/21/mac-vagrant/"},{"categories":["Mac"],"content":"åŸºæœ¬æ“ä½œ // æ·»åŠ é•œåƒåˆ° Vagrant vagrant box add centos ~/.vagrant.d/boxes/vagrant-centos-7.1.box // åˆ›å»ºå¼€å‘ç›®å½•, åˆ‡æ¢ç›®å½• mkdir -pv ~/Vagrant/centos cd ~/Vagrant/centos // åˆå§‹åŒ– vagrant init centos // å¯åŠ¨ç¯å¢ƒ vagrant up // ç™»å½•è™šæ‹Ÿæœº vagrant ssh // å°†è™šæ‹ŸæœºæŒ‚èµ·, è™šæ‹Ÿæœºå†…å­˜éƒ½ä¿å­˜åˆ°ç¡¬ç›˜ä¸Š, ä¸‹æ¬¡å¯ä»¥å¿«é€Ÿæ¢å¤ vagrant suspend // å°†è™šæ‹Ÿæœºå…³é—­, è™šæ‹Ÿæœºå†…å­˜é‡Šæ”¾, ä¸‹æ¬¡å¯åŠ¨è¦æ…¢ä¸€ç‚¹ vagrant halt // å°†è™šæ‹Ÿæœºåˆ é™¤, æ‰€æœ‰å˜æ›´éƒ½ä¸¢å¤±, ä¸‹æ¬¡å¯åŠ¨è¦é‡æ–°å…‹éš†ä¸€ä¸ª VagrantBox vagrant destroy // ç§»é™¤è™šæ‹Ÿæœº vagrant box remove centos // è™šæ‹Ÿæœºæ‰“åŒ…ä¹‹å‰åˆ é™¤ä¸‹é¢çš„æ–‡ä»¶ sudo rm -rf /etc/udev/rules.d/70-persistent-ipoib(net).rules // è™šæ‹Ÿæœºæ‰“åŒ… vagrant package --base centos --output centos.box ","date":"2018-01-21","objectID":"/2018/01/21/mac-vagrant/:2:1","tags":["Mac"],"title":"Mac ä¸­è®©å¼€å‘æ›´åŠ å®¹æ˜“çš„ Vagrant","uri":"/2018/01/21/mac-vagrant/"},{"categories":["Mac"],"content":"å…¶å®ƒå‘½ä»¤ // æ·»åŠ åˆ«åä¸º centos çš„é•œåƒ vagrant box add centos ~/.vagrant.d/boxes/vagrant-centos-7.1.box // æŸ¥çœ‹æ‰€æœ‰æ·»åŠ çš„é•œåƒ vagrant box list // ç§»é™¤åˆ«åä¸º centos çš„é•œåƒ vagrant box remove centos // ç§»é™¤åç§°ä¸º bento/centos-7.2ï¼Œç‰ˆæœ¬ä¸º 2.3.0 çš„é•œåƒ vagrant box remove bento/centos-7.2 --box-version 2.3.0 // é‡è½½è™šæ‹Ÿæœº vagrant reload // é‡å¯è™šæ‹Ÿæœºå¹¶åº”ç”¨å¯¹ Vagrantfile çš„æ›´æ”¹ vagrant reload --provision // æ¢å¤è™šæ‹ŸæœºçŠ¶æ€ vagrant resume // ç™»å½•è™šæ‹Ÿæœº vagrant ssh // æŸ¥çœ‹è™šæ‹ŸæœºçŠ¶æ€ vagrant status // æš‚åœè™šæ‹Ÿæœº, ä¿å­˜çŠ¶æ€ vagrant suspend // æŸ¥çœ‹å…¨å±€çŠ¶æ€ vagrant global-status // é”€æ¯æŒ‡å®šçš„è™šæ‹Ÿæœºï¼ˆæ…ç”¨ï¼Œä¸€æ—¦æ‰§è¡Œï¼Œåˆ›å»ºçš„è™šæ‹Ÿæœºå°±ç°é£çƒŸç­äº†ï¼‰ vagrant destroy 1a2b3c4d // å‡çº§æ‰€æœ‰ Box vagrant box update ","date":"2018-01-21","objectID":"/2018/01/21/mac-vagrant/:2:2","tags":["Mac"],"title":"Mac ä¸­è®©å¼€å‘æ›´åŠ å®¹æ˜“çš„ Vagrant","uri":"/2018/01/21/mac-vagrant/"},{"categories":["Mac"],"content":"VirtualBox VBoxManage User Manual // åˆ—å‡ºå½“å‰ç³»ç»Ÿä¸­æ‰€æœ‰å¯ç”¨çš„è™šæ‹Ÿæœº VBoxManage list vms \"\u003cinaccessible\u003e\" {b457c29d-3eaf-4d19-8f38-7991c85aa43a} \"ubuntu_default_1588584023862_25557\" {eee17f07-35dc-4c48-bff9-8006bf3df55c} \"centos_default_1588597614517_34912\" {3c640794-da30-40b2-a155-c76b42c5cac7} // å…‹éš†è™šæ‹Ÿæœº VBoxManage clonevm --register ubuntu_default_1588584023862_25557 --name Ubuntu 0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100% Machine has been successfully cloned as \"Ubuntu\" // å°†æœ¬åœ°è™šæ‹Ÿæœºå¯¼å‡ºä¸ºä¸€ä¸ªä½¿ç”¨å¼€æ”¾è™šæ‹ŸåŒ–æ ¼å¼ï¼ˆOVF - Open Virtualization Formatï¼‰æ–‡ä»¶ VBoxManage export ubuntu_default_1588584023862_25557 -o Ubuntu.ova 0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100% Successfully exported 1 machine(s). // åˆ é™¤å…‹éš†çš„è™šæ‹Ÿæœº VBoxManage unregistervm --delete \"Ubuntu\" 0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100% // å¯¼å…¥è™šæ‹Ÿæœº VBoxManage import Ubuntu.ova --vsys 0 --vmname Ubuntu18 0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100% Interpreting /Users/majinyun/Downloads/qiniu/Ubuntu.ova... OK. Disks: vmdisk1 10737418240 -1 http://www.vmware.com/interfaces/specifications/vmdk.html#streamOptimized Ubuntu-disk001.vmdk -1 -1 vmdisk2 10485760 -1 http://www.vmware.com/interfaces/specifications/vmdk.html#streamOptimized Ubuntu-disk002.vmdk -1 -1 Virtual system 0: 0: Suggested OS type: \"Ubuntu_64\" (change with \"--vsys 0 --ostype \u003ctype\u003e\"; use \"list ostypes\" to list all possible values) 1: VM name specified with --vmname: \"Ubuntu18\" 2: Suggested VM group \"/\" (change with \"--vsys 0 --group \u003cgroup\u003e\") 3: Suggested VM settings file name \"/Users/majinyun/VirtualBoxVMs/ubuntu_default_1588584023862_25557 2/ubuntu_default_1588584023862_25557 2.vbox\" (change with \"--vsys 0 --settingsfile \u003cfilename\u003e\") 4: Suggested VM base folder \"/Users/majinyun/VirtualBoxVMs\" (change with \"--vsys 0 --basefolder \u003cpath\u003e\") 5: Number of CPUs: 2 (change with \"--vsys 0 --cpus \u003cn\u003e\") 6: Guest memory: 1024 MB (change with \"--vsys 0 --memory \u003cMB\u003e\") 7: Sound card (appliance expects \"\", can change on import) (disable with \"--vsys 0 --unit 7 --ignore\") 8: Network adapter: orig NAT, config 3, extra slot=0;type=NAT 9: Network adapter: orig HostOnly, config 3, extra slot=1;type=HostOnly 10: IDE controller, type PIIX4 (disable with \"--vsys 0 --unit 10 --ignore\") 11: IDE controller, type PIIX4 (disable with \"--vsys 0 --unit 11 --ignore\") 12: SCSI controller, type LsiLogic (change with \"--vsys 0 --unit 12 --scsitype {BusLogic|LsiLogic}\"; disable with \"--vsys 0 --unit 12 --ignore\") 13: Hard disk image: source image=Ubuntu-disk001.vmdk, target path=Ubuntu-disk001.vmdk, controller=12;channel=0 (change target path with \"--vsys 0 --unit 13 --disk path\"; disable with \"--vsys 0 --unit 13 --ignore\") 14: Hard disk image: source image=Ubuntu-disk002.vmdk, target path=Ubuntu-disk002.vmdk, controller=12;channel=1 (change target path with \"--vsys 0 --unit 14 --disk path\"; disable with \"--vsys 0 --unit 14 --ignore\") 0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100% Successfully imported the appliance. // æ˜¾ç¤ºæŒ‡å®šè™šæ‹Ÿæœºçš„è¯¦ç»†ä¿¡æ¯ VBoxManage showvminfo \"Ubuntu18\" Name: Ubuntu18 Groups: / Guest OS: Ubuntu (64-bit) UUID: 03d737bc-2e47-4130-aa0b-b6a80767b474 Config file: /Users/majinyun/VirtualBoxVMs/Ubuntu18/Ubuntu18.vbox Snapshot folder: /Users/majinyun/VirtualBoxVMs/Ubuntu18/Snapshots Log folder: /Users/majinyun/VirtualBoxVMs/Ubuntu18/Logs Hardware UUID: 03d737bc-2e47-4130-aa0b-b6a80767b474 Memory size 1024MB Page Fusion: disabled VRAM size: 16MB CPU exec cap: 100% HPET: disabled CPUProfile: host Chipset: piix3 Firmware: BIOS . . . // å¯åŠ¨è™šæ‹Ÿæœº VBoxManage startvm Ubuntu18 Waiting for VM \"Ubuntu18\" to power on... VM \"Ubuntu18\" has been successfully started. // å…³é—­è™šæ‹Ÿæœº VBoxManage controlvm Ubuntu18 poweroff 0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100% // åˆ é™¤å¯¼å…¥çš„è™šæ‹Ÿæœº VBoxManage unregistervm --delete \"Ubuntu18\" 0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100% ","date":"2018-01-21","objectID":"/2018/01/21/mac-vagrant/:3:0","tags":["Mac"],"title":"Mac ä¸­è®©å¼€å‘æ›´åŠ å®¹æ˜“çš„ Vagrant","uri":"/2018/01/21/mac-vagrant/"},{"categories":["Mac"],"content":"é—®é¢˜ ","date":"2018-01-21","objectID":"/2018/01/21/mac-vagrant/:4:0","tags":["Mac"],"title":"Mac ä¸­è®©å¼€å‘æ›´åŠ å®¹æ˜“çš„ Vagrant","uri":"/2018/01/21/mac-vagrant/"},{"categories":["Mac"],"content":"è§£å†³ç³»ç»Ÿæ›´æ–°åä¸èƒ½æŒ‚è½½å…±äº«ç›®å½• // è§£å†³ yum update æ›´æ–°å vagrant reload ä¸èƒ½æŒ‚è½½å…±äº«ç›®å½• sudo /etc/init.d/vboxadd setup å…±äº«ç›®å½•ä¸èƒ½æŒ‚è½½åˆ° vagrant ç›®å½• vagrant up é‡åˆ° mount no such device çš„é—®é¢˜ broken networking when packaging ubuntu boxes ","date":"2018-01-21","objectID":"/2018/01/21/mac-vagrant/:4:1","tags":["Mac"],"title":"Mac ä¸­è®©å¼€å‘æ›´åŠ å®¹æ˜“çš„ Vagrant","uri":"/2018/01/21/mac-vagrant/"},{"categories":["Mac"],"content":"è§£å†³ VBoxManage: error: Failed to create the host-only adapter // è§£å†³ CleanMyMacX æ™ºèƒ½æ¸…ç†åä¸èƒ½å¯åŠ¨ vagrant è™šæ‹Ÿæœº sudo /Library/Application\\ Support/VirtualBox/LaunchDaemons/VirtualBoxStartup.sh restart ","date":"2018-01-21","objectID":"/2018/01/21/mac-vagrant/:4:2","tags":["Mac"],"title":"Mac ä¸­è®©å¼€å‘æ›´åŠ å®¹æ˜“çš„ Vagrant","uri":"/2018/01/21/mac-vagrant/"},{"categories":["Mac"],"content":"è§£å†³ /sbin/mount.vboxsf: mounting failed with the error: No such device VirtualBox Guest Additions in Vagrant image vagrant plugin install vagrant-vbguest vagrant vbguest vagrant ssh cd /opt/VBoxGuestAdditions-5.2.4/init/ sudo ./vboxadd setup sudo yum -y install kernel kernel-devel exit vagrant reload ","date":"2018-01-21","objectID":"/2018/01/21/mac-vagrant/:4:3","tags":["Mac"],"title":"Mac ä¸­è®©å¼€å‘æ›´åŠ å®¹æ˜“çš„ Vagrant","uri":"/2018/01/21/mac-vagrant/"},{"categories":["Mac"],"content":"å¢åŠ  Vagrant ç£ç›˜ç©ºé—´ VBoxManage clonehd centos-vm-disk1.vmdk centos-vm-disk1.vdi --format VDI VBoxManage modifyhd centos-vm-disk1.vdi --resize 20480 VBoxManage clonehd centos-vm-disk1.vdi centos-vm-disk.vmdk --format VMDK RESIZE A VAGRANT VMDK DRIVE Add some way to increase disk space from Vagrantfile Manage a VirtualBox-headless system: stop and remove a VM ","date":"2018-01-21","objectID":"/2018/01/21/mac-vagrant/:4:4","tags":["Mac"],"title":"Mac ä¸­è®©å¼€å‘æ›´åŠ å®¹æ˜“çš„ Vagrant","uri":"/2018/01/21/mac-vagrant/"},{"categories":["Mac"],"content":"æ›´æ–° VirtualBox å’Œ Vagrant åæ— æ³•å¯åŠ¨ vagrant up Vagrant failed to initialize at a very early stage: The plugins failed to initialize correctly. This may be due to manual modifications made within the Vagrant home directory. Vagrant can attempt to automatically correct this issue by running: vagrant plugin repair If Vagrant was recently updated, this error may be due to incompatible versions of dependencies. To fix this problem please remove and re-install all plugins. Vagrant can attempt to do this automatically by running: vagrant plugin expunge --reinstall Or you may want to try updating the installed plugins to their latest versions: vagrant plugin update Error message given during initialization: Unable to resolve dependency: user requested 'vagrant-parallels (\u003e 0)' ","date":"2018-01-21","objectID":"/2018/01/21/mac-vagrant/:4:5","tags":["Mac"],"title":"Mac ä¸­è®©å¼€å‘æ›´åŠ å®¹æ˜“çš„ Vagrant","uri":"/2018/01/21/mac-vagrant/"},{"categories":["Mac"],"content":"æ›´æ–° VirtualBox å Vagrant æç¤ºéœ€è¦æ›´æ–°ç‰ˆæœ¬ I patched Vagrant on macOS with this script vagrant up The provider 'virtualbox' that was requested to back the machine 'default' is reporting that it isn't usable on this system. The reason is shown below: Vagrant has detected that you have a version of VirtualBox installed that is not supported by this version of Vagrant. Please install one of the supported versions listed below to use Vagrant: 4.0, 4.1, 4.2, 4.3, 5.0, 5.1, 5.2, 6.0 A Vagrant update may also be available that adds support for the version you specified. Please check www.vagrantup.com/downloads.html to download the latest version. curl https://github.com/briancain/vagrant/commit/fb4e6985e142da56bad143d70600cd3695c91757.patch \u003e /tmp/vagrant_226_virtualbox_610.patch cd /opt/vagrant/embedded/gems/2.2.6/gems/vagrant-2.2.6 sudo git apply --verbose --exclude='website/*' /tmp/vagrant_226_virtualbox_610.patch Password: Skipped patch 'website/source/docs/virtualbox/index.html.md'. Checking patch plugins/providers/virtualbox/driver/meta.rb... Checking patch plugins/providers/virtualbox/driver/version_6_1.rb... Checking patch plugins/providers/virtualbox/plugin.rb... Applied patch plugins/providers/virtualbox/driver/meta.rb cleanly. Applied patch plugins/providers/virtualbox/driver/version_6_1.rb cleanly. Applied patch plugins/providers/virtualbox/plugin.rb cleanly. ","date":"2018-01-21","objectID":"/2018/01/21/mac-vagrant/:4:6","tags":["Mac"],"title":"Mac ä¸­è®©å¼€å‘æ›´åŠ å®¹æ˜“çš„ Vagrant","uri":"/2018/01/21/mac-vagrant/"},{"categories":["Mac"],"content":"å‚è€ƒ Vagrant å®˜ç½‘ About Vagrant Cloud and Atlas ","date":"2018-01-21","objectID":"/2018/01/21/mac-vagrant/:5:0","tags":["Mac"],"title":"Mac ä¸­è®©å¼€å‘æ›´åŠ å®¹æ˜“çš„ Vagrant","uri":"/2018/01/21/mac-vagrant/"},{"categories":["PHP"],"content":"æ€»è€Œè¨€ä¹‹ï¼Œå°±æ˜¯å·¨ç‰›é€¼ PHP é›†æˆå¼€å‘ IDEï¼Œæ— å‡ºå…¶å³è€…ã€‚å¦‚æœä½ è¿˜æŒ£æ‰åœ¨ Atomï¼ŒSublime Textï¼ŒVimï¼ŒEditPlusï¼ŒNotepad++ï¼ŒPHP Development Tools (PDT)ï¼ŒZend Studioï¼ŒEclipse PDTï¼ŒNetBeansï¼ŒKDevelopï¼ŒPHPEditï¼ŒPHP Tools for Visual Studio ç­‰ç­‰å·¥å…·ä¸Šï¼Œä¸å¦‚ç”¨ä¸€ç«™å¼çš„ PhpStormï¼Œé¿å…æŠ˜è…¾ï¼Œä¸“æ³¨ä»£ç æœ¬èº«ã€‚ ","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:0:0","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["PHP"],"content":"ç®€ä»‹ Lightning-smart PHP IDE. PhpStorm deeply understands your code. å¼€å‘ PHP çš„ä¸€ä¼—å·¥å…· æˆ‘ä¸æƒ³å†’çŠ¯è°ï¼Œè‡³äºä»€ä¹ˆ Editor VS IDE ä¹‹ç±»çš„ç§ç§å’±å…ˆä¸äº‰è®ºäº†å¥½å—ï¼Ÿè¯´ä»€ä¹ˆ Editor å¿« IDE æ…¢ï¼ˆä¾æˆ‘çœ‹è¿™æ ·çš„äººä¸æ˜¯å‚»å°±æ˜¯è ¢ï¼‰ï¼Œè°ä¸çŸ¥é“ç”¨ PHP å†™ä¸ªå•æ–‡ä»¶çš„ hello world ç¨‹åºæ¯”æ¡†æ¶å†™å‡ºæ¥çš„å¿«ï¼ä¸è¿‡è¯´æ˜ä¸€ä¸‹ï¼ŒPhpStorm æ¯”è¾ƒåƒå†…å­˜ã€‚ ","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:1:0","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["PHP"],"content":"ä¸»è¦çš„æ¡†æ¶æ”¯æŒ PhpStorm éå¸¸é€‚åˆå·¥ä½œåœ¨ Symfonyï¼ŒDrupalï¼ŒWordPressï¼ŒZend Frameworkï¼ŒLaravelï¼ŒMagentoï¼ŒJoomlaï¼ŒCakePHPï¼ŒYii å’Œå…¶å®ƒçš„æ¡†æ¶ä¸­ã€‚ ","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:1:1","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["PHP"],"content":"æ‰€æœ‰çš„ PHP å·¥å…· ç¼–è¾‘å™¨å®é™…ä¸Š gets ä½ çš„ä»£ç å¹¶ä¸”æ·±åº¦ç†è§£å®ƒçš„ç»“æ„ï¼Œä¸ºç°ä»£å’Œé—ç•™é¡¹ç›®æä¾›äº†æ‰€æœ‰çš„ PHP è¯­è¨€ç‰¹æ€§ã€‚å®ƒæä¾›äº†æœ€å¥½çš„ä»£ç å®Œæˆï¼Œé‡æ„ï¼Œå³æ—¶é”™è¯¯é¢„é˜²å’Œå…¶å®ƒæ›´å¤šçš„åŠŸèƒ½ã€‚ ","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:1:2","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["PHP"],"content":"å›Šæ‹¬å‰ç«¯æŠ€æœ¯ å……åˆ†åˆ©ç”¨è¯¸å¦‚ HTML5ï¼ŒCSSï¼ŒSassï¼ŒLessï¼ŒStylusï¼ŒCoffeeScriptï¼ŒTypeScriptï¼ŒEmmet å’Œ JavaScript ç­‰å‰æ²¿çš„å‰ç«¯æŠ€æœ¯ï¼Œå¹¶æä¾›é‡æ„ï¼Œè®¾è®¡å’Œæœ‰æ•ˆçš„å•å…ƒæµ‹è¯•ã€‚åœ¨æµè§ˆå™¨å³æ—¶æŸ¥çœ‹æ›´æ”¹å¤šäºäº†æœ‰ Live Edit ","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:1:3","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["PHP"],"content":"å†…ç½®çš„å¼€å‘è€…å·¥å…· IDE æ”¯æŒå¾ˆå¤šå¸¸è§„ä»»åŠ¡ï¼Œç”±äºæœ‰äº†ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿé›†æˆï¼Œæ”¯æŒè¿œç¨‹éƒ¨ç½²ï¼Œdatabase/SQLï¼Œå‘½ä»¤è¡Œå·¥å…·ï¼ŒVagrantï¼ŒComposerï¼ŒREST Client ä»¥åŠè®¸å¤šå…¶å®ƒå·¥å…· ","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:1:4","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["PHP"],"content":"ä¸‰åˆä¸€ å¦‚æœå®‰è£…äº† PhpStormï¼ŒWebStorm å¯ä»¥æ‰”æ‰äº†ï¼Œæ˜¯çš„ï¼ŒPhpStorm å°±è¿™ä¹ˆç‰›å‰ã€‚ PhpStorm = WebStorm + PHP + DB/SQLã€‚ WebStorm çš„æ‰€æœ‰åŠŸèƒ½éƒ½åŒ…å«åœ¨ PhpStorm ä¸­ï¼Œå¯¹ PHP å’Œ Databases/SQL æ”¯æŒçš„å…¨é¢æ”¯æŒå°†è¢«æ·»åŠ åˆ°é¡¶å±‚ ","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:1:5","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["PHP"],"content":"æ™ºèƒ½ç¼–ç ååŠ© åœ¨ä½ é”®å…¥çš„æ—¶å€™ï¼Œæ•°ç™¾ä¸ªæ£€æŸ¥å·¥å…·ä¼šæ£€æŸ¥ä½ çš„ä»£ç ï¼Œåˆ†ææ•´ä¸ªé¡¹ç›®ã€‚PHPDoc æ”¯æŒï¼Œä»£ç ï¼ˆé‡æ–°ï¼‰ç¼–æ’å’Œæ ¼å¼åŒ–ï¼Œå¿«é€Ÿä¿®å¤å’Œå…¶å®ƒåŠŸèƒ½å¯ä»¥å¸®åŠ©ä½ ç¼–å†™æ˜“äºç»´æŠ¤çš„æ•´æ´ä»£ç  ","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:1:6","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["PHP"],"content":"æ™ºèƒ½ä»£ç å¯¼èˆª è®©ä½ æˆä¸ºä»£ç åº“çš„ä¸»äººåº”è¯¥å½’åŠŸäºé«˜æ•ˆï¼Œé—ªç”µèˆ¬çš„å¯¼èˆªåŠŸèƒ½ã€‚IDE ç†è§£ä½ æƒ³å»çš„åœ°æ–¹ï¼Œå¹¶ç«‹å³åˆ°è¾¾é‚£é‡Œ ","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:1:7","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["PHP"],"content":"å¿«é€Ÿè€Œå®‰å…¨çš„é‡æ„ ä½¿ç”¨ Safe Renameï¼ŒMoveï¼ŒDeleteï¼ŒExtract Methodï¼ŒInline Variableï¼ŒPush members Up / Pull members Downï¼ŒChange Signature å’Œè®¸å¤šå…¶å®ƒé‡æ„ï¼Œå¯é çš„é‡æ„ä½ çš„ä»£ç ã€‚ç‰¹å®šäºè¯­è¨€çš„é‡æ„åªéœ€è¦ç‚¹å‡»å‡ ä¸‹å°±å¯ä»¥å¸®åŠ©ä½ æ‰§è¡Œé¡¹ç›®èŒƒå›´å†…çš„æ›´æ”¹ï¼Œå¹¶ä¸”å¯ä»¥å®‰å…¨äº†æ’¤æ¶ˆ ","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:1:8","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["PHP"],"content":"å®¹æ˜“è°ƒè¯•å’Œæµ‹è¯• PhpStorm ä»¥å…¶é›¶é…ç½®çš„å¯è§†åŒ–è°ƒè¯•å™¨è€Œé—»åï¼Œæä¾›éå‡¡çš„æ´å¯ŸåŠ›ï¼Œè®©ä½ åœ¨æ¯ä¸ªæ­¥éª¤ä¸­äº†è§£ä½ çš„åº”ç”¨ç¨‹åºå‘ç”Ÿäº†ä»€ä¹ˆã€‚å®ƒå·¥ä½œåœ¨ Xdebug å’Œ Zend Debuggerï¼Œå¯ä»¥åœ¨æœ¬åœ°å’Œè¿œç¨‹ä½¿ç”¨ã€‚ä½¿ç”¨ PHPUnit è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œä¸ Behat å’Œåˆ†æå™¨é›†æˆ BDD ä¹Ÿæ˜¯å¯ç”¨çš„ ","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:1:9","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["PHP"],"content":"PhpStorm ä¿¡æ¯ ","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:2:0","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["PHP"],"content":"å®‰è£… JetBranins PhpStorm ","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:2:1","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["PHP"],"content":"ç ´è§£ IntelliJ IDEA æ³¨å†Œç  ","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:2:2","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["PHP"],"content":"PhpStorm å¿«æ·é”® ","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:3:0","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["PHP"],"content":"é€‰é¡¹ PhpStorm Key Description Command+, Preferences...: åå¥½ Command+H Hide PhpStorm: éšè— PhpStorm Option+Command+H Hide Others: éšè—å…¶å®ƒ Command+Q Quit PhpStorm File Key Description Command+N New...: æ–°å»º Shift+Command+S Save As...: å¦å­˜ä¸º Command+S Save All: ä¿å­˜ Option+Command+Y Synchronize: åŒæ­¥ Edit Key Description Command+Z Undo: æ’¤é”€ Shift+Command+Z Redo: é‡åš Command+X Cut: å‰ªåˆ‡ Command+C Copy: å¤åˆ¶ Shift+Command+C Copy Path: å¤åˆ¶è·¯å¾„ Option+Shift+Command+C Copy Reference: å¤åˆ¶å¼•ç”¨ Command+V Paste: ç²˜è´´ Shift+Command+V Paste from History...: ä»ç²˜è´´æ¿å†å²ä¸­é€‰æ‹©ç²˜è´´ Option+Shift+Command+V Paste Simple: ç®€å•ç²˜è´´ Delete Delete: åˆ é™¤ Find Command+F Find...: æŸ¥æ‰¾ Command+R Replace...: æ›¿æ¢ Command+G Find Next / Move to Next Occurrence: æŸ¥æ‰¾ä¸‹ä¸€ä¸ª / ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå‡ºç°çš„åœ°æ–¹ Shift+Command+G Find Previous / Move to Previous Occurrence: æŸ¥æ‰¾ä¸Šä¸€ä¸ª / ç§»åŠ¨åˆ°ä¸Šä¸€ä¸ªå‡ºç°çš„åœ°æ–¹ Control+Command+G Select All Occurrences: é€‰ä¸­æ‰€æœ‰å‡ºç°çš„åœ°æ–¹ Control+G Add Selection for Next Occurrence: é€‰ä¸­ä¸‹ä¸€ä¸ªå‡ºç°çš„åœ°æ–¹ Control+Shift+G Unselect Occurrence: å–æ¶ˆé€‰ä¸­çš„åœ°æ–¹ Shift+Command+F Find in Path...: åœ¨è·¯å¾„ä¸­æŸ¥æ‰¾ Shift+Command+R Replace in Path...: åœ¨è·¯å¾„ä¸­æ›¿æ¢ Option+F7 Find Usages: æŸ¥æ‰¾ä½¿ç”¨çš„åœ°æ–¹ Option+Shift+Command+F7 Find Usages Settings...: æŸ¥æ‰¾ä½¿ç”¨è®¾ç½® Option+Command+F7 Show Usages: æ˜¾ç¤ºä½¿ç”¨çš„åœ°æ–¹ Command+F7 Find Usages in File: åœ¨æ–‡ä»¶ä¸­æŸ¥æ‰¾ä½¿ç”¨çš„åœ°æ–¹ Shift+Command+F7 Highlight Usages in File: åœ¨æ–‡ä»¶ä¸­é«˜äº®ä½¿ç”¨çš„åœ°æ–¹ Option+Command+X Find by XPath...: é€šè¿‡è‡ªå®šä¹‰è·¯å¾„æŸ¥æ‰¾ Shift+Command+8 Column Selection Mode: åˆ—é€‰æ‹©æ¨¡å¼ Command+A Select All: é€‰ä¸­æ‰€æœ‰ Option+â†‘ Extend Selection: æ‰©å±•é€‰ä¸­ Option+â†“ Shrink Selection: ç¼©å°é€‰ä¸­ Control+Shift+J Join Lines: åˆå¹¶è¡Œ Command+D Duplicate Line: å¤åˆ¶è¡Œ Tab Indent Selection: é€‰ä¸­å‘å³ç¼©è¿› Shift+Tab Unindent Line of Selection: é€‰ä¸­å‘å·¦ç¼©è¿› Shift+Command+U Toggle Case: å¤§å°å†™åˆ‡æ¢ Tab Next Parameter: ä¸‹ä¸€ä¸ªå‚æ•° Shift+Tab Previous Parameter: ä¸Šä¸€ä¸ªå‚æ•° View Key Description Tool Windows Command+1 Project: é¡¹ç›® Command+2 Favorites: å–œå¥½ Command+3 Find: æŸ¥æ‰¾ Command+4 Run: è¿è¡Œ Command+5 Debug: è°ƒè¯• Command+6 TODO: å¾…åŠäº‹é¡¹ Command+7 Structure: ç»“æ„ Command+8 Hierarchy: ç»§æ‰¿ Command+9 Version Control: ç‰ˆæœ¬æ§åˆ¶ Option+F12 Terminal: ç»ˆç«¯ F1 Quick Documentation: å¿«é€Ÿåˆ°æ–‡æ¡£ Command+P Parameter Info: å‚æ•°ä¿¡æ¯ Command+E Recent Files: æœ€è¿‘æ‰“å¼€çš„æ–‡ä»¶ Shift+Command+E Recently Changed Files: æœ€è¿‘ä¿®æ”¹çš„æ–‡ä»¶ Option+Shift+C Recent Changes: æœ€è¿‘ä¿®æ”¹æ–‡ä»¶å†å²è®°å½• Command+D Compare With...: å½“å‰æ–‡ä»¶ä¸å†å²è®°å½•æ¯”è¾ƒ Control+` Quick Switch Scheme...: å¿«é€Ÿåˆ‡æ¢æ¨¡å¼ Control+Command+F Enter Full Screen: å…¨å± Navigate Key Description Command+O Class...: æœç´¢ç±» Shift+Command+O File...: æœç´¢æ–‡ä»¶ Option+Command+O Symbol...: æœç´¢ç¬¦å· Option+Command+. Custom Folding...: æœç´¢è‡ªå®šä¹‰æŠ˜å  Command+L Line...: å®šä½è¡Œ Command+[ Back: åé€€ Command+] Forward: å‰è¿› Shift+Command+Delete Last Edit Location: æœ€åç¼–è¾‘ä½ç½® Bookmarks F3 Toggle Bookmark: åˆ‡æ¢ä¹¦ç­¾ Option+F3 Toggle Bookmark with Mnemonic: åˆ‡æ¢ä¹¦ç­¾è®°å¿† Command+F3 Show Bookmark: æ˜¾ç¤ºä¹¦ç­¾ Option+F1 Select In...: é€‰æ‹©ç›®æ ‡ Command+â†‘ Jump to Navigation Bar: è·³è½¬åˆ°å¯¼èˆªæ  Command+B Declaration: è·³è½¬åˆ°å‡½æ•°å£°æ˜ Option+Command+B Implementation(s): è·³è½¬åˆ°æ¥å£å®ç°ç±» Shift+Command+B Type Declaration: è·³è½¬åˆ°ç±»å‹å£°æ˜ Command+U Super Method: è·³è½¬åˆ°è¶…çº§æ–¹æ³• Shift+Command+T Test: è·³è½¬åˆ°æµ‹è¯•ç±» Control+Command+â†‘ Related Symbol...: ç›¸å…³ç¬¦å· Command+F12 File Structure: æ–‡ä»¶ç»“æ„ Control+H Type Hierarchy: ç±»å‹ç»§æ‰¿ Shift+Command+H Method Hierarchy: æ–¹æ³•ç»§æ‰¿ Control+Option+H Call Hierarchy: è°ƒç”¨ç»§æ‰¿ F2 Next Highlighted Error: ä¸‹ä¸€ä¸ªé«˜äº®é”™è¯¯ Shift+F2 Previous Highlighted Error: ä¸Šä¸€ä¸ªé«˜äº®é”™è¯¯ Control+Option+â†’ Next Emmet Edit Point: ä¸‹ä¸€ä¸ª Emmet ç¼–è¾‘ç‚¹ Control+Option+â† Previous Emmet Edit Point: ä¸Šä¸€ä¸ª Emmet ç¼–è¾‘ç‚¹ Control+â†“ Next Method: ä¸‹ä¸€ä¸ªæ–¹æ³• Control+â†‘ Previous Method: ä¸Šä¸€ä¸ªæ–¹æ³• Code Key Description Control+O Override Method...: è¦†ç›–æ–¹æ³• Control+I Implement Method...: å®ç°æ–¹æ³• Command+N Generate...: ç”Ÿæˆ Option+Command+T Surround With...: ç¯ç»• Shift+Command+Delete Unwrap / Remove: æ‰“å¼€ / ç§»é™¤ Completion Option+/ Cyclic Expand Word: å¾ªç¯å±•å¼€å•è¯(å‘å‰) Shift+Option+? Cyclic Expand Word(Backward): å¾ªç¯å±•å¼€å•è¯(å‘å) Folding Command++ Expand: å±•å¼€ Command+- Collapse: æŠ˜å  Option+Command++ Expand Recursively: é€’å½’å±•å¼€ Option+Command+- Collapse Recursively: é€’å½’æŠ˜å  Shift+Command++ Expand All: å±•å¼€æ‰€æœ‰ Shift+Command+- Collapse All: æŠ˜å æ‰€æœ‰ Command+J Insert Live Template...: æ’å…¥æ¨¡æ¿ Option+Command+J Surround with Live Template...: ç¯ç»•æ¨¡æ¿ Command+/ Comment with Line Comment: è¡Œæ³¨é‡Š Option+Command+/ Comment with Block Comment: å—æ³¨é‡Š O","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:3:1","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["PHP"],"content":"ä¸»é¢˜ Colour schemes for a variety of editors created by Dayle Rees ","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:3:2","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["PHP"],"content":"å¸®åŠ© ","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:3:3","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["PHP"],"content":"å…¶å®ƒ ","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:4:0","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["PHP"],"content":"æ’ä»¶ A Static Code Analyzer for PHP (a PhpStorm/Idea Plugin) environment parameters completion, based on .env file keys Vim emulation plug-in for IDEs based on the IntelliJ platform Interactive viewer for â€˜.logâ€™ files ","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:4:1","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["PHP"],"content":"æ•™ç¨‹ Be Awesome in PHPStorm Getting Started ","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:4:2","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["PHP"],"content":"é—®é¢˜ ä¼˜åŒ– phpstorm è¿è¡Œå¡é¡¿é—®é¢˜ phpstorm åœ¨ mac ä¸Šå¡é¡¿ mac ä¸‹ intellij idea å˜å¾—ç‰¹åˆ«å¡è¯¥å¦‚ä½•è§£å†³ ","date":"2018-01-21","objectID":"/2018/01/21/php-phpstorm/:4:3","tags":["PHP"],"title":"PHP å¼€å‘åˆ©å™¨ä¹‹ PhpStorm","uri":"/2018/01/21/php-phpstorm/"},{"categories":["MySQL"],"content":"MySQL-5.5 ä¹‹å‰ï¼Œ UTF8 ç¼–ç åªæ”¯æŒ 1-3 ä¸ªå­—èŠ‚ï¼Œåªæ”¯æŒ BMP è¿™éƒ¨åˆ†çš„ Unicode ç¼–ç åŒºï¼Œè€Œ Emoji å›¾æ ‡æ°å¥½æ˜¯ 4 ä¸ªå­—èŠ‚çš„ç¼–ç è¿›è¡Œå­˜å‚¨ã€‚ä» MySQL-5.5 å¼€å§‹ï¼Œå¯æ”¯æŒ 4 ä¸ªå­—èŠ‚ UTF ç¼–ç  utf8mb4ï¼Œä¸€ä¸ªå­—ç¬¦æœ€å¤šèƒ½æœ‰ 4 å­—èŠ‚ï¼Œæ‰€ä»¥èƒ½æ”¯æŒæ›´å¤šçš„å­—ç¬¦é›†ã€‚æ‰€ä»¥è¦è§£å†³é—®é¢˜ï¼Œå¿…éœ€æŠŠæ•°æ®åº“è¡¨å­—ç¬¦ç¼–ç å…¨éƒ¨æ”¹æˆ utf8mb4ã€‚ MySQL æ•°æ®ç±»å‹ MySQL ç”¨æˆ·ç®¡ç† MySQL å…³é”®å­—æŸ¥è¯¢ MySQL å­—ç¬¦ä¸²å‡½æ•° MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•° MySQL å¿˜è®° root å¯†ç åé‡ç½® MySQL æœ€å€¼æŸ¥è¯¢ MySQL æ—¥æœŸæ—¶é—´å‡½æ•° MySQL è”åˆæŸ¥è¯¢ MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤© MySQL æ”¯æŒ Emoji å›¾æ ‡çš„è®¾ç½® MySQL å­˜å‚¨å¼•æ“ MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯» ","date":"2018-01-21","objectID":"/2018/01/21/mysql-support-emoji/:0:0","tags":["MySQL"],"title":"MySQL æ”¯æŒ emoji å›¾æ ‡çš„è®¾ç½®","uri":"/2018/01/21/mysql-support-emoji/"},{"categories":["MySQL"],"content":"å¸¸ç”¨å­—ç¬¦é›† Unicodeï¼šæ˜¯å­—ç¬¦é›†ï¼Œè€Œæ²¡æœ‰ç¼–ç æ–¹å¼ UTF-8ï¼šæ˜¯ä¸€ç§ Unicode å­—ç¬¦é›†çš„ç¼–ç æ–¹å¼ï¼Œå…¶ä»–è¿˜æœ‰ UTF-16ï¼ŒUTF-32 ç­‰ ASCII - American Standard Code for Information Interchangeï¼šç¾å›½ä¿¡æ¯äº¤æ¢æ ‡å‡†ä»£ç ï¼Œä¸»è¦ç”¨äºæ˜¾ç¤ºç°ä»£è‹±è¯­å’Œå…¶ä»–è¥¿æ¬§è¯­è¨€ã€‚å•å­—èŠ‚ç¼–ç ï¼Œ7 ä½è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå…± 128 ä¸ªå­—ç¬¦ GBK - Chinese Internal Code Specificationï¼šæ±‰å­—å†…ç æ‰©å±•è§„èŒƒã€‚åŒå­—èŠ‚ç¼–ç ï¼Œå…±æ”¶å½•äº† 21003 ä¸ªæ±‰å­—ï¼Œå…±æœ‰ 21885 ä¸ªå­—ç¬¦ï¼Œå…¼å®¹ GB2312-80 æ ‡å‡† UTF-8 - 8-bit Unicode Transformation Formatï¼šé’ˆå¯¹ Unicode çš„å¯å˜é•¿åº¦å­—ç¬¦ç¼–ç ï¼Œåˆç§°ä¸‡å›½ç ã€‚UTF-8 ç”¨ 1 åˆ° 6 ä¸ªå­—èŠ‚ç¼–ç  Unicode å­—ç¬¦ï¼Œå¦‚æœ UNICODE å­—ç¬¦ç”± 2 ä¸ªå­—èŠ‚è¡¨ç¤ºï¼Œåˆ™ç¼–ç æˆ UTF-8 å¾ˆå¯èƒ½éœ€è¦ 3 ä¸ªå­—èŠ‚ã€‚è€Œå¦‚æœ UNICODE å­—ç¬¦ç”± 4 ä¸ªå­—èŠ‚è¡¨ç¤ºï¼Œåˆ™ç¼–ç æˆ UTF-8 å¯èƒ½éœ€è¦ 6 ä¸ªå­—èŠ‚ã€‚Unicode ä¸€ä¸ªä¸­æ–‡å­—ç¬¦å  2 ä¸ªå­—èŠ‚ï¼Œè€Œ UTF-8 ä¸€ä¸ªä¸­æ–‡å­—ç¬¦å  3 ä¸ªå­—èŠ‚ utf8mb4 - 8-bit Unicode Transformation Formatï¼šutf8mb4 å…¼å®¹ utf8ï¼Œèƒ½æ”¯æŒæ›´å¤šçš„å­—ç¬¦é›†ï¼ŒMySQL åœ¨ 5.5.3 ä¹‹åå¢åŠ äº†è¿™ä¸ªç¼–ç ã€‚most bytes 4 æ˜¯ä¸“é—¨ç”¨æ¥å…¼å®¹å››å­—èŠ‚çš„ Unicodeï¼Œä¹Ÿå°±æ˜¯è¯´èƒ½å­˜å‚¨å››ä¸ªå­—èŠ‚ï¼Œå¤„ç† emoji è¡¨æƒ…æ¯«æ— å‹åŠ› ","date":"2018-01-21","objectID":"/2018/01/21/mysql-support-emoji/:1:0","tags":["MySQL"],"title":"MySQL æ”¯æŒ emoji å›¾æ ‡çš„è®¾ç½®","uri":"/2018/01/21/mysql-support-emoji/"},{"categories":["MySQL"],"content":"æ“ä½œ è®¾ç½®æˆ utf8mb4 è¯·æ ¹æ®å®é™…æƒ…å†µè€Œå®šï¼Œæ²¡æœ‰å¿…è¦å…¨éƒ¨éƒ½è®¾ç½®ä¸º utf8mb4ã€‚ ","date":"2018-01-21","objectID":"/2018/01/21/mysql-support-emoji/:2:0","tags":["MySQL"],"title":"MySQL æ”¯æŒ emoji å›¾æ ‡çš„è®¾ç½®","uri":"/2018/01/21/mysql-support-emoji/"},{"categories":["MySQL"],"content":"å°†æ•°æ®åº“ï¼Œæ•°æ®è¡¨ï¼Œæ•°æ®è¡¨å­—æ®µè®¾ç½®ä¸º utf8mb4 // æ›´æ”¹æ•°æ®åº“çš„ç¼–ç æ–¹å¼ ALTER DATABASE test CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci; // æ›´æ”¹æ•°æ®è¡¨çš„ç¼–ç æ–¹å¼ ALTER TABLE test.demo CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci; // æ›´æ”¹æ•°æ®è¡¨çš„å­—æ®µç¼–ç æ–¹å¼ ALTER TABLE test.demo CHANGE `title` `title` VARCHAR(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT ''; æˆ– ALTER TABLE test.demo MODIFY `title` VARCHAR(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT ''; ","date":"2018-01-21","objectID":"/2018/01/21/mysql-support-emoji/:2:1","tags":["MySQL"],"title":"MySQL æ”¯æŒ emoji å›¾æ ‡çš„è®¾ç½®","uri":"/2018/01/21/mysql-support-emoji/"},{"categories":["MySQL"],"content":"æŸ¥çœ‹è®¾ç½® æŸ¥çœ‹æ•°æ®åº“è®¾ç½®æƒ…å†µ SHOW VARIABLES WHERE Variable_name LIKE 'character\\_set\\_%' OR Variable_name LIKE 'collation%'; // ç»“æœ character_set_client utf8mb4 character_set_connection utf8mb4 character_set_database utf8mb4 character_set_filesystem binary character_set_results utf8mb4 character_set_server utf8mb4 character_set_system utf8 collation_connection utf8mb4_general_ci collation_database utf8mb4_general_ci collation_server utf8mb4_general_ci æŸ¥çœ‹æ•°æ®è¡¨è®¾ç½®æƒ…å†µ SHOW FULL COLUMNS FROM test.demo; ","date":"2018-01-21","objectID":"/2018/01/21/mysql-support-emoji/:2:2","tags":["MySQL"],"title":"MySQL æ”¯æŒ emoji å›¾æ ‡çš„è®¾ç½®","uri":"/2018/01/21/mysql-support-emoji/"},{"categories":["MySQL"],"content":"å‚è€ƒ Unicode å’Œ UTF-8 æœ‰ä½•åŒºåˆ« æ¸…å®˜è°ˆ mysql ä¸­ utf8 å’Œ utf8mb4 åŒºåˆ« ","date":"2018-01-21","objectID":"/2018/01/21/mysql-support-emoji/:3:0","tags":["MySQL"],"title":"MySQL æ”¯æŒ emoji å›¾æ ‡çš„è®¾ç½®","uri":"/2018/01/21/mysql-support-emoji/"},{"categories":["MySQL"],"content":"MySQL ä¹Ÿæœ‰å¾ˆå¤šå­˜å‚¨å¼•æ“ï¼Œä¸è¿‡å¸¸ç”¨çš„è¿˜æ˜¯ InnoDB å¼•æ“ï¼Œæœ¬æ–‡å°±æ±‡æ€»ä¸€ä¸‹è¿™äº›å­˜å‚¨å¼•æ“ã€‚ MySQL æ•°æ®ç±»å‹ MySQL ç”¨æˆ·ç®¡ç† MySQL å…³é”®å­—æŸ¥è¯¢ MySQL å­—ç¬¦ä¸²å‡½æ•° MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•° MySQL å¿˜è®° root å¯†ç åé‡ç½® MySQL æœ€å€¼æŸ¥è¯¢ MySQL æ—¥æœŸæ—¶é—´å‡½æ•° MySQL è”åˆæŸ¥è¯¢ MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤© MySQL æ”¯æŒ emoji å›¾æ ‡çš„è®¾ç½® MySQL å­˜å‚¨å¼•æ“ MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯» ","date":"2018-01-20","objectID":"/2018/01/20/mysql-storage-engine/:0:0","tags":["MySQL"],"title":"MySQL å­˜å‚¨å¼•æ“","uri":"/2018/01/20/mysql-storage-engine/"},{"categories":["MySQL"],"content":"MySQL çš„å­˜å‚¨å¼•æ“ Archiveï¼šç”¨äºæ•°æ®å­˜æ¡£çš„å¼•æ“ï¼ˆæ•°æ®è¡Œè¢«æ’å…¥åå°±ä¸èƒ½å†ä¿®æ”¹äº†ï¼‰ã€‚éå¸¸é€‚åˆå­˜å‚¨å¤§é‡çš„ç‹¬ç«‹çš„ï¼Œä½œä¸ºå†å²è®°å½•çš„æ•°æ®ã€‚å› ä¸ºå®ƒä»¬ä¸ç»å¸¸è¢«è¯»å–ã€‚Archive æ‹¥æœ‰é«˜æ•ˆçš„æ’å…¥é€Ÿåº¦ï¼Œä½†å…¶å¯¹æŸ¥è¯¢çš„æ”¯æŒç›¸å¯¹è¾ƒå·® BDBï¼šæºè‡ª Berkeley DBï¼Œäº‹åŠ¡å‹æ•°æ®åº“çš„å¦ä¸€ç§é€‰æ‹©ï¼Œæ”¯æŒ COMMIT å’Œ ROLLBACK ç­‰å…¶ä»–äº‹åŠ¡ç‰¹æ€§ BlackHoleï¼šé»‘æ´å¼•æ“(å†™æ“ä½œæ˜¯åˆ é™¤æ•°æ®ï¼Œè¯»æ“ä½œæ˜¯è¿”å›ç©ºç™½è®°å½•)ã€‚ç”±äºå†™å…¥çš„ä»»ä½•æ•°æ®éƒ½ä¼šæ¶ˆå¤±ã€‚ä¸€èˆ¬ç”¨äºè®°å½• binlog åšå¤åˆ¶çš„ä¸­ç»§ CSVï¼šé€»è¾‘ä¸Šç”±é€—å·åˆ†å‰²æ•°æ®çš„å­˜å‚¨å¼•æ“ã€‚å®ƒä¼šåœ¨æ•°æ®åº“å­ç›®å½•é‡Œä¸ºæ¯ä¸ªæ•°æ®è¡¨åˆ›å»ºä¸€ä¸ª .CSV æ–‡ä»¶ã€‚è¿™æ˜¯ä¸€ç§æ™®é€šæ–‡æœ¬æ–‡ä»¶ï¼Œæ¯ä¸ªæ•°æ®è¡Œå ç”¨ä¸€ä¸ªæ–‡æœ¬è¡Œã€‚CSV å­˜å‚¨å¼•æ“ä¸æ”¯æŒç´¢å¼• Exampleï¼šå®ä¾‹(å­˜æ ¹)å­˜å‚¨å¼•æ“ã€‚å®˜æ–¹å®ä¾‹ Falconï¼šç”¨æ¥è¿›è¡Œäº‹åŠ¡å¤„ç†çš„å­˜å‚¨å¼•æ“ Federatedï¼šç”¨æ¥è®¿é—®è¿œç¨‹æ•°æ®è¡¨çš„å­˜å‚¨å¼•æ“ã€‚å°†ä¸åŒçš„ MySQL æœåŠ¡å™¨è”åˆèµ·æ¥ï¼Œé€»è¾‘ä¸Šç»„æˆä¸€ä¸ªå®Œæ•´çš„æ•°æ®åº“ã€‚éå¸¸é€‚åˆåˆ†å¸ƒå¼åº”ç”¨ InnoDBï¼šå…·å¤‡å¤–é”®æ”¯æŒåŠŸèƒ½çš„äº‹åŠ¡å¤„ç†å¼•æ“ã€‚MySQL-5.5 ç‰ˆæœ¬å MySQL çš„é»˜è®¤æ•°æ®åº“å¼•æ“ï¼Œæ˜¯ä¸“ä¸ºäº‹åŠ¡è®¾è®¡çš„å­˜å‚¨å¼•æ“ï¼Œæ”¯æŒ ACID äº‹åŠ¡ï¼Œæ”¯æŒå¤–é”®å’Œè¡Œçº§é”å®šï¼Œæ‹¥æœ‰é«˜å¹¶å‘å¤„ç†èƒ½åŠ›ã€‚ä½†æ˜¯ï¼ŒInnoDB åœ¨åˆ›å»ºç´¢å¼•å’ŒåŠ è½½æ•°æ®æ—¶ï¼Œæ¯” MyISAM æ…¢ Memoryï¼šå†…å­˜å¼•æ“ã€‚æ‰€æœ‰æ•°æ®ç½®äºå†…å­˜ï¼Œè¡¨ç»“æ„ä¸æ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­çš„å­˜å‚¨å¼•æ“ï¼ŒæŸ¥è¯¢æ—¶ä¸éœ€è¦æ‰§è¡Œç£ç›˜ I/O æ“ä½œï¼Œæ‰€ä»¥è¦æ¯” MyISAM å’Œ InnoDB å¿«å¾ˆå¤šå€ã€‚ä½†æ˜¯ä¼šå ç”¨å’Œæ•°æ®é‡æˆæ­£æ¯”çš„å†…å­˜ç©ºé—´ã€‚å¹¶ä¸”å…¶å†…å®¹ä¼šåœ¨ MySQL é‡æ–°å¯åŠ¨æ—¶ä¸¢å¤±ï¼Œè¡¨ç»“æ„ä¸ä¼šä¸¢å¤± Merge/MRG_MYISAMï¼šç®¡ç†ç”±å¤šä¸ª MyISAM æ•°æ®è¡¨æ„æˆçš„æ•°æ®è¡¨é›†åˆã€‚å°†ä¸€å®šæ•°é‡çš„ MyISAM è¡¨è”åˆè€Œæˆä¸€ä¸ªæ•´ä½“ï¼Œåœ¨è¶…å¤§è§„æ¨¡æ•°æ®å­˜å‚¨æ—¶å¾ˆæœ‰ç”¨ MyISAMï¼šä¸æ”¯æŒäº‹åŠ¡å’Œè¡Œçº§é”ï¼Œæ‰€ä»¥ MyISAM å¼•æ“é€Ÿåº¦å¾ˆå¿«ï¼Œæ€§èƒ½ä¼˜ç§€ã€‚MyISAM å¯ä»¥å¯¹æ•´å¼ è¡¨åŠ é”ï¼Œæ”¯æŒå¹¶å‘æ’å…¥ï¼Œæ”¯æŒå…¨æ–‡ç´¢å¼• NDB/Clusterï¼šMySQL Cluster ä¸“ç”¨å­˜å‚¨å¼•æ“ã€‚é«˜å†—ä½™çš„å­˜å‚¨å¼•æ“ï¼Œç”¨å¤šå°æ•°æ®æœºå™¨è”åˆæä¾›æœåŠ¡ä»¥æé«˜æ•´ä½“æ€§èƒ½å’Œå®‰å…¨æ€§ã€‚é€‚åˆæ•°æ®é‡å¤§ï¼Œå®‰å…¨å’Œæ€§èƒ½è¦æ±‚é«˜çš„åº”ç”¨ PERFORMANCE_SCHEMAï¼šPerformance Schema ","date":"2018-01-20","objectID":"/2018/01/20/mysql-storage-engine/:1:0","tags":["MySQL"],"title":"MySQL å­˜å‚¨å¼•æ“","uri":"/2018/01/20/mysql-storage-engine/"},{"categories":["MySQL"],"content":"æŸ¥çœ‹æ•°æ®åº“æ”¯æŒçš„å¼•æ“ SHOW ENGINES; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-storage-engine/:2:0","tags":["MySQL"],"title":"MySQL å­˜å‚¨å¼•æ“","uri":"/2018/01/20/mysql-storage-engine/"},{"categories":["MySQL"],"content":"MyISAM å’Œ InnoDB åç§° MyISAM InnoDB å¤‡æ³¨ ä½¿ç”¨åœºæ™¯ ä¸ºé€Ÿåº¦è€Œè®¾è®¡ï¼Œå’Œ SELECT æ­é…ä½¿ç”¨æ›´å¥½ ä¸ºé«˜å¯é æ€§å’Œé«˜æ€§èƒ½è€Œè®¾è®¡ï¼Œé€‚åˆå¤„ç†å¤§é‡æ•°æ® è¡¨é”ç±»å‹ è¡¨çº§é”ï¼Œç‰¹å®šçš„æ“ä½œä¼šå°†æ•´å¼ è¡¨é”èµ·æ¥ï¼Œä¸Šé”æœŸé—´ï¼Œè¡¨ä¸­çš„æ•°æ®ä¸èƒ½è¿›è¡Œå…¶å®ƒæ“ä½œã€‚åå‘é™æ€æ•°æ®ï¼ŒåŠ¨æ€æ•°æ®ä¼šå½±å“æ€§èƒ½ è¡Œçº§é”ï¼Œåªå¯¹ SELECTï¼ŒUPDATEï¼ŒDELETE æ“ä½œçš„ç‰¹å®šæ•°æ®åŠ ä¸Šè¡Œé”ï¼Œä¸Šé”æœŸé—´ï¼Œè¡¨ä¸­çš„å…¶å®ƒæ•°æ®ä¾ç„¶èƒ½è¢«æ“ä½œ å¤–é”®æ”¯æŒ ä¸æ”¯æŒ æ”¯æŒï¼Œå¯¹å¤–é”®å’Œå¼•ç”¨å®Œæ•´æ€§æ”¯æŒï¼ŒåŒ…æ‹¬é€’å½’å¼åˆ é™¤å’Œæ›´æ–° äº‹åŠ¡æ”¯æŒ ä¸æ”¯æŒï¼Œæ²¡æœ‰ COMMIT å’Œ ROLLBACKï¼Œå¯¹æ“ä½œæ²¡æœ‰å›é€€çš„ä½™åœ° æ”¯æŒï¼Œæ‰§è¡Œ COMMIT å’Œ ROLLBACK æ“ä½œï¼Œå¯ä»¥å°†äº‹åŠ¡ä¸­çš„æ•°æ®å˜åŒ–è¿›è¡Œå›æ»šï¼Œå´©æºƒåçš„è‡ªåŠ¨æ¢å¤ é›†ç¾¤æ”¯æŒ ä¸æ”¯æŒ å¹¶ä¸å®Œå…¨æ”¯æŒã€‚å¯ä»¥å°†è¡¨è½¬æ¢ä¸º NDB å­˜å‚¨å¼•æ“è€Œç”¨åœ¨é›†ç¾¤ç¯å¢ƒä¸­ æ•°æ®æ“ä½œ æ•°æ®å‹ç¼©ï¼Œè‡ªæˆ‘å¤åˆ¶ï¼ŒæŸ¥è¯¢ç¼“å­˜ï¼Œæ•°æ®åŠ å¯† æ•°æ®å‹ç¼©ï¼Œè‡ªæˆ‘å¤åˆ¶ï¼ŒæŸ¥è¯¢ç¼“å­˜ï¼Œæ•°æ®åŠ å¯† å…¨æ–‡ç´¢å¼• æ”¯æŒå…¨æ–‡æ£€ç´¢ï¼Œéœ€è¦é€šè¿‡ FULLTEXT ç´¢å¼•æ¥å®ç° ä¸æ”¯æŒ FULLTEXT ç±»å‹çš„å…¨æ–‡ç´¢å¼•ï¼Œä½†æ˜¯ InnoDB å¯ä»¥ä½¿ç”¨ sphinx æ’ä»¶æ”¯æŒå…¨æ–‡ç´¢å¼•ï¼Œå¹¶ä¸”æ•ˆæœæ›´å¥½ å­˜å‚¨ç»“æ„ æ¯ä¸ª MyISAM åœ¨ç£ç›˜ä¸Šå­˜å‚¨æˆä¸‰ä¸ªæ–‡ä»¶ã€‚ç¬¬ä¸€ä¸ªæ–‡ä»¶çš„åå­—ä»¥è¡¨çš„åå­—å¼€å§‹ï¼Œæ‰©å±•åæŒ‡å‡ºæ–‡ä»¶ç±»å‹ã€‚.frm æ–‡ä»¶å­˜å‚¨è¡¨å®šä¹‰ã€‚æ•°æ®æ–‡ä»¶çš„æ‰©å±•åä¸º .MYD - MYDataã€‚ç´¢å¼•æ–‡ä»¶çš„æ‰©å±•åæ˜¯ .MYI - MYIndex æ‰€æœ‰çš„è¡¨éƒ½ä¿å­˜åœ¨åŒä¸€ä¸ªæ•°æ®æ–‡ä»¶ä¸­(ä¹Ÿå¯èƒ½æ˜¯å¤šä¸ªæ–‡ä»¶ï¼Œæˆ–è€…æ˜¯ç‹¬ç«‹çš„è¡¨ç©ºé—´æ–‡ä»¶)ï¼ŒInnoDB è¡¨çš„å¤§å°åªå—é™äºæ“ä½œç³»ç»Ÿæ–‡ä»¶çš„å¤§å°ï¼Œä¸€èˆ¬ä¸º 2GB å­˜å‚¨ç©ºé—´ å¯è¢«å‹ç¼©ï¼Œå­˜å‚¨ç©ºé—´è¾ƒå°ã€‚æ”¯æŒä¸‰ç§ä¸åŒçš„å­˜å‚¨æ ¼å¼ï¼šé™æ€è¡¨(é»˜è®¤ï¼Œä½†æ˜¯æ³¨æ„æ•°æ®æœ«å°¾ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œä¼šè¢«å»æ‰)ï¼ŒåŠ¨æ€è¡¨ï¼Œå‹ç¼©è¡¨ éœ€è¦æ›´å¤šçš„å†…å­˜å’Œå­˜å‚¨ï¼Œå®ƒä¼šåœ¨ä¸»å†…å­˜ä¸­å»ºç«‹å…¶ä¸“ç”¨çš„ç¼“å†²æ± ç”¨äºé«˜é€Ÿç¼“å†²æ•°æ®å’Œç´¢å¼• AUTO_INCREMENT å¯ä»¥å’Œå…¶ä»–å­—æ®µä¸€èµ·å»ºç«‹è”åˆç´¢å¼•ã€‚å¼•æ“çš„è‡ªåŠ¨å¢é•¿åˆ—å¿…é¡»æ˜¯ç´¢å¼•ï¼Œå¦‚æœæ˜¯ç»„åˆç´¢å¼•ï¼Œè‡ªåŠ¨å¢é•¿å¯ä»¥ä¸æ˜¯ç¬¬ä¸€åˆ—ï¼Œä»–å¯ä»¥æ ¹æ®å‰é¢å‡ åˆ—è¿›è¡Œæ’åºåé€’å¢ InnoDB ä¸­å¿…é¡»åŒ…å«åªæœ‰è¯¥å­—æ®µçš„ç´¢å¼•ã€‚å¼•æ“çš„è‡ªåŠ¨å¢é•¿åˆ—å¿…é¡»æ˜¯ç´¢å¼•ï¼Œå¦‚æœæ˜¯ç»„åˆç´¢å¼•ä¹Ÿå¿…é¡»æ˜¯ç»„åˆç´¢å¼•çš„ç¬¬ä¸€åˆ— è¡¨ä¸»é”® å…è®¸æ²¡æœ‰ä»»ä½•ç´¢å¼•å’Œä¸»é”®çš„è¡¨å­˜åœ¨ï¼Œç´¢å¼•éƒ½æ˜¯ä¿å­˜è¡Œçš„åœ°å€ å¦‚æœæ²¡æœ‰è®¾å®šä¸»é”®æˆ–è€…éç©ºå”¯ä¸€ç´¢å¼•ï¼Œå°±ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª 6 å­—èŠ‚çš„ä¸»é”®(ç”¨æˆ·ä¸å¯è§)ï¼Œæ•°æ®æ˜¯ä¸»ç´¢å¼•çš„ä¸€éƒ¨åˆ†ï¼Œé™„åŠ ç´¢å¼•ä¿å­˜çš„æ˜¯ä¸»ç´¢å¼•çš„å€¼ è¡¨çš„è¡Œæ•° ä¿å­˜æœ‰è¡¨çš„æ€»è¡Œæ•°ï¼Œå¦‚æœ SELECT COUNT(*) FROM table; ä¼šç›´æ¥å–å‡ºå‡ºè¯¥å€¼ æ²¡æœ‰ä¿å­˜è¡¨çš„æ€»è¡Œæ•°ï¼Œå¦‚æœ SELECT COUNT(*) FROM table; å°±ä¼šéå†æ•´ä¸ªè¡¨ï¼Œæ¶ˆè€—ç›¸å½“å¤§ï¼Œä½†æ˜¯åœ¨åŠ äº† wehre æ¡ä»¶åï¼ŒMyISAM å’Œ InnoDB å¤„ç†çš„æ–¹å¼éƒ½ä¸€æ · å…¶å®ƒæ”¯æŒ æ”¯æŒç©ºé—´æ•°æ®ç±»å‹å’Œ SPATIAL ç´¢å¼• InnoDB å­˜å‚¨å¼•æ“ä¼šæŠŠæ•°æ®è¡¨é›†ä¸­å­˜å‚¨åœ¨ä¸€ä¸ªå…±äº«çš„è¡¨ç©ºé—´é‡Œ ","date":"2018-01-20","objectID":"/2018/01/20/mysql-storage-engine/:3:0","tags":["MySQL"],"title":"MySQL å­˜å‚¨å¼•æ“","uri":"/2018/01/20/mysql-storage-engine/"},{"categories":["MySQL"],"content":"å¦‚æœç»“æœçš„é•¿åº¦å¤§äº max_allowed_paâ€‹â€‹cket ç³»ç»Ÿå˜é‡çš„å€¼ï¼Œåˆ™å­—ç¬¦ä¸²å€¼å‡½æ•°å°†è¿”å› NULLã€‚çœ‹ Configuring the Server MySQL æ•°æ®ç±»å‹ MySQL ç”¨æˆ·ç®¡ç† MySQL å…³é”®å­—æŸ¥è¯¢ MySQL å­—ç¬¦ä¸²å‡½æ•° MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•° MySQL å¿˜è®° root å¯†ç åé‡ç½® MySQL æœ€å€¼æŸ¥è¯¢ MySQL æ—¥æœŸæ—¶é—´å‡½æ•° MySQL è”åˆæŸ¥è¯¢ MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤© MySQL æ”¯æŒ emoji å›¾æ ‡çš„è®¾ç½® MySQL å­˜å‚¨å¼•æ“ MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯» ","date":"2018-01-20","objectID":"/2018/01/20/mysql-string-functions/:0:0","tags":["MySQL"],"title":"MySQL å­—ç¬¦ä¸²å‡½æ•°","uri":"/2018/01/20/mysql-string-functions/"},{"categories":["MySQL"],"content":"å¸¸ç”¨å­—ç¬¦ä¸²å‡½æ•° åç§° æè¿° å¤‡æ³¨ LEFT() ä»å·¦è¾¹æˆªå–æŒ‡å®šçš„å­—ç¬¦ä¸² MID() ä»æŒ‡å®šçš„ä½ç½®æˆªå–å­—ç¬¦ä¸² RIGHT() ä»å³è¾¹æˆªå–æŒ‡å®šçš„å­—ç¬¦ä¸² TRIM() ç§»é™¤å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºæ ¼ SUBSTR() æˆªå–æŒ‡å®šçš„å­—ç¬¦ä¸² SUBSTRING() æˆªå–æŒ‡å®šçš„å­—ç¬¦ä¸² SUBSTRING_INDEX() æˆªå–æŒ‡å®šçš„å®šç•Œç¬¦å‡ºç°çš„æ¬¡æ•°ä¹‹å‰çš„å­—ç¬¦ä¸² ","date":"2018-01-20","objectID":"/2018/01/20/mysql-string-functions/:1:0","tags":["MySQL"],"title":"MySQL å­—ç¬¦ä¸²å‡½æ•°","uri":"/2018/01/20/mysql-string-functions/"},{"categories":["MySQL"],"content":"å­—ç¬¦ä¸²å‡½æ•°ç”¨æ³• ","date":"2018-01-20","objectID":"/2018/01/20/mysql-string-functions/:2:0","tags":["MySQL"],"title":"MySQL å­—ç¬¦ä¸²å‡½æ•°","uri":"/2018/01/20/mysql-string-functions/"},{"categories":["MySQL"],"content":"LEFT å’Œ RIGHT å‡½æ•° SELECT LEFT('hello world, hello mysql', 5) AS url; SELECT RIGHT('hello world, hello mysql', 5) AS url; // ç»“æœ hello mysql ","date":"2018-01-20","objectID":"/2018/01/20/mysql-string-functions/:2:1","tags":["MySQL"],"title":"MySQL å­—ç¬¦ä¸²å‡½æ•°","uri":"/2018/01/20/mysql-string-functions/"},{"categories":["MySQL"],"content":"TRIM å‡½æ•° SELECT TRIM(' http://www.mysql.com ') AS url; SELECT TRIM(LEADING 'xyz' FROM 'xyzxyzxyzhello world') AS url; SELECT TRIM(BOTH 'z' FROM 'zzzzzhello worldzzzzz') AS url; SELECT TRIM(TRAILING 'test' FROM 'hello worldtest') AS url; // ç»“æœ http://www.mysql.com hello world hello world hello world ","date":"2018-01-20","objectID":"/2018/01/20/mysql-string-functions/:2:2","tags":["MySQL"],"title":"MySQL å­—ç¬¦ä¸²å‡½æ•°","uri":"/2018/01/20/mysql-string-functions/"},{"categories":["MySQL"],"content":"SUBSTR å’Œ SUBSTRING å’Œ MID å‡½æ•° SET @url = 'http://www.mysql.com/'; SELECT MID(@url, 8, 13) AS url; SELECT SUBSTR(@url, 8, 13) AS url; SELECT SUBSTRING(@url , -14, 13) AS url; // ç»“æœ www.mysql.com www.mysql.com www.mysql.com ","date":"2018-01-20","objectID":"/2018/01/20/mysql-string-functions/:2:3","tags":["MySQL"],"title":"MySQL å­—ç¬¦ä¸²å‡½æ•°","uri":"/2018/01/20/mysql-string-functions/"},{"categories":["MySQL"],"content":"SUBSTRING_INDEX å‡½æ•° SELECT SUBSTRING_INDEX('www.mysql.com.cn', '.', 3) AS url; SELECT SUBSTRING_INDEX('hello world, hello mysql', 'mysql ', 1) AS url; // ç»“æœ www.mysql.com hello world, hello mysql ","date":"2018-01-20","objectID":"/2018/01/20/mysql-string-functions/:2:4","tags":["MySQL"],"title":"MySQL å­—ç¬¦ä¸²å‡½æ•°","uri":"/2018/01/20/mysql-string-functions/"},{"categories":["MySQL"],"content":"å‚è€ƒ String Functions ","date":"2018-01-20","objectID":"/2018/01/20/mysql-string-functions/:3:0","tags":["MySQL"],"title":"MySQL å­—ç¬¦ä¸²å‡½æ•°","uri":"/2018/01/20/mysql-string-functions/"},{"categories":["MySQL"],"content":"MySQL çš„å­—ç¬¦ä¸²è¿æ¥å‡½æ•° CONCATï¼ŒCONCAT_WSï¼ŒGROUP_CONTACTã€‚ MySQL æ•°æ®ç±»å‹ MySQL ç”¨æˆ·ç®¡ç† MySQL å…³é”®å­—æŸ¥è¯¢ MySQL å­—ç¬¦ä¸²å‡½æ•° MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•° MySQL å¿˜è®° root å¯†ç åé‡ç½® MySQL æœ€å€¼æŸ¥è¯¢ MySQL æ—¥æœŸæ—¶é—´å‡½æ•° MySQL è”åˆæŸ¥è¯¢ MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤© MySQL æ”¯æŒ emoji å›¾æ ‡çš„è®¾ç½® MySQL å­˜å‚¨å¼•æ“ MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯» ","date":"2018-01-20","objectID":"/2018/01/20/mysql-string-concat-functions/:0:0","tags":["MySQL"],"title":"MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•°","uri":"/2018/01/20/mysql-string-concat-functions/"},{"categories":["MySQL"],"content":"æ•°æ®å‡†å¤‡ /* Navicat Premium Data Transfer Source Server : localhost Source Server Type : MySQL Source Server Version : 50718 Source Host : 127.0.0.1 Source Database : test Target Server Type : MySQL Target Server Version : 50718 File Encoding : utf-8 Date: 07/14/2017 23:53:40 PM */ SET NAMES utf8mb4; SET FOREIGN_KEY_CHECKS = 0; -- ---------------------------- -- Table structure for `demo` -- ---------------------------- DROP TABLE IF EXISTS `demo`; CREATE TABLE `demo` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”® ID', `key` varchar(50) NOT NULL DEFAULT '' COMMENT 'ç”¨æˆ·å', `val` varchar(50) NOT NULL DEFAULT '' COMMENT 'ç”¨æˆ·å§“', `createdAt` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'åˆ›å»ºæ—¶é—´æˆ³', `updatedAt` int(10) unsigned DEFAULT '0' COMMENT 'æ›´æ–°æ—¶é—´æˆ³', PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=26 DEFAULT CHARSET=utf8; -- ---------------------------- -- Records of `demo` -- ---------------------------- BEGIN; INSERT INTO `demo` VALUES ('1', 'A', '10', '0', '0'), ('2', 'B', '20', '0', '0'), ('3', 'B', '21', '0', '0'), ('4', 'C', '30', '0', '0'), ('5', 'C', '31', '0', '0'), ('6', 'C', '32', '0', '0'), ('7', 'D', '40', '0', '0'), ('8', 'D', '41', '0', '0'), ('9', 'D', '42', '0', '0'), ('10', 'D', '43', '0', '0'), ('11', 'E', '50', '0', '0'), ('12', 'E', '51', '0', '0'), ('13', 'E', '52', '0', '0'), ('14', 'E', '53', '0', '0'), ('15', 'E', '54', '0', '0'), ('16', 'F', '60', '0', '0'), ('17', 'F', '61', '0', '0'), ('18', 'F', '62', '0', '0'), ('19', 'F', '63', '0', '0'), ('20', 'F', '64', '0', '0'), ('21', 'F', '65', '0', '0'); COMMIT; SET FOREIGN_KEY_CHECKS = 1; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-string-concat-functions/:1:0","tags":["MySQL"],"title":"MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•°","uri":"/2018/01/20/mysql-string-concat-functions/"},{"categories":["MySQL"],"content":"GROUP_CONCAT() - åˆ—è½¬è¡Œ ","date":"2018-01-20","objectID":"/2018/01/20/mysql-string-concat-functions/:2:0","tags":["MySQL"],"title":"MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•°","uri":"/2018/01/20/mysql-string-concat-functions/"},{"categories":["MySQL"],"content":"å°† key å’Œ val ç”¨ç©ºæ ¼è¿æ¥ï¼Œç”¨å†’å·åŠ ç©ºæ ¼è¿æˆä¸€è¡Œï¼ŒæŒ‰ id é™åºï¼Œå¹¶æŒ‰ key è¿›è¡Œåˆ†ç»„ SELECT GROUP_CONCAT( CONCAT_WS(': ', `key`, `val`) ORDER BY `id` DESC SEPARATOR ', ' ) AS info FROM demo GROUP BY `key`; // ç»“æœ A: 10 B: 21, B: 20 C: 32, C: 31, C: 30 D: 43, D: 42, D: 41, D: 40 E: 54, E: 53, E: 52, E: 51, E: 50 F: 65, F: 64, F: 63, F: 62, F: 61, F: 60 ","date":"2018-01-20","objectID":"/2018/01/20/mysql-string-concat-functions/:2:1","tags":["MySQL"],"title":"MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•°","uri":"/2018/01/20/mysql-string-concat-functions/"},{"categories":["MySQL"],"content":"å°†æ‰€æœ‰çš„ val å»é‡åè¿æˆä¸€è¡Œï¼Œå¹¶æŒ‰ key åˆ†ç»„ SELECT GROUP_CONCAT(DISTINCT `val`) AS `vals` FROM demo GROUP BY `key`; // ç»“æœ 10 20,21 30,31,32 40,41,42,43 50,51,52,53,54 60,61,62,63,64,65 ","date":"2018-01-20","objectID":"/2018/01/20/mysql-string-concat-functions/:2:2","tags":["MySQL"],"title":"MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•°","uri":"/2018/01/20/mysql-string-concat-functions/"},{"categories":["MySQL"],"content":"CONCAT() - è¿æ¥å­—ç¬¦ä¸² CONCAT(str1,str2,â€¦) ","date":"2018-01-20","objectID":"/2018/01/20/mysql-string-concat-functions/:3:0","tags":["MySQL"],"title":"MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•°","uri":"/2018/01/20/mysql-string-concat-functions/"},{"categories":["MySQL"],"content":"CONCAT() å‡½æ•°åœ¨è¿æ¥å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œåªè¦å…¶ä¸­ä¸€ä¸ªæ˜¯ NULLï¼Œé‚£ä¹ˆå°†è¿”å› NULL SELECT CONCAT('a', 'b', 'c', NULL) AS string; // ç»“æœ NULL ","date":"2018-01-20","objectID":"/2018/01/20/mysql-string-concat-functions/:3:1","tags":["MySQL"],"title":"MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•°","uri":"/2018/01/20/mysql-string-concat-functions/"},{"categories":["MySQL"],"content":"CONCAT_WS() - æŒ‰æŒ‡å®šç¬¦å·è¿æ¥å­—ç¬¦ä¸² å³ CONCAT With Separatorï¼Œæ˜¯ CONCAT() çš„ç‰¹æ®Šå½¢å¼ CONCAT_WS(separator,str1,str2,â€¦) ","date":"2018-01-20","objectID":"/2018/01/20/mysql-string-concat-functions/:4:0","tags":["MySQL"],"title":"MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•°","uri":"/2018/01/20/mysql-string-concat-functions/"},{"categories":["MySQL"],"content":"å’Œ CONCAT() å‡½æ•°ä¸åŒçš„æ˜¯ï¼ŒCONCAT_WS() å‡½æ•°åœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸ä¼šå› ä¸º NULL å€¼è€Œè¿”å› NULL SELECT CONCAT_WS( '', 'a', 'b', 'c', '', NULL, FALSE, TRUE ) AS string; // ç»“æœ abc01 ","date":"2018-01-20","objectID":"/2018/01/20/mysql-string-concat-functions/:5:0","tags":["MySQL"],"title":"MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•°","uri":"/2018/01/20/mysql-string-concat-functions/"},{"categories":["MySQL"],"content":"å°†æ¯ä¸ª val ç”¨ | è¿æ¥èµ·æ¥ï¼Œå¹¶æŒ‰ key åˆ†ç»„ SELECT CONCAT_WS('|', `key`, `val`) AS info FROM demo; // ç»“æœ A|10 B|20 B|21 C|30 C|31 C|32 D|40 D|41 D|42 D|43 E|50 E|51 E|52 E|53 E|54 F|60 F|61 F|62 F|63 F|64 F|65 ","date":"2018-01-20","objectID":"/2018/01/20/mysql-string-concat-functions/:5:1","tags":["MySQL"],"title":"MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•°","uri":"/2018/01/20/mysql-string-concat-functions/"},{"categories":["MySQL"],"content":"æŒ‰ key åˆ†ç»„ï¼Œå°† val çš„å€¼æŒ‰é€—å·ç©ºæ ¼åˆ†éš”åè¿æ¥åˆ° key å­—æ®µä¸­ å¦‚: F: 60, 61, 62, 63, 64, 65 SELECT GROUP_CONCAT(`key` SEPARATOR ',') AS `val` FROM ( SELECT CONCAT( `key`, ': ', GROUP_CONCAT(`val` SEPARATOR ', ') ) AS `key` FROM demo GROUP BY `key` ) custom GROUP BY `key`; // ç»“æœ A: 10 B: 20, 21 C: 30, 31, 32 D: 40, 41, 42, 43 E: 50, 51, 52, 53, 54 F: 60, 61, 62, 63, 64, 65 ","date":"2018-01-20","objectID":"/2018/01/20/mysql-string-concat-functions/:5:2","tags":["MySQL"],"title":"MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•°","uri":"/2018/01/20/mysql-string-concat-functions/"},{"categories":["MySQL"],"content":"å‚è€ƒ Difference between GROUP_CONCAT() and CONCAT_WS() ","date":"2018-01-20","objectID":"/2018/01/20/mysql-string-concat-functions/:6:0","tags":["MySQL"],"title":"MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•°","uri":"/2018/01/20/mysql-string-concat-functions/"},{"categories":["MySQL"],"content":"è”åˆæŸ¥è¯¢è¯­å¥ç‰µæ‰¯åˆ°å¤šå¼ è¡¨ï¼Œå¤šè¡¨æŸ¥è¯¢æœ‰å¤šç§è¯­æ³•ï¼Œå¤šç§ä½¿ç”¨åœºæ™¯ï¼Œä¸åŒçš„åœºæ™¯éœ€è¦ä¸åŒçš„è¯­æ³•ã€‚ MySQL æ•°æ®ç±»å‹ MySQL ç”¨æˆ·ç®¡ç† MySQL å…³é”®å­—æŸ¥è¯¢ MySQL å­—ç¬¦ä¸²å‡½æ•° MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•° MySQL å¿˜è®° root å¯†ç åé‡ç½® MySQL æœ€å€¼æŸ¥è¯¢ MySQL æ—¥æœŸæ—¶é—´å‡½æ•° MySQL è”åˆæŸ¥è¯¢ MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤© MySQL æ”¯æŒ emoji å›¾æ ‡çš„è®¾ç½® MySQL å­˜å‚¨å¼•æ“ MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯» ","date":"2018-01-20","objectID":"/2018/01/20/mysql-join-query/:0:0","tags":["MySQL"],"title":"MySQL è”åˆæŸ¥è¯¢","uri":"/2018/01/20/mysql-join-query/"},{"categories":["MySQL"],"content":"æ•°æ®å‡†å¤‡ /* Navicat Premium Data Transfer Source Server : localhost Source Server Type : MySQL Source Server Version : 50718 Source Host : 127.0.0.1 Source Database : test Target Server Type : MySQL Target Server Version : 50718 File Encoding : utf-8 Date: 05/16/2017 08:44:43 AM */ SET NAMES utf8mb4; SET FOREIGN_KEY_CHECKS = 0; -- ---------------------------- -- Table structure for `course` -- ---------------------------- DROP TABLE IF EXISTS `course`; CREATE TABLE `course` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”® ID', `title` varchar(50) NOT NULL DEFAULT '' COMMENT 'è¯¾ç¨‹æ ‡é¢˜åç§°', `englishName` varchar(50) DEFAULT '' COMMENT 'è‹±æ–‡åç§°', `createdAt` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'åˆ›å»ºæ—¶é—´æˆ³', `updatedAt` int(10) unsigned DEFAULT '0' COMMENT 'æ›´æ–°æ—¶é—´æˆ³', PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8; -- ---------------------------- -- Records of `course` -- ---------------------------- BEGIN; INSERT INTO `course` VALUES ('1', 'è¯­æ–‡', 'Chinese', '0', '0'), ('2', 'æ•°å­¦', 'Mathematics', '0', '0'), ('3', 'è‹±è¯­', 'English', '0', '0'), ('4', 'å†å²', 'History', '0', '0'), ('5', 'æ”¿æ²»', 'Politics', '0', '0'), ('6', 'åœ°ç†', 'Geography', '0', '0'), ('7', 'ç‰©ç†', 'Physics', '0', '0'), ('8', 'åŒ–å­¦', 'Chemistry', '0', '0'), ('9', 'ç”Ÿç‰©', 'Biology', '0', '0'), ('10', 'ä½“è‚²', 'Sports', '0', '0'); COMMIT; -- ---------------------------- -- Table structure for `lesson` -- ---------------------------- DROP TABLE IF EXISTS `lesson`; CREATE TABLE `lesson` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”® ID', `courseId` int(10) unsigned DEFAULT '0' COMMENT 'æ‰€å±è¯¾ç¨‹ ID', `title` varchar(50) NOT NULL DEFAULT '' COMMENT 'è¯¾æ—¶æ ‡é¢˜åç§°', `tags` varchar(255) DEFAULT '' COMMENT 'æ‰€å±æ ‡ç­¾', `createdAt` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'åˆ›å»ºæ—¶é—´æˆ³', `updatedAt` int(10) unsigned DEFAULT '0' COMMENT 'æ›´æ–°æ—¶é—´æˆ³', PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=31 DEFAULT CHARSET=utf8; -- ---------------------------- -- Records of `lesson` -- ---------------------------- BEGIN; INSERT INTO `lesson` VALUES ('1', '1', 'é«˜ä¸­ä¸€å¹´çº§è¯­æ–‡', 'é«˜ä¸€è¯­æ–‡', '0', '0'), ('2', '1', 'é«˜ä¸­äºŒå¹´çº§è¯­æ–‡', 'é«˜äºŒè¯­æ–‡', '0', '0'), ('3', '1', 'é«˜ä¸­ä¸‰å¹´çº§è¯­æ–‡', 'é«˜ä¸‰è¯­æ–‡', '0', '0'), ('4', '0', 'é«˜ä¸­ä¸€å¹´çº§æ•°å­¦', 'é«˜ä¸€æ•°å­¦', '0', '0'), ('5', '0', 'é«˜ä¸­äºŒå¹´çº§æ•°å­¦', 'é«˜äºŒæ•°å­¦', '0', '0'), ('6', '0', 'é«˜ä¸­ä¸‰å¹´çº§æ•°å­¦', 'é«˜ä¸‰æ•°å­¦', '0', '0'), ('7', '3', 'é«˜ä¸­ä¸€å¹´çº§è‹±è¯­', 'é«˜ä¸€è‹±è¯­', '0', '0'), ('8', '3', 'é«˜ä¸­äºŒå¹´çº§è‹±è¯­', 'é«˜äºŒè‹±è¯­', '0', '0'), ('9', '3', 'é«˜ä¸­ä¸‰å¹´çº§è‹±è¯­', 'é«˜ä¸‰è‹±è¯­', '0', '0'), ('10', '0', 'é«˜ä¸­ä¸€å¹´çº§å†å²', 'é«˜ä¸€å†å²', '0', '0'), ('11', '0', 'é«˜ä¸­äºŒå¹´çº§å†å²', 'é«˜äºŒå†å²', '0', '0'), ('12', '0', 'é«˜ä¸­ä¸‰å¹´çº§å†å²', 'é«˜ä¸‰å†å²', '0', '0'), ('13', '5', 'é«˜ä¸­ä¸€å¹´çº§æ”¿æ²»', 'é«˜ä¸€æ”¿æ²»', '0', '0'), ('14', '5', 'é«˜ä¸­äºŒå¹´çº§æ”¿æ²»', 'é«˜äºŒæ”¿æ²»', '0', '0'), ('15', '5', 'é«˜ä¸­ä¸‰å¹´çº§æ”¿æ²»', 'é«˜ä¸‰æ”¿æ²»', '0', '0'), ('16', '0', 'é«˜ä¸­ä¸€å¹´çº§åœ°ç†', 'é«˜ä¸€åœ°ç†', '0', '0'), ('17', '0', 'é«˜ä¸­äºŒå¹´çº§åœ°ç†', 'é«˜äºŒåœ°ç†', '0', '0'), ('18', '0', 'é«˜ä¸­ä¸‰å¹´çº§åœ°ç†', 'é«˜ä¸‰åœ°ç†', '0', '0'), ('19', '7', 'é«˜ä¸­ä¸€å¹´çº§ç‰©ç†', 'é«˜ä¸€ç‰©ç†', '0', '0'), ('20', '7', 'é«˜ä¸­äºŒå¹´çº§ç‰©ç†', 'é«˜äºŒç‰©ç†', '0', '0'), ('21', '7', 'é«˜ä¸­ä¸‰å¹´çº§ç‰©ç†', 'é«˜ä¸‰ç‰©ç†', '0', '0'), ('22', '0', 'é«˜ä¸­ä¸€å¹´çº§åŒ–å­¦', 'é«˜ä¸€åŒ–å­¦', '0', '0'), ('23', '0', 'é«˜ä¸­äºŒå¹´çº§åŒ–å­¦', 'é«˜äºŒåŒ–å­¦', '0', '0'), ('24', '0', 'é«˜ä¸­ä¸‰å¹´çº§åŒ–å­¦', 'é«˜ä¸‰åŒ–å­¦', '0', '0'), ('25', '9', 'é«˜ä¸­ä¸€å¹´çº§ç”Ÿç‰©', 'é«˜ä¸€ç”Ÿç‰©', '0', '0'), ('26', '9', 'é«˜ä¸­äºŒå¹´çº§ç”Ÿç‰©', 'é«˜äºŒç”Ÿç‰©', '0', '0'), ('27', '9', 'é«˜ä¸­ä¸‰å¹´çº§ç”Ÿç‰©', 'é«˜ä¸‰ç”Ÿç‰©', '0', '0'), ('28', '0', 'é«˜ä¸­ä¸€å¹´çº§ä½“è‚²', 'é«˜ä¸€ä½“è‚²', '0', '0'), ('29', '0', 'é«˜ä¸­äºŒå¹´çº§ä½“è‚²', 'é«˜äºŒä½“è‚²', '0', '0'), ('30', '0', 'é«˜ä¸­ä¸‰å¹´çº§ä½“è‚²', 'é«˜ä¸‰ä½“è‚²', '0', '0'); COMMIT; SET FOREIGN_KEY_CHECKS = 1; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-join-query/:1:0","tags":["MySQL"],"title":"MySQL è”åˆæŸ¥è¯¢","uri":"/2018/01/20/mysql-join-query/"},{"categories":["MySQL"],"content":"è¿æ¥æŸ¥è¯¢ ","date":"2018-01-20","objectID":"/2018/01/20/mysql-join-query/:2:0","tags":["MySQL"],"title":"MySQL è”åˆæŸ¥è¯¢","uri":"/2018/01/20/mysql-join-query/"},{"categories":["MySQL"],"content":"INNER JOIN - å†…è¿æ¥ SELECT a.`id` AS courseId, a.`title` AS courseTitle, a.`englishName`, b.`id` AS lessonId, b.`title` AS lessonTitle, b.`tags` FROM test.`course` AS a INNER JOIN test.`lesson` AS b ON a.`id` = b.`courseId`; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-join-query/:2:1","tags":["MySQL"],"title":"MySQL è”åˆæŸ¥è¯¢","uri":"/2018/01/20/mysql-join-query/"},{"categories":["MySQL"],"content":"OUTER JOIN - å¤–è¿æ¥ MySQL å¹¶ä¸æ”¯æŒ FULL OUTER JOIN è¯­æ³•ã€‚ SELECT a.`id` AS courseId, a.`title` AS courseTitle, a.`englishName`, b.`id` AS lessonId, b.`title` AS lessonTitle, b.`tags` FROM test.`course` AS a LEFT JOIN test.`lesson` AS b ON a.`id` = b.`courseId` UNION SELECT a.`id` AS courseId, a.`title` AS courseTitle, a.`englishName`, b.`id` AS lessonId, b.`title` AS lessonTitle, b.`tags` FROM test.`course` AS a RIGHT JOIN test.`lesson` AS b ON a.`id` = b.`courseId`; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-join-query/:2:2","tags":["MySQL"],"title":"MySQL è”åˆæŸ¥è¯¢","uri":"/2018/01/20/mysql-join-query/"},{"categories":["MySQL"],"content":"LEFT JOIN - å·¦è¿æ¥ SELECT a.`id` AS courseId, a.`title` AS courseTitle, a.`englishName`, b.`id` AS lessonId, b.`title` AS lessonTitle, b.`tags` FROM test.`course` AS a LEFT JOIN test.`lesson` AS b ON a.`id` = b.`courseId`; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-join-query/:2:3","tags":["MySQL"],"title":"MySQL è”åˆæŸ¥è¯¢","uri":"/2018/01/20/mysql-join-query/"},{"categories":["MySQL"],"content":"RIGHT JOIN å³è¿æ¥ SELECT a.`id` AS courseId, a.`title` AS courseTitle, a.`englishName`, b.`id` AS lessonId, b.`title` AS lessonTitle, b.`tags` FROM test.`course` AS a RIGHT JOIN test.`lesson` AS b ON a.`id` = b.`courseId`; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-join-query/:2:4","tags":["MySQL"],"title":"MySQL è”åˆæŸ¥è¯¢","uri":"/2018/01/20/mysql-join-query/"},{"categories":["MySQL"],"content":"LEFT JOIN EXCLUDING INNER JOIN SELECT a.`id` AS courseId, a.`title` AS courseTitle, a.`englishName`, b.`id` AS lessonId, b.`title` AS lessonTitle, b.`tags` FROM test.`course` AS a LEFT JOIN test.`lesson` AS b ON a.`id` = b.`courseId` WHERE b.`id` IS NULL; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-join-query/:2:5","tags":["MySQL"],"title":"MySQL è”åˆæŸ¥è¯¢","uri":"/2018/01/20/mysql-join-query/"},{"categories":["MySQL"],"content":"RIGHT JOIN EXCLUDING INNER JOIN SELECT a.`id` AS courseId, a.`title` AS courseTitle, a.`englishName`, b.`id` AS lessonId, b.`title` AS lessonTitle, b.`tags` FROM test.`course` AS a RIGHT JOIN test.`lesson` AS b ON a.`id` = b.`courseId` WHERE a.`id` IS NULL; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-join-query/:2:6","tags":["MySQL"],"title":"MySQL è”åˆæŸ¥è¯¢","uri":"/2018/01/20/mysql-join-query/"},{"categories":["MySQL"],"content":"OUTER JOIN EXCLUDING INNER JOIN SELECT a.`id` AS courseId, a.`title` AS courseTitle, a.`englishName`, b.`id` AS lessonId, b.`title` AS lessonTitle, b.`tags` FROM test.`course` AS a LEFT JOIN test.`lesson` AS b ON a.`id` = b.`courseId` WHERE b.`courseId` IS NULL UNION SELECT a.`id` AS courseId, a.`title` AS courseTitle, a.`englishName`, b.`id` AS lessonId, b.`title` AS lessonTitle, b.`tags` FROM test.`course` AS a RIGHT JOIN test.`lesson` AS b ON a.`id` = b.`courseId` WHERE a.`id` IS NULL; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-join-query/:2:7","tags":["MySQL"],"title":"MySQL è”åˆæŸ¥è¯¢","uri":"/2018/01/20/mysql-join-query/"},{"categories":["MySQL"],"content":"CROSS JOIN ç¬›å¡å°”ç§¯, å³ N * M ä¸‰ç§è¡¨ç¤ºæ–¹æ³•: CROSS JOIN, JOIN, , SELECT a.`id` AS courseId, a.`title` AS courseTitle, a.`englishName`, b.`id` AS lessonId, b.`title` AS lessonTitle, b.`tags` FROM test.`course` AS a CROSS JOIN test.`lesson` AS b; SELECT a.`id` AS courseId, a.`title` AS courseTitle, a.`englishName`, b.`id` AS lessonId, b.`title` AS lessonTitle, b.`tags` FROM test.`course` AS a JOIN test.`lesson` AS b; SELECT a.`id` AS courseId, a.`title` AS courseTitle, a.`englishName`, b.`id` AS lessonId, b.`title` AS lessonTitle, b.`tags` FROM test.`course` AS a, test.`lesson` AS b; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-join-query/:2:8","tags":["MySQL"],"title":"MySQL è”åˆæŸ¥è¯¢","uri":"/2018/01/20/mysql-join-query/"},{"categories":["MySQL"],"content":"åœ¨å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å¹¶ä¸ä¼šç›´æ¥åˆ©ç”¨ MySQL çš„ root ç”¨æˆ·è¿›è¡Œé¡¹ç›®çš„å¼€å‘ï¼Œä¸€èˆ¬çš„ï¼Œæˆ‘ä»¬éƒ½ä¼šåˆ›å»ºä¸€ä¸ªå…·æœ‰éƒ¨åˆ†æƒé™çš„ç”¨æˆ·ã€‚ MySQL æ•°æ®ç±»å‹ MySQL ç”¨æˆ·ç®¡ç† MySQL å…³é”®å­—æŸ¥è¯¢ MySQL å­—ç¬¦ä¸²å‡½æ•° MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•° MySQL å¿˜è®° root å¯†ç åé‡ç½® MySQL æœ€å€¼æŸ¥è¯¢ MySQL æ—¥æœŸæ—¶é—´å‡½æ•° MySQL è”åˆæŸ¥è¯¢ MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤© MySQL æ”¯æŒ Emoji å›¾æ ‡çš„è®¾ç½® MySQL å­˜å‚¨å¼•æ“ MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯» ","date":"2018-01-20","objectID":"/2018/01/20/mysql-user-manager/:0:0","tags":["MySQL"],"title":"MySQL ç”¨æˆ·ç®¡ç†","uri":"/2018/01/20/mysql-user-manager/"},{"categories":["MySQL"],"content":"åˆ›å»ºç”¨æˆ· Adding User Accounts ","date":"2018-01-20","objectID":"/2018/01/20/mysql-user-manager/:1:0","tags":["MySQL"],"title":"MySQL ç”¨æˆ·ç®¡ç†","uri":"/2018/01/20/mysql-user-manager/"},{"categories":["MySQL"],"content":"åˆ›å»ºæœ¬åœ°ç”¨æˆ· CREATE USER 'develop'@'localhost' IDENTIFIED BY ']8Mgbs6m{4)z?DYJU8XA'; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-user-manager/:1:1","tags":["MySQL"],"title":"MySQL ç”¨æˆ·ç®¡ç†","uri":"/2018/01/20/mysql-user-manager/"},{"categories":["MySQL"],"content":"åˆ›å»ºè¿œç¨‹ç”¨æˆ· // ä» 192.168.10.10 / 192.168.10.11 ç™»é™†çš„ç”¨æˆ· CREATE USER 'develop'@'192.168.10.10' IDENTIFIED BY ']8Mgbs6m{4)z?DYJU8XA'; CREATE USER 'develop'@'192.168.10.11' IDENTIFIED BY ']8Mgbs6m{4)z?DYJU8XA'; // ä»ä»»æ„ IP ç™»é™†çš„ç”¨æˆ· CREATE USER 'develop'@'%' IDENTIFIED BY ']8Mgbs6m{4)z?DYJU8XA'; // ä¸åšæŒ‡å®šé»˜è®¤ä¸º '%' CREATE USER 'develop' IDENTIFIED BY ']8Mgbs6m{4)z?DYJU8XA'; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-user-manager/:1:2","tags":["MySQL"],"title":"MySQL ç”¨æˆ·ç®¡ç†","uri":"/2018/01/20/mysql-user-manager/"},{"categories":["MySQL"],"content":"ä¿®æ”¹å¯†ç  // æŸ¥è¯¢ç”¨æˆ· SELECT User, Host, HEX(authentication_string) FROM mysql.user; // ä¿®æ”¹å¯†ç  ALTER user 'develop'@'localhost' IDENTIFIED BY ']8Mgbs6m{4)z?DYJU8XA'; æˆ–è€… UPDATE user SET authentication_string = PASSWORD(']8Mgbs6m{4)z?DYJU8XA'), password_expired = 'N' WHERE User = 'develop' AND Host = 'localhost'; FLUSH PRIVILEGES; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-user-manager/:2:0","tags":["MySQL"],"title":"MySQL ç”¨æˆ·ç®¡ç†","uri":"/2018/01/20/mysql-user-manager/"},{"categories":["MySQL"],"content":"åˆ é™¤ç”¨æˆ· USE mysql; DELETE FROM `user` WHERE `user` = 'develop' AND `host` = '192.168.10.11'; FLUSH PRIVILEGES; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-user-manager/:3:0","tags":["MySQL"],"title":"MySQL ç”¨æˆ·ç®¡ç†","uri":"/2018/01/20/mysql-user-manager/"},{"categories":["MySQL"],"content":"èµ‹äºˆç”¨æˆ·æƒé™ å…¶ä¸­çš„ test.* è¡¨ç¤ºå¯¹ test æ•°æ®åº“çš„æ‰€æœ‰æ“ä½œæˆäºˆæä¾›çš„æƒé™ // èµ‹äºˆéƒ¨åˆ†æƒé™ GRANT SELECT, DELETE, UPDATE, INSERT ON test.* TO develop@'192.168.10.10' IDENTIFIED BY ']8Mgbs6m{4)z?DYJU8XA'; FLUSH PRIVILEGES; // èµ‹äºˆæ‰€æœ‰æƒé™ GRANT ALL PRIVILEGES ON test.* TO 'develop'@'localhost' WITH GRANT OPTION; GRANT ALL PRIVILEGES ON test.* TO 'develop'@'%' WITH GRANT OPTION; FLUSH PRIVILEGES; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-user-manager/:4:0","tags":["MySQL"],"title":"MySQL ç”¨æˆ·ç®¡ç†","uri":"/2018/01/20/mysql-user-manager/"},{"categories":["MySQL"],"content":"æŸ¥çœ‹ç”¨æˆ·æƒé™ // æŸ¥çœ‹æœ¬åœ° develop çš„æƒé™ï¼Œæ²¡æœ‰æŒ‡å®šåé¢çš„ localhost åˆ™é»˜è®¤ä¸º '%' SHOW GRANTS FOR develop@'localhost'; // æŸ¥çœ‹æŒ‡å®š host çš„ develop çš„æƒé™ SHOW GRANTS FOR develop@'192.168.10.10'; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-user-manager/:5:0","tags":["MySQL"],"title":"MySQL ç”¨æˆ·ç®¡ç†","uri":"/2018/01/20/mysql-user-manager/"},{"categories":["MySQL"],"content":"æ’¤é”€ç”¨æˆ·æƒé™ // æ’¤é”€ INSERT æƒé™ REVOKE INSERT ON test.* FROM develop@'192.168.10.10'; // æ’¤é”€æ‰€æœ‰æƒé™ REVOKE ALL ON test.* FROM develop@'192.168.10.10'; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-user-manager/:6:0","tags":["MySQL"],"title":"MySQL ç”¨æˆ·ç®¡ç†","uri":"/2018/01/20/mysql-user-manager/"},{"categories":["MySQL"],"content":"MySQL æŸ¥è¯¢å½“å‰å¹´ä»½çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©ã€å½“å‰å­£åº¦çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©ã€å½“å‰æœˆä»½çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©ã€å½“å‰å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©ã€‚ MySQL æ•°æ®ç±»å‹ MySQL ç”¨æˆ·ç®¡ç† MySQL å…³é”®å­—æŸ¥è¯¢ MySQL å­—ç¬¦ä¸²å‡½æ•° MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•° MySQL å¿˜è®° root å¯†ç åé‡ç½® MySQL æœ€å€¼æŸ¥è¯¢ MySQL æ—¥æœŸæ—¶é—´å‡½æ•° MySQL è”åˆæŸ¥è¯¢ MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤© MySQL æ”¯æŒ emoji å›¾æ ‡çš„è®¾ç½® MySQL å­˜å‚¨å¼•æ“ MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯» ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datatime-query/:0:0","tags":["MySQL"],"title":"MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©","uri":"/2018/01/20/mysql-datatime-query/"},{"categories":["MySQL"],"content":"å¹´ä»½ ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datatime-query/:1:0","tags":["MySQL"],"title":"MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©","uri":"/2018/01/20/mysql-datatime-query/"},{"categories":["MySQL"],"content":"å½“å‰å¹´ä»½ç¬¬ä¸€å¤© SELECT DATE_SUB(CURDATE(), INTERVAL DAYOFYEAR(NOW()) - 1 DAY) AS 'å½“å‰å¹´ä»½çš„ç¬¬ä¸€å¤©'; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datatime-query/:1:1","tags":["MySQL"],"title":"MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©","uri":"/2018/01/20/mysql-datatime-query/"},{"categories":["MySQL"],"content":"å½“å‰å¹´ä»½æœ€åä¸€å¤© SELECT CONCAT(YEAR(NOW()), '-12-31') AS 'å½“å‰å¹´ä»½çš„æœ€åä¸€å¤©'; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datatime-query/:1:2","tags":["MySQL"],"title":"MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©","uri":"/2018/01/20/mysql-datatime-query/"},{"categories":["MySQL"],"content":"å­£åº¦ ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datatime-query/:2:0","tags":["MySQL"],"title":"MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©","uri":"/2018/01/20/mysql-datatime-query/"},{"categories":["MySQL"],"content":"å½“å‰å­£åº¦ç¬¬ä¸€å¤© SELECT MAKEDATE(YEAR(CURDATE()), 1) + INTERVAL QUARTER(CURDATE()) QUARTER - INTERVAL 1 QUARTER - INTERVAL +1 MONTH AS 'å½“å‰å­£åº¦çš„ç¬¬ä¸€å¤©'; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datatime-query/:2:1","tags":["MySQL"],"title":"MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©","uri":"/2018/01/20/mysql-datatime-query/"},{"categories":["MySQL"],"content":"å½“å‰å­£åº¦æœ€åä¸€å¤© SELECT LAST_DAY(MAKEDATE(EXTRACT(YEAR FROM CURDATE()), 1) + INTERVAL QUARTER(CURDATE()) * 3 - 1 MONTH) AS 'å½“å‰å­£åº¦çš„æœ€åä¸€å¤©'; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datatime-query/:2:2","tags":["MySQL"],"title":"MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©","uri":"/2018/01/20/mysql-datatime-query/"},{"categories":["MySQL"],"content":"å½“å‰æœˆä»½ ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datatime-query/:3:0","tags":["MySQL"],"title":"MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©","uri":"/2018/01/20/mysql-datatime-query/"},{"categories":["MySQL"],"content":"å½“å‰æœˆä»½çš„ç¬¬ä¸€å¤© SELECT DATE_SUB(CURDATE(), INTERVAL DAYOFMONTH(NOW()) - 1 DAY) AS 'å½“å‰æœˆä»½çš„ç¬¬ä¸€å¤©'; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datatime-query/:3:1","tags":["MySQL"],"title":"MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©","uri":"/2018/01/20/mysql-datatime-query/"},{"categories":["MySQL"],"content":"å½“å‰æœˆä»½çš„æœ€åä¸€å¤© SELECT LAST_DAY(NOW()) AS 'å½“å‰æœˆä»½çš„æœ€åä¸€å¤©'; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datatime-query/:3:2","tags":["MySQL"],"title":"MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©","uri":"/2018/01/20/mysql-datatime-query/"},{"categories":["MySQL"],"content":"å½“å‰å‘¨ ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datatime-query/:4:0","tags":["MySQL"],"title":"MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©","uri":"/2018/01/20/mysql-datatime-query/"},{"categories":["MySQL"],"content":"å½“å‰å‘¨çš„ç¬¬ä¸€å¤© SELECT DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) + 0 DAY) AS 'å½“å‰å‘¨çš„ç¬¬ä¸€å¤©'; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datatime-query/:4:1","tags":["MySQL"],"title":"MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©","uri":"/2018/01/20/mysql-datatime-query/"},{"categories":["MySQL"],"content":"å½“å‰å‘¨çš„æœ€åä¸€å¤© SELECT DATE_SUB(CURDATE(), INTERVAL WEEKDAY(CURDATE()) - 6 DAY) AS 'å½“å‰å‘¨çš„æœ€åä¸€å¤©'; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datatime-query/:4:2","tags":["MySQL"],"title":"MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©","uri":"/2018/01/20/mysql-datatime-query/"},{"categories":["MySQL"],"content":"æ•´ç†ä¸€ä¸‹æˆ‘æ›¾æœ‰æ‰€è€³é—»çš„ MySQL æ—¥æœŸå’Œæ—¶é—´å‡½æ•°ã€‚ MySQL æ•°æ®ç±»å‹ MySQL ç”¨æˆ·ç®¡ç† MySQL å…³é”®å­—æŸ¥è¯¢ MySQL å­—ç¬¦ä¸²å‡½æ•° MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•° MySQL å¿˜è®° root å¯†ç åé‡ç½® MySQL æœ€å€¼æŸ¥è¯¢ MySQL æ—¥æœŸæ—¶é—´å‡½æ•° MySQL è”åˆæŸ¥è¯¢ MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤© MySQL æ”¯æŒ emoji å›¾æ ‡çš„è®¾ç½® MySQL å­˜å‚¨å¼•æ“ MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯» ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:0:0","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"å¸¸ç”¨æ—¥æœŸæ—¶é—´å‡½æ•° åç§° æè¿° å¤‡æ³¨ ADDDATE() æ·»åŠ æ—¥æœŸ ADDTIME() æ·»åŠ æ—¶é—´ CONVERT_TZ() è½¬æ¢ä¸åŒæ—¶åŒº CURDATE() è¿”å›å½“å‰æ—¥æœŸ CURRENT_DATE() å’Œ CURRENT_DATE ç­‰åŒäº CURDATE() CURRENT_TIME() å’Œ CURRENT_TIME ç­‰åŒäº CURTIME() CURRENT_TIMESTAMP() å’Œ CURRENT_TIMESTAMP ç­‰åŒäº NOW() CURTIME() è¿”å›å½“å‰æ—¶é—´ DATE_ADD() æ·»åŠ ä¸¤ä¸ªæ—¥æœŸ DATE_FORMAT() æŒ‰æŒ‡å®šæ–¹å¼æ ¼å¼åŒ–æ—¥æœŸ DATE_SUB() æ±‚è§£ä¸¤ä¸ªæ—¥æœŸçš„é—´éš” DATE() æå–æ—¥æœŸæˆ–æ—¥æœŸæ—¶é—´è¡¨è¾¾å¼ä¸­çš„æ—¥æœŸéƒ¨åˆ† DATEDIFF() æ±‚è§£ä¸¤ä¸ªæ—¥æœŸçš„é—´éš” DAY() ç­‰åŒäº DAYOFMONTH() DAYNAME() è¿”å›æ˜ŸæœŸä¸­æŸå¤©çš„åç§° DAYOFMONTH() è¿”å›ä¸€æœˆä¸­æŸå¤©çš„åºå·(1-31) DAYOFWEEK() è¿”å›å‚æ•°æ‰€æŒ‡å®šçš„ä¸€å‘¨ä¸­æŸå¤©çš„ç´¢å¼•å€¼ DAYOFYEAR() è¿”å›ä¸€å¹´ä¸­æŸå¤©çš„åºå·(1-366) EXTRACT æå–æ—¥æœŸä¸­çš„ç›¸åº”éƒ¨åˆ† FROM_DAYS() å°†ä¸€ä¸ªå¤©æ•°åºå·è½¬å˜ä¸ºæ—¥æœŸå€¼ FROM_UNIXTIME() å°†æ—¥æœŸæ ¼å¼åŒ–ä¸º UNIX çš„æ—¶é—´æˆ³ HOUR() æå–æ—¶é—´ LAST_DAY æ ¹æ®å‚æ•°, è¿”å›æœˆä¸­æœ€åä¸€å¤© LOCALTIME() å’Œ LOCALTIME ç­‰åŒäº NOW() LOCALTIMESTAMP å’Œ LOCALTIMESTAMP() ç­‰åŒäº NOW() MAKEDATE() åŸºäºç»™å®šå‚æ•°å¹´ä»½å’Œæ‰€åœ¨å¹´ä¸­çš„å¤©æ•°åºå·, è¿”å›ä¸€ä¸ªæ—¥æœŸ MAKETIME æ ¹æ®ç»™å®šå°æ—¶, åˆ†, ç§’è¿”å›ä¸€ä¸ªæ ¼å¼æ—¶é—´ MICROSECOND() è¿”å›å‚æ•°æ‰€å¯¹åº”çš„æ¯«ç§’æ•° MINUTE() è¿”å›å‚æ•°å¯¹åº”çš„åˆ†é’Ÿæ•° MONTH() è¿”å›ä¼ å…¥æ—¥æœŸæ‰€å¯¹åº”çš„æœˆåºæ•° MONTHNAME() è¿”å›æœˆçš„åç§° NOW() è¿”å›å½“å‰æ—¥æœŸä¸æ—¶é—´ PERIOD_ADD() ä¸ºå¹´-æœˆç»„åˆæ—¥æœŸæ·»åŠ ä¸€ä¸ªæ—¶æ®µ PERIOD_DIFF() è¿”å›ä¸¤ä¸ªæ—¶æ®µä¹‹é—´çš„æœˆä»½å·®å€¼ QUARTER() è¿”å›æ—¥æœŸå‚æ•°æ‰€å¯¹åº”çš„å­£åº¦åºå· SEC_TO_TIME() å°†æè¿°è½¬å˜æˆ HH:MM:SS çš„æ ¼å¼ SECOND() è¿”å›ç§’åºå·(0-59 STR_TO_DATE() å°†å­—ç¬¦ä¸²è½¬å˜ä¸ºæ—¥æœŸ SUBDATE() ä»ç»™å®šçš„æ—¥æœŸä¸­å‡å»ä¸€ä¸ªæ—¶é—´åŒºé—´, ç›¸å½“äº DATE_SUB() SUBTIME() è®¡ç®—æ—¶é—´å·®å€¼ SYSDATE() è¿”å›å‡½æ•°æ‰§è¡Œæ—¶çš„æ—¶é—´ TIME_FORMAT() æå–å‚æ•°ä¸­çš„æ—¶é—´éƒ¨åˆ† TIME_TO_SEC() å°†å‚æ•°è½¬åŒ–ä¸ºç§’æ•° TIME() æå–ä¼ å…¥è¡¨è¾¾å¼çš„æ—¶é—´éƒ¨åˆ† TIMEDIFF() è®¡ç®—æ—¶é—´å·®å€¼ TIMESTAMP() å•ä¸ªå‚æ•°æ—¶, å‡½æ•°è¿”å›æ—¥æœŸæˆ–æ—¥æœŸæ—¶é—´è¡¨è¾¾å¼; æœ‰ 2 ä¸ªå‚æ•°æ—¶, å°†å‚æ•°æ±‚å’Œ TIMESTAMPADD() ä¸ºæ—¥æœŸæ—¶é—´è¡¨è¾¾å¼æ·»åŠ ä¸€ä¸ªé—´éš” INTERVAL TIMESTAMPDIFF() ä»æ—¥æœŸæ—¶é—´è¡¨è¾¾å¼ä¸­å‡å»ä¸€ä¸ªé—´éš” INTERVAL TO_DAYS() è¿”å›è½¬æ¢æˆå¤©æ•°çš„æ—¥æœŸå‚æ•° UNIX_TIMESTAMP() è¿”å›ä¸€ä¸ª UNIX æ—¶é—´æˆ³ UTC_DATE() è¿”å›å½“å‰çš„ UTC æ—¥æœŸ UTC_TIME() è¿”å›å½“å‰çš„ UTC æ—¶é—´ UTC_TIMESTAMP() è¿”å›å½“å‰çš„ UTC æ—¶é—´ä¸æ—¥æœŸ WEEK() è¿”å›å‘¨åºå· WEEKDAY() è¿”å›æŸå¤©åœ¨æ˜ŸæœŸä¸­çš„ç´¢å¼•å€¼ WEEKOFYEAR() è¿”å›æ—¥æœŸæ‰€å¯¹åº”çš„æ˜ŸæœŸåœ¨ä¸€å¹´å½“ä¸­çš„åºå·(1-53) YEAR() è¿”å›å¹´ä»½ YEARWEEK() è¿”å›å¹´ä»½åŠæ˜ŸæœŸåºå· ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:1:0","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"æ—¥æœŸæ—¶é—´å‡½æ•°ç”¨æ³• ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:0","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"DATE_ADD() å‡½æ•° SELECT DATE_ADD('2017-11-11', INTERVAL 31 DAY); SELECT ADDDATE('2017-11-11', INTERVAL 31 DAY); SELECT ADDDATE('2017-11-11', 31); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:1","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"ADDTIME() å‡½æ•° SELECT ADDTIME('2017-12-31 23:59:59.999999', '0 0:0:0.000001'); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:2","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"CONVERT_TZ() å‡½æ•° Unable to load timezones? MySQL Server Time Zone Support // å¯¼å…¥æ—¶åŒºæ•°æ® $ mysql_tzinfo_to_sql /usr/share/zoneinfo | mysql -uroot -p -S /usr/local/var/run/mysql/mysql.sock --force mysql // è®¾ç½®å…¨å±€æ—¶åŒº SET GLOBAL time_zone = 'Asia/Shanghai'; // æŸ¥çœ‹ç³»ç»Ÿæ—¶åŒº SELECT @@global.time_zone, @@session.time_zone; // æ—¶åŒºç›¸å…³çš„è¡¨ SELECT * FROM mysql.time_zone; SELECT * FROM mysql.time_zone_transition_type; SELECT * FROM mysql.time_zone_transition; SELECT * FROM mysql.time_zone_name; SELECT * FROM mysql.time_zone_leap_second; SELECT CONVERT_TZ(NOW(), 'Asia/Shanghai', 'GMT'); SELECT CONVERT_TZ(NOW(), '+08:00', '+00:00'); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:3","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"CURRENT_DATE(), CURRENT_DATE å‡½æ•° SELECT CURRENT_DATE(); SELECT CURRENT_DATE() + 0; SELECT CURRENT_DATE; SELECT CURRENT_DATE + 0; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:4","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"CURRENT_TIME(), CURRENT_TIME å‡½æ•° SELECT CURRENT_TIME(); SELECT CURRENT_TIME() + 0; SELECT CURRENT_TIME; SELECT CURRENT_TIME + 0; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:5","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"NOW(), CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP, LOCALTIMESTAMP(), LOCALTIMESTAMP, LOCALTIME(), LOCALTIME å‡½æ•° SELECT NOW(); SELECT CURRENT_TIMESTAMP(); SELECT CURRENT_TIMESTAMP; SELECT LOCALTIMESTAMP(); SELECT LOCALTIMESTAMP; SELECT LOCALTIME(); SELECT LOCALTIME; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:6","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"DATE_ADD() å‡½æ•° SELECT DATE_ADD(CURRENT_DATE(), INTERVAL +1 YEAR); SELECT DATE_ADD(CURRENT_DATE(), INTERVAL +1 QUARTER); SELECT DATE_ADD(CURRENT_DATE(), INTERVAL +1 MONTH); SELECT DATE_ADD(CURRENT_DATE(), INTERVAL +1 DAY); SELECT DATE_ADD(CURRENT_TIME(), INTERVAL +1 HOUR); SELECT DATE_ADD(CURRENT_TIME(), INTERVAL +1 MINUTE); SELECT DATE_ADD(CURRENT_TIME(), INTERVAL +60 SECOND); SELECT DATE_ADD(CURRENT_TIME(), INTERVAL +5000 MICROSECOND); SELECT DATE_ADD(NOW(), INTERVAL +1 YEAR); SELECT DATE_ADD(NOW(), INTERVAL +1 MONTH); SELECT DATE_ADD(NOW(), INTERVAL +1 WEEK); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:7","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"DATE_FORMAT(), STR_TO_DATE() å‡½æ•° åç§° æè¿° å¤‡æ³¨ %a ä¸€æ˜ŸæœŸä¸­æ¯å¤©åç§°çš„ç¼©å†™(Sunâ€¦Sat) %b æœˆä»½çš„ç¼©å†™(Janâ€¦Dec) %c æœˆä»½çš„æ•°å­—è¡¨ç°å½¢å¼(0â€¦12) %D å¸¦æœ‰è‹±è¯­åç¼€çš„ä¸€ä¸ªæœˆä¸­çš„æ¯ä¸€å¤©çš„åç§°(0thã€1stã€2ndã€3rd) %d ç”¨æ•°å­—å½¢å¼è¡¨ç°çš„æ¯æœˆä¸­çš„æ¯ä¸€å¤©(00â€¦31) %e ç”¨æ•°å­—å½¢å¼è¡¨ç°çš„æ¯æœˆä¸­çš„æ¯ä¸€å¤©(0â€¦31) %f æ¯«ç§’(000000â€¦999999) %H 24 æ—¶åˆ¶æ˜¾ç¤ºçš„å°æ—¶(00â€¦23) %h 12 æ—¶åˆ¶æ˜¾ç¤ºçš„å°æ—¶(01â€¦12) %I 12 æ—¶åˆ¶æ˜¾ç¤ºçš„å°æ—¶(01â€¦12) %i ä»¥æ•°å­—å½¢å¼è¡¨ç°çš„åˆ†é’Ÿæ•°(00â€¦59) %j ä¸€å¹´ä¸­çš„æ¯ä¸€å¤©(001â€¦366) %k 24 æ—¶åˆ¶å°æ—¶çš„å¦ä¸€ç§è¡¨ç°æ ¼å¼(0â€¦23) %l 12 æ—¶åˆ¶å°æ—¶çš„å¦ä¸€ç§è¡¨ç°æ ¼å¼(1â€¦12) %M ç”¨å®Œæ•´è‹±æ–‡åç§°è¡¨ç¤ºçš„æœˆä»½(Januaryâ€¦December) %m ç”¨æ•°å­—è¡¨ç°çš„æœˆä»½(00â€¦12) %p ä¸Šåˆ(AM)æˆ–ä¸‹åˆ(PM) %r 12 æ—¶åˆ¶çš„æ—¶é—´å€¼(hh:mm:ss, åè·Ÿ AM æˆ– PM) %S ç§’(00â€¦59) %s ç§’(00â€¦59) %T 24 æ—¶åˆ¶çš„å°æ—¶(hh:mm:ss) %U æ˜ŸæœŸ(00â€¦53), å…¶ä¸­æ˜ŸæœŸå¤©æ˜¯æ¯æ˜ŸæœŸçš„å¼€å§‹æ—¥ %u æ˜ŸæœŸ(00â€¦53), å…¶ä¸­æ˜ŸæœŸä¸€æ˜¯æ¯æ˜ŸæœŸçš„å¼€å§‹æ—¥ %V æ˜ŸæœŸ(01â€¦53), å…¶ä¸­æ˜ŸæœŸå¤©æ˜¯æ¯æ˜ŸæœŸçš„å¼€å§‹æ—¥, å’Œ %X ä¸€èµ·ä½¿ç”¨ %v æ˜ŸæœŸ(01â€¦53), å…¶ä¸­æ˜ŸæœŸä¸€æ˜¯æ¯æ˜ŸæœŸçš„å¼€å§‹æ—¥, å’Œ %x ä¸€èµ·ä½¿ç”¨ %W ä¸€æ˜ŸæœŸä¸­å„æ—¥åç§°(Sundayâ€¦Saturday) %w ä¸€æ˜ŸæœŸä¸­å„æ—¥åç§°(0 ä»£è¡¨æ˜ŸæœŸæ—¥, 6 ä»£è¡¨æ˜ŸæœŸå…­, ä»¥æ­¤ç±»æ¨) %X æŸæ˜ŸæœŸæ‰€å¤„å¹´ä»½. å…¶ä¸­, æ˜ŸæœŸå¤©æ˜¯æ¯æ˜ŸæœŸçš„å¼€å§‹æ—¥, é‡‡ç”¨ 4 ä½æ•°å­—å½¢å¼è¡¨ç°, å’Œ %Vä¸€èµ·ä½¿ç”¨ %x æŸæ˜ŸæœŸæ‰€å¤„å¹´ä»½. å…¶ä¸­, æ˜ŸæœŸä¸€æ˜¯æ¯æ˜ŸæœŸçš„å¼€å§‹æ—¥, é‡‡ç”¨ 4 ä½æ•°å­—å½¢å¼è¡¨ç°, å’Œ %V ä¸€èµ·ä½¿ç”¨ %Y 4 ä½æ•°å­—è¡¨ç¤ºçš„å¹´ä»½ %y 2 ä½æ•°å­—è¡¨ç¤ºçš„å¹´ä»½ %% ç¬¦å· % çš„å­—é¢å€¼ %x(xä¸ºæ–œä½“) å­—ç¬¦ x çš„å­—é¢å€¼, x æŒ‡ä»¥ä¸Šæœªåˆ—å‡ºçš„ä»»ä½•å­—ç¬¦ SELECT DATE_FORMAT(NOW(), '%Yå¹´-%mæœˆ-%då· %p %Hæ—¶%iåˆ†%sç§’'); SELECT DATE_FORMAT(NOW(), '%Y %M %D %p %H:%m:%s %W %u %j'); SELECT STR_TO_DATE('February 1 2018', '%M %d %Y'); SELECT STR_TO_DATE('March,8,2018', '%M,%e,%Y'); SELECT STR_TO_DATE('Friday, July 28, 2018', '%W, %M %e, %Y'); SELECT STR_TO_DATE('2018,10,1 9', '%Y,%m,%d %h'); SELECT STR_TO_DATE('2018,6,2 21,30,01', '%Y,%m,%d %H,%i,%s'); SELECT STR_TO_DATE('16,3,33', '%H,%i,%s'); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:8","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"DATE_SUB(), SUBDATE() å‡½æ•° SELECT DATE_SUB(CURRENT_DATE(), INTERVAL +1 YEAR); SELECT DATE_SUB(CURRENT_DATE(), INTERVAL +1 QUARTER); SELECT DATE_SUB(CURRENT_DATE(), INTERVAL +1 MONTH); SELECT DATE_SUB(CURRENT_DATE(), INTERVAL +1 DAY); SELECT DATE_SUB(CURRENT_TIME(), INTERVAL +1 HOUR); SELECT DATE_SUB(CURRENT_TIME(), INTERVAL +1 MINUTE); SELECT DATE_SUB(CURRENT_TIME(), INTERVAL +60 SECOND); SELECT DATE_SUB(CURRENT_TIME(), INTERVAL +5000 MICROSECOND); SELECT DATE_SUB(NOW(), INTERVAL +1 YEAR); SELECT DATE_SUB(NOW(), INTERVAL +1 MONTH); SELECT DATE_SUB(NOW(), INTERVAL +1 WEEK); SELECT SUBDATE(CURRENT_TIMESTAMP(6), INTERVAL 4 MICROSECOND); SELECT SUBDATE(NOW(), INTERVAL 60 SECOND); SELECT SUBDATE(LOCALTIMESTAMP(), INTERVAL 30 MINUTE); SELECT SUBDATE(LOCALTIME(), INTERVAL 2 HOUR); SELECT SUBDATE(CURDATE(), INTERVAL 10 DAY); SELECT SUBDATE(CURRENT_DATE(), 10); SELECT SUBDATE(CURRENT_DATE(), INTERVAL 4 WEEK); SELECT SUBDATE(CURRENT_DATE(), INTERVAL 3 MONTH); SELECT SUBDATE(CURRENT_DATE(), INTERVAL 2 QUARTER); SELECT SUBDATE(CURRENT_DATE(), INTERVAL 1 YEAR); SELECT SUBDATE('2019-01-01 00:00:10.000001', INTERVAL '10.000001' SECOND_MICROSECOND); SELECT SUBDATE('2019-01-01 00:02:10.000001', INTERVAL '2:10.000001' MINUTE_MICROSECOND); SELECT SUBDATE(NOW(), INTERVAL '3:30' MINUTE_SECOND); SELECT SUBDATE('2019-01-01 01:03:10.000001', INTERVAL '1:03:10.000001' HOUR_MICROSECOND); SELECT SUBDATE(NOW(), INTERVAL '1:30:30' HOUR_SECOND); SELECT SUBDATE(NOW(), INTERVAL '1:01' HOUR_MINUTE); SELECT SUBDATE('2019-01-01 00:02:10.000001', INTERVAL '10 1:03:12.000001' DAY_MICROSECOND); SELECT SUBDATE(NOW(), INTERVAL '7 1:30:30' DAY_SECOND); SELECT SUBDATE(CURRENT_TIMESTAMP(), INTERVAL '7 1:30' DAY_MINUTE); SELECT SUBDATE(LOCALTIME(), INTERVAL '7 1' DAY_HOUR); SELECT SUBDATE(CURDATE(), INTERVAL '5-3' YEAR_MONTH); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:9","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"DATEDIFF() å‡½æ•° SELECT DATEDIFF(DATE_ADD(CURDATE(), INTERVAL + 1 DAY), CURDATE()); SELECT DATEDIFF(DATE_ADD(CURRENT_DATE(), INTERVAL + 1 DAY), CURRENT_DATE()); SELECT DATEDIFF(DATE_ADD(CURTIME(), INTERVAL + 1 DAY), CURTIME()); SELECT DATEDIFF(DATE_ADD(CURRENT_TIME(), INTERVAL + 1 DAY), CURRENT_TIME()); SELECT DATEDIFF(CURDATE(), DATE_SUB(CURRENT_DATE(), INTERVAL +1 DAY)); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:10","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"DAY(), DAYOFMONTH() å‡½æ•° SELECT DAY(CURRENT_DATE()); SELECT DAY(CURRENT_TIME()); SELECT DAY(NOW()); SELECT DAY('2016-12-31 23:59:59'); SELECT DAYOFMONTH(CURRENT_DATE()); SELECT DAYOFMONTH(CURRENT_TIME()); SELECT DAYOFMONTH(NOW()); SELECT DAYOFMONTH('2016-12-31 23:59:59'); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:11","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"DAYNAME() å‡½æ•° SELECT DAYNAME(CURDATE()); SELECT DAYNAME(CURRENT_DATE()); SELECT DAYNAME(CURTIME()); SELECT DAYNAME(CURRENT_TIME()); SELECT DAYNAME(CURRENT_TIMESTAMP()); SELECT DAYNAME(NOW()); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:12","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"DAYOFWEEK() å‡½æ•° SELECT DAYOFWEEK(CURDATE()); SELECT DAYOFWEEK(CURRENT_DATE()); SELECT DAYOFWEEK(NOW()); SELECT DAYOFWEEK(LOCALTIMESTAMP()); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:13","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"DAYOFYEAR() å‡½æ•° SELECT DAYOFYEAR(CURDATE()); SELECT DAYOFYEAR(CURRENT_DATE()); SELECT DAYOFYEAR(NOW()); SELECT DAYOFYEAR(LOCALTIMESTAMP()); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:14","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"EXTRACT() å‡½æ•° SELECT EXTRACT(MICROSECOND FROM CURRENT_TIMESTAMP(6)); SELECT EXTRACT(SECOND FROM CURRENT_TIMESTAMP(6)); SELECT EXTRACT(MINUTE FROM CURRENT_TIMESTAMP(6)); SELECT EXTRACT(HOUR FROM CURRENT_TIMESTAMP(6)); SELECT EXTRACT(DAY FROM CURRENT_TIMESTAMP(6)); SELECT EXTRACT(WEEK FROM CURRENT_TIMESTAMP(6)); SELECT EXTRACT(MONTH FROM CURRENT_TIMESTAMP(6)); SELECT EXTRACT(QUARTER FROM CURRENT_TIMESTAMP(6)); SELECT EXTRACT(YEAR FROM CURRENT_TIMESTAMP(6)); SELECT EXTRACT(SECOND_MICROSECOND FROM CURRENT_TIMESTAMP(6)); SELECT EXTRACT(MINUTE_MICROSECOND FROM CURRENT_TIMESTAMP(6)); SELECT EXTRACT(MINUTE_SECOND FROM CURRENT_TIMESTAMP(6)); SELECT EXTRACT(HOUR_MICROSECOND FROM CURRENT_TIMESTAMP(6)); SELECT EXTRACT(HOUR_SECOND FROM CURRENT_TIMESTAMP(6)); SELECT EXTRACT(HOUR_MINUTE FROM CURRENT_TIMESTAMP(6)); SELECT EXTRACT(DAY_MICROSECOND FROM CURRENT_TIMESTAMP(6)); SELECT EXTRACT(DAY_SECOND FROM CURRENT_TIMESTAMP(6)); SELECT EXTRACT(DAY_MINUTE FROM CURRENT_TIMESTAMP(6)); SELECT EXTRACT(DAY_HOUR FROM CURRENT_TIMESTAMP(6)); SELECT EXTRACT(YEAR_MONTH FROM CURRENT_TIMESTAMP(6)); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:15","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"FROM_DAYS() å‡½æ•° SELECT FROM_DAYS('736644'); SELECT FROM_DAYS('737009'); SELECT FROM_DAYS('737374'); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:16","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"HOUR() å‡½æ•° SELECT HOUR(CURTIME()); SELECT HOUR(CURRENT_TIME()); SELECT HOUR(CURRENT_TIMESTAMP()); SELECT HOUR(NOW()); SELECT HOUR(LOCALTIMESTAMP()); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:17","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"LAST_DAY() å‡½æ•° SELECT LAST_DAY(CURDATE()); SELECT LAST_DAY(DATE_SUB(CURDATE(), INTERVAL +1 YEAR)); SELECT LAST_DAY(DATE_ADD(CURDATE(), INTERVAL +1 QUARTER)); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:18","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"MAKEDATE() å‡½æ•° SET @YEAR = '2018'; SELECT MAKEDATE(@YEAR, 1); SELECT MAKEDATE(@YEAR, 100); SELECT MAKEDATE(@YEAR, 200); SELECT MAKEDATE(@YEAR, 365); SELECT MAKEDATE(@YEAR, 366); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:19","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"MAKETIME() å‡½æ•° SELECT MAKETIME(11, 8, 1); SELECT MAKETIME(16, 59, 0); SELECT MAKETIME(23, 59, 59); SELECT MAKETIME(2017, 59, 59); SELECT MAKETIME(-2017, 59, 59); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:20","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"MICROSECOND() å‡½æ•° SELECT MICROSECOND(CURRENT_TIMESTAMP(6)); SELECT MICROSECOND('2018-12-31 23:59:59.000001'); SELECT MICROSECOND('2018-12-31 23:59:59.999999'); SELECT MICROSECOND(CURRENT_DATE()); SELECT MICROSECOND('12:59:59.141592'); SELECT MICROSECOND('838:58:59.001234'); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:21","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"MINUTE() å‡½æ•° SELECT MINUTE(CURTIME()); SELECT MINUTE(CURRENT_TIME()); SELECT MINUTE(CURRENT_TIMESTAMP(6)); SELECT MINUTE(NOW()); SELECT MINUTE('2018:59:59.001234'); SELECT MINUTE(LOCALTIME()); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:22","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"MONTH() å‡½æ•° SELECT MONTH(CURDATE()); SELECT MONTH(CURRENT_DATE()); SELECT MONTH(CURRENT_TIMESTAMP(6)); SELECT MONTH(LOCALTIMESTAMP()); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:23","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"MONTHNAME() å‡½æ•° SELECT MONTHNAME(CURDATE()); SELECT MONTHNAME(CURRENT_DATE()); SELECT MONTHNAME(CURRENT_TIMESTAMP()); SELECT MONTHNAME(LOCALTIMESTAMP()); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:24","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"PERIOD_ADD() å‡½æ•° SET @YEAR = '201806'; SELECT PERIOD_ADD(@YEAR, 2); SELECT PERIOD_ADD(@YEAR, 7); SELECT PERIOD_ADD(@YEAR, -7); SELECT PERIOD_ADD('1806', 7); SELECT PERIOD_ADD('1806', -7); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:25","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"PERIOD_DIFF() å‡½æ•° SELECT PERIOD_DIFF(201806, 201804); SELECT PERIOD_DIFF(201806, 201812); SELECT PERIOD_DIFF(1806, 1812); SELECT PERIOD_DIFF(1806, 200812); SELECT PERIOD_DIFF(201806, 0812); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:26","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"QUARTER() å‡½æ•° SELECT QUARTER(CURDATE()); SELECT QUARTER(CURRENT_DATE()); SELECT QUARTER(CURRENT_TIMESTAMP()); SELECT QUARTER(NOW()); SELECT QUARTER(LOCALTIME()); SELECT QUARTER(LOCALTIMESTAMP()); SELECT QUARTER(DATE_ADD(CURRENT_DATE(), INTERVAL +6 MONTH)); SELECT QUARTER(DATE_SUB(CURRENT_DATE(), INTERVAL -3 MONTH)); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:27","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"SECOND() å‡½æ•° SELECT SECOND(CURTIME()); SELECT SECOND(CURRENT_TIME()); SELECT SECOND(CURRENT_TIMESTAMP()); SELECT SECOND(NOW()); SELECT SECOND(LOCALTIME()); SELECT SECOND(LOCALTIMESTAMP()); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:28","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"SEC_TO_TIME() å‡½æ•° SELECT SEC_TO_TIME(1); SELECT SEC_TO_TIME(2); SELECT SEC_TO_TIME(3600); SELECT SEC_TO_TIME(360000); SELECT SEC_TO_TIME(5000); SELECT SEC_TO_TIME(-5000); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:29","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"SECOND() å‡½æ•° SELECT SECOND(CURTIME()); SELECT SECOND(CURRENT_TIME()); SELECT SECOND(CURRENT_TIMESTAMP(6)); SELECT SECOND(NOW()); SELECT SECOND('3600:11:59'); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:30","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"SUBTIME() å‡½æ•° SELECT SUBTIME('2019-01-01 00:00:10.000001', '2.000001'); SELECT SUBTIME('2019-01-01 00:00:10.000001', '3:2.000001'); SELECT SUBTIME('2019-01-01 00:00:10.000001', '4:3:2.000001'); SELECT SUBTIME('2019-01-01 00:00:10.000001', '5 4:3:2.000001'); SELECT SUBTIME('12:59:59.999999', '0.000001'); SELECT SUBTIME('01:01:01.999998', '5.000001'); SELECT SUBTIME('01:01:01.000001', '8:01:01.003441'); SELECT SUBTIME('01:02:03.000001', '-8:01:01.003441'); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:31","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"SYSDATE() å‡½æ•° SELECT SYSDATE(); SELECT SYSDATE() + 0; SELECT SYSDATE() + 1; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:32","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"TIME() å‡½æ•° SELECT TIME(LOCALTIMESTAMP(6)); SELECT TIME(NOW()); SELECT TIME(CURRENT_TIME()); SELECT TIME(NULL); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:33","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"TIME_FORMAT() å‡½æ•° åç§° æè¿° å¤‡æ³¨ %f æ¯«ç§’(000000â€¦999999) %H 24 æ—¶åˆ¶æ˜¾ç¤ºçš„å°æ—¶(00â€¦23) %h 12 æ—¶åˆ¶æ˜¾ç¤ºçš„å°æ—¶(01â€¦12) %I 12 æ—¶åˆ¶æ˜¾ç¤ºçš„å°æ—¶(01â€¦12) %i ä»¥æ•°å­—å½¢å¼è¡¨ç°çš„åˆ†é’Ÿæ•°(00â€¦59) %p ä¸Šåˆ(AM)æˆ–ä¸‹åˆ(PM) %r 12 æ—¶åˆ¶çš„æ—¶é—´å€¼(hh:mm:ss, åè·Ÿ AM æˆ– PM) %S ç§’(00â€¦59) %s ç§’(00â€¦59) %T 24 æ—¶åˆ¶çš„å°æ—¶(hh:mm:ss) SELECT TIME_FORMAT(CURTIME(), '%H %i %s'); SELECT TIME_FORMAT(CURRENT_TIME(), '%h:%i:%s %p'); SELECT TIME_FORMAT(CURRENT_TIME, '%h:%i %p'); SELECT TIME_FORMAT('18:50:30.000001', '%r'); SELECT TIME_FORMAT('18:50:30.000001', '%T'); SELECT TIME_FORMAT('18:50:30.000001', '%f'); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:34","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"TIME_TO_SEC() å‡½æ•° SELECT TIME_TO_SEC('00:00:01'); SELECT TIME_TO_SEC('00:00:01.999999'); SELECT TIME_TO_SEC('00:00:02'); SELECT TIME_TO_SEC(CURTIME()); SELECT TIME_TO_SEC(NOW()); SELECT TIME_TO_SEC('-1:00:00'); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:35","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"TIMEDIFF() å‡½æ•° SELECT TIMEDIFF(NOW(), SUBDATE(LOCALTIME(), INTERVAL 1 SECOND)); SELECT TIMEDIFF(CURTIME(), SUBTIME(CURTIME(), '1:00:00')); SELECT TIMEDIFF(SUBTIME(CURTIME(), '1:00:00'), CURTIME()); SELECT TIMEDIFF(NOW(), CURTIME()); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:36","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"TIMESTAMP() å‡½æ•° SELECT TIMESTAMP(CURDATE()); SELECT TIMESTAMP(CURDATE(), CURTIME()); SELECT TIMESTAMP(NOW(), '02:00:00'); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:37","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"TIMESTAMPADD() å‡½æ•° SELECT TIMESTAMPADD(SECOND, 3600, CURTIME()); SELECT TIMESTAMPADD(MINUTE, 60, CURTIME()); SELECT TIMESTAMPADD(HOUR, 1, CURTIME()); SELECT TIMESTAMPADD(DAY, 1, CURDATE()); SELECT TIMESTAMPADD(WEEK, 1, CURDATE()); SELECT TIMESTAMPADD(MONTH, 1, CURDATE()); SELECT TIMESTAMPADD(QUARTER, 1, CURDATE()); SELECT TIMESTAMPADD(YEAR, 1, CURDATE()); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:38","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"TIMESTAMPDIFF() å‡½æ•° SELECT TIMESTAMPDIFF(SECOND, CURDATE(), ADDDATE(CURDATE(), INTERVAL 3600 SECOND)); SELECT TIMESTAMPDIFF(MINUTE, CURDATE(), ADDDATE(CURDATE(), INTERVAL 60 MINUTE)); SELECT TIMESTAMPDIFF(HOUR, CURDATE(), ADDDATE(CURDATE(), INTERVAL 1 HOUR)); SELECT TIMESTAMPDIFF(DAY, CURDATE(), ADDDATE(CURDATE(), INTERVAL 1 DAY)); SELECT TIMESTAMPDIFF(WEEK, CURDATE(), ADDDATE(CURDATE(), INTERVAL 1 MONTH)); SELECT TIMESTAMPDIFF(MONTH, CURDATE(), ADDDATE(CURDATE(), INTERVAL 1 QUARTER)); SELECT TIMESTAMPDIFF(YEAR, CURDATE(), ADDDATE(CURDATE(), INTERVAL 1 YEAR)); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:39","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"TO_DAYS() å‡½æ•° SELECT TO_DAYS(CURDATE()); SELECT TO_DAYS('19-01-01'); SELECT TO_DAYS(NOW()); SELECT TO_DAYS('0000-01-01'); SELECT TO_DAYS('0000-00-00'); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:40","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"WEEK() å‡½æ•° SELECT WEEK(CURDATE()); SELECT WEEK(CURRENT_DATE()); SELECT WEEK(CURRENT_TIMESTAMP()); SELECT WEEK(NOW()); SELECT WEEK(LOCALTIME()); SELECT WEEK(LOCALTIMESTAMP()); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:41","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"WEEKDAY() å‡½æ•° SELECT WEEKDAY(CURDATE()); SELECT WEEKDAY(CURRENT_DATE()); SELECT WEEKDAY(CURRENT_TIMESTAMP()); SELECT WEEKDAY(NOW()); SELECT WEEKDAY(LOCALTIME()); SELECT WEEKDAY(LOCALTIMESTAMP()); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:42","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"WEEKOFYEAR() å‡½æ•° SELECT WEEKOFYEAR(CURDATE()); SELECT WEEKOFYEAR(CURRENT_DATE()); SELECT WEEKOFYEAR(CURRENT_TIMESTAMP()); SELECT WEEKOFYEAR(NOW()); SELECT WEEKOFYEAR(LOCALTIME()); SELECT WEEKOFYEAR(LOCALTIMESTAMP()); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:43","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"YEAR() å‡½æ•° SELECT YEAR(CURDATE()); SELECT YEAR(CURRENT_DATE()); SELECT YEAR(CURRENT_TIMESTAMP()); SELECT YEAR(NOW()); SELECT YEAR(LOCALTIME()); SELECT YEAR(LOCALTIMESTAMP()); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:44","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"YEARWEEK() å‡½æ•° SELECT YEARWEEK(CURDATE()); SELECT YEARWEEK(CURRENT_DATE()); SELECT YEARWEEK(CURRENT_TIMESTAMP()); SELECT YEARWEEK(NOW()); SELECT YEARWEEK(LOCALTIME()); SELECT YEARWEEK(LOCALTIMESTAMP()); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:45","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"UTC_DATE(), UTC_TIME(), UTC_TIMESTAMP() å‡½æ•° SELECT UTC_DATE(); SELECT UTC_TIME(); SELECT UTC_TIMESTAMP(); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:2:46","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"æ—¥æœŸæ—¶é—´å’Œæ—¶é—´æˆ³è½¬æ¢ // å½“å‰æ—¥æœŸæ—¶é—´è½¬æ¢ä¸ºæ—¶é—´æˆ³ SELECT UNIX_TIMESTAMP(NOW()); // æ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¥æœŸæ—¶é—´ SELECT FROM_UNIXTIME('1478793600'); ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:3:0","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"å‚è€ƒ Date/Time Functions MySQL Date and Time functions MySQL Date and Time Functions ","date":"2018-01-20","objectID":"/2018/01/20/mysql-datetime-functions/:4:0","tags":["MySQL"],"title":"MySQL æ—¥æœŸæ—¶é—´å‡½æ•°","uri":"/2018/01/20/mysql-datetime-functions/"},{"categories":["MySQL"],"content":"MySQL å…³é”®å­—é€šè¿‡ LIKE å’Œæ­£åˆ™æŸ¥è¯¢ã€‚ MySQL æ•°æ®ç±»å‹ MySQL ç”¨æˆ·ç®¡ç† MySQL å…³é”®å­—æŸ¥è¯¢ MySQL å­—ç¬¦ä¸²å‡½æ•° MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•° MySQL å¿˜è®° root å¯†ç åé‡ç½® MySQL æœ€å€¼æŸ¥è¯¢ MySQL æ—¥æœŸæ—¶é—´å‡½æ•° MySQL è”åˆæŸ¥è¯¢ MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤© MySQL æ”¯æŒ emoji å›¾æ ‡çš„è®¾ç½® MySQL å­˜å‚¨å¼•æ“ MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯» ","date":"2018-01-20","objectID":"/2018/01/20/mysql-keywords-query/:0:0","tags":["MySQL"],"title":"MySQL å…³é”®å­—æŸ¥è¯¢","uri":"/2018/01/20/mysql-keywords-query/"},{"categories":["MySQL"],"content":"æ•°æ®å‡†å¤‡ /* Navicat Premium Data Transfer Source Server : localhost Source Server Type : MySQL Source Server Version : 50714 Source Host : 127.0.0.1 Source Database : test Target Server Type : MySQL Target Server Version : 50714 File Encoding : utf-8 Date: 03/08/2017 22:41:15 PM */ SET NAMES utf8mb4; SET FOREIGN_KEY_CHECKS = 0; -- ---------------------------- -- Table structure for `test` -- ---------------------------- DROP TABLE IF EXISTS `test`; CREATE TABLE `test` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”® ID', `key` varchar(45) NOT NULL COMMENT 'é”®å', `val` varchar(45) NOT NULL COMMENT 'é”®å€¼', PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=38 DEFAULT CHARSET=utf8 COMMENT='æµ‹è¯•è¡¨'; -- ---------------------------- -- Records of `test` -- ---------------------------- BEGIN; INSERT INTO `test` VALUES ('1', 'chenyulong', '56'), ('2', 'maxiaoming', '33'), ('3', 'huxiaofeng', '23'), ('4', 'huangyi', '38'), ('5', 'MAYUN', '58'), ('6', 'CHENLONG', '64'), ('7', 'HUZHEN', '27'), ('8', 'LeiXiaoFei', '32'), ('9', 'Sunli', '42'), ('10', 'sunhong', '30'), ('11', 'Maoyouming', '33'), ('12', 'Maming', '43'), ('13', 'HUANGyu', '38'), ('14', 'maJINren', '34'), ('15', 'Lixiao', '33'), ('16', 'LIXIAOLI', '49'), ('17', 'sunYU', '50'), ('18', 'Liaihua', '54'), ('19', 'huXIaoYang', '44'), ('20', 'chenxiaoXIAO', '34'), ('21', 'wangjun', '90%'), ('22', 'zhaoqian', '_mysql'), ('23', 'wangwu', '%88'), ('24', 'lixiang', 'mysql_'), ('25', 'lianxiang', '_php'), ('26', 'lianyue', 'php_'), ('27', 'houxiaojun', '80%'), ('28', 'suNxiaOhua', '_phper'), ('29', 'jieXiaoguo', 'mysqler_'), ('30', 'sunming', '%66'), ('31', 'yingzheng', '%888'), ('32', 'piaojinhui', '900%'), ('33', 'jinzhengnan', '800%'), ('34', 'quanzhilong', '%666'), ('35', 'zhangquan', '__php'), ('36', 'zhangyu', '__mysql'), ('37', 'liyifeng', 'mysqler__'); COMMIT; SET FOREIGN_KEY_CHECKS = 1; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-keywords-query/:1:0","tags":["MySQL"],"title":"MySQL å…³é”®å­—æŸ¥è¯¢","uri":"/2018/01/20/mysql-keywords-query/"},{"categories":["MySQL"],"content":"åŒ¹é…æ¨¡å¼ SQL çš„æ¨¡å¼ç¼ºçœæ˜¯å¿½ç•¥å¤§å°å†™çš„ã€‚ ","date":"2018-01-20","objectID":"/2018/01/20/mysql-keywords-query/:2:0","tags":["MySQL"],"title":"MySQL å…³é”®å­—æŸ¥è¯¢","uri":"/2018/01/20/mysql-keywords-query/"},{"categories":["MySQL"],"content":"SQL åŒ¹é…æ¨¡å¼ %: è¡¨ç¤ºä»»æ„ä¸ªï¼ˆåŒ…æ‹¬ 0 ä¸ªï¼‰æˆ–å¤šä¸ªå­—ç¬¦ï¼Œå¯åŒ¹é…ä»»æ„ç±»å‹å’Œé•¿åº¦çš„å­—ç¬¦ _: è¡¨ç¤ºä»»æ„å•ä¸ªå­—ç¬¦ï¼ŒåŒ¹é…å•ä¸ªä»»æ„å­—ç¬¦ï¼Œå®ƒå¸¸ç”¨æ¥é™åˆ¶è¡¨è¾¾å¼çš„å­—ç¬¦é•¿åº¦è¯­å¥ å­—ç¬¦è½¬ä¹‰ // æŸ¥è¯¢ä»¥ 90% ç»“å°¾çš„æ•°æ® SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE TRUE AND a.`val` LIKE '%90/%' ESCAPE '/'; // æŸ¥è¯¢ä»¥ 80 å¼€å¤´åŒ¹é…ä»»æ„å­—ç¬¦ä¸²å¹¶ä»¥ % ç»“å°¾çš„æ•°æ® SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE TRUE AND a.`val` LIKE '80%/%' ESCAPE '/'; // æŸ¥è¯¢ä»¥ %88 å¼€å¤´çš„æ•°æ® SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE TRUE AND a.`val` LIKE '/%88%' ESCAPE '/'; // æŸ¥è¯¢ä»¥ _php å¼€å¤´çš„æ•°æ® SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE TRUE AND a.`val` LIKE '/_php%' ESCAPE '/'; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-keywords-query/:2:1","tags":["MySQL"],"title":"MySQL å…³é”®å­—æŸ¥è¯¢","uri":"/2018/01/20/mysql-keywords-query/"},{"categories":["MySQL"],"content":"æ­£åˆ™åŒ¹é…æ¨¡å¼ .: åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ ?: åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ 0 æ¬¡æˆ– 1 æ¬¡ +: åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ 1 æ¬¡æˆ–å¤šæ¬¡ *: åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ 0 æ¬¡æˆ–å¤šæ¬¡ ^: è¡¨ç¤ºåŒ¹é…å¼€å§‹ä½ç½® $: è¡¨ç¤ºåŒ¹é…ç»“æŸä½ç½® []: è¡¨ç¤ºä¸€ä¸ªé›†åˆ {}: è¡¨ç¤ºé‡å¤çš„æ¬¡æ•° ","date":"2018-01-20","objectID":"/2018/01/20/mysql-keywords-query/:2:2","tags":["MySQL"],"title":"MySQL å…³é”®å­—æŸ¥è¯¢","uri":"/2018/01/20/mysql-keywords-query/"},{"categories":["MySQL"],"content":"æŸ¥è¯¢å®ä¾‹ ","date":"2018-01-20","objectID":"/2018/01/20/mysql-keywords-query/:3:0","tags":["MySQL"],"title":"MySQL å…³é”®å­—æŸ¥è¯¢","uri":"/2018/01/20/mysql-keywords-query/"},{"categories":["MySQL"],"content":"æŸ¥è¯¢ä»¥ ma å­—ç¬¦ä¸²å¼€å¤´çš„æ•°æ® SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE TRUE AND a.`key` LIKE 'ma%'; SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE TRUE AND a.`key` REGEXP '^ma'; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-keywords-query/:3:1","tags":["MySQL"],"title":"MySQL å…³é”®å­—æŸ¥è¯¢","uri":"/2018/01/20/mysql-keywords-query/"},{"categories":["MySQL"],"content":"æŸ¥è¯¢ä»¥ ming å­—ç¬¦ä¸²ç»“å°¾çš„æ•°æ® SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE TRUE AND a.`key` LIKE '%ming'; SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE TRUE AND a.`key` REGEXP 'ming$'; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-keywords-query/:3:2","tags":["MySQL"],"title":"MySQL å…³é”®å­—æŸ¥è¯¢","uri":"/2018/01/20/mysql-keywords-query/"},{"categories":["MySQL"],"content":"æŸ¥è¯¢åŒ…å« xiao å­—ç¬¦ä¸²çš„æ•°æ® SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE TRUE AND a.`key` LIKE '%xiao%'; SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE TRUE AND a.`key` REGEXP 'xiao'; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-keywords-query/:3:3","tags":["MySQL"],"title":"MySQL å…³é”®å­—æŸ¥è¯¢","uri":"/2018/01/20/mysql-keywords-query/"},{"categories":["MySQL"],"content":"æŸ¥è¯¢é•¿åº¦ä¸º 10, ä¸­é—´åŒ…å« xiao å­—ç¬¦ä¸²çš„æ•°æ® SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE TRUE AND a.`key` LIKE '___xiao___'; SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE TRUE AND a.`key` REGEXP '^[a-zA-Z]{3}xiao[a-zA-Z]{3}$'; ","date":"2018-01-20","objectID":"/2018/01/20/mysql-keywords-query/:3:4","tags":["MySQL"],"title":"MySQL å…³é”®å­—æŸ¥è¯¢","uri":"/2018/01/20/mysql-keywords-query/"},{"categories":["PHP"],"content":"æ”¶é›†æ•´ç†äº†ä¸€äº› PHP7 çš„æ–°ç‰¹æ€§ã€‚ ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:0:0","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"æ ‡é‡ç±»å‹å£°æ˜ \u003c?php declare(strict_types = 1); function paramInt(int ...$value) { return array_sum($value); } function paramFloat(float ...$value) { return array_values($value); } function paramString(string ...$value) { return implode(',', $value); } function paramBool(bool ...$value) { return $value; } var_dump(paramInt(1, 2, 3)); var_dump(paramFloat(1.1, 2.2, 3.3)); var_dump(paramString('a', 'b', 'c')); var_dump(paramBool(true, false)); // ç»“æœ int(6) array(3) { [0] =\u003e double(1.1) [1] =\u003e double(2.2) [2] =\u003e double(3.3) } string(5) \"a,b,c\" array(2) { [0] =\u003e bool(true) [1] =\u003e bool(false) } ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:1:0","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"è¿”å›å€¼ç±»å‹å£°æ˜ \u003c?php declare(strict_types = 1); function returnInt(int ...$value) : int { return array_sum($value); } function returnFloat(float ...$value) : float { return array_sum($value); } function returnString(string ...$value) : string { return implode(',', $value); } function returnBool(bool $value) : bool { return $value ? true : false; } function returnArray(array ...$value) : array { return $value; } var_dump(returnInt(1, 2, 3)); var_dump(returnFloat(1.1, 2.2, 3.3)); var_dump(returnString('a', 'b', 'c')); var_dump(returnBool(true)); var_dump(returnArray(['hello'], ['world'], ['!'])); // ç»“æœ int(6) double(6.6) string(5) \"a,b,c\" bool(true) array(3) { [0] =\u003e array(1) { [0] =\u003e string(5) \"hello\" } [1] =\u003e array(1) { [0] =\u003e string(5) \"world\" } [2] =\u003e array(1) { [0] =\u003e string(1) \"!\" } } ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:2:0","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"NULL åˆå¹¶è¿ç®—ç¬¦ \u003c?php // åˆ¤æ–­ UID æ˜¯å¦å­˜åœ¨ $uid = isset($_REQUEST['uid']) ? $_REQUEST['uid'] : 'unknown'; // ä¸Šé¢çš„ä»£ç å¯ä»¥æ›¿æ¢ä¸ºå¦‚ä¸‹ä»£ç  $uid = $_REQUEST['uid'] ?? 'unknown'; // å¦‚æœ SESSION ä¸­ä¸å­˜åœ¨ UIDï¼Œå°±å– REQUEST ä¸­çš„ UID $uid = $_SESSION['uid'] ?? $_REQUEST['uid'] ?? 'unknown'; var_dump($uid); // ç»“æœ string(7) \"unknown\" ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:3:0","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"å¤ªç©ºé£èˆ¹æ“ä½œç¬¦ è¿˜æœ‰è¿™ç§æ“ä½œï¼Ÿå½“ç„¶æœ‰ï¼Œä¸”çœ‹å¦‚ä¸‹å®ä¾‹ã€‚ \u003c?php // PHP7 ä¹‹å‰ function compare($a, $b) { if ($a == $b) { return 0; } return ($a \u003e $b) ? 1 : -1; } $a = $b = [ 'e' =\u003e 70, 'd' =\u003e 10, 'b' =\u003e 80, 'a' =\u003e 20, 'c' =\u003e 90, ]; uasort($a, 'compare'); print_r($a); // ç»“æœ Array ( [d] =\u003e 10 [a] =\u003e 20 [e] =\u003e 70 [b] =\u003e 80 [c] =\u003e 90 ) // PHP7 function after_compare($a, $b) { return $a \u003c=\u003e $b; } uksort($b, 'after_compare'); print_r($b); // ç»“æœ Array ( [a] =\u003e 20 [b] =\u003e 80 [c] =\u003e 90 [d] =\u003e 10 [e] =\u003e 70 ) ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:4:0","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"é€šè¿‡ define() å®šä¹‰å¸¸é‡æ•°ç»„ \u003c?php define('ROLES', [ 'ADMIN', 'MANAGER', 'USER', ]); var_dump(ROLES[0], ROLES[1], ROLES[2]); // ç»“æœ string(5) \"ADMIN\" string(7) \"MANAGER\" string(4) \"USER\" ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:5:0","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"åŒ¿åç±» \u003c?php interface Logger { public function log(string $msg); } class App { private $logger; public function setLogger(Logger $logger) { $this-\u003elogger = $logger; } public function getLogger() : Logger { return $this-\u003elogger; } } $app = new App(); $app-\u003esetLogger(new class implements Logger { public function log(string $msg) { return $msg; } }); var_dump($app-\u003egetLogger()-\u003elog('Hello World!')); // ç»“æœ string(12) \"Hello World!\" ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:6:0","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"Unicode codepoint è½¬è¯‘è¯­æ³• \u003c?php $ğŸ˜„ = 'æ„‰å¿«é«˜å…´'; $ğŸ‡¨ğŸ‡³ = 'æˆ‘çš„ç¥–å›½'; $ğŸŒˆ = 'é›¨åå½©è™¹'; $try = \"^_^ \\u{0050}\\u{0048}\\u{0050}\\u{0037} - \\u{1F64F}\"; $array = [$ğŸ˜„, $ğŸ‡¨ğŸ‡³, $ğŸŒˆ, $try]; print_r($array); Array ( [0] =\u003e æ„‰å¿«é«˜å…´ [1] =\u003e æˆ‘çš„ç¥–å›½ [2] =\u003e é›¨åå½©è™¹ [3] =\u003e ^_^ PHP7 - ğŸ™ ) ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:7:0","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"Closure::call() \u003c?php class Object { private $name = 'Object Name'; } // PHP7 ä¹‹å‰ $beforeName = function () { return $this-\u003ename; }; var_dump($beforeName-\u003ebindTo(new Object(), 'Object')()); // ç»“æœ string(11) \"Object Name\" // PHP7 $afterName = function () { return $this-\u003ename; }; var_dump($afterName-\u003ecall(new Object())); // ç»“æœ string(11) \"Object Name\" ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:8:0","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"ä¸º unserialize() æä¾›è¿‡æ»¤ ç‰¹æ€§æ—¨åœ¨æä¾›æ›´å®‰å…¨çš„æ–¹å¼è§£åŒ…ä¸å¯é çš„æ•°æ®ã€‚å®ƒé€šè¿‡ç™½åå•çš„æ–¹å¼æ¥é˜²æ­¢æ½œåœ¨çš„ä»£ç æ³¨å…¥ã€‚ \u003c?php class Test { public $name = 'test'; protected $weight = 60; private $age; public function __construct() { $this-\u003eage = 18; } public function getAge() { return $this-\u003eage; } } $test = serialize(new Test()); // å…è®¸è§£æ class $a = unserialize($test); // å°†æ‰€æœ‰çš„å¯¹è±¡éƒ½è½¬æ¢ä¸º __PHP_Incomplete_Class å¯¹è±¡ï¼Œä¸å…è®¸è§£æ class $b = unserialize($test, ['allowed_classes' =\u003e false]); // å°†é™¤ Test ä¹‹å¤–çš„æ‰€æœ‰å¯¹è±¡éƒ½è½¬æ¢ä¸º __PHP_Incomplete_Class å¯¹è±¡ï¼Œå…è®¸è§£æ class $c = unserialize($test, ['allowed_classes' =\u003e ['Test']]); // é»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰çš„ç±»éƒ½æ˜¯å¯æ¥å—çš„ï¼Œç­‰åŒäºçœç•¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œå…è®¸è§£æ class $d = unserialize($test, ['allowed_classes' =\u003e true]); print_r([ $a-\u003egetAge(), // $b-\u003egetAge(), // PHP Fatal error: main(): The script tried to execute a method or access a property of an incomplete object. $c-\u003egetAge(), $d-\u003egetAge(), ]); // ç»“æœ Array ( [0] =\u003e 18 [1] =\u003e 18 [2] =\u003e 18 ) ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:9:0","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"IntlChar éœ€è¦ intl æ‰©å±•ã€‚ \u003c?php $array = [ 'è·å– UNICODE ç‰ˆæœ¬' =\u003e IntlChar::UNICODE_VERSION, 'è·å–å­—ç¬¦åç§°' =\u003e IntlChar::charName('@'), 'è·å–ä¸­æ‹¬å·åŒ¹é…çš„é—­åˆæ‹¬å·' =\u003e IntlChar::getBidiPairedBracket('['), 'è·å– A å­—ç¬¦çš„é•œåƒå­—ç¬¦' =\u003e IntlChar::charMirror('\u003c'), 'åˆ¤æ–­ ? æ˜¯å¦æœ‰é•œåƒå­—ç¬¦' =\u003e IntlChar::isMirrored('?') ? 'OK' : 'NO', 'è·å– codepoint è¡¨ç¤ºçš„å­—ç¬¦' =\u003e IntlChar::chr(65), ]; print_r($array); // ç»“æœ Array ( [è·å– UNICODE ç‰ˆæœ¬] =\u003e 10.0 [è·å–å­—ç¬¦åç§°] =\u003e COMMERCIAL AT [è·å–ä¸­æ‹¬å·åŒ¹é…çš„é—­åˆæ‹¬å·] =\u003e ] [è·å– A å­—ç¬¦çš„é•œåƒå­—ç¬¦] =\u003e \u003e [åˆ¤æ–­ ? æ˜¯å¦æœ‰é•œåƒå­—ç¬¦] =\u003e NO [è·å– codepoint è¡¨ç¤ºçš„å­—ç¬¦] =\u003e A ) ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:10:0","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"é¢„æœŸ æŒ‡ç¤º é»˜è®¤å€¼ å¯èƒ½çš„å€¼ zend.assertions 1 1 - ç”Ÿæˆå¹¶æ‰§è¡Œä»£ç ï¼ˆå¼€å‘æ¨¡å¼ï¼‰ã€‚2 - ç”Ÿæˆä»£ç ï¼Œä½†åœ¨è¿è¡Œæ—¶è·³è¿‡å®ƒã€‚-1 - ä¸ç”Ÿæˆä»£ç ï¼ˆç”Ÿäº§æ¨¡å¼ï¼‰ assert.exception 0 1 - å½“æ–­è¨€å¤±è´¥æ—¶ï¼ŒæŠ›å‡ºæä¾›çš„å¼‚å¸¸ä½œä¸ºå¼‚å¸¸ï¼Œæˆ–è€…åœ¨ç¤ºæä¾›å¼‚å¸¸çš„æƒ…å†µä¸‹æŠ›å‡ºæ–°çš„ AssertionError å¯¹è±¡ã€‚0 - å¦‚ä¸Šæ‰€è¿°ä½¿ç”¨æˆ–ç”Ÿæˆ Throwableï¼Œä½†åªç”ŸæˆåŸºäºè¯¥å¯¹è±¡çš„è­¦å‘Šï¼Œè€Œä¸æ˜¯æŠ›å‡ºå®ƒï¼ˆä¸ PHP5 è¡Œä¸ºå…¼å®¹ï¼‰ ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:11:0","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"zend.assertions ä¸º 1 \u003c?php ini_set('zend.assertions', 1); class MyException extends AssertionError { } assert(true == false, new MyException('Some error message')); echo 'this is a test'; // ç»“æœ PHP Warning: assert(): MyException: Some error message ... Warning: assert(): MyException: Some error message ... this is a test ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:11:1","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"zend.assertions ä¸º 0 \u003c?php ini_set('zend.assertions', 0); class MyException extends AssertionError { } assert(true == false, new MyException('Some error message')); echo 'this is a test'; // ç»“æœ this is a test ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:11:2","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"zend.assertions ä¸º -1 \u003c?php ini_set('zend.assertions', -1); class MyException extends AssertionError { } assert(true == false, new MyException('Some error message')); echo 'this is a test'; // ç»“æœ PHP Warning: zend.assertions may be completely enabled or disabled only in php.ini ... PHP Warning: assert(): MyException: Some error message ... Warning: zend.assertions may be completely enabled or disabled only in php.ini ... Warning: assert(): MyException: Some error message ... this is a test ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:11:3","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"assert.exception ä¸º 1 \u003c?php ini_set('assert.exception', 1); class MyException extends AssertionError { } assert(true == false, new MyException('Some error message')); echo 'this is a test'; // ç»“æœ PHP Fatal error: Uncaught MyException: Some error message ... Fatal error: Uncaught MyException: Some error message ... MyException: Some error message ... æ³¨æ„ï¼š this is a test æ˜¯æ²¡æœ‰è¾“å‡ºçš„ ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:11:4","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"assert.exception ä¸º 0 \u003c?php ini_set('assert.exception', 0); class MyException extends AssertionError { } assert(true == false, new MyException('Some error message')); echo 'this is a test'; // ç»“æœ PHP Warning: assert(): MyException: Some error message ... Warning: assert(): MyException: Some error message ... this is a test ç‰ˆæœ¬ æè¿° å¤‡æ³¨ 7.2.0 å½“ assertion è¢«åºŸå¼ƒæ—¶ä½¿ç”¨å­—ç¬¦ä¸²ã€‚å½“ assert.active å’Œ zend.assertions éƒ½è®¾ç½®ä¸º 1 æ—¶ï¼Œå®ƒä¼šå‘å‡º E_DEPRECATED é€šçŸ¥ 7.0.0 assert() ç°åœ¨æ˜¯ä¸€ä¸ªè¯­è¨€æ„é€ è€Œä¸æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚assertion ç°åœ¨å¯ä»¥æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚ç¬¬äºŒä¸ªå‚æ•°ç°åœ¨è¢«è§£é‡Šä¸º exceptionï¼ˆå¦‚æœç»™å‡º Throwable å¯¹è±¡ï¼‰ï¼Œæˆ–è€… description ä» PHP 5.4.8 èµ·æ”¯æŒ 5.4.8 æ·»åŠ äº† description å‚æ•°ã€‚description ç°åœ¨ä¹Ÿæä¾›ç»™ ASSERT_CALLBACK æ¨¡å¼ä¸‹çš„å›è°ƒå‡½æ•°ä½œä¸ºç¬¬å››ä¸ªå‚æ•° ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:11:5","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"use ä»¥ç»„å£°æ˜ \u003c?php // PHP7 ä¹‹å‰çš„ä»£ç  use Some\\Classes\\ClassA; use Some\\Classes\\ClassB; use Some\\Classes\\ClassC as C; use function Some\\Functions\\funca; use function Some\\Functions\\funcb; use function Some\\Functions\\funcc; use const Some\\Consts\\ConstA; use const Some\\Consts\\ConstB; use const Some\\Consts\\ConstC; // PHP7 åŠä¹‹åçš„ä»£ç  use Some\\Classes\\{ClassA, ClassB, ClassC as C}; use function Some\\Functions\\{funca, funcb, funcc}; use const Some\\Functions\\{ConstA, ConstB, ConstC}; ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:12:0","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"ç”Ÿæˆå™¨å¯ä»¥è¿”å›è¡¨è¾¾å¼ æ­¤ç‰¹æ€§åŸºäº PHP 5.5 ç‰ˆæœ¬ä¸­å¼•å…¥çš„ç”Ÿæˆå™¨ç‰¹æ€§æ„å»ºçš„ã€‚ å®ƒå…è®¸åœ¨ç”Ÿæˆå™¨å‡½æ•°ä¸­é€šè¿‡ä½¿ç”¨ return è¯­æ³•æ¥è¿”å›ä¸€ä¸ªè¡¨è¾¾å¼ï¼ˆä½†æ˜¯ä¸å…è®¸è¿”å›å¼•ç”¨å€¼ï¼‰ï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨ Generator::getReturn() æ–¹æ³•æ¥è·å–ç”Ÿæˆå™¨çš„è¿”å›å€¼ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•åªèƒ½åœ¨ç”Ÿæˆå™¨å®Œæˆäº§ç”Ÿå·¥ä½œä»¥åè°ƒç”¨ä¸€æ¬¡ã€‚ \u003c?php $gen = (function () { yield 1; yield 2; return 3; })(); foreach ($gen as $value) { echo $value, PHP_EOL; } echo $gen::getReturn(), PHP_EOL; // ç»“æœ 1 2 3 ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:13:0","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"ç”Ÿæˆå™¨å§”æ‰˜ åªéœ€åœ¨æœ€å¤–å±‚ç”Ÿæˆå…¶ä¸­ä½¿ç”¨ yield fromï¼Œå°±å¯ä»¥æŠŠä¸€ä¸ªç”Ÿæˆå™¨è‡ªåŠ¨å§”æ´¾ç»™å…¶ä»–çš„ç”Ÿæˆå™¨ï¼ŒTraversable å¯¹è±¡æˆ–è€… arrayã€‚ \u003c?php function gen() { yield 1; yield 2; yield from other(); } function other() { yield 3; yield 4; } foreach (gen() as $value) { echo $value, PHP_EOL; } // ç»“æœ 1 2 3 4 ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:14:0","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"æ•´æ•°é™¤æ³•å‡½æ•° intdiv() æ•´å‹å€¼å¯ä»¥ä½¿ç”¨åè¿›åˆ¶ã€åå…­è¿›åˆ¶ã€å…«è¿›åˆ¶æˆ–äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œå‰é¢å¯ä»¥åŠ ä¸Šå¯é€‰çš„ç¬¦å·ï¼ˆ- æˆ–è€… +ï¼‰ã€‚å…¶ä¸­ï¼ŒäºŒè¿›åˆ¶è¡¨è¾¾çš„ integer è‡ª PHP 5.4.0 èµ·å¯ç”¨ï¼›è¦ä½¿ç”¨å…«è¿›åˆ¶è¡¨è¾¾ï¼Œæ•°å­—å‰å¿…é¡»åŠ ä¸Š 0ï¼ˆé›¶ï¼‰ï¼›è¦ä½¿ç”¨åå…­è¿›åˆ¶è¡¨è¾¾ï¼Œæ•°å­—å‰å¿…é¡»åŠ ä¸Š 0xï¼›è¦ä½¿ç”¨äºŒè¿›åˆ¶è¡¨è¾¾ï¼Œæ•°å­—å‰å¿…é¡»åŠ ä¸Š 0b \u003c?php $value = intdiv(1000, 33); var_dump($value); // ç»“æœ int(30) ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:15:0","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"ä¼šè¯é€‰é¡¹ åœ¨è°ƒç”¨ session_start() çš„æ—¶å€™ï¼Œ ä¼ å…¥çš„é€‰é¡¹å‚æ•°ä¸­ä¹Ÿæ”¯æŒ session.lazy_write è¡Œä¸ºï¼Œ é»˜è®¤æƒ…å†µä¸‹è¿™ä¸ªé…ç½®é¡¹æ˜¯æ‰“å¼€çš„ã€‚å®ƒçš„ä½œç”¨æ˜¯æ§åˆ¶ PHP åªæœ‰åœ¨ä¼šè¯ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™æ‰å†™å…¥ä¼šè¯å­˜å‚¨æ–‡ä»¶ï¼Œå¦‚æœä¼šè¯ä¸­çš„æ•°æ®æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆ PHP ä¼šåœ¨è¯»å–å®Œä¼šè¯æ•°æ®ä¹‹åï¼Œç«‹å³å…³é—­ä¼šè¯å­˜å‚¨æ–‡ä»¶ï¼Œä¸åšä»»ä½•ä¿®æ”¹ï¼Œå¯ä»¥é€šè¿‡è®¾ç½® read_and_close æ¥å®ç°ã€‚ \u003c?php session_start([ 'cache_limiter' =\u003e 'private', 'read_and_close' =\u003e true, ]); var_dump(ini_get('session.cache_limiter')); // ç»“æœ string(7) \"private\" ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:16:0","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"æ‰§è¡Œä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æœç´¢å¹¶ä¸”ä½¿ç”¨ä¸€ä¸ªå›è°ƒè¿›è¡Œæ›¿æ¢ \u003c?php // å°†å­—ç¬¦ä¸²ä¸­çš„å¹´ä»½å¢åŠ ä¸€å¹´ $text = \"Fools day is 04/01/2017\\nChristmas day was 12/24/2017\\n\"; echo preg_replace_callback( \"|(\\d{2}/\\d{2}/)(\\d{4})|\", function ($match) { return $match[1] . ($match[2] + 1); }, $text ); echo PHP_EOL; echo preg_replace_callback_array( [ '|(\\d{2}/\\d{2}/)(\\d{4})|' =\u003e function ($match) { return $match[1] . ($match[2] + 1); } ], $text ); // ç»“æœ Fools day is 04/01/2018 Christmas day was 12/24/2018 Fools day is 04/01/2018 Christmas day was 12/24/2018 ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:17:0","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"ä¼ªéšæœºæ•°äº§ç”Ÿå™¨ CSPRNG bin2hex() - å‡½æ•°æŠŠåŒ…å«æ•°æ®çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²è½¬æ¢ä¸ºåå…­è¿›åˆ¶å€¼ã€‚ \u003c?php $array = [ bin2hex(random_bytes(4)), bin2hex(random_bytes(16)), random_int(10, 99), random_int(1000, 9999), ]; print_r($array); // ç»“æœ Array ( [0] =\u003e 49a44caf [1] =\u003e ae67bae0c8695dc6684dddb31364ea0e [2] =\u003e 59 [3] =\u003e 6021 ) ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:18:0","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"é”™è¯¯å¤„ç†æ–¹å¼ åœ¨ PHP7 ä¸­æ”¹å˜äº†å¤§å¤šæ•°é”™è¯¯çš„æŠ¥å‘Šæ–¹å¼ã€‚ä¸å†é€šè¿‡ PHP5 ä½¿ç”¨çš„ä¼ ç»Ÿé”™è¯¯æŠ¥å‘Šæœºåˆ¶æ¥æŠ¥å‘Šé”™è¯¯ï¼Œç°åœ¨å¤§å¤šæ•°é”™è¯¯è¢«ä½œä¸º Error å¼‚å¸¸æŠ›å‡ºã€‚è¿™ç§ Error å¼‚å¸¸å¯ä»¥åƒ Exception å¼‚å¸¸ä¸€æ ·è¢«ç¬¬ä¸€ä¸ªåŒ¹é…çš„ try / catch å—æ‰€æ•è·ã€‚å¦‚æœæ²¡æœ‰åŒ¹é…çš„ catch å—ï¼Œåˆ™è°ƒç”¨å¼‚å¸¸å¤„ç†å‡½æ•°ï¼ˆäº‹å…ˆé€šè¿‡ set_exception_handler() æ³¨å†Œï¼‰è¿›è¡Œå¤„ç†ã€‚å¦‚æœå°šæœªæ³¨å†Œå¼‚å¸¸å¤„ç†å‡½æ•°ï¼Œåˆ™æŒ‰ç…§ä¼ ç»Ÿæ–¹å¼å¤„ç†ï¼šè¢«æŠ¥å‘Šä¸ºä¸€ä¸ªè‡´å‘½é”™è¯¯ï¼ˆFatal Errorï¼‰ã€‚ ç”±äºé”™è¯¯å±‚æ¬¡ç»“æ„ä¸ä» Exception æ‰©å±•ï¼Œå› æ­¤ä½¿ç”¨ catchï¼ˆException $ eï¼‰{...} å—å¤„ç† PHP5 ä¸­æœªæ•è·çš„å¼‚å¸¸çš„ä»£ç å°†ä¸ä¼šå¤„ç†æ­¤ç±»é”™è¯¯ã€‚éœ€è¦ä¸€ä¸ª catchï¼ˆError $ eï¼‰{...} å—æˆ–ä¸€ä¸ª set_exception_handler() å¤„ç†ç¨‹åºæ¥å¤„ç†è‡´å‘½é”™è¯¯ã€‚ Error å±‚æ¬¡ç»“æ„ - Throwable - Error - ArithmeticError - DivisionByZeroError - AssertionError - ParseError - TypeError - Exception - ... \u003c?php class Division { protected $value = 100; public function doDivision() : string { try { $value = $this-\u003evalue % 0; } catch (DivisionByZeroError $e) { return $e-\u003egetMessage(); } } } $division = new Division(); print $division-\u003edoDivision(); // ç»“æœ Modulo by zero ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:19:0","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"å¼ƒç”¨çš„åŠŸèƒ½ ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:20:0","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"å¼ƒç”¨ PHP4 é£æ ¼çš„æ„é€ å‡½æ•° \u003c?php class Test { public function Test() { print __METHOD__; } } new Test(); // ç»“æœ PHP Deprecated : Methods with the same name as their class will not be constructors in a future version of PHP; Test has a deprecated constructor in ... Deprecated : Methods with the same name as their class will not be constructors in a future version of PHP; Test has a deprecated constructor in ... Test::Test ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:20:1","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"å¼ƒç”¨äº†é™æ€è°ƒç”¨éé™æ€æ–¹æ³• \u003c?php class Test { public function get() { print 'non-static call.'; } } Test::get(); // ç»“æœ PHP Deprecated: Non-static method Test::get() should not be called statically in ... ... Deprecated: Non-static method Test::get() should not be called statically in ... ... non-static call. ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:20:2","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"password_hash() salt é€‰é¡¹è¢«å¼ƒç”¨ å‡½æ•°åŸ salt ä¸å†éœ€è¦ç”±å¼€å‘è€…æä¾›äº†ã€‚å‡½æ•°å†…éƒ¨é»˜è®¤å¸¦æœ‰ salt èƒ½åŠ›ï¼Œæ— éœ€å¼€å‘è€…æä¾› salt å€¼ ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:20:3","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"capture_session_meta SSL ä¸Šä¸‹æ–‡é€‰é¡¹è¢«å¼ƒç”¨ è¯¥ capture_session_meta SSL ä¸Šä¸‹æ–‡é€‰é¡¹å·²è¢«å¼ƒç”¨ã€‚ç°åœ¨ï¼Œé€šè¿‡ stream_get_meta_data() å‡½æ•°ä½¿ç”¨ SSL å…ƒæ•°æ® ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:20:4","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"ç§»é™¤çš„æ‰©å±• ereg mssql mysql sybase_ct ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:20:5","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"ç§»é™¤çš„ SAPI PHP7+ ç‰ˆæœ¬ç§»é™¤äº†ä»¥ä¸‹ SAPIã€‚ aolserver apache apache_hooks apache2filter caudium continuity isapi milter nsapi phttpd pi3web roxen thttpd tux webjames ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:20:6","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["PHP"],"content":"ç§»é™¤çš„å‡½æ•°åˆ—è¡¨ ä» PHP-4.1.0 å¼€å§‹è¢«åºŸå¼ƒäº† call_user_func() å’Œ call_user_func_array()ï¼› å·²åºŸå¼ƒçš„ mcrypt_generic_end() å‡½æ•°å·²è¢«ç§»é™¤ï¼Œå¯ä»¥ä½¿ç”¨ mcrypt_generic_deinit() ä»£æ›¿ï¼› å·²åºŸå¼ƒçš„ mcrypt_ecb()ã€mcrypt_cbc()ã€ mcrypt_cfb() å’Œ mcrypt_ofb() å‡½æ•°å·²è¢«ç§»é™¤ï¼› set_magic_quotes_runtime() ï¼ˆåˆ«åï¼šmagic_quotes_runtime()ï¼‰å·²è¢«ç§»é™¤ï¼›å®ƒä»¬åœ¨ PHP5.3.0 ä¸­å·²ç»è¢«åºŸå¼ƒï¼Œå¹¶ä¸”åœ¨ PHP5.4.0 ä¹Ÿç”±äºé­”æœ¯å¼•å·çš„åºŸå¼ƒè€Œå¤±å»åŠŸèƒ½ï¼› å·²åºŸå¼ƒçš„ set_socket_blocking() å‡½æ•°å·²è¢«ç§»é™¤ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ stream_set_blocking() ä»£æ›¿ï¼› åœ¨ PHP-FPM ä¸å†ä½¿ç”¨ dl()ï¼Œåœ¨ CLI å’Œ embed SAPIs ä¸­ä»å¯ç”¨ï¼› GD åº“ä¸­ä¸‹åˆ—å‡½æ•°è¢«ç§»é™¤ï¼šimagepsbbox()ã€imagepsencodefont()ã€imagepsextendfont()ã€imagepsfreefont()ã€imagepsloadfont()ã€imagepsslantfont()ã€imagepstext()ï¼› åœ¨é…ç½®æ–‡ä»¶ php.ini ä¸­ï¼Œalways_populate_raw_post_dataã€asp_tagsã€xsl.security_prefs è¢«ç§»é™¤äº†ï¼› ","date":"2018-01-19","objectID":"/2018/01/19/php-php7-new-features/:20:7","tags":["PHP"],"title":"PHP7 æ–°ç‰¹æ€§","uri":"/2018/01/19/php-php7-new-features/"},{"categories":["MySQL"],"content":"åœ¨å®é™…çš„æŸ¥è¯¢è¿‡ç¨‹ä¸­ä¼šç»å¸¸æŸ¥è¯¢ä¸€äº›æœ€å€¼çš„æƒ…å†µï¼Œçœ‹ç€é‚£äº›å…­äº²ä¸è®¤çš„ SQLï¼Œæˆ‘è¯šæƒ¶è¯šæçš„å…ˆè®°å½•ä¸€ä¸‹ã€‚ MySQL æ•°æ®ç±»å‹ MySQL ç”¨æˆ·ç®¡ç† MySQL å…³é”®å­—æŸ¥è¯¢ MySQL å­—ç¬¦ä¸²å‡½æ•° MySQL å­—ç¬¦ä¸²è¿æ¥å‡½æ•° MySQL å¿˜è®° root å¯†ç åé‡ç½® MySQL æœ€å€¼æŸ¥è¯¢ MySQL æ—¥æœŸæ—¶é—´å‡½æ•° MySQL è”åˆæŸ¥è¯¢ MySQL æŸ¥è¯¢å½“å‰å¹´ã€å­£ã€æœˆã€å‘¨çš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤© MySQL æ”¯æŒ emoji å›¾æ ‡çš„è®¾ç½® MySQL å­˜å‚¨å¼•æ“ MySQL éš”ç¦»çº§åˆ«åŠå…¶è„è¯»ä¸å¯é‡å¤è¯»å¹»è¯» ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:0:0","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["MySQL"],"content":"æ•°æ®å‡†å¤‡ æŸ¥è¯¢å‰è¯·å…ˆå¯¼å…¥å®ä¾‹æ•°æ®ï¼Œæ­¤å®ä¾‹æ•°æ®ç”± Navicat å®¢æˆ·ç«¯å¯¼å‡ºã€‚ /* Navicat Premium Data Transfer Source Server : localhost Source Server Type : MySQL Source Server Version : 50714 Source Host : 127.0.0.1 Source Database : test Target Server Type : MySQL Target Server Version : 50714 File Encoding : utf-8 Date: 03/07/2017 21:29:35 PM */ SET NAMES utf8mb4; SET FOREIGN_KEY_CHECKS = 0; -- ---------------------------- -- Table structure for `test` -- ---------------------------- DROP TABLE IF EXISTS `test`; CREATE TABLE `test` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”® Id', `key` varchar(45) NOT NULL COMMENT 'é”®å', `val` varchar(45) NOT NULL COMMENT 'é”®å€¼', PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8 COMMENT='æµ‹è¯•è¡¨'; -- ---------------------------- -- Records of `test` -- ---------------------------- BEGIN; INSERT INTO `test` VALUES ('1', 'a', '10'), ('2', 'a', '11'), ('3', 'a', '12'), ('4', 'a', '13'), ('5', 'a', '14'), ('6', 'a', '15'), ('7', 'a', '16'), ('8', 'a', '17'), ('9', 'a', '18'), ('10', 'a', '19'), ('11', 'b', '20'), ('12', 'b', '21'), ('13', 'b', '22'), ('14', 'b', '23'), ('15', 'b', '24'), ('16', 'b', '25'), ('17', 'b', '26'), ('18', 'b', '27'), ('19', 'b', '28'), ('20', 'b', '29'), ('21', 'c', '30'), ('22', 'c', '31'), ('23', 'c', '32'), ('24', 'c', '33'), ('25', 'c', '34'), ('26', 'c', '35'), ('27', 'd', '40'), ('28', 'd', '41'), ('29', 'd', '42'), ('30', 'd', '43'), ('31', 'd', '44'), ('32', 'd', '45'); COMMIT; SET FOREIGN_KEY_CHECKS = 1; ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:1:0","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["MySQL"],"content":"æŒ‰ key åˆ†ç»„å– val æœ€å¤§çš„å€¼æ‰€åœ¨è¡Œçš„è®°å½• ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:2:0","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["MySQL"],"content":"æ–¹æ³•ä¸€ SELECT a.`id`, a.`key`, MAX(a.`val`) AS val FROM test.test AS a GROUP BY a.`key`; ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:2:1","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["MySQL"],"content":"æ–¹æ³•äºŒ SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE a.`val` = (SELECT MAX(b.`val`) FROM test.test AS b WHERE b.`key` = a.`key`) ORDER BY a.`key`; ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:2:2","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["MySQL"],"content":"æ–¹æ³•ä¸‰ SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE NOT EXISTS(SELECT 1 FROM test.test AS b WHERE b.`key` = a.`key` AND b.`val` \u003e a.`val`); ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:2:3","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["MySQL"],"content":"æ–¹æ³•å›› SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a, (SELECT `key`, MAX(`val`) AS val FROM test.test GROUP BY `key`) AS b WHERE a.`key` = b.`key` AND a.`val` = b.`val` ORDER BY a.`key`; ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:2:4","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["MySQL"],"content":"æ–¹æ³•äº” SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a INNER JOIN (SELECT `key`, MAX(`val`) AS `val` FROM test.test GROUP BY `key`) AS b ON b.`key` = a.`key` AND b.`val` = a.`val` ORDER BY a.`key`; ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:2:5","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["MySQL"],"content":"æ–¹æ³•å…­ SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE 1 \u003e (SELECT COUNT(*) FROM test.test AS b WHERE b.`key` = a.`key` AND b.`val` \u003e a.`val`) ORDER BY a.`key`; ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:2:6","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["MySQL"],"content":"æŒ‰ key åˆ†ç»„å– val æœ€å°çš„å€¼æ‰€åœ¨è¡Œçš„æ•°æ® ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:3:0","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["MySQL"],"content":"æ–¹æ³•ä¸€ SELECT a.`id`, a.`key`, MIN(a.`val`) AS val FROM test.test AS a GROUP BY a.`key`; ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:3:1","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["MySQL"],"content":"æ–¹æ³•äºŒ SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE a.`val` = (SELECT MIN(b.`val`) FROM test.test AS b WHERE b.`key` = a.`key`) ORDER BY a.`key`; ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:3:2","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["MySQL"],"content":"æ–¹æ³•ä¸‰ SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE NOT EXISTS(SELECT 1 FROM test.test AS b WHERE b.`key` = a.`key` AND b.`val` \u003c a.`val`); ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:3:3","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["MySQL"],"content":"æ–¹æ³•å›› SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a, (SELECT `key`, MIN(`val`) AS val FROM test.test GROUP BY `key`) AS b WHERE a.`key` = b.`key` AND a.`val` = b.`val` ORDER BY a.`key`; ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:3:4","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["MySQL"],"content":"æ–¹æ³•äº” SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a INNER JOIN (SELECT `key`, MIN(`val`) AS val FROM test.test GROUP BY `key`) AS b ON b.`key` = a.`key` AND b.`val` = a.`val` ORDER BY a.`key`; ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:3:5","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["MySQL"],"content":"æ–¹æ³•å…­ SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE 1 \u003e (SELECT COUNT(*) FROM test.test AS b WHERE b.`key` = a.`key` AND b.`val` \u003c a.`val`) ORDER BY a.`key`; ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:3:6","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["MySQL"],"content":"æŒ‰ key åˆ†ç»„å–æœ€å¤§çš„ä¸¤ä¸ª val æ‰€åœ¨è¡Œçš„æ•°æ® ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:4:0","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["MySQL"],"content":"æ–¹æ³•ä¸€ SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE 2 \u003e (SELECT COUNT(*) FROM test.test AS b WHERE b.`key` = a.`key` AND b.`val` \u003e a.`val`) ORDER BY a.`key`; ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:4:1","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["MySQL"],"content":"æ–¹æ³•äºŒ SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE EXISTS( SELECT COUNT(*) FROM test.test AS b WHERE b.`key` = a.`key` AND b.`val` \u003e a.`val` HAVING COUNT(*) \u003c 2 ) ORDER BY a.`key`; ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:4:2","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["MySQL"],"content":"æŒ‰ key åˆ†ç»„å–æœ€å°çš„ä¸¤ä¸ª val æ‰€åœ¨è¡Œçš„æ•°æ® ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:5:0","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["MySQL"],"content":"æ–¹æ³•ä¸€ SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE 2 \u003e ( SELECT COUNT(*) FROM test.test AS b WHERE b.`key` = a.`key` AND b.`val` \u003c a.`val` ) ORDER BY a.`key`; ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:5:1","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["MySQL"],"content":"æ–¹æ³•äºŒ SELECT a.`id`, a.`key`, a.`val` FROM test.test AS a WHERE EXISTS( SELECT COUNT(*) FROM test.test AS b WHERE b.`key` = a.`key` AND b.`val` \u003c a.`val` HAVING COUNT(*) \u003c 2 ) ORDER BY a.`key`; ","date":"2018-01-18","objectID":"/2018/01/18/mysql-max-min-query/:5:2","tags":["MySQL"],"title":"MySQL æœ€å€¼æŸ¥è¯¢","uri":"/2018/01/18/mysql-max-min-query/"},{"categories":["PHP"],"content":"Composer æ˜¯ PHP çš„ä¸€ä¸ªä¾èµ–ç®¡ç†å·¥å…·ã€‚å®ƒå…è®¸ä½ ç”³æ˜é¡¹ç›®æ‰€ä¾èµ–çš„ä»£ç åº“ï¼Œå®ƒä¼šåœ¨ä½ çš„é¡¹ç›®ä¸­ä¸ºä½ å®‰è£…ä»–ä»¬ã€‚ Composer Homepage Composer GitHub Composer è‹±æ–‡æ–‡æ¡£ Composer ä¸­æ–‡æ–‡æ¡£ Coomposer ä¸­å›½å…¨é‡é•œåƒ ","date":"2018-01-18","objectID":"/2018/01/18/php-composer/:0:0","tags":["PHP"],"title":"PHP ä¾èµ–ç®¡ç†å™¨","uri":"/2018/01/18/php-composer/"},{"categories":["PHP"],"content":"å®‰è£… ","date":"2018-01-18","objectID":"/2018/01/18/php-composer/:1:0","tags":["PHP"],"title":"PHP ä¾èµ–ç®¡ç†å™¨","uri":"/2018/01/18/php-composer/"},{"categories":["PHP"],"content":"Linux å±€éƒ¨å®‰è£… å±€éƒ¨å®‰è£…ä¸€èˆ¬æŒ‡å½“å‰ä¸‹è½½å®‰è£…çš„ç›®å½•ã€‚ // å‘½ä»¤å®‰è£… $ curl -sS https://getcomposer.org/installer | php // è·å–æ›´å¤šçš„ä¿¡æ¯ $ curl -sS https://getcomposer.org/installer | php -- --help å¦‚æœä¸Šè¿°æ–¹æ³•å®‰è£…å¤±è´¥ï¼Œå¯ä½¿ç”¨ php å‘½ä»¤ä¸‹è½½å®‰è£… $ php -r \"readfile('https://getcomposer.org/installer');\" | php æˆ–è€… $ php -r \"copy('https://getcomposer.org/installer', 'composer-setup.php');\" $ php -r \"if (hash_file('SHA384', 'composer-setup.php') === '544e09ee996cdf60ece3804abc52599c22b1f40f4323403c44d44fdfdd586475ca9813a858088ffbc1f233e9b180f061') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;\" $ php composer-setup.php $ php -r \"unlink('composer-setup.php');\" å…¨å±€å®‰è£… å…¨å±€å®‰è£…å…¶å®å°±æ˜¯æŠŠ composer å‘½ä»¤æ”¾åˆ°ç¯å¢ƒç³»ç»Ÿå˜é‡è¯†åˆ«çš„è·¯å¾„ä¸­ã€‚ $ sudo mv composer.phar /usr/local/bin/composer $ sudo chmod +x /usr/local/bin/composer å¦‚æœå‘½ä»¤å› ä¸ºæƒé™æ‰§è¡Œå¤±è´¥ï¼Œè¯·ä½¿ç”¨ sudo å†æ¬¡å°è¯•è¿è¡Œ mv é‚£è¡Œå‘½ä»¤ã€‚ ","date":"2018-01-18","objectID":"/2018/01/18/php-composer/:1:1","tags":["PHP"],"title":"PHP ä¾èµ–ç®¡ç†å™¨","uri":"/2018/01/18/php-composer/"},{"categories":["PHP"],"content":"Mac é»˜è®¤æƒ…å†µä¸‹ï¼Œé€šè¿‡ brew å®‰è£…çš„å¯æ‰§è¡Œå‘½ä»¤åœ¨ /usr/local/bin ç›®å½•ä¸­åšäº†è½¯é“¾ã€‚ $ brew search composer $ brew install composer $ composer -V ","date":"2018-01-18","objectID":"/2018/01/18/php-composer/:1:2","tags":["PHP"],"title":"PHP ä¾èµ–ç®¡ç†å™¨","uri":"/2018/01/18/php-composer/"},{"categories":["PHP"],"content":"Windows è‡ªåŠ¨å®‰è£… ä¸‹è½½ Composer-Setup.exeï¼ŒåŒå‡»ç›´æ¥å®‰è£…å³å¯ æ‰‹åŠ¨å®‰è£… å¦‚æœæ”¶åˆ° readfile é”™è¯¯æç¤ºï¼Œä½¿ç”¨ http é“¾æ¥æˆ–è€…åœ¨ php.ini ä¸­å¼€å¯ php_openssl.dll C:\\Users\\username\u003ecd C:\\bin C:\\bin\u003ephp -r \"readfile('https://getcomposer.org/installer');\" | php åœ¨ composer.phar åŒçº§ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶ composer.bat C:\\bin\u003eecho @php \"%~dp0composer.phar\" %*\u003ecomposer.bat å…³é—­å½“å‰çš„å‘½ä»¤è¡Œçª—å£ï¼Œæ‰“å¼€æ–°çš„å‘½ä»¤è¡Œçª—å£è¿›è¡Œæµ‹è¯• C:\\Users\\username\u003ecomposer -V ","date":"2018-01-18","objectID":"/2018/01/18/php-composer/:1:3","tags":["PHP"],"title":"PHP ä¾èµ–ç®¡ç†å™¨","uri":"/2018/01/18/php-composer/"},{"categories":["PHP"],"content":"ä½¿ç”¨ ","date":"2018-01-18","objectID":"/2018/01/18/php-composer/:2:0","tags":["PHP"],"title":"PHP ä¾èµ–ç®¡ç†å™¨","uri":"/2018/01/18/php-composer/"},{"categories":["PHP"],"content":"åˆ›å»ºé¡¹ç›®ä¾èµ– // åˆ›å»º composer.json æ–‡ä»¶ $ composer init ","date":"2018-01-18","objectID":"/2018/01/18/php-composer/:2:1","tags":["PHP"],"title":"PHP ä¾èµ–ç®¡ç†å™¨","uri":"/2018/01/18/php-composer/"},{"categories":["PHP"],"content":"å®‰è£…é¡¹ç›®ä¾èµ– // å®‰è£…ä¾èµ– $ composer install ","date":"2018-01-18","objectID":"/2018/01/18/php-composer/:2:2","tags":["PHP"],"title":"PHP ä¾èµ–ç®¡ç†å™¨","uri":"/2018/01/18/php-composer/"},{"categories":["PHP"],"content":"æ›´æ–°é¡¹ç›®ä¾èµ– // æ›´æ–°ä¾èµ– $ composer update ","date":"2018-01-18","objectID":"/2018/01/18/php-composer/:2:3","tags":["PHP"],"title":"PHP ä¾èµ–ç®¡ç†å™¨","uri":"/2018/01/18/php-composer/"},{"categories":["PHP"],"content":"é•œåƒ ","date":"2018-01-18","objectID":"/2018/01/18/php-composer/:3:0","tags":["PHP"],"title":"PHP ä¾èµ–ç®¡ç†å™¨","uri":"/2018/01/18/php-composer/"},{"categories":["PHP"],"content":"ç³»ç»Ÿå…¨å±€é…ç½® å°†é…ç½®ä¿¡æ¯æ·»åŠ åˆ° Composer çš„å…¨å±€é…ç½®æ–‡ä»¶ config.json ä¸­ï¼š $ composer config -g repo.packagist composer https://packagist.phpcomposer.com ","date":"2018-01-18","objectID":"/2018/01/18/php-composer/:3:1","tags":["PHP"],"title":"PHP ä¾èµ–ç®¡ç†å™¨","uri":"/2018/01/18/php-composer/"},{"categories":["PHP"],"content":"å•ä¸ªé¡¹ç›®é…ç½® å°†é…ç½®ä¿¡æ¯æ·»åŠ åˆ°æŸä¸ªé¡¹ç›®çš„ composer.json æ–‡ä»¶ä¸­ï¼š $ composer config repo.packagist composer https://packagist.phpcomposer.com ä¸Šè¿°å‘½ä»¤å°†ä¼šåœ¨é¡¹ç›®çš„ composer.json æ–‡ä»¶çš„æœ«å°¾è‡ªåŠ¨æ·»åŠ é•œåƒçš„é…ç½®ä¿¡æ¯ï¼š \"repositories\": { \"packagist\": { \"type\": \"composer\", \"url\": \"https://packagist.phpcomposer.com\" } } ","date":"2018-01-18","objectID":"/2018/01/18/php-composer/:3:2","tags":["PHP"],"title":"PHP ä¾èµ–ç®¡ç†å™¨","uri":"/2018/01/18/php-composer/"},{"categories":["PHP"],"content":"é­”æœ¯æ–¹æ³•æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–¹æ³•ï¼Œå½“å¯¹å¯¹è±¡æ‰§è¡ŒæŸäº›æ“ä½œæ—¶ä¼šè¦†ç›– PHP çš„é»˜è®¤æ“ä½œã€‚ ","date":"2018-01-18","objectID":"/2018/01/18/php-magix-methods/:0:0","tags":["PHP"],"title":"PHP é­”æœ¯æ–¹æ³•","uri":"/2018/01/18/php-magix-methods/"},{"categories":["PHP"],"content":"é­”æœ¯æ–¹æ³• PHP å°†æ‰€æœ‰ä»¥ __ï¼ˆä¸¤ä¸ªä¸‹åˆ’çº¿ï¼‰å¼€å¤´çš„ç±»æ–¹æ³•ä¿ç•™ä¸ºé­”æœ¯æ–¹æ³•ã€‚æ‰€ä»¥åœ¨å®šä¹‰ç±»æ–¹æ³•æ—¶ï¼Œé™¤äº†å¿ƒä¸‹é­”æœ¯æ–¹æ³•ï¼Œå»ºè®®ä¸è¦ä»¥ __ ä¸ºå‰ç¼€ã€‚ åç§° è¯´æ˜ å¤‡æ³¨ __construct() ç±»çš„æ„é€ å‡½æ•° __destruct() ç±»çš„ææ„å‡½æ•° __call() åœ¨å¯¹è±¡ä¸­è°ƒç”¨ä¸€ä¸ªä¸å¯è®¿é—®æ–¹æ³•æ—¶è°ƒç”¨ __callStatic() ç”¨é™æ€æ–¹å¼ä¸­è°ƒç”¨ä¸€ä¸ªä¸å¯è®¿é—®æ–¹æ³•æ—¶è°ƒç”¨ __get() è·å¾—ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡æ—¶è°ƒç”¨ __set() è®¾ç½®ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡æ—¶è°ƒç”¨ __isset() å½“å¯¹ä¸å¯è®¿é—®å±æ€§è°ƒç”¨ isset() æˆ– empty() æ—¶è°ƒç”¨ __unset() å½“å¯¹ä¸å¯è®¿é—®å±æ€§è°ƒç”¨ unset() æ—¶è¢«è°ƒç”¨ __sleep() æ‰§è¡Œ serialize() æ—¶ï¼Œå…ˆä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•° __wakeup() æ‰§è¡Œ unserialize() æ—¶ï¼Œå…ˆä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•° __toString() ç”¨äºä¸€ä¸ªç±»è¢«å½“æˆå­—ç¬¦ä¸²æ—¶åº”æ€æ ·å›åº” __invoke() å½“å°è¯•ä»¥è°ƒç”¨å‡½æ•°çš„æ–¹å¼è°ƒç”¨ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œ__invoke() æ–¹æ³•ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ __set_state() è°ƒç”¨ var_export() å¯¼å‡ºç±»æ—¶ï¼Œæ­¤é™æ€æ–¹æ³•ä¼šè¢«è°ƒç”¨ __clone() å½“å¤åˆ¶å®Œæˆæ—¶ï¼Œå¦‚æœå®šä¹‰äº† __clone() æ–¹æ³•ï¼Œåˆ™æ–°åˆ›å»ºçš„å¯¹è±¡ï¼ˆå¤åˆ¶ç”Ÿæˆçš„å¯¹è±¡ï¼‰ä¸­çš„ __clone() æ–¹æ³•ä¼šè¢«è°ƒç”¨ï¼Œå¯ç”¨äºä¿®æ”¹å±æ€§çš„å€¼ï¼ˆå¦‚æœæœ‰å¿…è¦çš„è¯ï¼‰ __debugInfo() å½“æ‰“å°ä¸€ä¸ªå¯¹è±¡ä»¥è·å–æ˜¾ç¤ºçš„å±æ€§æ—¶ï¼Œæ­¤æ–¹æ³•è¢« var_dump() è°ƒç”¨ã€‚å¦‚æœæ­¤æ–¹æ³•æœªåœ¨å¯¹è±¡ä¸Šå®šä¹‰ï¼Œåˆ™å°†æ˜¾ç¤ºæ‰€æœ‰å…¬å¼€çš„ï¼Œå—ä¿æŠ¤çš„å’Œç§æœ‰çš„å±æ€§ ","date":"2018-01-18","objectID":"/2018/01/18/php-magix-methods/:1:0","tags":["PHP"],"title":"PHP é­”æœ¯æ–¹æ³•","uri":"/2018/01/18/php-magix-methods/"},{"categories":["PHP"],"content":"æ–¹æ³•å®ä¾‹ ","date":"2018-01-18","objectID":"/2018/01/18/php-magix-methods/:2:0","tags":["PHP"],"title":"PHP é­”æœ¯æ–¹æ³•","uri":"/2018/01/18/php-magix-methods/"},{"categories":["PHP"],"content":"__construct() å’Œ __destruct() \u003c?php class Object { public function __construct() { echo __METHOD__ . PHP_EOL; } public function __destruct() { echo __METHOD__ . PHP_EOL; } } class Test extends Object { public function __construct() { echo __METHOD__ . PHP_EOL; parent::__construct(); } public function __destruct() { echo __METHOD__ . PHP_EOL; parent::__destruct(); } } new Test(); // ç»“æœ Test::__construct Object::__construct Test::__destruct Object::__destruct ","date":"2018-01-18","objectID":"/2018/01/18/php-magix-methods/:2:1","tags":["PHP"],"title":"PHP é­”æœ¯æ–¹æ³•","uri":"/2018/01/18/php-magix-methods/"},{"categories":["PHP"],"content":"__call() å’Œ __callStatic() \u003c?php class Object { public function __call($name, $arguments) { echo \"Calling object method '$name' \" . implode(', ', $arguments) . PHP_EOL; } public static function __callStatic($name, $arguments) { echo \"Calling static method '$name' \" . implode(', ', $arguments) . PHP_EOL; } } $object = new Object(); $object-\u003egetCall('in object context'); Object::getCallStatic('in static context'); // ç»“æœ Calling object method 'getCall' in object context Calling static method 'getCallStatic' in static context ","date":"2018-01-18","objectID":"/2018/01/18/php-magix-methods/:2:2","tags":["PHP"],"title":"PHP é­”æœ¯æ–¹æ³•","uri":"/2018/01/18/php-magix-methods/"},{"categories":["PHP"],"content":"__get(), __set(), __isset(), __unset() \u003c?php class Object { private $data = []; public function __set($key, $val) { echo __METHOD__ . PHP_EOL; $this-\u003edata[$key] = $val; } public function __get($key) { if (array_key_exists($key, $this-\u003edata)) { echo __METHOD__ . PHP_EOL; return $this-\u003edata[$key]; } return null; } public function __isset($key) { echo __METHOD__ . PHP_EOL; return isset($this-\u003edata[$key]); } public function __unset($key) { echo __METHOD__ . PHP_EOL; unset($this-\u003edata[$key]); } } $object = new Object(); $object-\u003eproperty = 'This is the property of the object.'; $object-\u003eproperty; isset($object-\u003eproperty); unset($object-\u003eproperty); // ç»“æœ Object::__set Object::__get Object::__isset Object::__unset ","date":"2018-01-18","objectID":"/2018/01/18/php-magix-methods/:2:3","tags":["PHP"],"title":"PHP é­”æœ¯æ–¹æ³•","uri":"/2018/01/18/php-magix-methods/"},{"categories":["PHP"],"content":"__sleep() å’Œ __wakeup \u003c?php class Object { protected $link; private $server, $username, $password, $database; public function __construct($server, $username, $password, $database) { echo __METHOD__ . PHP_EOL; $this-\u003eserver = $server; $this-\u003eusername = $username; $this-\u003epassword = $password; $this-\u003edatabase = $database; } public function __sleep() { echo __METHOD__ . PHP_EOL; return ['server', 'username', 'password', 'database']; } public function __wakeup() { echo __METHOD__ . PHP_EOL; $this-\u003econnect(); } private function connect() { echo __METHOD__ . PHP_EOL; $this-\u003elink = mysqli_connect( $this-\u003eserver, $this-\u003eusername, $this-\u003epassword ); } } $object = new Object('localhost', 'root', '', 'test'); $serialize = serialize($object); unserialize($serialize); // ç»“æœ Object::__construct Object::__sleep Object::__wakeup Object::connect ","date":"2018-01-18","objectID":"/2018/01/18/php-magix-methods/:2:4","tags":["PHP"],"title":"PHP é­”æœ¯æ–¹æ³•","uri":"/2018/01/18/php-magix-methods/"},{"categories":["PHP"],"content":"__toString() \u003c?php class Object { public function __toString() { return __METHOD__; } } $object = new Object(); echo $object; // ç»“æœ Object::__toString ","date":"2018-01-18","objectID":"/2018/01/18/php-magix-methods/:2:5","tags":["PHP"],"title":"PHP é­”æœ¯æ–¹æ³•","uri":"/2018/01/18/php-magix-methods/"},{"categories":["PHP"],"content":"__invoke() \u003c?php class Object { public function __invoke() { echo __METHOD__ . PHP_EOL; } } $object = new Object(); var_dump(is_callable($object())); // ç»“æœ Object::__invoke bool(false) ","date":"2018-01-18","objectID":"/2018/01/18/php-magix-methods/:2:6","tags":["PHP"],"title":"PHP é­”æœ¯æ–¹æ³•","uri":"/2018/01/18/php-magix-methods/"},{"categories":["PHP"],"content":"__set_state() \u003c?php class Object { public $a; public $b; public static function __set_state(array $array) { echo __METHOD__ . PHP_EOL; $object = new Object(); $object-\u003ea = $array['a']; $object-\u003eb = $array['b']; return $object; } } $object = new Object(); $object-\u003ea = 'this is a'; $object-\u003eb = 'this is b'; eval('$b = ' . var_export($object, true) . ';'); var_dump($b); // ç»“æœ Object::__set_state object(Object)#2 (2) { [\"a\"]=\u003e string(9) \"this is a\" [\"b\"]=\u003e string(9) \"this is b\" } ","date":"2018-01-18","objectID":"/2018/01/18/php-magix-methods/:2:7","tags":["PHP"],"title":"PHP é­”æœ¯æ–¹æ³•","uri":"/2018/01/18/php-magix-methods/"},{"categories":["PHP"],"content":"__clone() \u003c?php class Object { public static $count = 0; public $instance; public function __construct() { echo __METHOD__ . PHP_EOL; $this-\u003einstance = ++self::$count; } public function __clone() { echo __METHOD__ . PHP_EOL; $this-\u003einstance = ++self::$count; } } class Cloneable { public $object1; public $object2; public function __construct() { echo __METHOD__ . PHP_EOL; } public function __clone() { echo __METHOD__ . PHP_EOL; // å¼ºåˆ¶å¤åˆ¶ä¸€ä»½ this-\u003eobjectï¼Œå¦åˆ™ä»ç„¶æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ $this-\u003eobject1 = clone $this-\u003eobject1; } } $cloneable = new Cloneable(); $cloneable-\u003eobject1 = new Object(); $cloneable-\u003eobject2 = new Object(); $clone = clone $cloneable; print \"Original Object:\\n\"; var_dump($cloneable); print \"Cloned Object:\\n\"; var_dump($clone); // ç»“æœ Cloneable::__construct Object::__construct Object::__construct Cloneable::__clone Object::__clone Original Object: class Cloneable#1 (2) { public $object1 =\u003e class Object#2 (1) { public $instance =\u003e int(1) } public $object2 =\u003e class Object#3 (1) { public $instance =\u003e int(2) } } Cloned Object: class Cloneable#4 (2) { public $object1 =\u003e class Object#5 (1) { public $instance =\u003e int(3) } public $object2 =\u003e class Object#3 (1) { public $instance =\u003e int(2) } } ","date":"2018-01-18","objectID":"/2018/01/18/php-magix-methods/:2:8","tags":["PHP"],"title":"PHP é­”æœ¯æ–¹æ³•","uri":"/2018/01/18/php-magix-methods/"},{"categories":["PHP"],"content":"__debugInfo() \u003c?php date_default_timezone_set('PRC'); class Object { public $year, $month, $day, $hour, $minute, $second; public function __debugInfo() { $date = $this-\u003eyear . '-' . $this-\u003emonth . '-' . $this-\u003eday; $time = $this-\u003ehour . ':' . $this-\u003eminute . ':' . $this-\u003esecond; $datetime = $date . ' ' . $time; return [ 'date' =\u003e $date, 'time' =\u003e $time, 'datetime' =\u003e $datetime, 'property' =\u003e call_user_func('get_object_vars', $this), ]; } } $object = new Object(); $object-\u003eyear = date('Y'); $object-\u003emonth = date('m'); $object-\u003eday = date('d'); $object-\u003ehour = date('H'); $object-\u003eminute = date('i'); $object-\u003esecond = date('s'); var_dump($object); // ç»“æœ class Object#1 (4) { public $date =\u003e string(10) \"2018-01-18\" public $time =\u003e string(8) \"17:27:45\" public $datetime =\u003e string(19) \"2018-01-18 17:27:45\" public $property =\u003e array(6) { 'year' =\u003e string(4) \"2018\" 'month' =\u003e string(2) \"01\" 'day' =\u003e string(2) \"18\" 'hour' =\u003e string(2) \"17\" 'minute' =\u003e string(2) \"27\" 'second' =\u003e string(2) \"45\" } } ","date":"2018-01-18","objectID":"/2018/01/18/php-magix-methods/:2:9","tags":["PHP"],"title":"PHP é­”æœ¯æ–¹æ³•","uri":"/2018/01/18/php-magix-methods/"},{"categories":["PHP"],"content":"é­”æœ¯å¸¸é‡ åç§° è¯´æ˜ å¤‡æ³¨ __LINE__ æ–‡ä»¶ä¸­çš„å½“å‰è¡Œå· __FILE__ æ–‡ä»¶çš„å®Œæ•´è·¯å¾„å’Œæ–‡ä»¶å __DIR__ æ–‡ä»¶æ‰€åœ¨çš„ç›®å½• __FUNCTION__ å‡½æ•°åç§° __CLASS__ ç±»çš„åç§° __TRAIT__ Trait çš„åå­— __METHOD__ ç±»çš„æ–¹æ³•å __NAMESPACE__ å½“å‰å‘½åç©ºé—´çš„åç§° \u003c?php namespace App; trait ObjectTrait { public function getTrait() { echo __TRAIT__ . PHP_EOL; } } class Object { use ObjectTrait; public function __construct() { echo __LINE__ . PHP_EOL; echo __FILE__ . PHP_EOL; echo __DIR__ . PHP_EOL; echo __FUNCTION__ . PHP_EOL; echo __CLASS__ . PHP_EOL; echo $this-\u003egetTrait(); echo __METHOD__ . PHP_EOL; } } $object = new Object(); // ç»“æœ 19 /Users/xxx/Downloads/test/vscode.php /Users/xxx/Downloads/test __construct App\\Object App\\ObjectTrait App\\Object::__construct ","date":"2018-01-18","objectID":"/2018/01/18/php-magix-methods/:3:0","tags":["PHP"],"title":"PHP é­”æœ¯æ–¹æ³•","uri":"/2018/01/18/php-magix-methods/"},{"categories":["PHP"],"content":"æ¦‚è¿° PHP æä¾›äº†ä¸€ç§ CLI SAPI - Server Application Programming Interfaceï¼ŒæœåŠ¡ç«¯åº”ç”¨ç¼–ç¨‹æ¥å£çš„æ”¯æŒï¼Œæ„ä¸º CLI - Command Line Interfaceï¼Œå³å‘½ä»¤è¡Œæ¥å£ã€‚ä¹Ÿæ˜¯ Web è„šæœ¬è¯­è¨€ PHP åœ¨ç³»ç»Ÿå‘½ä»¤è¡Œï¼ˆShellï¼‰ä¸‹çš„å¦ä¸€ç§å½¢å¼ï¼Œç”¨æˆ·å¯ä»¥åœ¨ç³»ç»Ÿå‘½ä»¤ä¸­ä½¿ç”¨ PHP ç¼–å†™äº¤äº’ä»£ç ã€‚ ","date":"2018-01-18","objectID":"/2018/01/18/php-command-line-interface/:1:0","tags":["PHP"],"title":"PHP Command Line Interface","uri":"/2018/01/18/php-command-line-interface/"},{"categories":["PHP"],"content":"ä½œç”¨ å¼€å‘å¤–å£³åº”ç”¨ã€‚ ","date":"2018-01-18","objectID":"/2018/01/18/php-command-line-interface/:2:0","tags":["PHP"],"title":"PHP Command Line Interface","uri":"/2018/01/18/php-command-line-interface/"},{"categories":["PHP"],"content":"CLI SAPI å’Œå…¶å®ƒ SAPI æ¨¡å—çš„åŒºåˆ« ä¸ CGI SAPI ä¸åŒï¼Œå…¶è¾“å‡ºæ²¡æœ‰ä»»ä½•å¤´ä¿¡æ¯ CLI SAPI å¼ºåˆ¶è¦†ç›–äº† php.ini ä¸­çš„æŸäº›è®¾ç½®ï¼Œå› ä¸ºè¿™äº›è®¾ç½®åœ¨å¤–å£³ç¯å¢ƒä¸‹æ˜¯æ²¡æœ‰æ„ä¹‰ ä¸ºäº†å‡è½»å¤–å£³ç¯å¢ƒä¸‹çš„å·¥ä½œï¼Œå®šä¹‰äº†å¦‚ä¸‹å¸¸é‡ åç§° æè¿° å¤‡æ³¨ STDIN ä¸€ä¸ªå·²æ‰“å¼€çš„æŒ‡å‘ stdin çš„æµï¼Œè°ƒç”¨æ–¹æ³•ï¼š$stdin = fopen('php://stdin', 'r'); STDOUT ä¸€ä¸ªå·²æ‰“å¼€çš„æŒ‡å‘ stdout çš„æµï¼Œè°ƒç”¨æ–¹æ³•ï¼š$stdout = fopen(â€˜php://stdoutâ€™, â€˜wâ€™); STDERR ä¸€ä¸ªå·²æ‰“å¼€çš„æŒ‡å‘ stderr çš„æµï¼Œ è°ƒç”¨æ–¹æ³•ï¼š$stderr = fopen(â€˜php://stderrâ€™, â€˜wâ€™); CLI SAPI ä¸ä¼šå°†å½“å‰ç›®å½•æ”¹ä¸ºå·²è¿è¡Œçš„è„šæœ¬æ‰€åœ¨çš„ç›®å½• ","date":"2018-01-18","objectID":"/2018/01/18/php-command-line-interface/:3:0","tags":["PHP"],"title":"PHP Command Line Interface","uri":"/2018/01/18/php-command-line-interface/"},{"categories":["PHP"],"content":"CLI SAPI æ¨¡å—çš„ä¸‰ç§è¿è¡Œæ–¹å¼ ","date":"2018-01-18","objectID":"/2018/01/18/php-command-line-interface/:4:0","tags":["PHP"],"title":"PHP Command Line Interface","uri":"/2018/01/18/php-command-line-interface/"},{"categories":["PHP"],"content":"è®© PHP è¿è¡ŒæŒ‡å®šæ–‡ä»¶ $ php test.php æˆ–è€… $ php -f test.php ","date":"2018-01-18","objectID":"/2018/01/18/php-command-line-interface/:4:1","tags":["PHP"],"title":"PHP Command Line Interface","uri":"/2018/01/18/php-command-line-interface/"},{"categories":["PHP"],"content":"åœ¨å‘½ä»¤è¡Œç›´æ¥è¿è¡Œ PHP ä»£ç  $ php -r 'print_r(get_defined_constants());' ","date":"2018-01-18","objectID":"/2018/01/18/php-command-line-interface/:4:2","tags":["PHP"],"title":"PHP Command Line Interface","uri":"/2018/01/18/php-command-line-interface/"},{"categories":["PHP"],"content":"é€šè¿‡æ ‡å‡†è¾“å…¥ stdin æä¾›éœ€è¦è¿è¡Œçš„ PHP ä»£ç  PHP CLI åº”ç”¨åœºæ™¯ ","date":"2018-01-18","objectID":"/2018/01/18/php-command-line-interface/:4:3","tags":["PHP"],"title":"PHP Command Line Interface","uri":"/2018/01/18/php-command-line-interface/"},{"categories":["PHP"],"content":"å¤šçº¿ç¨‹åº”ç”¨ ä½¿ç”¨å¤šè¿›ç¨‹ï¼Œå­è¿›ç¨‹ç»“æŸä»¥åï¼Œå†…æ ¸ä¼šè´Ÿè´£å›æ”¶èµ„æº ä½¿ç”¨å¤šè¿›ç¨‹ï¼Œå­è¿›ç¨‹å¼‚å¸¸é€€å‡ºä¸ä¼šå¯¼è‡´æ•´ä¸ªè¿›ç¨‹ Thread é€€å‡ºï¼Œçˆ¶è¿›ç¨‹è¿˜æœ‰æœºä¼šé‡å»ºæµç¨‹ ä¸€ä¸ªå¸¸é©»ä¸»è¿›ç¨‹ï¼Œåªè´Ÿè´£ä»»åŠ¡åˆ†å‘ï¼Œé€»è¾‘ç†æ¸…æ¥š ","date":"2018-01-18","objectID":"/2018/01/18/php-command-line-interface/:4:4","tags":["PHP"],"title":"PHP Command Line Interface","uri":"/2018/01/18/php-command-line-interface/"},{"categories":["PHP"],"content":"å®šæ—¶æ‰§è¡Œ PHP ç¨‹åº åˆ©ç”¨ Linux çš„ crontab å‘½ä»¤ï¼Œæ–‡ä»¶è·¯å¾„å»ºè®®ä½¿ç”¨ç»å¯¹è·¯å¾„ã€‚ \u003c?php // The task you plan to perform echo 'PHP is the best programming language.'; $ crontab -e // æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡è„šæœ¬å¹¶ä¸”è¾“å‡º * * * * * /usr/bin/php /usr/local/src/test.php // æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡è„šæœ¬å¹¶ä¸”åœ¨åå°è¿è¡Œ * * * * * /usr/bin/php /usr/local/src/test.php \u003e/dev/null 2\u003e\u00261 ","date":"2018-01-18","objectID":"/2018/01/18/php-command-line-interface/:4:5","tags":["PHP"],"title":"PHP Command Line Interface","uri":"/2018/01/18/php-command-line-interface/"},{"categories":["PHP"],"content":"å¼€å‘æ¡Œé¢ç¨‹åº ä½¿ç”¨ PHP CLI å’Œ GTK åŒ…ã€‚ ","date":"2018-01-18","objectID":"/2018/01/18/php-command-line-interface/:4:6","tags":["PHP"],"title":"PHP Command Line Interface","uri":"/2018/01/18/php-command-line-interface/"},{"categories":["PHP"],"content":"Linux ä¸‹ç¼–å†™ PHP çš„ Shell è„šæœ¬ ","date":"2018-01-18","objectID":"/2018/01/18/php-command-line-interface/:4:7","tags":["PHP"],"title":"PHP Command Line Interface","uri":"/2018/01/18/php-command-line-interface/"},{"categories":["PHP"],"content":"PHP CLI å®ä¾‹ ","date":"2018-01-18","objectID":"/2018/01/18/php-command-line-interface/:5:0","tags":["PHP"],"title":"PHP Command Line Interface","uri":"/2018/01/18/php-command-line-interface/"},{"categories":["PHP"],"content":"PHP CLI è¿›é˜¶ ","date":"2018-01-18","objectID":"/2018/01/18/php-command-line-interface/:6:0","tags":["PHP"],"title":"PHP Command Line Interface","uri":"/2018/01/18/php-command-line-interface/"},{"categories":["PHP"],"content":"PHP å®ç°ä¸¤ä¸ªæ—¥æœŸä¹‹é—´ç›¸å·®çš„å‡ å¹´ã€å‡ æœˆã€å‡ æ—¥â€¦â€¦ï¼Œå¯ä»¥é‡‡ç”¨ PHP å†…ç½®çš„ç±» DateTime å’Œå‡½æ•° strtotime() å®ç°ï¼Œæ¨èä½¿ç”¨å†…ç½®ç±» DateTime å»å®ç°ï¼ŒDateTime æŠŠæ¯ä¸ªæœˆå¤©æ•°çš„å·®å¼‚è‡ªåŠ¨å¤„ç†äº†ï¼Œä½¿ç”¨ strtotime() å‡½æ•°éœ€è¦è‡ªè¡Œå¤„ç†ã€‚ ","date":"2018-01-15","objectID":"/2018/01/15/php-calculate-date/:0:0","tags":["PHP"],"title":"PHP - è®¡ç®—å‡ºä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å·®å€¼","uri":"/2018/01/15/php-calculate-date/"},{"categories":["PHP"],"content":"è®¡ç®—å‡ºä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å·®å€¼ Representation of date and time \u003c?php function getDateDiff($date1, $date2) { $datetime1 = new \\DateTime($date1); $datetime2 = new \\DateTime($date2); $interval = $datetime1-\u003ediff($datetime2); $datetime = []; $items = [ 'year' =\u003e 'y', 'month' =\u003e 'm', 'day' =\u003e 'd', 'hour' =\u003e 'H', 'minute' =\u003e 'i', 'second' =\u003e 's', 'days' =\u003e 'a', ]; foreach ($items as $key =\u003e $format) { $datetime[$key] = $interval-\u003eformat(\"%{$format}\"); } return $datetime; } $date1 = '2016-12-12 09:45:45'; $date2 = '2018-01-15 10:55:55'; $array = getDateDiff($date1, $date2); print_r($array); // ç»“æœ Array ( [year] =\u003e 1 [month] =\u003e 1 [day] =\u003e 3 [hour] =\u003e 01 [minute] =\u003e 10 [second] =\u003e 10 [days] =\u003e 399 ) ä¹Ÿå°±æ˜¯è¯´è¿™ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å·®å€¼ä¸ºï¼š1 å¹´ 1 ä¸ªæœˆ 3 å¤© 1 å°æ—¶ 10 åˆ†é’Ÿ 10 ç§’ï¼Œæ€»å…± 399 å¤© ","date":"2018-01-15","objectID":"/2018/01/15/php-calculate-date/:1:0","tags":["PHP"],"title":"PHP - è®¡ç®—å‡ºä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å·®å€¼","uri":"/2018/01/15/php-calculate-date/"},{"categories":["PHP"],"content":"è®¡ç®—ä¸¤ä¸ªæ—¶æœŸä¹‹é—´çš„æœˆä»½æ•° \u003c?php $date1 = '2018-12-12 09:45:45'; $date2 = '2020-01-12 09:45:44'; $d1 = new \\DateTime($date1); $d2 = new \\DateTime($date2); echo $d1-\u003ediff($d2)-\u003em + ($d1-\u003ediff($d2)-\u003ey * 12); // ç»“æœ 12 ä»ç»“æœæ¥çœ‹ï¼Œä¸è¶³ä¸€æœˆä¼šè‡ªåŠ¨èˆå» ","date":"2018-01-15","objectID":"/2018/01/15/php-calculate-date/:2:0","tags":["PHP"],"title":"PHP - è®¡ç®—å‡ºä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å·®å€¼","uri":"/2018/01/15/php-calculate-date/"},{"categories":["PHP"],"content":"æ‰©å±•çš„æ—¥æœŸæ—¶é—´ç±» Carbon GitHub Carbon Website ","date":"2018-01-15","objectID":"/2018/01/15/php-calculate-date/:3:0","tags":["PHP"],"title":"PHP - è®¡ç®—å‡ºä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å·®å€¼","uri":"/2018/01/15/php-calculate-date/"},{"categories":["PHP"],"content":"å®‰è£… // ä½¿ç”¨ composer å®‰è£… $ composer require nesbot/carbon ","date":"2018-01-15","objectID":"/2018/01/15/php-calculate-date/:3:1","tags":["PHP"],"title":"PHP - è®¡ç®—å‡ºä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å·®å€¼","uri":"/2018/01/15/php-calculate-date/"},{"categories":["PHP"],"content":"å®ä¾‹ æ›´å¤šä½¿ç”¨å®ä¾‹è¯·å‚è§å®˜ç½‘ \u003c?php require 'vendor/autoload.php'; use Carbon\\Carbon; printf(\"Now: %s\", Carbon::now()); ","date":"2018-01-15","objectID":"/2018/01/15/php-calculate-date/:3:2","tags":["PHP"],"title":"PHP - è®¡ç®—å‡ºä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å·®å€¼","uri":"/2018/01/15/php-calculate-date/"},{"categories":["Nginx"],"content":"KeepAlive æ˜¯é•¿è¿æ¥çš„æ„æ€ã€‚å®¢æˆ·ç«¯å‘èµ· HTTP è¯·æ±‚å‰éœ€è¦å…ˆä¸æœåŠ¡ç«¯å»ºç«‹ TCP è¿æ¥ï¼Œæ¯æ¬¡TCPè¿æ¥éƒ½éœ€è¦ä¸‰æ¬¡æ¡æ‰‹æ¥ç¡®å®šï¼Œä¸‰æ¬¡äº¤äº’ä¸ä»…ä¼šå¢åŠ æ¶ˆè´¹æ—¶é—´ï¼Œè¿˜ä¼šå¢åŠ ç½‘ç»œæµé‡ã€‚HTTP è¯·æ±‚æ˜¯è¯·æ±‚åº”ç­”å¼ï¼Œå¦‚æœèƒ½çŸ¥é“æ¯ä¸ªè¯·æ±‚å¤´ä¸å“åº”ä½“çš„é•¿åº¦ï¼Œå°±å¯ä»¥åœ¨ä¸€ä¸ªè¿æ¥ä¸Šæ‰§è¡Œå¤šä¸ªè¯·æ±‚ï¼Œè¿™ä¸ªå°±æ˜¯æ‰€è°“çš„é•¿è¿æ¥ã€‚ ","date":"2018-01-13","objectID":"/2018/01/13/nginx-keep-alive/:0:0","tags":["Nginx"],"title":"Nginx æ”¯æŒ keep-alive é•¿è¿æ¥","uri":"/2018/01/13/nginx-keep-alive/"},{"categories":["Nginx"],"content":"æ¦‚å¿µ Persistent HTTP connections have a number of advantages HTTP åè®®é‡‡ç”¨è¯·æ±‚-åº”ç­”æ¨¡å¼ï¼Œå½“ä½¿ç”¨æ™®é€šæ¨¡å¼ï¼Œå³é KeepAlive æ¨¡å¼æ—¶ï¼Œæ¯ä¸ªè¯·æ±‚/åº”ç­”å®¢æˆ·å’ŒæœåŠ¡å™¨éƒ½è¦æ–°å»ºä¸€ä¸ªè¿æ¥ï¼Œå®Œæˆä¹‹åç«‹å³æ–­å¼€è¿æ¥ï¼ˆHTTP åè®®ä¸ºæ— è¿æ¥çš„åè®®ï¼‰ï¼›å½“ä½¿ç”¨ Keep-Alive æ¨¡å¼ï¼ˆåˆç§°æŒä¹…è¿æ¥/è¿æ¥é‡ç”¨ï¼‰æ—¶ï¼ŒKeep-Alive åŠŸèƒ½ä½¿å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨ç«¯çš„è¿æ¥æŒç»­æœ‰æ•ˆï¼Œå½“å‡ºç°å¯¹æœåŠ¡å™¨çš„åç»§è¯·æ±‚æ—¶ï¼ŒKeep-Alive åŠŸèƒ½é¿å…äº†å»ºç«‹æˆ–è€…é‡æ–°å»ºç«‹è¿æ¥ã€‚ ","date":"2018-01-13","objectID":"/2018/01/13/nginx-keep-alive/:1:0","tags":["Nginx"],"title":"Nginx æ”¯æŒ keep-alive é•¿è¿æ¥","uri":"/2018/01/13/nginx-keep-alive/"},{"categories":["Nginx"],"content":"æ”¯æŒ keep alive ","date":"2018-01-13","objectID":"/2018/01/13/nginx-keep-alive/:2:0","tags":["Nginx"],"title":"Nginx æ”¯æŒ keep-alive é•¿è¿æ¥","uri":"/2018/01/13/nginx-keep-alive/"},{"categories":["Nginx"],"content":"å½“ä½¿ç”¨ nginx ä½œä¸ºåå‘ä»£ç†æ—¶ï¼Œä¸ºäº†æ”¯æŒé•¿è¿æ¥ï¼Œéœ€è¦åšåˆ°ä¸¤ç‚¹ ä» client åˆ° nginx çš„è¿æ¥æ˜¯é•¿è¿æ¥ ä» nginx åˆ° server çš„è¿æ¥æ˜¯é•¿è¿æ¥ ","date":"2018-01-13","objectID":"/2018/01/13/nginx-keep-alive/:2:1","tags":["Nginx"],"title":"Nginx æ”¯æŒ keep-alive é•¿è¿æ¥","uri":"/2018/01/13/nginx-keep-alive/"},{"categories":["Nginx"],"content":"ä¿æŒå’Œ client çš„é•¿è¿æ¥ client å‘é€çš„ HTTP è¯·æ±‚è¦æ±‚ keep alive nginx è®¾ç½®ä¸Šæ”¯æŒ keep alive ","date":"2018-01-13","objectID":"/2018/01/13/nginx-keep-alive/:2:2","tags":["Nginx"],"title":"Nginx æ”¯æŒ keep-alive é•¿è¿æ¥","uri":"/2018/01/13/nginx-keep-alive/"},{"categories":["Nginx"],"content":"HTTP é…ç½® keepalive_timeout é»˜è®¤ 75sï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¹Ÿå¤Ÿç”¨ï¼Œå¯¹äºä¸€äº›è¯·æ±‚æ¯”è¾ƒå¤§çš„å†…éƒ¨æœåŠ¡å™¨é€šè®¯çš„åœºæ™¯ï¼Œé€‚å½“åŠ å¤§ä¸º 120s æˆ–è€… 300sã€‚ç¬¬äºŒä¸ªå‚æ•°é€šå¸¸å¯ä»¥ä¸ç”¨è®¾ç½® ç¬¬ä¸€ä¸ªå‚æ•°è®¾ç½® keep-alive å®¢æˆ·ç«¯è¿æ¥åœ¨æœåŠ¡å™¨ç«¯ä¿æŒå¼€å¯çš„è¶…æ—¶å€¼ã€‚å€¼ä¸º 0 ä¼šç¦ç”¨ keep-alive å®¢æˆ·ç«¯è¿æ¥ã€‚å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°åœ¨å“åº”çš„ header åŸŸä¸­è®¾ç½®ä¸€ä¸ªå€¼ Keep-Alive: timeout=timeã€‚è¿™ä¸¤ä¸ªå‚æ•°å¯ä»¥ä¸ä¸€æ · keepalive_requests é»˜è®¤ 100ï¼Œå¯¹äº QPS è¾ƒé«˜çš„åœºæ™¯ï¼Œéå¸¸æœ‰å¿…è¦åŠ å¤§è¿™ä¸ªå‚æ•°ï¼Œä»¥é¿å…å‡ºç°å¤§é‡è¿æ¥è¢«ç”Ÿæˆå†æŠ›å¼ƒçš„æƒ…å†µï¼Œå‡å°‘ TIME_WAITã€‚è¿™ä¸ªå‚æ•°çš„çœŸå®å«ä¹‰æ˜¯æŒ‡ä¸€ä¸ª keep alive å»ºç«‹ä¹‹åï¼Œnginx å°±ä¼šä¸ºè¿™ä¸ªè¿æ¥è®¾ç½®ä¸€ä¸ªè®¡æ•°å™¨ï¼Œè®°å½•è¿™ä¸ª keep alive çš„é•¿è¿æ¥ä¸Šå·²ç»æ¥æ”¶å¹¶å¤„ç†çš„å®¢æˆ·ç«¯è¯·æ±‚çš„æ•°é‡ã€‚å¦‚æœè¾¾åˆ°è¿™ä¸ªå‚æ•°è®¾ç½®çš„æœ€å¤§å€¼æ—¶ï¼Œåˆ™ nginx ä¼šå¼ºè¡Œå…³é—­è¿™ä¸ªé•¿è¿æ¥ï¼Œé€¼è¿«å®¢æˆ·ç«¯ä¸å¾—ä¸é‡æ–°å»ºç«‹æ–°çš„é•¿è¿æ¥ ç”¨äºè®¾ç½®ä¸€ä¸ª keep-alive è¿æ¥ä¸Šå¯ä»¥æœåŠ¡çš„è¯·æ±‚çš„æœ€å¤§æ•°é‡ã€‚å½“æœ€å¤§è¯·æ±‚æ•°é‡è¾¾åˆ°æ—¶ï¼Œè¿æ¥è¢«å…³é—­ ","date":"2018-01-13","objectID":"/2018/01/13/nginx-keep-alive/:2:3","tags":["Nginx"],"title":"Nginx æ”¯æŒ keep-alive é•¿è¿æ¥","uri":"/2018/01/13/nginx-keep-alive/"},{"categories":["Nginx"],"content":"ä¿æŒå’Œ server çš„é•¿è¿æ¥ http { keepalive_timeout 100s; keepalive_requests 1000; upstream dev.proxy.com { server 192.168.10.11:8081 weight=1 max_fails=2 fail_timeout=30s; server 192.168.10.10:8081 weight=1 max_fails=2 fail_timeout=30s; keepalive 300; } server { listen 80 default_server; listen [::]:80 ipv6only=on; server_name dev.proxy.com; charset utf-8; location / { index index.php index.html index.htm; proxy_pass http://dev.proxy.com/; proxy_set_header Host $Host; proxy_set_header x-forwarded-for $remote_addr; proxy_set_header X-Real-IP $remote_addr; add_header Cache-Control no-store; add_header Pragma no-cache; proxy_http_version 1.1; proxy_set_header Connection \"\"; client_max_body_size 3072k; client_body_buffer_size 128k; } } } åˆç†çš„è®¾ç½® keep-alive å€¼å¯ä»¥éå¸¸æœ‰æ•ˆçš„ç¼“å†²è¯·æ±‚å’Œåº”ç­”ä¸å‡åŒ€ï¼Œç¼“è§£è¿æ¥æ•°é‡çš„åå¤éœ‡è¡ è¿æ¥æ•°é‡éœ‡è¡çš„ä¸¤ä¸ªè¡¨ç° è¿æ¥ä¸å¤Ÿç”¨ï¼Œé€ æˆæ–°å»ºè¿æ¥ è¿æ¥ç©ºé—²ï¼Œé€ æˆå…³é—­è¿æ¥ ç»Ÿè®¡åœ¨ä¸€å°å‰ç«¯æœºä¸Šé«˜å³°æ—¶é—´ TCP è¿æ¥çš„æƒ…å†µ $ netstat -n | awk '/^tcp/ {++S[$NF]} END {for(a in S) print a,S[a]}' å¯¼è‡´ nginx ç«¯å‡ºç°å¤§é‡ TIME_WAIT çš„ä¸¤ç§æƒ…å†µ keepalive_requests è®¾ç½®æ¯”è¾ƒå°ï¼Œé«˜å¹¶å‘ä¸‹è¶…è¿‡æ­¤å€¼å nginx ä¼šå¼ºåˆ¶å…³é—­å’Œå®¢æˆ·ç«¯ä¿æŒçš„keepalive é•¿è¿æ¥(ä¸»åŠ¨å…³é—­è¿æ¥åå¯¼è‡´ nginx å‡ºç° TIME_WAIT) keepalive è®¾ç½®çš„æ¯”è¾ƒå°(ç©ºé—²æ•°å¤ªå°)ï¼Œå¯¼è‡´é«˜å¹¶å‘ä¸‹ nginx ä¼šé¢‘ç¹å‡ºç°è¿æ¥æ•°éœ‡è¡(è¶…è¿‡è¯¥å€¼ä¼šå…³é—­è¿æ¥)ï¼Œä¸åœçš„å…³é—­å¼€å¯å’Œåç«¯ server ä¿æŒçš„ keep-alive é•¿è¿æ¥ å¯¼è‡´åç«¯ server ç«¯å‡ºç°å¤§é‡ TIME_WAIT çš„æƒ…å†µ nginx æ²¡æœ‰æ‰“å¼€å’Œåç«¯çš„é•¿è¿æ¥ï¼Œå³ï¼šæ²¡æœ‰è®¾ç½® proxy_http_version 1.1; å’Œproxy_set_header Connection \"\"; ä»è€Œå¯¼è‡´åç«¯ server æ¯æ¬¡å…³é—­è¿æ¥ï¼Œé«˜å¹¶å‘ä¸‹å°±ä¼šå‡ºç° server ç«¯å‡ºç°å¤§é‡ TIME_WAIT ","date":"2018-01-13","objectID":"/2018/01/13/nginx-keep-alive/:2:4","tags":["Nginx"],"title":"Nginx æ”¯æŒ keep-alive é•¿è¿æ¥","uri":"/2018/01/13/nginx-keep-alive/"},{"categories":null,"content":" ğŸ†ğŸŒ‡ğŸ™ğŸŒ‰ğŸŒ†ğŸŒƒğŸŒŒğŸŒ ğŸŒ¸ å¤©è¡Œå¥ï¼Œå›å­ä»¥è‡ªå¼ºä¸æ¯ï¼›åœ°åŠ¿å¤ï¼Œå›å­ä»¥åšå¾·è½½ç‰©ã€‚â€”â€”ã€Šå‘¨æ˜“ã€‹ å´äº‘æ´‹ - äº‘é£ æ€ç»ªæ¥å¾—å¿«å»å¾—ä¹Ÿå¿«ï¼Œå¶å°”ä¼šåœ¨è¿™é‡Œåœç•™ã€‚ é™ˆçš“ - å·¦è€³æœµè€—å­ äº«å—ç¼–ç¨‹å’ŒæŠ€æœ¯æ‰€å¸¦æ¥çš„å¿«ä¹ã€‚ æƒ æ–°å®¸ - é¸Ÿå“¥ å·¦æ‰‹ä»£ç å³æ‰‹è¯—ã€‚ ç‹å  - å ç¥ å½“ç„¶æˆ‘åœ¨æ‰¯æ·¡ã€‚ ç‹æ¸Šå‘½ - jolestar æŠ€æœ¯ä¸Šå€¾å‘äºå¼€æºè¿åŠ¨ï¼Œæ”¿æ²»ä¸Šå€¾å‘äºè‡ªç”±ä¸»ä¹‰ã€‚ è®¸å¼ä¼Ÿ è¿æ¥æ•°æ®ï¼Œé‡å¡‘ä»·å€¼ã€‚ Russ Cox What's grey? A melted penguin. é™¶å»ºè¾‰ - Jeff Tao TDengine - å¼€æºã€é«˜æ•ˆçš„ç‰©è”ç½‘å¤§æ•°æ®å¹³å°ã€‚ ç« äº¦æ˜¥ - agentzh The Creator of OpenRestyã€‚ Lawrence Jones Working on building reliable infrastructure and tooling for GoCardless. Jake Wharton Stop stopping. Steve Francia Entrepreneurial, creative \u0026 empathetic leader with a healthy disregard for the impossible é¸Ÿçª å¤§é“è‡³ç®€ Simplicity is the ultimate form of sophistication ğŸ—¾ğŸ‘ğŸğŸŒ…ğŸŒ„ğŸŒ ğŸ‡ ğŸŒº ä¸ç™»é«˜å±±ï¼Œä¸çŸ¥å¤©ä¹‹é«˜ä¹Ÿï¼›ä¸ä¸´æ·±æºªï¼Œä¸çŸ¥åœ°ä¹‹åšä¹Ÿã€‚â€”â€”ã€Šè€å­ã€‹ å°¤é›¨æºª ä¸€ä¸ªå‰ç«¯ï¼Œå†™äº†ä¸€ä¸ªå« Vue çš„æ¡†æ¶ã€‚ ç‰ä¼¯ å› ä¸ŠåŠªåŠ›ï¼Œæœä¸Šéšç¼˜ã€‚ å¼ é‘«æ—­ é‘«ç©ºé—´ï¼Œé‘«ç”Ÿæ´»ã€‚ å¤§æ¼  CSS3ã€CSS å¤„ç†å™¨å’Œ Drupal ä¸­å›½å¸ƒé“è€…ã€‚ å¸å¾’æ­£ç¾ - RubyLouvre ç©¿æ¢­äºäºŒè¿›åˆ¶ä¸äºŒæ¬¡å…ƒçš„ JS é­”æœ¯å¸ˆã€‚ æœ´çµ - JacksonTian Node.js \u0026 JavaScript ç¨‹åŠ­é - Winter çŸ¥ä¹åƒæ£è¯ä¸¸ å´äº® - æœˆå½± åå¹´è¸ªè¿¹ è´ºå¸ˆä¿Š Webå¼€å‘è€… æ—å»ºé”‹ - Sofish i create things ğŸš€ğŸŒ¸ğŸŒºğŸŒ¼ğŸ’ğŸŒ·ğŸŒ¹ğŸŒˆ ğŸŒ¼ è€å½“ç›Šå£®ï¼Œå®ç§»ç™½é¦–ä¹‹å¿ƒï¼Ÿç©·ä¸”ç›Šåšï¼Œä¸å é’äº‘ä¹‹å¿—ã€‚â€”â€”ã€Šæ»•ç‹é˜åºã€‹ å®‹åŠ› - imind-lab ä»è€…è§ä»ã€æ™ºè€…è§æ™ºã€‚ åˆ˜ä¸‰å„¿ å¤©é“é…¬å‹¤ï¼Œè‡ªå¼ºä¸æ¯ã€‚ jinghongdaxiong æˆ‘æƒ³é™é™ã€‚ å·¨äºŒå¤§è±† æ²¡æœ‰å¤ªå¤šçš„ç†ç”±ï¼Œåªæ˜¯åœ¨æ¢¦æƒ³çš„è·¯ä¸Šå‹‡æ•¢å‰è¡Œã€‚ John Doe Good, better, best. Never let it rest. Rwkey åŒ—æ¼‚ç å†œ ","date":"2018-01-11","objectID":"/links/:0:0","tags":null,"title":"å‹é“¾","uri":"/links/"},{"categories":null,"content":" å£°æ˜ ğŸ”¥ æœ¬ç«™æ‰€æœ‰æ–‡ç« å‡ä¸ºæœ¬äººå­¦ä¹ å®è·µåçš„åŠ å·¥æ•´ç†ï¼Œä»…ä»£è¡¨ä¸ªäººçœ‹æ³•å’Œè§‚ç‚¹ï¼Œä¸å…¶ä»–ä»»ä½•äººæˆ–ç»„ç»‡æ— å…³ï¼ ","date":"2018-01-11","objectID":"/about/:0:0","tags":null,"title":"å…³äº","uri":"/about/"},{"categories":null,"content":"å…³äº ä¸€ä¸ªæ‚£æœ‰é‡åº¦ä»£ç æ´ç™–ç—‡çš„ PHP å¼€å‘è€…ã€‚ æ¥è‡ª ç”˜è‚ƒï¼Œç°å±… åŒ—äº¬ã€‚ ","date":"2018-01-11","objectID":"/about/:1:0","tags":null,"title":"å…³äº","uri":"/about/"},{"categories":null,"content":"ç®€å† { name: 'imajinyun', age: 'ğŸŒˆ', gender: 'M', profession: 'Web Developer', address: 'ğŸŒ', education: 'ğŸ™', github: 'https://github.com/imajinyun', notes: 'https://imajinyun.xyz/', email: 'imajinyun@gmail.com', company: 'Working at Chope in China', description: 'ğŸš€ğŸ‰ğŸ§¨', skills: { language: ['HTML+CSS', 'JavaScript \u0026 Vue', 'PHP', 'Python', 'Go'], kitchain: { os: ['macOS', 'Linux -\u003e Ubuntu \u0026 CentOS', 'Windows'], vcs: ['GitLab', 'GitHub', 'Gitee', 'SVN'], store: ['MySQL', 'SQLite', 'Redis', 'MongoDB \u0026 DynamoDB'], server: ['Apache', 'Nginx'], platform: ['Docker', 'VirtualBox'], cloudservice: ['Aliyun', 'AWS', 'Qiniu'], cooperation: ['Jira', 'Confluence', 'Google Docs', 'Shimo'], communication: ['Slack', 'Discord'], }, devtools: ['Visual Studio Code', 'PhpStorm', 'Vim'], } } ","date":"2018-01-11","objectID":"/about/:2:0","tags":null,"title":"å…³äº","uri":"/about/"}]