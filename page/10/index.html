<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.0"><link rel="apple-touch-icon" sizes="180x180" href="https://inotes.oss-cn-beijing.aliyuncs.com/common/201812/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="https://inotes.oss-cn-beijing.aliyuncs.com/common/201812/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="https://inotes.oss-cn-beijing.aliyuncs.com/common/201812/favicon-16x16-next.png"><link rel="mask-icon" href="https://inotes.oss-cn-beijing.aliyuncs.com/common/201812/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"imajinyun.xyz",root:"/",scheme:"Pisces",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"flat"},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"MY71JUZ8GH",apiKey:"06f460e5776acfe140c52e3ba3537780",indexName:"ProdNotes",hits:{per_page:10},labels:{input_placeholder:"🐶 Search for Posts",hits_empty:"🙏 未发现与<b>『${query}』</b>相关的内容",hits_stats:'🚀 <b style="color: red">${hits}</b> 条相关条目，使用了 <b style="color: red">${time}</b> ms'}},localsearch:{enable:!1,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="进一寸自有一寸的欢喜 🎉"><meta property="og:type" content="website"><meta property="og:title" content="Jinyun&#39;s Notes 🚀"><meta property="og:url" content="https://imajinyun.xyz/page/10/index.html"><meta property="og:site_name" content="Jinyun&#39;s Notes 🚀"><meta property="og:description" content="进一寸自有一寸的欢喜 🎉"><meta property="og:locale" content="zh_CN"><meta property="article:author" content="Jinyun"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://imajinyun.xyz/page/10/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!0,isPost:!1,lang:"zh-CN"}</script><title>Jinyun's Notes 🚀</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?80ab72b54c102cbfec5064e3feaea6c8";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">Jinyun's Notes 🚀</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">没什么天赋，爱好也不多，但愿坚持做些喜欢的事情</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-paper-plane"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th-list"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive"></i>归档</a></li><li class="menu-item menu-item-links"><a href="/links/" rel="section"><i class="fa fa-link"></i>友链</a></li><li class="menu-item menu-item-speech"><a href="/speech/" rel="section"><i class="fa fa-microphone"></i>&nbsp;演说</a></li><li class="menu-item menu-item-tools"><a href="/tools/" rel="section"><i class="fa fa-tools"></i>导航</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div class="algolia-results"><div id="algolia-stats"></div><div id="algolia-hits"></div><div id="algolia-pagination" class="algolia-pagination"></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><a href="https://github.com/imajinyun" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content index posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://imajinyun.xyz/2018/05/04/php-merge-sort/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://inotes.oss-cn-beijing.aliyuncs.com/common/201812/avatar.jpg"><meta itemprop="name" content="笔者偶像"><meta itemprop="description" content="进一寸自有一寸的欢喜 🎉"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jinyun's Notes 🚀"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2018/05/04/php-merge-sort/" class="post-title-link" itemprop="url">PHP 归并排序</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2018-05-04 19:46:56" itemprop="dateCreated datePublished" datetime="2018-05-04T19:46:56+08:00">2018-05-04</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-07-01 10:37:02" itemprop="dateModified" datetime="2021-07-01T10:37:02+08:00">2021-07-01</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/php/" itemprop="url" rel="index"><span itemprop="name">php</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><p>归并排序利用归并（合并）的思想实现的排序方法。它的原理是假设初始序列含有 <code>n</code> 个元素，则可以看成是 <code>n</code> 个有序的子序列，每个子序列的长度为 <code>1</code>，然后两两归并，得到 <code>n / 2</code> 个长度为 <code>2</code> 或 <code>1</code> 的有序序列；再两两归并，……，如此重复，直至得到一个长度为 <code>n</code> 的有序序列为止，这种排序方法就成为两路归并排序。</p><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>归并排序是建立在归并操作上的一种有效的排序算法。该算法是采用分治法（Divide and Conquer）的一个非常典型的应用，且各层分治递归可以同时进行。在归并操作中将两个已经排序的序列合并成一个序列的操作。归并排序算法依赖归并操作。</p><h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><h3 id="方案一"><a href="#方案一" class="headerlink" title="方案一"></a>方案一</h3><p>递归法 - <code>Top-down</code>：</p><ol><li>申请空间，使其大小为两个已经排序序列之和，该空间用来存放合并后的序列</li><li>设定两个指针，最初位置分别为两个已经排序序列的起始位置</li><li>比较两个指针所指向的元素，选择相对小的元素放入到合并空间，并移动指针到下一位置</li><li>重复步骤 <code>3</code> 直到某一指针到达序列尾</li><li>将另一序列剩下的所有元素直接复制到合并序列尾</li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MergeSort</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 主运行方法。</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params"></span>): <span class="title">void</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$random</span> = <span class="built_in">self</span>::random();</span><br><span class="line">        <span class="variable">$array</span> = <span class="built_in">self</span>::sort(<span class="variable">$random</span>, <span class="number">0</span>, count(<span class="variable">$random</span>) - <span class="number">1</span>);</span><br><span class="line">        print_r(<span class="variable">$array</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 归并排序。</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> array $array</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int   $left</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int   $right</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">sort</span>(<span class="params"><span class="keyword">array</span> &amp;<span class="variable">$array</span>, <span class="keyword">int</span> <span class="variable">$left</span>, <span class="keyword">int</span> <span class="variable">$right</span></span>): <span class="title">array</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$left</span> &lt; <span class="variable">$right</span>) &#123;</span><br><span class="line">            <span class="variable">$middle</span> = (<span class="keyword">int</span>)floor(<span class="variable">$left</span> + <span class="variable">$right</span>) / <span class="number">2</span>;</span><br><span class="line">            <span class="built_in">self</span>::sort(<span class="variable">$array</span>, <span class="variable">$left</span>, <span class="variable">$middle</span>);</span><br><span class="line">            <span class="built_in">self</span>::sort(<span class="variable">$array</span>, <span class="variable">$middle</span> + <span class="number">1</span>, <span class="variable">$right</span>);</span><br><span class="line">            <span class="built_in">self</span>::merge(<span class="variable">$array</span>, <span class="variable">$left</span>, <span class="variable">$middle</span>, <span class="variable">$right</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$array</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 合并数组。</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> array $array</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int   $left</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int   $middle</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int   $right</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">merge</span>(<span class="params"><span class="keyword">array</span> &amp;<span class="variable">$array</span>, <span class="keyword">int</span> <span class="variable">$left</span>, <span class="keyword">int</span> <span class="variable">$middle</span>, <span class="keyword">int</span> <span class="variable">$right</span></span>): <span class="title">void</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$i</span> = <span class="variable">$left</span>;</span><br><span class="line">        <span class="variable">$j</span> = <span class="variable">$middle</span> + <span class="number">1</span>;</span><br><span class="line">        <span class="variable">$k</span> = <span class="variable">$left</span>;</span><br><span class="line">        <span class="variable">$tmp</span> = [];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="variable">$i</span> &lt;= <span class="variable">$middle</span> &amp;&amp; <span class="variable">$j</span> &lt;= <span class="variable">$right</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">self</span>::compare(<span class="variable">$array</span>[<span class="variable">$i</span>], <span class="variable">$array</span>[<span class="variable">$j</span>]) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="variable">$tmp</span>[<span class="variable">$k</span>++] = <span class="variable">$array</span>[<span class="variable">$j</span>++];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable">$tmp</span>[<span class="variable">$k</span>++] = <span class="variable">$array</span>[<span class="variable">$i</span>++];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="variable">$i</span> &lt;= <span class="variable">$middle</span>) &#123;</span><br><span class="line">            <span class="variable">$tmp</span>[<span class="variable">$k</span>++] = <span class="variable">$array</span>[<span class="variable">$i</span>++];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="variable">$j</span> &lt;= <span class="variable">$right</span>) &#123;</span><br><span class="line">            <span class="variable">$tmp</span>[<span class="variable">$k</span>++] = <span class="variable">$array</span>[<span class="variable">$j</span>++];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="variable">$k</span> = <span class="variable">$left</span>; <span class="variable">$k</span> &lt;= <span class="variable">$right</span>; <span class="variable">$k</span>++) &#123;</span><br><span class="line">            <span class="variable">$array</span>[<span class="variable">$k</span>] = <span class="variable">$tmp</span>[<span class="variable">$k</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 比较大小。</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int $x</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int $y</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> int</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">compare</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$x</span>, <span class="keyword">int</span> <span class="variable">$y</span></span>): <span class="title">int</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$x</span> &lt;=&gt; <span class="variable">$y</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 互换位置。</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int $x</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int $y</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">swap</span>(<span class="params"><span class="keyword">int</span> &amp;<span class="variable">$x</span>, <span class="keyword">int</span> &amp;<span class="variable">$y</span></span>): <span class="title">void</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$x</span> !== <span class="variable">$y</span>) &#123;</span><br><span class="line">            <span class="variable">$t</span> = <span class="variable">$x</span>;</span><br><span class="line">            <span class="variable">$x</span> = <span class="variable">$y</span>;</span><br><span class="line">            <span class="variable">$y</span> = <span class="variable">$t</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生成随机数组。</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int $low</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int $high</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int $num</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">random</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$low</span> = <span class="number">1</span>, <span class="keyword">int</span> <span class="variable">$high</span> = <span class="number">9999</span>, <span class="keyword">int</span> <span class="variable">$num</span> = <span class="number">10</span></span>): <span class="title">array</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$num</span> = <span class="variable">$num</span> &gt; <span class="variable">$high</span> ? <span class="variable">$high</span> : <span class="variable">$num</span>;</span><br><span class="line">        <span class="variable">$range</span> = range(<span class="variable">$low</span>, <span class="variable">$high</span>);</span><br><span class="line">        <span class="variable">$array</span> = array_rand(array_flip(<span class="variable">$range</span>), <span class="variable">$num</span>);</span><br><span class="line">        shuffle(<span class="variable">$array</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$array</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MergeSort::main();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 结果</span></span><br><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [<span class="number">0</span>] =&gt; <span class="number">1167</span></span><br><span class="line">    [<span class="number">1</span>] =&gt; <span class="number">2750</span></span><br><span class="line">    [<span class="number">2</span>] =&gt; <span class="number">3331</span></span><br><span class="line">    [<span class="number">3</span>] =&gt; <span class="number">4187</span></span><br><span class="line">    [<span class="number">4</span>] =&gt; <span class="number">4526</span></span><br><span class="line">    [<span class="number">5</span>] =&gt; <span class="number">5246</span></span><br><span class="line">    [<span class="number">6</span>] =&gt; <span class="number">5325</span></span><br><span class="line">    [<span class="number">7</span>] =&gt; <span class="number">6238</span></span><br><span class="line">    [<span class="number">8</span>] =&gt; <span class="number">7737</span></span><br><span class="line">    [<span class="number">9</span>] =&gt; <span class="number">9883</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>由于 <code>PHP</code> 具备数组分割和数组合并这样的函数，所以以上的实现可以更加简单</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MergeSort</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 主运行方法。</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params"></span>): <span class="title">void</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$random</span> = <span class="built_in">self</span>::random();</span><br><span class="line">        <span class="variable">$array</span> = <span class="built_in">self</span>::sort(<span class="variable">$random</span>);</span><br><span class="line">        print_r(<span class="variable">$array</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 归并排序。</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> array $array</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">sort</span>(<span class="params"><span class="keyword">array</span> &amp;<span class="variable">$array</span></span>): <span class="title">array</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$count</span> = count(<span class="variable">$array</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$count</span> &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable">$array</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 向上取整。</span></span><br><span class="line">        <span class="variable">$middle</span> = (<span class="variable">$count</span> &gt;&gt; <span class="number">1</span>) + (<span class="variable">$count</span> &amp; <span class="number">1</span>);</span><br><span class="line">        <span class="variable">$chunk</span> = array_chunk(<span class="variable">$array</span>, <span class="variable">$middle</span>);</span><br><span class="line"></span><br><span class="line">        <span class="variable">$left</span> = <span class="built_in">self</span>::sort(<span class="variable">$chunk</span>[<span class="number">0</span>]);</span><br><span class="line">        <span class="variable">$right</span> = <span class="built_in">self</span>::sort(<span class="variable">$chunk</span>[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">        <span class="variable">$arr</span> = [];</span><br><span class="line">        <span class="keyword">while</span> (count(<span class="variable">$left</span>) &amp;&amp; count(<span class="variable">$right</span>)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">self</span>::compare(<span class="variable">$left</span>[<span class="number">0</span>], <span class="variable">$right</span>[<span class="number">0</span>]) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="variable">$arr</span>[] = array_shift(<span class="variable">$right</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable">$arr</span>[] = array_shift(<span class="variable">$left</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> array_merge(<span class="variable">$arr</span>, <span class="variable">$left</span>, <span class="variable">$right</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 比较大小。</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int $x</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int $y</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> int</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">compare</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$x</span>, <span class="keyword">int</span> <span class="variable">$y</span></span>): <span class="title">int</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$x</span> &lt;=&gt; <span class="variable">$y</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 互换位置。</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int $x</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int $y</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">swap</span>(<span class="params"><span class="keyword">int</span> &amp;<span class="variable">$x</span>, <span class="keyword">int</span> &amp;<span class="variable">$y</span></span>): <span class="title">void</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$x</span> !== <span class="variable">$y</span>) &#123;</span><br><span class="line">            <span class="variable">$t</span> = <span class="variable">$x</span>;</span><br><span class="line">            <span class="variable">$x</span> = <span class="variable">$y</span>;</span><br><span class="line">            <span class="variable">$y</span> = <span class="variable">$t</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生成随机数组。</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int $low</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int $high</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int $num</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">random</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$low</span> = <span class="number">1</span>, <span class="keyword">int</span> <span class="variable">$high</span> = <span class="number">9999</span>, <span class="keyword">int</span> <span class="variable">$num</span> = <span class="number">10</span></span>): <span class="title">array</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$num</span> = <span class="variable">$num</span> &gt; <span class="variable">$high</span> ? <span class="variable">$high</span> : <span class="variable">$num</span>;</span><br><span class="line">        <span class="variable">$range</span> = range(<span class="variable">$low</span>, <span class="variable">$high</span>);</span><br><span class="line">        <span class="variable">$array</span> = array_rand(array_flip(<span class="variable">$range</span>), <span class="variable">$num</span>);</span><br><span class="line">        shuffle(<span class="variable">$array</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$array</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MergeSort::main();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 结果</span></span><br><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [<span class="number">0</span>] =&gt; <span class="number">1281</span></span><br><span class="line">    [<span class="number">1</span>] =&gt; <span class="number">1337</span></span><br><span class="line">    [<span class="number">2</span>] =&gt; <span class="number">3213</span></span><br><span class="line">    [<span class="number">3</span>] =&gt; <span class="number">4078</span></span><br><span class="line">    [<span class="number">4</span>] =&gt; <span class="number">5350</span></span><br><span class="line">    [<span class="number">5</span>] =&gt; <span class="number">5857</span></span><br><span class="line">    [<span class="number">6</span>] =&gt; <span class="number">5889</span></span><br><span class="line">    [<span class="number">7</span>] =&gt; <span class="number">8088</span></span><br><span class="line">    [<span class="number">8</span>] =&gt; <span class="number">8190</span></span><br><span class="line">    [<span class="number">9</span>] =&gt; <span class="number">8440</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="方案二"><a href="#方案二" class="headerlink" title="方案二"></a>方案二</h3><p>迭代法 - <code>Bottom-up</code>：</p><ol><li>将序列每相邻两个数字进行归并操作，形成 <code>ceil(n/2)</code> 个序列，排序后每个序列包含两/一个元素</li><li>若此时序列数不是 <code>1</code> 个则将上述序列再次归并，形成 <code>ceil(n/4)</code> 个序列，每个序列包含四/三个元素</li><li>重复步骤 <code>2</code>，直到所有元素排序完毕，即序列数为 <code>1</code></li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 以后完善……</span></span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://imajinyun.xyz/2018/05/02/php-range-overlap/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://inotes.oss-cn-beijing.aliyuncs.com/common/201812/avatar.jpg"><meta itemprop="name" content="笔者偶像"><meta itemprop="description" content="进一寸自有一寸的欢喜 🎉"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jinyun's Notes 🚀"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2018/05/02/php-range-overlap/" class="post-title-link" itemprop="url">PHP 范围中的重叠关系</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2018-05-02 22:20:29" itemprop="dateCreated datePublished" datetime="2018-05-02T22:20:29+08:00">2018-05-02</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-07-01 10:37:02" itemprop="dateModified" datetime="2021-07-01T10:37:02+08:00">2021-07-01</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/php/" itemprop="url" rel="index"><span itemprop="name">php</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><p>这篇算是最近写了一堆 <code>bug</code> 后的反省吧，日常开发中，我们总是要处理各种边界问题，尤为常见的就是给定一组范围，判断给定的范围是否在目标范围之内或者之外或者重叠之类的。这一类的判断情况稍不注意就容易滋生 <code>bug</code>，既然我已经中枪了，那么我就来说说这个情况如何处理。</p><div class="post-button"><a class="btn" href="/2018/05/02/php-range-overlap/#more" rel="contents">🔥 阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://imajinyun.xyz/2018/05/01/git-workflow/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://inotes.oss-cn-beijing.aliyuncs.com/common/201812/avatar.jpg"><meta itemprop="name" content="笔者偶像"><meta itemprop="description" content="进一寸自有一寸的欢喜 🎉"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jinyun's Notes 🚀"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2018/05/01/git-workflow/" class="post-title-link" itemprop="url">Git Workflow</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2018-05-01 21:16:45" itemprop="dateCreated datePublished" datetime="2018-05-01T21:16:45+08:00">2018-05-01</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-09-25 15:43:00" itemprop="dateModified" datetime="2021-09-25T15:43:00+08:00">2021-09-25</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/git/" itemprop="url" rel="index"><span itemprop="name">git</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><p>🎢 工作流 - <code>Workflow</code>：是对工作流程及其各操作步骤之间业务规则的抽象、概括描述。工作流建模，即将工作流程中的工作如何前后组织在一起的逻辑和规则，在计算机中以恰当的模型表达并对其实施计算。工作流要解决的主要问题是：为实现某个业务目标，利用计算机在多个参与者之间按某种预定规则自动传递文档、信息或者任务。</p><div class="post-button"><a class="btn" href="/2018/05/01/git-workflow/#more" rel="contents">🔥 阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://imajinyun.xyz/2018/04/27/php-shallow-and-deep-clone/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://inotes.oss-cn-beijing.aliyuncs.com/common/201812/avatar.jpg"><meta itemprop="name" content="笔者偶像"><meta itemprop="description" content="进一寸自有一寸的欢喜 🎉"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jinyun's Notes 🚀"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2018/04/27/php-shallow-and-deep-clone/" class="post-title-link" itemprop="url">PHP 中的浅克隆和深克隆</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2018-04-27 16:17:07" itemprop="dateCreated datePublished" datetime="2018-04-27T16:17:07+08:00">2018-04-27</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-07-01 10:37:02" itemprop="dateModified" datetime="2021-07-01T10:37:02+08:00">2021-07-01</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/php/" itemprop="url" rel="index"><span itemprop="name">php</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><p>变量有值传递和引用传递，其实，对象也如此，所以，对象有浅克隆和深克隆这么一说。浅克隆也叫浅复制或浅拷贝，深克隆也叫深复制或深拷贝。唉，名称复名称，名称何其多？</p><div class="post-button"><a class="btn" href="/2018/04/27/php-shallow-and-deep-clone/#more" rel="contents">🔥 阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://imajinyun.xyz/2018/04/22/basic-restful-api/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://inotes.oss-cn-beijing.aliyuncs.com/common/201812/avatar.jpg"><meta itemprop="name" content="笔者偶像"><meta itemprop="description" content="进一寸自有一寸的欢喜 🎉"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jinyun's Notes 🚀"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2018/04/22/basic-restful-api/" class="post-title-link" itemprop="url">浅谈 RESTful API</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2018-04-22 12:37:24" itemprop="dateCreated datePublished" datetime="2018-04-22T12:37:24+08:00">2018-04-22</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-07-02 14:25:17" itemprop="dateModified" datetime="2021-07-02T14:25:17+08:00">2021-07-02</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/basic/" itemprop="url" rel="index"><span itemprop="name">basic</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="什么是-RESTful"><a href="#什么是-RESTful" class="headerlink" title="什么是 RESTful"></a>什么是 RESTful</h1><blockquote><ul><li><a target="_blank" rel="noopener" href="https://github.com/aisuhua/restful-api-design-references">RESTful API 设计参考文献列表</a></li><li><a target="_blank" rel="noopener" href="http://www.restapitutorial.com/lessons/whatisrest.html">What Is REST?</a></li></ul></blockquote><p><code>RESTful</code> 是一种软件设计风格，由 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Roy_Fielding">Roy Thomas Fielding</a> 在他 <code>2000</code> 年的<a target="_blank" rel="noopener" href="http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm">论文</a>中提出，<code>Fielding</code> 将他对互联网软件的架构原则，定名为 <code>REST</code>，即 <code>Representational State Transfer</code> 的缩写，译为表现层状态转化，也可理解为用 <code>URL</code> 定位资源，用 <code>HTTP</code> 方法描述操作。</p><p><code>REST</code> 的核心是可编辑的资源及其集合，用符合 <code>Atom</code> 文档标准的 <code>Feed</code> 和 <code>Entry</code> 表示。每个资源或者集合有一个惟一的 <code>URI</code>。系统以资源为中心，构建并提供一系列的 <code>Web</code> 服务。<code>REST</code> 的基本概念和原则包括：系统上的所有事物都被抽象为资源；每个资源对应唯一的资源标识；对资源的操作不会改变资源标识本身；所有的操作都是无状态的；等等。</p><h1 id="为何要用-RESTful"><a href="#为何要用-RESTful" class="headerlink" title="为何要用 RESTful"></a>为何要用 RESTful</h1><p>按照 <code>RESTful</code> 架构可以充分的利用 <code>HTTP</code> 协议带给我们的各种功能，算是对 <code>HTTP</code> 协议使用的最佳实践，还有一点就是可以使软件架构设计更加清晰，可维护性更好</p><h1 id="如何做-RESTful"><a href="#如何做-RESTful" class="headerlink" title="如何做 RESTful"></a>如何做 RESTful</h1><h2 id="RESTful-架构"><a href="#RESTful-架构" class="headerlink" title="RESTful 架构"></a>RESTful 架构</h2><p>如果一个架构符合 <code>REST</code> 原则，就称它为 <code>RESTful</code> 架构</p><p>从以下三个方面理解 <code>RESTful</code> 架构：</p><ul><li>资源 - <code>Resources</code>：所谓资源，就是网络上的一个实体，或者说是网络上的一个具体信息</li><li>表现层 - <code>Representation</code>：资源是一种信息实体，它可以有多种外在表现形式。我们把『资源』具体呈现出来的形式，叫做它的『表现层』</li><li>状态转化 - <code>State Transfer</code>：互联网通信协议 <code>HTTP协议</code>，是一个无状态协议。这意味着，所有的状态都保存在服务器端。因此，如果客户端想要操作服务器，必须通过某种手段，让服务器端发生『状态转化 - <code>State Transfer</code>』。而这种转化是建立在表现层之上的，所以就是『表现层状态转化』</li></ul><p>也主就是说，遵循 <code>REST</code> 原则，设计出来的一个架构就称为 <code>RESTful</code> 架构，比如：<code>GitHub API</code> 就是一个典型的 <code>RESTful</code> 架构</p><h2 id="RESTful-API-设计"><a href="#RESTful-API-设计" class="headerlink" title="RESTful API 设计"></a>RESTful API 设计</h2><h3 id="使用-URL-定位资源"><a href="#使用-URL-定位资源" class="headerlink" title="使用 URL 定位资源"></a>使用 URL 定位资源</h3><blockquote><p><a target="_blank" rel="noopener" href="https://developer.github.com/v3/">GitHub REST API v3</a></p></blockquote><p>很大程度上，定义的 <code>API</code> 地址要对程序员友好，并且能在浏览器地址栏容易输入。是的，这两个指标也能检验出那些合格的 <code>API</code> 设计者，我就是这样认为的</p><ul><li>应该将 <code>API</code> 部署在专用域名之下，比如：<code>api.example.com</code></li><li>不用大写</li><li>用中杠 <code>-</code> 而不是 <code>_</code></li><li>参数列表要 <code>encode</code></li><li><code>URI</code> 中尽量使用名词而不是动词</li><li><code>URI</code> 中的名词表示资源集合，使用复数形式</li><li>虽然 <code>/</code> 在 <code>URI</code> 中表达层级，但是避免为了追求 <code>REST</code> 导致层级过深，适当使用参数表示，比如：<code>GET /animals?zoo=1&amp;area=3&amp;page=1</code></li></ul><h3 id="版本控制"><a href="#版本控制" class="headerlink" title="版本控制"></a>版本控制</h3><ul><li>将版本号直接加入 <code>URL</code> 中</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://api.example.com/v1</span><br><span class="line">https://api.example.com/v2</span><br></pre></td></tr></table></figure><ul><li>使用 <code>HTTP</code> 请求头的 <code>Accept</code> 字段进行区分</li></ul><p>在这种方式中，客户端在 <code>Accept Header</code> 中存放 <code>Accept: application/vnd.example.v1+json</code>，服务器自定义 <code>Header</code> 返回当前版本信息 <code>X-Example-Media-Type: example.v3; format=json</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://api.example.com/</span><br><span class="line">    Accept: application/vnd.example.v1+json</span><br><span class="line">    Accept: application/vnd.example.v2+json</span><br></pre></td></tr></table></figure><p>请求 <code>GitHub</code> 查看头中自定义的 <code>X-GitHub-Media-Type</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">$ curl -i https://api.github.com/users/octocat/orgs</span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Date: Sun, 22 Apr 2018 03:43:57 GMT</span><br><span class="line">Content-Type: application/json; charset=utf-8</span><br><span class="line">Content-Length: 5</span><br><span class="line">Server: GitHub.com</span><br><span class="line">Status: 200 OK</span><br><span class="line">X-RateLimit-Limit: 60 <span class="comment"># 最大访问次数</span></span><br><span class="line">X-RateLimit-Remaining: 50 <span class="comment"># 剩余的访问次数</span></span><br><span class="line">X-RateLimit-Reset: 1524369179 <span class="comment"># 到该时间点，访问次数会重置为 X-RateLimit-Limit</span></span><br><span class="line">Cache-Control: public, max-age=60, s-maxage=60</span><br><span class="line">Vary: Accept</span><br><span class="line">ETag: <span class="string">&quot;98f0c1b396a4e5d54f4d5fe561d54b44&quot;</span></span><br><span class="line">X-GitHub-Media-Type: github.v3; format=json <span class="comment"># GitHub 服务端自定义 Header 返回当前版本信息</span></span><br><span class="line">Access-Control-Expose-Headers: ETag, Link, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval</span><br><span class="line">Access-Control-Allow-Origin: *</span><br><span class="line">Strict-Transport-Security: max-age=31536000; includeSubdomains; preload</span><br><span class="line">X-Frame-Options: deny</span><br><span class="line">X-Content-Type-Options: nosniff</span><br><span class="line">X-XSS-Protection: 1; mode=block</span><br><span class="line">Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin</span><br><span class="line">Content-Security-Policy: default-src <span class="string">&#x27;none&#x27;</span></span><br><span class="line">X-Runtime-rack: 0.010912</span><br><span class="line">Vary: Accept-Encoding</span><br><span class="line">X-GitHub-Request-Id: E5BC:17C8:C2B264:1064F09:5ADC04FD</span><br><span class="line"></span><br><span class="line">[</span><br><span class="line"></span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>请求 <code>GitHub</code> 接口超过限制次数后的响应</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">// 当请求到第 61 次时的响应结果</span><br><span class="line">$ <span class="keyword">for</span> (( i=0; i&lt;61; i=i+1 )); <span class="keyword">do</span> curl -i https://api.github.com/users/octocat/orgs; <span class="keyword">done</span></span><br><span class="line">HTTP/1.1 403 Forbidden <span class="comment"># 服务器拒绝了</span></span><br><span class="line">Date: Sun, 22 Apr 2018 04:04:15 GMT</span><br><span class="line">Content-Type: application/json; charset=utf-8</span><br><span class="line">Content-Length: 258</span><br><span class="line">Server: GitHub.com</span><br><span class="line">Status: 403 Forbidden <span class="comment"># 返回的状态码</span></span><br><span class="line">X-RateLimit-Limit: 60</span><br><span class="line">X-RateLimit-Remaining: 0 <span class="comment"># 剩余次数为 0 了</span></span><br><span class="line">X-RateLimit-Reset: 1524372880</span><br><span class="line">X-GitHub-Media-Type: github.v3; format=json</span><br><span class="line">Access-Control-Expose-Headers: ETag, Link, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval</span><br><span class="line">Access-Control-Allow-Origin: *</span><br><span class="line">Strict-Transport-Security: max-age=31536000; includeSubdomains; preload</span><br><span class="line">X-Frame-Options: deny</span><br><span class="line">X-Content-Type-Options: nosniff</span><br><span class="line">X-XSS-Protection: 1; mode=block</span><br><span class="line">Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin</span><br><span class="line">Content-Security-Policy: default-src <span class="string">&#x27;none&#x27;</span></span><br><span class="line">X-Runtime-rack: 0.012239</span><br><span class="line">X-GitHub-Request-Id: E756:2E0E:75FBFF:A0DA73:5ADC09BF</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;message&quot;</span>: <span class="string">&quot;API rate limit exceeded for 221.223.47.129. (But here&#x27;s the good news: Authenticated requests get a higher rate limit. Check out the documentation for more details.)&quot;</span>,</span><br><span class="line">  <span class="string">&quot;documentation_url&quot;</span>: <span class="string">&quot;https://developer.github.com/v3/#rate-limiting&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>自定义 <code>Header</code> 头</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X-Api-Version: 1</span><br></pre></td></tr></table></figure><h3 id="使用-HTTP-方法"><a href="#使用-HTTP-方法" class="headerlink" title="使用 HTTP 方法"></a>使用 HTTP 方法</h3><div class="note info"><ul><li>安全性：不会改变资源状态，可以理解为只读的</li><li>幂等性：执行 <code>1</code> 次和执行 <code>N</code> 次，对资源状态改变的效果是等价的，也就是说无论你执行多少次重复的操作都不会给资源造成变更</li></ul></div><table><thead><tr><th>方法</th><th>描述</th><th>是否安全</th><th>是否幂等</th></tr></thead><tbody><tr><td><code>GET</code></td><td>获取资源，单个或多个</td><td>是</td><td>是</td></tr><tr><td><code>POST</code></td><td>创建资源</td><td>否</td><td>否</td></tr><tr><td><code>PUT</code></td><td>更新资源，客户端提供完整的资源数据</td><td>否</td><td>是</td></tr><tr><td><code>PATCH</code></td><td>更新资源，客户端提供部分的资源数据</td><td>否</td><td>否</td></tr><tr><td><code>DELETE</code></td><td>删除资源</td><td>否</td><td>是</td></tr></tbody></table><h3 id="使用-HTTP-响应代码"><a href="#使用-HTTP-响应代码" class="headerlink" title="使用 HTTP 响应代码"></a>使用 HTTP 响应代码</h3><h4 id="请求成功"><a href="#请求成功" class="headerlink" title="请求成功"></a>请求成功</h4><table><thead><tr><th>状态码</th><th>描述</th></tr></thead><tbody><tr><td><code>200 OK</code></td><td>已创建，请求成功且服务器已创建了新的资源，也可以被用在不创建新资源的 <code>POST</code> 操作上</td></tr><tr><td><code>201 Created</code></td><td>对象创建成功并返回相应资源数据，如：<code>POST</code> 成功；创建完成后响应头中应该携带头标 <code>Location</code>，指向新建资源的地址</td></tr><tr><td><code>202 Accepted</code></td><td>服务器接受了请求，但是还未处理，响应中应该包含相应的指示信息，告诉客户端该去哪里查询关于本次请求的信息</td></tr><tr><td><code>204 No Content</code></td><td>请求执行成功，不返回相应资源数据，如：<code>PATCH</code>、<code>DELETE</code> 成功</td></tr></tbody></table><h4 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h4><table><thead><tr><th>状态码</th><th>说明</th></tr></thead><tbody><tr><td><code>301 Moved Permanently</code></td><td>被请求的资源已永久移动到新位置</td></tr><tr><td><code>302 Found</code></td><td>请求的资源现在临时从不同的 <code>URI</code> 响应请求</td></tr><tr><td><code>303 See Other</code></td><td>对应当前请求的响应可以在另一个 <code>URI</code> 上被找到，客户端应该使用 <code>GET</code> 方法进行请求。比如在创建已经被创建的资源时，可以返回 <code>303</code></td></tr><tr><td><code>307 Temporary Redirect</code></td><td>对应当前请求的响应可以在另一个 <code>URI</code> 上被找到，客户端应该保持原有的请求方法进行请求</td></tr></tbody></table><h4 id="条件请求"><a href="#条件请求" class="headerlink" title="条件请求"></a>条件请求</h4><table><thead><tr><th>状态码</th><th>说明</th></tr></thead><tbody><tr><td><code>304 Not Modified</code></td><td>资源自从上次请求后没有再次发生变化，主要使用场景在于实现数据缓存</td></tr><tr><td><code>409 Conflict</code></td><td>请求操作和资源的当前状态存在冲突。主要使用场景在于实现并发控制</td></tr><tr><td><code>412 Precondition Failed</code></td><td>服务器在验证在请求的头字段中给出先决条件时，没能满足其中的一个或多个。主要使用场景在于实现并发控制</td></tr></tbody></table><h4 id="客户端错误"><a href="#客户端错误" class="headerlink" title="客户端错误"></a>客户端错误</h4><table><thead><tr><th>状态码</th><th>说明</th></tr></thead><tbody><tr><td><code>400 Bad Request</code></td><td>求体包含语法错误</td></tr><tr><td><code>401 Unauthorized</code></td><td>未授权，请求要求进行身份验证，如果服务器就算是身份验证后也不允许客户访问资源，应该响应 <code>403 Forbidden</code>。如果请求里有 <code>Authorization</code> 头，那么必须返回一个 <a target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc7235#section-4.1"><code>WWW-Authenticate</code></a> 头</td></tr><tr><td><code>403 Forbidden</code></td><td>已禁止，服务器拒绝请求</td></tr><tr><td><code>404 Not Found</code></td><td>未找到，请求一个不存在的资源</td></tr><tr><td><code>405 Method Not Allowed</code></td><td>方法禁用，禁用请求中所指定的方法</td></tr><tr><td><code>406 Not Acceptable</code></td><td>服务器不支持客户端请求的内容格式，但响应里会包含服务端能够给出的格式的数据，并在 <code>Content-Type</code> 中声明格式名称</td></tr><tr><td><code>410 Gone</code></td><td>已删除，如果请求的资源已被永久删除，那么，服务器会返回此响应</td></tr><tr><td><code>413 Payload Too Large</code></td><td><code>POST</code> 或者 <code>PUT</code> 请求的消息实体过大</td></tr><tr><td><code>415 Unsupported Media Type</code></td><td>服务器不支持请求中提交的数据的格式</td></tr><tr><td><code>422 Unprocessable Entity</code></td><td>请求格式正确，但是由于含有语义错误，无法响应</td></tr><tr><td><code>428 Precondition Required</code></td><td>要求先决条件，如果想要请求能成功必须满足一些预设的条件</td></tr><tr><td><code>429 Too Many Requests</code></td><td>由于请求频次达到上限而被拒绝访问</td></tr></tbody></table><h4 id="服务端错误"><a href="#服务端错误" class="headerlink" title="服务端错误"></a>服务端错误</h4><table><thead><tr><th>状态码</th><th>说明</th></tr></thead><tbody><tr><td><code>500 Internal Server Error</code></td><td>服务器遇到了一个未曾预料的状况，导致了它无法完成对请求的处理</td></tr><tr><td><code>501 Not Implemented</code></td><td>服务器不支持当前请求所需要的某个功能</td></tr><tr><td><code>502 Bad Gateway</code></td><td>作为网关或者代理工作的服务器尝试执行请求时，从上游服务器接收到无效的响应</td></tr><tr><td><code>503 Service Unavailable</code></td><td>由于临时的服务器维护或者过载，服务器当前无法处理请求</td></tr></tbody></table><h3 id="响应数据格式"><a href="#响应数据格式" class="headerlink" title="响应数据格式"></a>响应数据格式</h3><blockquote><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/25636060">为什么都反对 XML 而支持使用 JSON？</a></p></blockquote><blockquote><p>当然轮子哥是这样说的『在我长时间使用 <code>XML</code> 和 <code>JSON</code> 的过程中我发现，其实他们是不可互相替代的。我们只能说如今大部分适合 <code>XML</code> 的程序要么都写完了要么都不时髦了，现在需要 <code>JSON</code> 的还没写的程序多一点』</p></blockquote><p><code>GitHub</code> 是在请求的 <code>body</code> 体中使用 <code>JSON</code> 格式来返回数据的</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ curl -i https://api.github.com -u foo:bar</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;message&quot;</span>: <span class="string">&quot;Bad credentials&quot;</span>,</span><br><span class="line">  <span class="string">&quot;documentation_url&quot;</span>: <span class="string">&quot;https://developer.github.com/v3&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编写文档"><a href="#编写文档" class="headerlink" title="编写文档"></a>编写文档</h3><p>一个好的文档也反应出接口开发者的素养（当然那些赶项目进度的除外，笔者确实也经历过这种场景，项目急吼吼的上，就感觉明天做不出来，后天公司就要倒闭的这种，不要说写文档，就自己写的代码 <code>Review</code> 一下都是浪费时间。如果条件允许，我个人还是愿意把程序和文档都写好的）。当然，通过这些，你也看到了我的素养确实也不高，找了一个赶进度的借口不写文档，你愿意这么理解我也就不说什么了</p><p>文档的一些原则</p><ul><li>每一个接口的请求参数，每个参数的类型限制，是否必填，可选的值等都进行明确</li><li>响应结果集中的每个参数都有明确的解释</li><li>对于特定场景和专门适配的接口，提供详细的说明，怎么的场景下调用之类等等</li></ul><p>显然，这么宏大的标题可不是写一篇文章就能搞定的，以上这些就是我对 <code>RESTful API</code> 的一些理解和总结，后期会补充和完善</p><p>未完待续…</p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><nav class="pagination"><a class="extend prev" rel="prev" href="/page/9/"><i class="fa fa-angle-left" aria-label="👈 上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/">21</a><a class="extend next" rel="next" href="/page/11/"><i class="fa fa-angle-right" aria-label="👉 下一页"></i></a></nav></div><script>window.addEventListener("tabs:register",()=>{let{activeClass:t}=CONFIG.comments;if(CONFIG.comments.storage&&(t=localStorage.getItem("comments_active")||t),t){let e=document.querySelector(`a[href="#comment-${t}"]`);e&&e.click()}}),CONFIG.comments.storage&&window.addEventListener("tabs:click",t=>{if(!t.target.matches(".tabs-comment .tab-content .tab-pane"))return;let e=t.target.classList[1];localStorage.setItem("comments_active",e)})</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">📚 文章目录</li><li class="sidebar-nav-overview">🌈 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="笔者偶像" src="https://inotes.oss-cn-beijing.aliyuncs.com/common/201812/avatar.jpg"><p class="site-author-name" itemprop="name">笔者偶像</p><div class="site-description" itemprop="description">进一寸自有一寸的欢喜 🎉</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">102</span> <span class="site-state-item-name">📑 日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">17</span> <span class="site-state-item-name">🗳 分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">27</span> <span class="site-state-item-name">🔖 标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/imajinyun" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;imajinyun" rel="noopener" target="_blank"><i class="fa-github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:imajinyun@gmail.com" title="E-Mail → mailto:imajinyun@gmail.com" rel="noopener" target="_blank"><i class="fa-envelope fa-fw"></i>E-Mail</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2018 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Jinyun's Notes</span></div><div class="powered-by">🙏 由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动</div></div></footer></div><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script>CONFIG.page.isPost&&(wpac_init=window.wpac_init||[],wpac_init.push({widget:"Rating",id:9009,el:"wpac-rating",color:"fc6423"}),function(){if(!("WIDGETPACK_LOADED"in window)){WIDGETPACK_LOADED=!0;var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//embed.widgetpack.com/widget.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t.nextSibling)}}())</script><script src="//cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script><script src="//cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script><script src="/js/algolia-search.js"></script></body></html>