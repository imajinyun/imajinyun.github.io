<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>æ ˆå’Œé˜Ÿåˆ— - Jinyun's Notes</title><meta name=Description content="è¿›ä¸€å¯¸æœ‰è¿›ä¸€å¯¸çš„æ¬¢å–œï¼Œé€€ä¸€æ­¥æœ‰é€€ä¸€æ­¥çš„ä»å®¹"><meta property="og:title" content="æ ˆå’Œé˜Ÿåˆ—"><meta property="og:description" content="æ ˆå’Œé˜Ÿåˆ—å¯çœ‹ä½œæ˜¯ç‰¹æ®Šçš„çº¿æ€§è¡¨ã€‚å®ƒä»¬çš„ç‰¹æ®Šæ€§è¡¨ç°åœ¨å®ƒä»¬çš„åŸºæœ¬è¿ç®—æ˜¯çº¿æ€§è¡¨è¿ç®—çš„å­é›†ï¼Œå®ƒä»¬æ˜¯è¿ç®—å—é™çš„çº¿æ€§è¡¨ã€‚"><meta property="og:type" content="article"><meta property="og:url" content="https://imajinyun.xyz/posts/ds-stack-queue/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-05-14T11:31:12+08:00"><meta property="article:modified_time" content="2022-05-14T11:31:12+08:00"><meta property="og:site_name" content="Jinyun's Notes"><meta name=twitter:card content="summary"><meta name=twitter:title content="æ ˆå’Œé˜Ÿåˆ—"><meta name=twitter:description content="æ ˆå’Œé˜Ÿåˆ—å¯çœ‹ä½œæ˜¯ç‰¹æ®Šçš„çº¿æ€§è¡¨ã€‚å®ƒä»¬çš„ç‰¹æ®Šæ€§è¡¨ç°åœ¨å®ƒä»¬çš„åŸºæœ¬è¿ç®—æ˜¯çº¿æ€§è¡¨è¿ç®—çš„å­é›†ï¼Œå®ƒä»¬æ˜¯è¿ç®—å—é™çš„çº¿æ€§è¡¨ã€‚"><meta name=application-name content="è¿›ä¸€å¯¸æœ‰è¿›ä¸€å¯¸çš„æ¬¢å–œï¼Œé€€ä¸€æ­¥æœ‰é€€ä¸€æ­¥çš„ä»å®¹"><meta name=apple-mobile-web-app-title content="è¿›ä¸€å¯¸æœ‰è¿›ä¸€å¯¸çš„æ¬¢å–œï¼Œé€€ä¸€æ­¥æœ‰é€€ä¸€æ­¥çš„ä»å®¹"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=https://inotes.oss-cn-beijing.aliyuncs.com/common/201812/logo.svg><link rel=apple-touch-icon sizes=180x180 href=https://imajinyun.xyz/apple-touch-icon.png><link rel=mask-icon href=https://imajinyun.xyz/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=https://imajinyun.xyz/site.webmanifest><link rel=canonical href=https://imajinyun.xyz/posts/ds-stack-queue/><link rel=prev href=https://imajinyun.xyz/posts/ds-linear-list/><link rel=next href=https://imajinyun.xyz/posts/go-grpc/><link rel=stylesheet href=https://imajinyun.xyz/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"æ ˆå’Œé˜Ÿåˆ—","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/imajinyun.xyz\/posts\/ds-stack-queue\/"},"genre":"posts","keywords":"Data Structure \u0026 Algorithm","wordcount":4642,"url":"https:\/\/imajinyun.xyz\/posts\/ds-stack-queue\/","datePublished":"2022-05-14T11:31:12+08:00","dateModified":"2022-05-14T11:31:12+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"ä½œè€…"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=https://imajinyun.xyz/ title="Jinyun's Notes"><span class=header-title-pre><i class='fa fa-charging-station'></i></span>Jinyun's Notes</a></div><div class=menu><div class=menu-inner><a class=menu-item href=https://imajinyun.xyz/posts/><i class='fa-solid fa-sun'></i> ç¬”è®° </a><a class=menu-item href=https://imajinyun.xyz/tags/><i class='fa-solid fa-tags'></i> æ ‡ç­¾ </a><a class=menu-item href=https://imajinyun.xyz/categories/><i class='fa-solid fa-layer-group'></i> åˆ†ç±» </a><a class=menu-item href=https://imajinyun.xyz/docs/><i class='fa-solid fa-file-word'></i> æ–‡æ¡£ </a><a class=menu-item href=https://imajinyun.xyz/links/><i class='fa fa-link'></i> å‹é“¾ </a><a class=menu-item href=https://imajinyun.xyz/about/><i class='fa fa-paper-plane'></i> å…³äº </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="ğŸ¶ Enter keyword search..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=æœç´¢><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=æ¸…ç©º><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=https://imajinyun.xyz/ title="Jinyun's Notes"><span class=header-title-pre><i class='fa fa-charging-station'></i></span>Jinyun's Notes</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="ğŸ¶ Enter keyword search..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=æœç´¢><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=æ¸…ç©º><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>å–æ¶ˆ</a></div><a class=menu-item href=https://imajinyun.xyz/posts/ title><i class='fa-solid fa-sun'></i>ç¬”è®°</a><a class=menu-item href=https://imajinyun.xyz/tags/ title><i class='fa-solid fa-tags'></i>æ ‡ç­¾</a><a class=menu-item href=https://imajinyun.xyz/categories/ title><i class='fa-solid fa-layer-group'></i>åˆ†ç±»</a><a class=menu-item href=https://imajinyun.xyz/docs/ title><i class='fa-solid fa-file-word'></i>æ–‡æ¡£</a><a class=menu-item href=https://imajinyun.xyz/links/ title><i class='fa fa-link'></i>å‹é“¾</a><a class=menu-item href=https://imajinyun.xyz/about/ title><i class='fa fa-paper-plane'></i>å…³äº</a><a href=javascript:void(0); class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>ç›®å½•</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">æ ˆå’Œé˜Ÿåˆ—</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://imajinyun.xyz/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>ä½œè€…</a></span>&nbsp;<span class=post-category>æ”¶å½•äº <a href=https://imajinyun.xyz/categories/data-structure-algorithm/><i class="far fa-folder fa-fw" aria-hidden=true></i>Data Structure & Algorithm</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2022-05-14>2022-05-14</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;çº¦ 4642 å­—&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;é¢„è®¡é˜…è¯» 10 åˆ†é’Ÿ&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>ç›®å½•</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#æ ˆ>æ ˆ</a><ul><li><a href=#æ ˆçš„æ¦‚å¿µ>æ ˆçš„æ¦‚å¿µ</a></li><li><a href=#é¡ºåºæ ˆ>é¡ºåºæ ˆ</a></li><li><a href=#é“¾å¼æ ˆ>é“¾å¼æ ˆ</a></li><li><a href=#é€’å½’ä¸æ ˆ>é€’å½’ä¸æ ˆ</a></li></ul></li><li><a href=#å¯¹åˆ—>å¯¹åˆ—</a><ul><li><a href=#å¯¹åˆ—çš„æ¦‚å¿µ>å¯¹åˆ—çš„æ¦‚å¿µ</a></li><li><a href=#é¡ºåºå¯¹åˆ—>é¡ºåºå¯¹åˆ—</a></li><li><a href=#å¾ªç¯é¡ºåºé˜Ÿåˆ—>å¾ªç¯é¡ºåºé˜Ÿåˆ—</a></li><li><a href=#é“¾å¼å¯¹åˆ—>é“¾å¼å¯¹åˆ—</a></li><li><a href=#å¾ªç¯é“¾å¼é˜Ÿåˆ—>å¾ªç¯é“¾å¼é˜Ÿåˆ—</a></li></ul></li><li><a href=#æ•°ç»„>æ•°ç»„</a><ul><li><a href=#æ•°ç»„çš„é€»è¾‘ç»“æ„>æ•°ç»„çš„é€»è¾‘ç»“æ„</a></li><li><a href=#æ•°ç»„çš„å­˜å‚¨ç»“æ„>æ•°ç»„çš„å­˜å‚¨ç»“æ„</a></li><li><a href=#çŸ©é˜µçš„å‹ç¼©å­˜å‚¨>çŸ©é˜µçš„å‹ç¼©å­˜å‚¨</a><ul><li><a href=#ç‰¹æ®ŠçŸ©é˜µ>ç‰¹æ®ŠçŸ©é˜µ</a><ul><li><a href=#å¯¹ç§°çŸ©é˜µ>å¯¹ç§°çŸ©é˜µ</a></li><li><a href=#ä¸‰è§’çŸ©é˜µ>ä¸‰è§’çŸ©é˜µ</a></li></ul></li><li><a href=#ç¨€ç–çŸ©é˜µ>ç¨€ç–çŸ©é˜µ</a></li></ul></li></ul></li><li><a href=#ä¹ é¢˜>ä¹ é¢˜</a></li></ul></nav></div></div><div class=content id=content><p>æ ˆå’Œé˜Ÿåˆ—å¯çœ‹ä½œæ˜¯ç‰¹æ®Šçš„çº¿æ€§è¡¨ã€‚å®ƒä»¬çš„ç‰¹æ®Šæ€§è¡¨ç°åœ¨å®ƒä»¬çš„åŸºæœ¬è¿ç®—æ˜¯çº¿æ€§è¡¨è¿ç®—çš„å­é›†ï¼Œå®ƒä»¬æ˜¯è¿ç®—å—é™çš„çº¿æ€§è¡¨ã€‚</p><ul><li><a href=https://imajinyun.xyz/2022/05/04/ds-get-started target=_blank rel="noopener noreffer">æ•°æ®ç»“æ„ä¸ç®—æ³•èµ·æ­¥</a></li><li><a href=https://imajinyun.xyz/2022/05/04/ds-linear-list target=_blank rel="noopener noreffer">çº¿æ€§è¡¨</a></li><li>æ ˆå’Œé˜Ÿåˆ—</li></ul><h2 id=æ ˆ>æ ˆ</h2><h3 id=æ ˆçš„æ¦‚å¿µ>æ ˆçš„æ¦‚å¿µ</h3><p><strong>æ ˆï¼ˆStackï¼‰</strong> ï¼šæ˜¯è¿ç®—å—é™çš„çº¿æ€§è¡¨ï¼Œå…¶ä¸Šçš„æ’å…¥å’Œåˆ é™¤è¿ç®—é™å®šåœ¨è¡¨çš„æŸä¸€ç«¯è¿›è¡Œï¼Œå…è®¸è¿›è¡Œæ’å…¥å’Œåˆ é™¤çš„ä¸€ç«¯ç§°ä¸º <strong>æ ˆé¡¶</strong>ï¼Œå¦ä¸€ç«¯ç§°ä¸º <strong>æ ˆåº•</strong>ã€‚ä¸å«ä»»ä½•æ•°æ®å…ƒç´ çš„æ ˆç§°ä¸º <strong>ç©ºæ ˆ</strong>ã€‚å¤„äºæ ˆé¡¶ä½ç½®çš„æ•°æ®å…ƒç´ ç§°ä¸º <strong>æ ˆé¡¶å…ƒç´ </strong>ã€‚</p><p>æ ˆçš„ä¿®æ”¹åŸåˆ™ï¼š<strong>åè¿›å…ˆå‡ºï¼ˆLIFO - Last In First Outï¼‰</strong>ï¼Œå› æ­¤ï¼Œæ ˆåˆç§°ä¸ºåè¿›å…ˆå‡ºçš„çº¿æ€§è¡¨ï¼Œç®€ç§° <strong>åè¿›å…ˆå‡ºè¡¨</strong>ã€‚æ ˆçš„æ’å…¥å’Œåˆ é™¤è¿ç®—åˆ†åˆ«ç§°ä¸º <strong>è¿›æ ˆ</strong> å’Œ <strong>å‡ºæ ˆ</strong>ã€‚</p><p>ä¸Šæº¢ï¼šæ ˆä¸­çš„æ•°æ®å…ƒç´ å·²ç»å¡«æ»¡äº†ï¼Œå¦‚æœå†è¿›è¡Œè¿›æ ˆæ“ä½œï¼Œä¼šå‘ç”Ÿã€Œä¸Šæº¢ã€ï¼Œä¸ºäº†é˜²æ­¢æ•°æ®ä¸¢å¤±ï¼Œåœ¨è¿›æ ˆæ“ä½œä¹‹å‰åº”è¯¥åˆ¤æ–­æ˜¯å¦æ ˆæ»¡ã€‚</p><p>ä¸‹æº¢ï¼šæ ˆåˆå§‹åŒ–è¿ç®—å¾—åˆ°ä¸€ä¸ªç©ºæ ˆï¼Œæ­¤æ—¶ï¼Œæ ˆé¡¶ä¸‹æ ‡å€¼ <strong>top==0</strong>ï¼Œå¦‚æœæ­¤æ—¶åšå‡ºæ ˆè¿ç®—ï¼Œåˆ™äº§ç”Ÿã€Œä¸‹æº¢ã€ã€‚</p><p>æ ˆç›¸å…³å‡½æ•°å®šä¹‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#ifndef DS_ALGO_DEMO_STACK_H
</span></span></span><span class=line><span class=cl><span class=cp>#define DS_ALGO_DEMO_STACK_H
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;stdbool.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#define MAX_STACK_SIZE 5
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=c1>// é¡ºåºæ ˆ
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>typedef</span> <span class=k>struct</span> <span class=nc>stack</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>data</span><span class=p>[</span><span class=n>MAX_STACK_SIZE</span><span class=p>];</span> <span class=c1>// å­˜å‚¨æ ˆä¸­æ•°æ®å…ƒç´ çš„æ•°ç»„
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kt>int</span> <span class=n>top</span><span class=p>;</span>                  <span class=c1>// æ ‡å¿—æ ˆé¡¶ä½ç½®çš„å˜é‡
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span> <span class=n>ArrayStack</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ArrayStack</span> <span class=o>*</span><span class=nf>CreateArrayStack</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>PushArrayStack</span><span class=p>(</span><span class=n>ArrayStack</span> <span class=o>*</span><span class=n>stack</span><span class=p>,</span> <span class=kt>int</span> <span class=n>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>PopArrayStack</span><span class=p>(</span><span class=n>ArrayStack</span> <span class=o>*</span><span class=n>stack</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>GetTopArrayStack</span><span class=p>(</span><span class=n>ArrayStack</span> <span class=o>*</span><span class=n>stack</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>IsEmptyArrayStack</span><span class=p>(</span><span class=n>ArrayStack</span> <span class=o>*</span><span class=n>stack</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// é“¾å¼æ ˆ
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>typedef</span> <span class=k>struct</span> <span class=nc>node</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>struct</span> <span class=nc>node</span> <span class=o>*</span><span class=n>next</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=n>LinkedStack</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>LinkedStack</span> <span class=o>*</span><span class=nf>CreateLinkedStack</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>PushLinkedStack</span><span class=p>(</span><span class=n>LinkedStack</span> <span class=o>*</span><span class=n>stack</span><span class=p>,</span> <span class=kt>int</span> <span class=n>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>PopLinkedStack</span><span class=p>(</span><span class=n>LinkedStack</span> <span class=o>*</span><span class=n>stack</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>GetTopLinkedStack</span><span class=p>(</span><span class=n>LinkedStack</span> <span class=o>*</span><span class=n>stack</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>IsEmptyLinkedStack</span><span class=p>(</span><span class=n>LinkedStack</span> <span class=o>*</span><span class=n>stack</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cp>#endif
</span></span></span></code></pre></td></tr></table></div></div><h3 id=é¡ºåºæ ˆ>é¡ºåºæ ˆ</h3><p>å®ç°ä»£ç ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;stack.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;stdlib.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=n>ArrayStack</span> <span class=o>*</span><span class=nf>CreateArrayStack</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>ArrayStack</span> <span class=o>*</span><span class=n>stack</span> <span class=o>=</span> <span class=p>(</span><span class=n>ArrayStack</span> <span class=o>*</span><span class=p>)</span> <span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=n>ArrayStack</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>stack</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>stack</span><span class=o>-&gt;</span><span class=n>top</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>stack</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>PushArrayStack</span><span class=p>(</span><span class=n>ArrayStack</span> <span class=o>*</span><span class=n>stack</span><span class=p>,</span> <span class=kt>int</span> <span class=n>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>stack</span><span class=o>-&gt;</span><span class=n>top</span> <span class=o>==</span> <span class=n>MAX_STACK_SIZE</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>stack</span><span class=o>-&gt;</span><span class=n>top</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>stack</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>[</span><span class=n>stack</span><span class=o>-&gt;</span><span class=n>top</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>PopArrayStack</span><span class=p>(</span><span class=n>ArrayStack</span> <span class=o>*</span><span class=n>stack</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>IsEmptyArrayStack</span><span class=p>(</span><span class=n>stack</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>stack</span><span class=o>-&gt;</span><span class=n>top</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>GetTopArrayStack</span><span class=p>(</span><span class=n>ArrayStack</span> <span class=o>*</span><span class=n>stack</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>IsEmptyArrayStack</span><span class=p>(</span><span class=n>stack</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>stack</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>[</span><span class=n>stack</span><span class=o>-&gt;</span><span class=n>top</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>IsEmptyArrayStack</span><span class=p>(</span><span class=n>ArrayStack</span> <span class=o>*</span><span class=n>stack</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>stack</span><span class=o>-&gt;</span><span class=n>top</span> <span class=o>==</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>æµ‹è¯•ä»£ç ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;gtest/gtest.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>extern</span> <span class=s>&#34;C&#34;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;../src/stack/stack.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>TEST</span><span class=p>(</span><span class=n>TestArrayStack</span><span class=p>,</span> <span class=n>CreateArrayStack</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>ArrayStack</span> <span class=o>*</span><span class=n>stack</span> <span class=o>=</span> <span class=n>CreateArrayStack</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>GetTopArrayStack</span><span class=p>(</span><span class=n>stack</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>stack</span><span class=o>-&gt;</span><span class=n>top</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>IsEmptyArrayStack</span><span class=p>(</span><span class=n>stack</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>TEST</span><span class=p>(</span><span class=n>TestArrayStack</span><span class=p>,</span> <span class=n>PushArrayStack</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>ArrayStack</span> <span class=o>*</span><span class=n>stack</span> <span class=o>=</span> <span class=n>CreateArrayStack</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>PushArrayStack</span><span class=p>(</span><span class=n>stack</span><span class=p>,</span> <span class=n>i</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>GetTopArrayStack</span><span class=p>(</span><span class=n>stack</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>stack</span><span class=o>-&gt;</span><span class=n>top</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_FALSE</span><span class=p>(</span><span class=n>PushArrayStack</span><span class=p>(</span><span class=n>stack</span><span class=p>,</span> <span class=mi>5</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=n>GetTopArrayStack</span><span class=p>(</span><span class=n>stack</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=n>stack</span><span class=o>-&gt;</span><span class=n>top</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>TEST</span><span class=p>(</span><span class=n>TestArrayStack</span><span class=p>,</span> <span class=n>PopArrayStack</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>ArrayStack</span> <span class=o>*</span><span class=n>stack</span> <span class=o>=</span> <span class=n>CreateArrayStack</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>PushArrayStack</span><span class=p>(</span><span class=n>stack</span><span class=p>,</span> <span class=n>i</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>GetTopArrayStack</span><span class=p>(</span><span class=n>stack</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>stack</span><span class=o>-&gt;</span><span class=n>top</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>PopArrayStack</span><span class=p>(</span><span class=n>stack</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_FALSE</span><span class=p>(</span><span class=n>PopArrayStack</span><span class=p>(</span><span class=n>stack</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>GetTopArrayStack</span><span class=p>(</span><span class=n>stack</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>stack</span><span class=o>-&gt;</span><span class=n>top</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>IsEmptyArrayStack</span><span class=p>(</span><span class=n>stack</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=é“¾å¼æ ˆ>é“¾å¼æ ˆ</h3><p>å®ç°ä»£ç ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;stack.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;stdlib.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=n>LinkedStack</span> <span class=o>*</span><span class=nf>CreateLinkedStack</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>LinkedStack</span> <span class=o>*</span><span class=n>stack</span> <span class=o>=</span> <span class=p>(</span><span class=n>LinkedStack</span> <span class=o>*</span><span class=p>)</span> <span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=n>LinkedStack</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>stack</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>stack</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>stack</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>PushLinkedStack</span><span class=p>(</span><span class=n>LinkedStack</span> <span class=o>*</span><span class=n>stack</span><span class=p>,</span> <span class=kt>int</span> <span class=n>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>LinkedStack</span> <span class=o>*</span><span class=n>temp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>temp</span> <span class=o>=</span> <span class=p>(</span><span class=n>LinkedStack</span> <span class=o>*</span><span class=p>)</span> <span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=n>LinkedStack</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>temp</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>temp</span><span class=o>-&gt;</span><span class=n>data</span> <span class=o>=</span> <span class=n>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>=</span> <span class=n>stack</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>stack</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>=</span> <span class=n>temp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>PopLinkedStack</span><span class=p>(</span><span class=n>LinkedStack</span> <span class=o>*</span><span class=n>stack</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>IsEmptyLinkedStack</span><span class=p>(</span><span class=n>stack</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>LinkedStack</span> <span class=o>*</span><span class=n>temp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>temp</span> <span class=o>=</span> <span class=n>stack</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>stack</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>=</span> <span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>free</span><span class=p>(</span><span class=n>temp</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>GetTopLinkedStack</span><span class=p>(</span><span class=n>LinkedStack</span> <span class=o>*</span><span class=n>stack</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>IsEmptyLinkedStack</span><span class=p>(</span><span class=n>stack</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>stack</span><span class=o>-&gt;</span><span class=n>next</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>IsEmptyLinkedStack</span><span class=p>(</span><span class=n>LinkedStack</span> <span class=o>*</span><span class=n>stack</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>stack</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>æµ‹è¯•ä»£ç ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;gtest/gtest.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>extern</span> <span class=s>&#34;C&#34;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;../src/stack/stack.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>TEST</span><span class=p>(</span><span class=n>TestLinkedStack</span><span class=p>,</span> <span class=n>CreateLinkedStack</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>LinkedStack</span> <span class=o>*</span><span class=n>stack</span> <span class=o>=</span> <span class=n>CreateLinkedStack</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>GetTopLinkedStack</span><span class=p>(</span><span class=n>stack</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=nb>NULL</span><span class=p>,</span> <span class=n>stack</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>IsEmptyLinkedStack</span><span class=p>(</span><span class=n>stack</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>TEST</span><span class=p>(</span><span class=n>TestLinkedStack</span><span class=p>,</span> <span class=n>PushLinkedStack</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>LinkedStack</span> <span class=o>*</span><span class=n>stack</span> <span class=o>=</span> <span class=n>CreateLinkedStack</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>MAX_STACK_SIZE</span> <span class=o>*</span> <span class=mi>2</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>PushLinkedStack</span><span class=p>(</span><span class=n>stack</span><span class=p>,</span> <span class=n>i</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>GetTopLinkedStack</span><span class=p>(</span><span class=n>stack</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>stack</span><span class=o>-&gt;</span><span class=n>next</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>9</span><span class=p>,</span> <span class=n>stack</span><span class=o>-&gt;</span><span class=n>next</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>TEST</span><span class=p>(</span><span class=n>TestLinkedStack</span><span class=p>,</span> <span class=n>PopLinkedStack</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>LinkedStack</span> <span class=o>*</span><span class=n>stack</span> <span class=o>=</span> <span class=n>CreateLinkedStack</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>MAX_STACK_SIZE</span> <span class=o>*</span> <span class=mi>2</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>PushLinkedStack</span><span class=p>(</span><span class=n>stack</span><span class=p>,</span> <span class=n>i</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>GetTopLinkedStack</span><span class=p>(</span><span class=n>stack</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>stack</span><span class=o>-&gt;</span><span class=n>next</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>MAX_STACK_SIZE</span> <span class=o>*</span> <span class=mi>2</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>PopLinkedStack</span><span class=p>(</span><span class=n>stack</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_FALSE</span><span class=p>(</span><span class=n>PopLinkedStack</span><span class=p>(</span><span class=n>stack</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>IsEmptyLinkedStack</span><span class=p>(</span><span class=n>stack</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>GetTopLinkedStack</span><span class=p>(</span><span class=n>stack</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=nb>NULL</span><span class=p>,</span> <span class=n>stack</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>stack</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=é€’å½’ä¸æ ˆ>é€’å½’ä¸æ ˆ</h3><p><strong>é€’å½’ï¼ˆRecursionï¼‰</strong>ï¼šå¦‚æœåœ¨ä¸€ä¸ªå‡½æ•°æˆ–æ•°æ®ç»“æ„çš„å®šä¹‰ä¸­åˆåº”ç”¨äº†å®ƒè‡ªèº«ï¼ˆä½œä¸ºå®šä¹‰é¡¹ä¹‹ä¸€ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°æˆ–æ•°æ®ç»“æ„ç§°ä¸ºæ˜¯é€’å½’å®šä¹‰çš„ï¼Œç®€ç§°é€’å½’ã€‚</p><p>é€’å½’å®šä¹‰ä¸èƒ½æ˜¯ã€Œå¾ªç¯å®šä¹‰ã€ï¼Œä¸ºæ­¤è¦æ±‚ä»»ä½•é€’å½’å®šä¹‰å¿…é¡»åŒæ—¶æ»¡è¶³å¦‚ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼š</p><ul><li>è¢«å®šä¹‰é¡¹åœ¨å®šä¹‰ä¸­çš„åº”ç”¨ï¼ˆå³ä½œä¸ºå®šä¹‰é¡¹çš„å‡ºç°ï¼‰å…·æœ‰æ›´å°çš„ã€Œè§„æ¨¡ã€ï¼›</li><li>è¢«å®šä¹‰é¡¹åœ¨æœ€å°ã€Œè§„æ¨¡ã€ä¸Šçš„å®šä¹‰æ˜¯éé€’å½’ï¼Œè¿™æ˜¯é€’å½’çš„ç»“æŸæ¡ä»¶ï¼›</li></ul><p>é€’å½’å‡½æ•°çš„è¿è¡Œå¼•èµ·é€’å½’è°ƒç”¨ã€‚ä¸ºäº†ä¿è¯åœ¨ä¸åŒå±‚æ¬¡çš„é€’å½’è°ƒç”¨èƒ½æ­£ç¡®åœ°è¿”å›ï¼Œå¿…é¡»å°†æ¯ä¸€æ¬¡é€’å½’è°ƒç”¨çš„å‚æ•°å’Œè¿”å›åœ°å€ä¿å­˜èµ·æ¥ã€‚ç”±äºå‡½æ•°çš„é€’å½’è°ƒç”¨æ˜¯åè¿›å…ˆå‡ºçš„ï¼Œæ‰€ä»¥è¦ç”¨æ ˆæ¥ä¿å­˜è¿™äº›å€¼ã€‚</p><h2 id=å¯¹åˆ—>å¯¹åˆ—</h2><h3 id=å¯¹åˆ—çš„æ¦‚å¿µ>å¯¹åˆ—çš„æ¦‚å¿µ</h3><p><strong>é˜Ÿåˆ—ï¼ˆQueueï¼‰</strong>ï¼šæ˜¯æœ‰é™ä¸ªåŒç±»å‹æ•°æ®å…ƒç´ çš„çº¿æ€§åºåˆ—ï¼Œæ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡ºï¼ˆFIFO - First In First Outï¼‰çš„çº¿æ€§è¡¨ï¼Œæ–°åŠ å…¥çš„æ•°æ®å…ƒç´ æ’åœ¨é˜Ÿåˆ—å°¾ç«¯ï¼Œå‡ºé˜Ÿåˆ—çš„æ•°æ®å…ƒç´ åœ¨é˜Ÿåˆ—é¦–ç«¯è¢«åˆ é™¤ã€‚</p><p>é˜Ÿåˆ—ç»“æ„çš„å‡ ä¸ªå±æ€§ï¼š</p><ul><li>é˜Ÿå°¾ï¼šæ’å…¥çš„ä¸€ç«¯å«åšé˜Ÿå°¾ï¼›</li><li>é˜Ÿå¤´ï¼šåˆ é™¤çš„ä¸€ç«¯å«åšé˜Ÿå¤´ï¼›</li><li>å…¥é˜Ÿï¼šå‘é˜Ÿåˆ—ä¸­æ’å…¥æ–°èŠ‚ç‚¹å…ƒç´ ç§°ä¸ºå…¥é˜Ÿï¼›</li><li>å‡ºé˜Ÿï¼šä»é˜Ÿåˆ—ä¸­åˆ é™¤èŠ‚ç‚¹å…ƒç´ ç§°ä¸ºå‡ºé˜Ÿï¼›</li><li>é˜Ÿç©ºï¼šå½“é˜Ÿåˆ—ä¸­æ— èŠ‚ç‚¹å…ƒç´ æ—¶ï¼Œè¡¨ç¤ºé˜Ÿç©ºï¼›</li><li>é˜Ÿæ»¡ï¼šå½“é˜Ÿåˆ—ä¸­èŠ‚ç‚¹è¶…è¿‡å…è®¸å­˜å‚¨ç©ºé—´æ—¶ï¼Œè¡¨ç¤ºé˜Ÿæ»¡ï¼ˆé“¾é˜Ÿæ— é˜Ÿæ»¡çš„çŠ¶æ€ï¼‰ï¼›</li></ul><p>å¾ªç¯é˜Ÿåˆ—ä¸­çš„å‡ ä¸ªçº¦æŸï¼š</p><ul><li>é˜Ÿç©ºï¼š<code>head = tail</code>ï¼›</li><li>é˜Ÿæ»¡ï¼š<code>head = (tail+1)%size</code>ï¼›</li><li>è¿›é˜Ÿï¼š<code>head = (head+1)%size</code>ï¼›</li><li>å‡ºé˜Ÿï¼š<code>tail = (tail+1)%size</code>ï¼›</li><li>ä¸ªæ•°ï¼š<code>(tail-head+size)%size</code>ï¼›</li></ul><p>é˜Ÿåˆ—ç›¸å…³å‡½æ•°å®šä¹‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#ifndef DS_ALGO_DEMO_QUEUE_H
</span></span></span><span class=line><span class=cl><span class=cp>#define DS_ALGO_DEMO_QUEUE_H
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;stdbool.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#define MAX_QUEUE_SIZE 100
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=c1>// é¡ºåºé˜Ÿåˆ—
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>typedef</span> <span class=k>struct</span> <span class=nc>queue</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>data</span><span class=p>[</span><span class=n>MAX_QUEUE_SIZE</span><span class=p>];</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>head</span><span class=p>,</span> <span class=n>tail</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=n>ArrayQueue</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ArrayQueue</span> <span class=o>*</span><span class=nf>CreateArrayQueue</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>EnArrayQueue</span><span class=p>(</span><span class=n>ArrayQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>,</span> <span class=kt>int</span> <span class=n>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>DeArrayQueue</span><span class=p>(</span><span class=n>ArrayQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>GetHeadArrayQueue</span><span class=p>(</span><span class=n>ArrayQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>IsFullArrayQueue</span><span class=p>(</span><span class=n>ArrayQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>IsEmptyArrayQueue</span><span class=p>(</span><span class=n>ArrayQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å¾ªç¯é¡ºåºé˜Ÿåˆ—
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>typedef</span> <span class=k>struct</span> <span class=nc>caqueue</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>data</span><span class=p>[</span><span class=n>MAX_QUEUE_SIZE</span><span class=p>];</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>head</span><span class=p>,</span> <span class=n>tail</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=n>CircularArrayQueue</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>CircularArrayQueue</span> <span class=o>*</span><span class=nf>CreateCircularArrayQueue</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>EnCircularArrayQueue</span><span class=p>(</span><span class=n>CircularArrayQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>,</span> <span class=kt>int</span> <span class=n>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>DeCircularArrayQueue</span><span class=p>(</span><span class=n>CircularArrayQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>GetHeadCircularArrayQueue</span><span class=p>(</span><span class=n>CircularArrayQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>IsFullCircularArrayQueue</span><span class=p>(</span><span class=n>CircularArrayQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>IsEmptyCircularArrayQueue</span><span class=p>(</span><span class=n>CircularArrayQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// é“¾å¼é˜Ÿåˆ—
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>typedef</span> <span class=k>struct</span> <span class=nc>node</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>struct</span> <span class=nc>node</span> <span class=o>*</span><span class=n>next</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=n>LinkedQueueNode</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>typedef</span> <span class=k>struct</span> <span class=nc>lkqueue</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>LinkedQueueNode</span> <span class=o>*</span><span class=n>head</span><span class=p>,</span> <span class=o>*</span><span class=n>tail</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=n>LinkedQueue</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>LinkedQueue</span> <span class=o>*</span><span class=nf>CreateLinkedQueue</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>EnLinkedQueue</span><span class=p>(</span><span class=n>LinkedQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>,</span> <span class=kt>int</span> <span class=n>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>DeLinkedQueue</span><span class=p>(</span><span class=n>LinkedQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>GetHeadLinkedQueue</span><span class=p>(</span><span class=n>LinkedQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>IsEmptyLinkedQueue</span><span class=p>(</span><span class=n>LinkedQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å¾ªç¯é“¾å¼é˜Ÿåˆ—
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>typedef</span> <span class=k>struct</span> <span class=nc>cnode</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>struct</span> <span class=nc>cnode</span> <span class=o>*</span><span class=n>next</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=n>CircularLinkedQueueNode</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>typedef</span> <span class=k>struct</span> <span class=nc>clkqueue</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>CircularLinkedQueueNode</span> <span class=o>*</span><span class=n>head</span><span class=p>,</span> <span class=o>*</span><span class=n>tail</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>len</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>cap</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=n>CircularLinkedQueue</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>CircularLinkedQueue</span> <span class=o>*</span><span class=nf>CreateCircularLinkedQueue</span><span class=p>(</span><span class=kt>int</span> <span class=n>cap</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>EnCircularLinkedQueue</span><span class=p>(</span><span class=n>CircularLinkedQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>,</span> <span class=kt>int</span> <span class=n>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>DeCircularLinkedQueue</span><span class=p>(</span><span class=n>CircularLinkedQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>GetHeadCircularLinkedQueue</span><span class=p>(</span><span class=n>CircularLinkedQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>IsEmptyCircularLinkedQueue</span><span class=p>(</span><span class=n>CircularLinkedQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>IsFullCircularLinkedQueue</span><span class=p>(</span><span class=n>CircularLinkedQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cp>#endif
</span></span></span></code></pre></td></tr></table></div></div><h3 id=é¡ºåºå¯¹åˆ—>é¡ºåºå¯¹åˆ—</h3><p><strong>é¡ºåºå¯¹åˆ—ï¼ˆSequential Queueï¼‰</strong>ï¼šæ˜¯ç”±ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼ˆç”¨äºå­˜å‚¨å¯¹åˆ—ä¸­å…ƒç´ ï¼‰åŠä¸¤ä¸ªåˆ†åˆ«æŒ‡ç¤ºé˜Ÿåˆ—é¦–å’Œé˜Ÿåˆ—å°¾å…ƒç´ çš„å˜é‡ç»„æˆï¼Œè¿™ä¸¤ä¸ªå˜é‡åˆ†åˆ«ç§°ä¸ºã€Œé˜Ÿåˆ—é¦–æŒ‡é’ˆã€å’Œã€Œé˜Ÿåˆ—å°¾æŒ‡é’ˆã€ã€‚</p><p>å®ç°ä»£ç ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;queue.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;stdlib.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=n>ArrayQueue</span> <span class=o>*</span><span class=nf>CreateArrayQueue</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>ArrayQueue</span> <span class=o>*</span><span class=n>queue</span> <span class=o>=</span> <span class=p>(</span><span class=n>ArrayQueue</span> <span class=o>*</span><span class=p>)</span> <span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=n>ArrayQueue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>queue</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span> <span class=o>=</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>queue</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>EnArrayQueue</span><span class=p>(</span><span class=n>ArrayQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>,</span> <span class=kt>int</span> <span class=n>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>IsFullArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>)</span> <span class=o>||</span> <span class=n>value</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>queue</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>[</span><span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>DeArrayQueue</span><span class=p>(</span><span class=n>ArrayQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>IsEmptyArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>GetHeadArrayQueue</span><span class=p>(</span><span class=n>ArrayQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>IsEmptyArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>[</span><span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>IsFullArrayQueue</span><span class=p>(</span><span class=n>ArrayQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span> <span class=o>==</span> <span class=n>MAX_QUEUE_SIZE</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>IsEmptyArrayQueue</span><span class=p>(</span><span class=n>ArrayQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span> <span class=o>==</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>æµ‹è¯•ä»£ç ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;gtest/gtest.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>extern</span> <span class=s>&#34;C&#34;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;../src/queue/queue.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>TEST</span><span class=p>(</span><span class=n>TestArrayQueue</span><span class=p>,</span> <span class=n>CreateArrayQueue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>ArrayQueue</span> <span class=o>*</span><span class=n>queue</span> <span class=o>=</span> <span class=n>CreateArrayQueue</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>IsEmptyArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_FALSE</span><span class=p>(</span><span class=n>IsFullArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>GetHeadArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>TEST</span><span class=p>(</span><span class=n>TestArrayQueue</span><span class=p>,</span> <span class=n>EnArrayQueue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>ArrayQueue</span> <span class=o>*</span><span class=n>queue</span> <span class=o>=</span> <span class=n>CreateArrayQueue</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_FALSE</span><span class=p>(</span><span class=n>EnArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>,</span> <span class=mi>0</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>MAX_QUEUE_SIZE</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>EnArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>,</span> <span class=n>i</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>GetHeadArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>IsFullArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_FALSE</span><span class=p>(</span><span class=n>EnArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>,</span> <span class=n>MAX_QUEUE_SIZE</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>GetHeadArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>TEST</span><span class=p>(</span><span class=n>TestArrayQueue</span><span class=p>,</span> <span class=n>DeArrayQueue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>ArrayQueue</span> <span class=o>*</span><span class=n>queue</span> <span class=o>=</span> <span class=n>CreateArrayQueue</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_FALSE</span><span class=p>(</span><span class=n>DeArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>MAX_QUEUE_SIZE</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>EnArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>,</span> <span class=n>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>MAX_QUEUE_SIZE</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>GetHeadArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>DeArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_FALSE</span><span class=p>(</span><span class=n>DeArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>IsEmptyArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>GetHeadArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=å¾ªç¯é¡ºåºé˜Ÿåˆ—>å¾ªç¯é¡ºåºé˜Ÿåˆ—</h3><p>å®ç°ä»£ç ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;queue.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;stdlib.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=n>CircularArrayQueue</span> <span class=o>*</span><span class=nf>CreateCircularArrayQueue</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>CircularArrayQueue</span> <span class=o>*</span><span class=n>queue</span> <span class=o>=</span> <span class=p>(</span><span class=n>CircularArrayQueue</span> <span class=o>*</span><span class=p>)</span> <span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=n>CircularArrayQueue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>queue</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span> <span class=o>=</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>queue</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>[</span><span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>queue</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>EnCircularArrayQueue</span><span class=p>(</span><span class=n>CircularArrayQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>,</span> <span class=kt>int</span> <span class=n>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>IsFullCircularArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>)</span> <span class=o>||</span> <span class=n>value</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span> <span class=o>=</span> <span class=p>(</span><span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>%</span> <span class=n>MAX_QUEUE_SIZE</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>queue</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>[</span><span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>DeCircularArrayQueue</span><span class=p>(</span><span class=n>CircularArrayQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>IsEmptyCircularArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span> <span class=o>=</span> <span class=p>(</span><span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>%</span> <span class=n>MAX_QUEUE_SIZE</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>GetHeadCircularArrayQueue</span><span class=p>(</span><span class=n>CircularArrayQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>IsEmptyCircularArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>[(</span><span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>%</span> <span class=n>MAX_QUEUE_SIZE</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>IsFullCircularArrayQueue</span><span class=p>(</span><span class=n>CircularArrayQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span><span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>%</span> <span class=n>MAX_QUEUE_SIZE</span> <span class=o>==</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>IsEmptyCircularArrayQueue</span><span class=p>(</span><span class=n>CircularArrayQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span> <span class=o>==</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>æµ‹è¯•ä»£ç ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;gtest/gtest.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>extern</span> <span class=s>&#34;C&#34;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;../src/queue/queue.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>TEST</span><span class=p>(</span><span class=n>TestCircularArrayQueue</span><span class=p>,</span> <span class=n>CreateCircularArrayQueue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>CircularArrayQueue</span> <span class=o>*</span><span class=n>queue</span> <span class=o>=</span> <span class=n>CreateCircularArrayQueue</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>[</span><span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>TEST</span><span class=p>(</span><span class=n>TestCircularArrayQueue</span><span class=p>,</span> <span class=n>EnCircularArrayQueue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>CircularArrayQueue</span> <span class=o>*</span><span class=n>queue</span> <span class=o>=</span> <span class=n>CreateCircularArrayQueue</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>IsEmptyCircularArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_FALSE</span><span class=p>(</span><span class=n>DeCircularArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_FALSE</span><span class=p>(</span><span class=n>EnCircularArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>,</span> <span class=mi>0</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>MAX_QUEUE_SIZE</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>EnCircularArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>,</span> <span class=n>i</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>GetHeadCircularArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>IsFullCircularArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_FALSE</span><span class=p>(</span><span class=n>EnCircularArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>,</span> <span class=n>MAX_QUEUE_SIZE</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>GetHeadCircularArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>TEST</span><span class=p>(</span><span class=n>TestCircularArrayQueue</span><span class=p>,</span> <span class=n>DeCircularArrayQueue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>CircularArrayQueue</span> <span class=o>*</span><span class=n>queue</span> <span class=o>=</span> <span class=n>CreateCircularArrayQueue</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>IsEmptyCircularArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>MAX_QUEUE_SIZE</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>EnCircularArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>,</span> <span class=n>i</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>MAX_QUEUE_SIZE</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_FALSE</span><span class=p>(</span><span class=n>IsEmptyCircularArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>GetHeadCircularArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>DeCircularArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>IsEmptyCircularArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>GetHeadCircularArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_FALSE</span><span class=p>(</span><span class=n>DeCircularArrayQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=é“¾å¼å¯¹åˆ—>é“¾å¼å¯¹åˆ—</h3><p>å®ç°ä»£ç ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;queue.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;stdlib.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=n>LinkedQueue</span> <span class=o>*</span><span class=nf>CreateLinkedQueue</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>LinkedQueue</span> <span class=o>*</span><span class=n>queue</span> <span class=o>=</span> <span class=p>(</span><span class=n>LinkedQueue</span> <span class=o>*</span><span class=p>)</span> <span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=n>LinkedQueue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>queue</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>LinkedQueueNode</span> <span class=o>*</span><span class=n>node</span> <span class=o>=</span> <span class=p>(</span><span class=n>LinkedQueueNode</span> <span class=o>*</span><span class=p>)</span> <span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=n>LinkedQueueNode</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>node</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span> <span class=o>=</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span> <span class=o>=</span> <span class=n>node</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>queue</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>EnLinkedQueue</span><span class=p>(</span><span class=n>LinkedQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>,</span> <span class=kt>int</span> <span class=n>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>queue</span> <span class=o>==</span> <span class=nb>NULL</span> <span class=o>||</span> <span class=n>value</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>LinkedQueueNode</span> <span class=o>*</span><span class=n>node</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>node</span> <span class=o>=</span> <span class=p>(</span><span class=n>LinkedQueueNode</span> <span class=o>*</span><span class=p>)</span> <span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=n>LinkedQueueNode</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>node</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>node</span><span class=o>-&gt;</span><span class=n>data</span> <span class=o>=</span> <span class=n>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>node</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>=</span> <span class=n>node</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span> <span class=o>=</span> <span class=n>node</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>DeLinkedQueue</span><span class=p>(</span><span class=n>LinkedQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>IsEmptyLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>LinkedQueueNode</span> <span class=o>*</span><span class=n>node</span> <span class=o>=</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span> <span class=c1>// ä½¿ node æŒ‡å‘é˜Ÿåˆ—çš„é¦–ç»“ç‚¹
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>=</span> <span class=n>node</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>            <span class=c1>// ä¿®æ”¹å¤´ç»“ç‚¹çš„æŒ‡é’ˆåŸŸæŒ‡å‘æ–°çš„é¦–ç»“ç‚¹
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>if</span> <span class=p>(</span><span class=n>node</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span> <span class=o>=</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>free</span><span class=p>(</span><span class=n>node</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>GetHeadLinkedQueue</span><span class=p>(</span><span class=n>LinkedQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>IsEmptyLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>LinkedQueueNode</span> <span class=o>*</span><span class=n>node</span> <span class=o>=</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>node</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>IsEmptyLinkedQueue</span><span class=p>(</span><span class=n>LinkedQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span> <span class=o>==</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>æµ‹è¯•ä»£ç ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;gtest/gtest.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>extern</span> <span class=s>&#34;C&#34;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;../src/queue/queue.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>TEST</span><span class=p>(</span><span class=n>TestLinkedQueue</span><span class=p>,</span> <span class=n>CreateLinkedQueue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>LinkedQueue</span> <span class=o>*</span><span class=n>queue</span> <span class=o>=</span> <span class=n>CreateLinkedQueue</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=nb>NULL</span><span class=p>,</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=nb>NULL</span><span class=p>,</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>GetHeadLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>IsEmptyLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>TEST</span><span class=p>(</span><span class=n>TestLinkedQueue</span><span class=p>,</span> <span class=n>EnLinkedQueue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>LinkedQueue</span> <span class=o>*</span><span class=n>queue</span> <span class=o>=</span> <span class=n>CreateLinkedQueue</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_FALSE</span><span class=p>(</span><span class=n>EnLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>,</span> <span class=mi>0</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>IsEmptyLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>MAX_QUEUE_SIZE</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>EnLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>,</span> <span class=n>i</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>GetHeadLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_FALSE</span><span class=p>(</span><span class=n>IsEmptyLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>GetHeadLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>TEST</span><span class=p>(</span><span class=n>TestLinkedQueue</span><span class=p>,</span> <span class=n>DeLinkedQueue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>LinkedQueue</span> <span class=o>*</span><span class=n>queue</span> <span class=o>=</span> <span class=n>CreateLinkedQueue</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_FALSE</span><span class=p>(</span><span class=n>DeLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>MAX_QUEUE_SIZE</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>EnLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>,</span> <span class=n>i</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>GetHeadLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>MAX_QUEUE_SIZE</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>DeLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_FALSE</span><span class=p>(</span><span class=n>DeLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>IsEmptyLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>GetHeadLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=å¾ªç¯é“¾å¼é˜Ÿåˆ—>å¾ªç¯é“¾å¼é˜Ÿåˆ—</h3><p>å®ç°ä»£ç ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;queue.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;stdlib.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=n>CircularLinkedQueue</span> <span class=o>*</span><span class=nf>CreateCircularLinkedQueue</span><span class=p>(</span><span class=kt>int</span> <span class=n>cap</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>cap</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>CircularLinkedQueue</span> <span class=o>*</span><span class=n>queue</span> <span class=o>=</span> <span class=p>(</span><span class=n>CircularLinkedQueue</span> <span class=o>*</span><span class=p>)</span> <span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=n>CircularLinkedQueue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>queue</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>CircularLinkedQueueNode</span> <span class=o>*</span><span class=n>p</span><span class=p>,</span> <span class=o>*</span><span class=n>q</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>p</span> <span class=o>=</span> <span class=p>(</span><span class=n>CircularLinkedQueueNode</span> <span class=o>*</span><span class=p>)</span> <span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=n>CircularLinkedQueueNode</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span> <span class=o>=</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span> <span class=o>=</span> <span class=n>p</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>queue</span><span class=o>-&gt;</span><span class=n>len</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>queue</span><span class=o>-&gt;</span><span class=n>cap</span> <span class=o>=</span> <span class=n>cap</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>p</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>=</span> <span class=n>q</span> <span class=o>=</span> <span class=n>p</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>cap</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>q</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>=</span> <span class=p>(</span><span class=n>CircularLinkedQueueNode</span> <span class=o>*</span><span class=p>)</span> <span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=n>CircularLinkedQueueNode</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>q</span> <span class=o>=</span> <span class=n>q</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>q</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>=</span> <span class=n>p</span><span class=p>;</span> <span class=c1>// é¦–å°¾é“¾æ¥
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=n>queue</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>EnCircularLinkedQueue</span><span class=p>(</span><span class=n>CircularLinkedQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>,</span> <span class=kt>int</span> <span class=n>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>IsFullCircularLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>)</span> <span class=o>||</span> <span class=n>value</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span><span class=o>-&gt;</span><span class=n>data</span> <span class=o>=</span> <span class=n>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span> <span class=o>=</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>queue</span><span class=o>-&gt;</span><span class=n>len</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>DeCircularLinkedQueue</span><span class=p>(</span><span class=n>CircularLinkedQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>IsEmptyCircularLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span> <span class=o>=</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>queue</span><span class=o>-&gt;</span><span class=n>len</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>GetHeadCircularLinkedQueue</span><span class=p>(</span><span class=n>CircularLinkedQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>IsEmptyCircularLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>IsEmptyCircularLinkedQueue</span><span class=p>(</span><span class=n>CircularLinkedQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>len</span> <span class=o>==</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>IsFullCircularLinkedQueue</span><span class=p>(</span><span class=n>CircularLinkedQueue</span> <span class=o>*</span><span class=n>queue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>len</span> <span class=o>==</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>cap</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>æµ‹è¯•ä»£ç ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;gtest/gtest.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>extern</span> <span class=s>&#34;C&#34;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;../src/queue/queue.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>TEST</span><span class=p>(</span><span class=n>TestCircularLinkedQueue</span><span class=p>,</span> <span class=n>CreateCircularLinkedQueue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>CircularLinkedQueue</span> <span class=o>*</span><span class=n>queue</span> <span class=o>=</span> <span class=n>CreateCircularLinkedQueue</span><span class=p>(</span><span class=n>MAX_QUEUE_SIZE</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=nb>NULL</span><span class=p>,</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>head</span><span class=o>-&gt;</span><span class=n>next</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=nb>NULL</span><span class=p>,</span> <span class=n>queue</span><span class=o>-&gt;</span><span class=n>tail</span><span class=o>-&gt;</span><span class=n>next</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>GetHeadCircularLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>TEST</span><span class=p>(</span><span class=n>TestCircularLinkedQueue</span><span class=p>,</span> <span class=n>EnCircularArrayQueue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>CircularLinkedQueue</span> <span class=o>*</span><span class=n>queue</span> <span class=o>=</span> <span class=n>CreateCircularLinkedQueue</span><span class=p>(</span><span class=n>MAX_QUEUE_SIZE</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_FALSE</span><span class=p>(</span><span class=n>EnCircularLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>,</span> <span class=mi>0</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>IsEmptyCircularLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>MAX_QUEUE_SIZE</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>EnCircularLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>,</span> <span class=n>i</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>GetHeadCircularLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_FALSE</span><span class=p>(</span><span class=n>IsEmptyCircularLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>GetHeadCircularLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>TEST</span><span class=p>(</span><span class=n>TestCircularLinkedQueue</span><span class=p>,</span> <span class=n>DeCircularArrayQueue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>CircularLinkedQueue</span> <span class=o>*</span><span class=n>queue</span> <span class=o>=</span> <span class=n>CreateCircularLinkedQueue</span><span class=p>(</span><span class=n>MAX_QUEUE_SIZE</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_FALSE</span><span class=p>(</span><span class=n>DeCircularLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>MAX_QUEUE_SIZE</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>EnCircularLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>,</span> <span class=n>i</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>GetHeadCircularLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>MAX_QUEUE_SIZE</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>DeCircularLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_FALSE</span><span class=p>(</span><span class=n>DeCircularLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_TRUE</span><span class=p>(</span><span class=n>IsEmptyCircularLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=n>ASSERT_EQ</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>GetHeadCircularLinkedQueue</span><span class=p>(</span><span class=n>queue</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=æ•°ç»„>æ•°ç»„</h2><h3 id=æ•°ç»„çš„é€»è¾‘ç»“æ„>æ•°ç»„çš„é€»è¾‘ç»“æ„</h3><p>æ•°ç»„å¯ä»¥çœ‹æˆçº¿æ€§è¡¨çš„ä¸€ç§æ¨å¹¿ã€‚ä¸€ç»´æ•°ç»„åˆç§° <strong>å‘é‡</strong>ï¼Œå®ƒç”±ä¸€ç»„å…·æœ‰ç›¸åŒç±»å‹çš„æ•°æ®å…ƒç´ ç»„æˆï¼Œå¹¶å­˜å‚¨åœ¨ä¸€ç»„è¿ç»­çš„å­˜å‚¨å•å…ƒä¸­ã€‚è‹¥ä¸€ç»´æ•°ç»„ä¸­çš„å…ƒç´ åˆæ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ç»“æ„ï¼Œåˆ™ç§°ä¸º <strong>äºŒç»´æ•°ç»„</strong>ï¼Œä¾æ¬¡ç±»æ¨ï¼Œé€æ¸å‡ç»´ã€‚</p><p>ä¸€èˆ¬åœ°ï¼Œä¸€ä¸ª <strong>n</strong> ç»´æ•°ç»„å¯ä»¥çœ‹æˆå…ƒç´ ä¸º <strong>n-1</strong> ç»´æ•°ç»„çš„çº¿æ€§è¡¨ã€‚</p><p>æ•°ç»„é€šå¸¸æœ‰ä¸¤ç§åŸºæœ¬è¿ç®—ï¼š</p><ul><li>è¯»ï¼šç»™å®šä¸€ç»„ä¸‹æ ‡ï¼Œè¿”å›è¯¥ä½ç½®çš„å…ƒç´ å†…å®¹ï¼›</li><li>å†™ï¼šç»™å®šä¸€ç»„ä¸‹æ ‡ï¼Œä¿®æ”¹è¯¥ä½ç½®çš„å…ƒç´ å†…å®¹ï¼›</li></ul><h3 id=æ•°ç»„çš„å­˜å‚¨ç»“æ„>æ•°ç»„çš„å­˜å‚¨ç»“æ„</h3><p>ä¸€ç»´æ•°ç»„å…ƒç´ çš„å†…å­˜å•å…ƒåœ°å€æ˜¯è¿ç»­çš„ï¼ŒäºŒç»´æ•°ç»„å¯èƒ½æœ‰ä¸¤ç§å­˜å‚¨æ–¹æ³•ï¼šä¸€ç§æ˜¯ä»¥ <strong>åˆ—åº</strong> ä¸ºä¸»çš„å­˜å‚¨ï¼›å¦ä¸€ç§æ˜¯ä»¥ <strong>è¡Œåº</strong> ä¸ºä¸»çš„å­˜å‚¨ã€‚åœ¨ç±» <code>C</code> è¯­è¨€çš„ç¼–è¯‘ç¨‹åºä¸­ï¼Œæ•°ç»„é‡‡ç”¨çš„æ˜¯ä»¥ <strong>è¡Œåº</strong> ä¸ºä¸»åºçš„å­˜å‚¨æ–¹æ³•ã€‚</p><p>æ•°ç»„å…ƒç´ çš„å­˜å‚¨ä½ç½®æ˜¯ <strong>ä¸‹æ ‡</strong> çš„çº¿æ€§å‡½æ•°ï¼Œå‡è®¾äºŒç»´æ•°ç»„ <code>a[m][n]</code>ï¼Œå¦‚æœæ¯ä¸ªå…ƒç´ å  <code>k</code> ä¸ªå­˜å‚¨å•å…ƒï¼Œåˆ™æœ‰ï¼š</p><ul><li>è¡Œåºä½ç½®ï¼š<code>loc[i,j] = loc[0,0] + (n*i+j)*k</code>ï¼›</li><li>åˆ—åºä½ç½®ï¼š<code>loc[i,j] = loc[0,0] + (m*j+i)*k</code>ï¼›</li></ul><h3 id=çŸ©é˜µçš„å‹ç¼©å­˜å‚¨>çŸ©é˜µçš„å‹ç¼©å­˜å‚¨</h3><p><strong>çŸ©é˜µçš„å‹ç¼©å­˜å‚¨</strong>ï¼šåœ¨æ•°å€¼åˆ†æä¸­ç»å¸¸å‡ºç°ä¸€äº›é«˜é˜¶çŸ©é˜µï¼Œè¿™äº›é«˜é˜¶çŸ©é˜µä¸­æœ‰è®¸å¤šå€¼ç›¸åŒçš„å…ƒç´ æˆ–é›¶å…ƒç´ ï¼Œä¸ºäº†èŠ‚çœå­˜å‚¨ç©ºé—´ï¼Œå¯¹è¿™ç±»çŸ©é˜µé‡‡ç”¨å¤šä¸ªå€¼ç›¸åŒçš„å…ƒç´ åªåˆ†é…ä¸€ä¸ªå­˜å‚¨ç©ºé—´ï¼Œé›¶å…ƒç´ ä¸å­˜å‚¨çš„ç­–ç•¥ï¼Œç§°ä¸ºçŸ©é˜µçš„å‹ç¼©å­˜å‚¨ã€‚</p><h4 id=ç‰¹æ®ŠçŸ©é˜µ>ç‰¹æ®ŠçŸ©é˜µ</h4><p>å¦‚æœå€¼ç›¸åŒçš„å…ƒç´ æˆ–é›¶å…ƒç´ åœ¨çŸ©é˜µä¸­çš„åˆ†å¸ƒæœ‰ä¸€å®šè§„å¾‹ï¼Œç§°æ­¤çŸ©é˜µä¸º <strong>ç‰¹æ®ŠçŸ©é˜µ</strong>ã€‚</p><h5 id=å¯¹ç§°çŸ©é˜µ>å¯¹ç§°çŸ©é˜µ</h5><p><strong>å¯¹ç§°çŸ©é˜µ</strong>ï¼šè‹¥æœ‰ä¸€ä¸ª <strong>n</strong> é˜¶æ–¹é˜µ <strong>A</strong> ä¸­çš„å…ƒç´ æ»¡è¶³ <strong>a<sub>ij</sub>= a<sub>ji</sub>(0&lt;=i, j&lt;=n-1>)</strong>ï¼Œåˆ™ç§° <strong>A</strong> ä¸ºå¯¹ç§°çŸ©é˜µã€‚</p><p>å¯¹ç§°çŸ©é˜µæœ‰è¿‘ä¸€åŠçš„å…ƒç´ å¯ä»¥é€šè¿‡å…¶å¯¹ç§°å…ƒç´ è·å¾—ï¼Œä¸ºæ¯ä¸€å¯¹å¯¹ç§°å…ƒç´ åªåˆ†é…ä¸€ä¸ªå­˜å‚¨å•å…ƒï¼Œåˆ™å¯å°† <strong>n<sup>2</sup></strong> ä¸ªå…ƒç´ å‹ç¼©å­˜å‚¨åˆ° <strong>n(n+1)/2</strong> ä¸ªå…ƒç´ çš„ä¸€ç»´æ•°ç»„ä¸­ã€‚</p><p>è®¾çŸ©é˜µå…ƒç´  <strong>a<sub>ij</sub></strong> åœ¨æ•°ç»„ <strong>M</strong> ä¸­çš„ä½ç½®ä¸º <strong>k</strong>ï¼Œ<strong>(i, k)</strong> å’Œ <strong>k</strong> å­˜åœ¨å¦‚ä¸‹å¯¹åº”å…³ç³»ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>    â§ i<span class=o>(</span>i+1<span class=o>)</span>/2+j <span class=o>(</span>i&gt;<span class=o>=</span>j<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=nv>k</span> <span class=o>=</span> â¨
</span></span><span class=line><span class=cl>    â© j<span class=o>(</span>j+1<span class=o>)</span>/2+i <span class=o>(</span>i&lt;j<span class=o>)</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=ä¸‰è§’çŸ©é˜µ>ä¸‰è§’çŸ©é˜µ</h5><p><strong>ä¸‰è§’çŸ©é˜µ</strong>ï¼šä»¥ä¸»å¯¹è§’çº¿ä¸ºç•Œçš„ä¸Šï¼ˆä¸‹ï¼‰åŠéƒ¨åˆ†æ˜¯ä¸€ä¸ªå›ºå®šçš„å€¼ <strong>c</strong> æˆ–é›¶ï¼Œè¿™æ ·çš„çŸ©é˜µå«åšä¸‹ï¼ˆä¸Šï¼‰ä¸‰è§’çŸ©é˜µã€‚</p><ul><li>ä¸Šä¸‰è§’çŸ©é˜µï¼š</li></ul><p>ä¸Šä¸‰è§’çŸ©é˜µä¸­ï¼Œ<strong>M[k]</strong> å’Œ <strong>a<sub>ij</sub></strong> çš„å¯¹åº”å…³ç³»æ˜¯ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>    â§ i<span class=o>(</span>2n-i+1<span class=o>)</span>/2+j-i <span class=o>(</span>i&lt;<span class=o>=</span>j<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=nv>k</span> <span class=o>=</span> â¨
</span></span><span class=line><span class=cl>    â© n<span class=o>(</span>n+1<span class=o>)</span>/2 <span class=o>(</span>i&gt;j<span class=o>)</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>ä¸‹ä¸‰è§’çŸ©é˜µï¼š</li></ul><p>ä¸‹ä¸‰è§’çŸ©é˜µä¸­ï¼Œ<strong>M[k]</strong> å’Œ <strong>a<sub>ij</sub></strong> çš„å¯¹åº”å…³ç³»æ˜¯ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>    â§ i<span class=o>(</span>i+1<span class=o>)</span>/2+j <span class=o>(</span>i&gt;<span class=o>=</span>j<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=nv>k</span> <span class=o>=</span> â¨
</span></span><span class=line><span class=cl>    â© n<span class=o>(</span>n+1<span class=o>)</span>/2 <span class=o>(</span>i&lt;j<span class=o>)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=ç¨€ç–çŸ©é˜µ>ç¨€ç–çŸ©é˜µ</h4><p>å‡è®¾ <strong>m</strong> è¡Œ <strong>n</strong> åˆ—çš„çŸ©é˜µæœ‰ <strong>t</strong> ä¸ªéé›¶å…ƒç´ ï¼Œå½“ <strong>t&lt;=m*n</strong> æ—¶ï¼Œåˆ™ç§°çŸ©é˜µä¸º <strong>ç¨€ç–çŸ©é˜µï¼ˆSparse Matrixï¼‰</strong>ï¼Œç¨€ç–çŸ©é˜µä¸­éé›¶å…ƒç´ çš„ä¸ªæ•°å¾ˆå°‘ã€‚</p><h2 id=ä¹ é¢˜>ä¹ é¢˜</h2><ol><li>è®¾ä¸€ä¸ªé“¾æ ˆçš„è¾“å…¥åºåˆ—ä¸º Aã€Bã€Cï¼Œè¯•å†™å‡ºæ‰€æœ‰å¾—åˆ°çš„å¯èƒ½è¾“å‡ºåºåˆ—ï¼Œå³è¾“å‡ºå‡ºæ ˆæ“ä½œå¾—åˆ°çš„æ•°æ®å…ƒç´ åºåˆ—ã€‚</li></ol><p>å…±æœ‰ 5 ç§å¯èƒ½çš„è¾“å‡ºåºåˆ—ï¼š</p><ul><li><strong>ABC</strong>ï¼ŒA è¿› A å‡ºï¼ŒB è¿› B å‡ºï¼ŒC è¿› C å‡ºï¼›</li><li><strong>BCA</strong>ï¼ŒA è¿› B è¿›ï¼ŒB å‡º C è¿›ï¼ŒC å‡º A å‡ºï¼›</li><li><strong>BAC</strong>ï¼ŒA è¿› B è¿›ï¼ŒB å‡º A å‡ºï¼ŒC è¿› C å‡ºï¼›</li><li><strong>CBA</strong>ï¼ŒA è¿› B è¿›ï¼ŒC è¿› C å‡ºï¼ŒB å‡º A å‡ºï¼›</li><li><strong>ACB</strong>ï¼ŒA è¿› A å‡ºï¼ŒB è¿› C è¿›ï¼ŒC å‡º B å‡ºï¼›</li></ul><ol start=2><li>å†™å‡ºä¸‹åˆ—ç¨‹åºçš„è¿è¡Œç»“æœã€‚</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;stack.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;stdio.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;stdlib.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>char</span> <span class=n>ch</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>ArrayStack</span> <span class=o>*</span><span class=n>stack</span> <span class=o>=</span> <span class=n>CreateArrayStack</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=n>ch</span> <span class=o>=</span> <span class=sc>&#39;A&#39;</span><span class=p>;</span> <span class=n>ch</span> <span class=o>&lt;=</span> <span class=sc>&#39;A&#39;</span> <span class=o>+</span> <span class=mi>10</span><span class=p>;</span> <span class=n>ch</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>PushArrayStack</span><span class=p>(</span><span class=n>stack</span><span class=p>,</span> <span class=n>ch</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>printf</span><span class=p>(</span><span class=s>&#34;%c&#34;</span><span class=p>,</span> <span class=n>ch</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>IsEmptyArrayStack</span><span class=p>(</span><span class=n>stack</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ch</span> <span class=o>=</span> <span class=n>GetTopArrayStack</span><span class=p>(</span><span class=n>stack</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>PopArrayStack</span><span class=p>(</span><span class=n>stack</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>printf</span><span class=p>(</span><span class=s>&#34;%c&#34;</span><span class=p>,</span> <span class=n>ch</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ABCDEFGHIJK
</span></span><span class=line><span class=cl>KJIHGFEDCBA
</span></span></code></pre></td></tr></table></div></div><ol start=3><li>è®¾æœ‰äºŒç»´æ•°ç»„ <code>int M[10][20]</code>ï¼Œæ¯ä¸ªå…ƒç´ ï¼ˆæ•´æ•°ï¼‰å  2 ä¸ªå­˜å‚¨å•å…ƒï¼Œæ•°ç»„çš„èµ·å§‹åœ°å€ä¸º 2000ï¼Œæ±‚å…ƒç´  <code>M[5][10]</code> çš„å­˜å‚¨ä½ç½®ï¼Œ<code>M[8][19]</code> çš„å­˜å‚¨ä½ç½®ã€‚</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>M<span class=o>[</span>5<span class=o>][</span>10<span class=o>]</span> <span class=o>=</span> 2000+<span class=o>(</span>20*5+10<span class=o>)</span>*2 <span class=o>=</span> <span class=m>2220</span>
</span></span><span class=line><span class=cl>M<span class=o>[</span>8<span class=o>][</span>19<span class=o>]</span> <span class=o>=</span> 2000+<span class=o>(</span>20*8+19<span class=o>)</span>*2 <span class=o>=</span> <span class=m>2358</span>
</span></span></code></pre></td></tr></table></div></div><ol start=4><li>ä½¿ç”¨ä¸€ä¸ªå…ƒç´ ä¸ªæ•°ä¸º 100 çš„æ•°ç»„å­˜å‚¨å¾ªç¯é˜Ÿåˆ—ï¼Œå¦‚æœé‡‡å–å°‘ç”¨ä¸€ä¸ªå…ƒç´ ç©ºé—´çš„æ–¹æ³•æ¥åŒºåˆ«å¾ªç¯é˜Ÿåˆ—çš„é˜Ÿåˆ—ç©ºå’Œé˜Ÿåˆ—æ»¡ï¼Œçº¦å®šé˜Ÿåˆ—é¦–æŒ‡é’ˆ <code>front</code> ç­‰äºé˜Ÿåˆ—å°¾æŒ‡é’ˆ <code>rear</code> æ—¶è¡¨ç¤ºé˜Ÿåˆ—ä¸ºç©ºã€‚è‹¥ <code>front=8, rear=7</code> æ—¶ï¼Œæ±‚é˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸ªæ•°ã€‚</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>é˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸ªæ•° <span class=o>=</span> <span class=o>(</span>7-8+100<span class=o>)</span>%100 <span class=o>=</span> <span class=m>99</span>
</span></span></code></pre></td></tr></table></div></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>æ›´æ–°äº 2022-05-14</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="åˆ†äº«åˆ° Twitter" data-sharer=twitter data-url=https://imajinyun.xyz/posts/ds-stack-queue/ data-title=æ ˆå’Œé˜Ÿåˆ— data-hashtags="Data Structure & Algorithm"><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="åˆ†äº«åˆ° Facebook" data-sharer=facebook data-url=https://imajinyun.xyz/posts/ds-stack-queue/ data-hashtag="Data Structure & Algorithm"><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="åˆ†äº«åˆ° Hacker News" data-sharer=hackernews data-url=https://imajinyun.xyz/posts/ds-stack-queue/ data-title=æ ˆå’Œé˜Ÿåˆ—><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="åˆ†äº«åˆ° Line" data-sharer=line data-url=https://imajinyun.xyz/posts/ds-stack-queue/ data-title=æ ˆå’Œé˜Ÿåˆ—><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="åˆ†äº«åˆ° å¾®åš" data-sharer=weibo data-url=https://imajinyun.xyz/posts/ds-stack-queue/ data-title=æ ˆå’Œé˜Ÿåˆ—><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=https://imajinyun.xyz/tags/data-structure-algorithm/>Data Structure & Algorithm</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>è¿”å›</a></span>&nbsp;|&nbsp;<span><a href=https://imajinyun.xyz/>ä¸»é¡µ</a></span></section></div><div class=post-nav><a href=https://imajinyun.xyz/posts/ds-linear-list/ class=prev rel=prev title=çº¿æ€§è¡¨><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>çº¿æ€§è¡¨</a>
<a href=https://imajinyun.xyz/posts/go-grpc/ class=next rel=next title="Go gRPC">Go gRPC<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>ç”± <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.111.3">Hugo</a> å¼ºåŠ›é©±åŠ¨ | ä¸»é¢˜ - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2018 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://imajinyun.xyz/ target=_blank></a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=å›åˆ°é¡¶éƒ¨><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title=æŸ¥çœ‹è¯„è®º><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/algoliasearch@4.13.1/dist/algoliasearch-lite.umd.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"å¤åˆ¶åˆ°å‰ªè´´æ¿",maxShownLines:50},comment:{},search:{algoliaAppID:"MY71JUZ8GH",algoliaIndex:"prod-notes",algoliaSearchKey:"6343a8bc3a547e45d8ea9b9c340842fc",highlightTag:"em",maxResultLength:10,noResultsFound:"æ²¡æœ‰æ‰¾åˆ°ç»“æœ",snippetLength:30,type:"algolia"}}</script><script type=text/javascript src=https://imajinyun.xyz/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-4TWZ0BV77P",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=G-4TWZ0BV77P" async></script></body></html>