<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Linux crontab å‘½ä»¤ - Jinyun's Notes</title><meta name=Description content="è¿›ä¸€å¯¸æœ‰è¿›ä¸€å¯¸çš„æ¬¢å–œï¼Œé€€ä¸€æ­¥æœ‰é€€ä¸€æ­¥çš„ä»å®¹"><meta property="og:title" content="Linux crontab å‘½ä»¤"><meta property="og:description" content="Crontab å‘½ä»¤è¢«ç”¨æ¥æäº¤å’Œç®¡ç†ç”¨æˆ·çš„éœ€è¦å‘¨æœŸæ€§æ‰§è¡Œçš„ä»»åŠ¡ã€‚ ç®€ä»‹ é€šè¿‡ crontab å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å›ºå®šçš„é—´éš”æ—¶é—´æ‰§è¡ŒæŒ‡å®šçš„ç³»ç»ŸæŒ‡ä»¤æˆ– shell script è„šæœ¬ã€‚æ—¶é—´é—´éš”çš„å•ä½å¯ä»¥æ˜¯"><meta property="og:type" content="article"><meta property="og:url" content="https://imajinyun.xyz/2019/12/29/linux-crontab-command/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-12-29T11:26:32+08:00"><meta property="article:modified_time" content="2019-12-29T11:26:32+08:00"><meta property="og:site_name" content="Jinyun's Notes"><meta property="og:see_also" content="https://imajinyun.xyz/2021/01/21/linux-network-io-model/"><meta property="og:see_also" content="https://imajinyun.xyz/2019/12/04/linux-network-conf-tools/"><meta property="og:see_also" content="https://imajinyun.xyz/2019/01/02/linux-shadowsocks/"><meta property="og:see_also" content="https://imajinyun.xyz/2018/02/13/linux-common-command/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Linux crontab å‘½ä»¤"><meta name=twitter:description content="Crontab å‘½ä»¤è¢«ç”¨æ¥æäº¤å’Œç®¡ç†ç”¨æˆ·çš„éœ€è¦å‘¨æœŸæ€§æ‰§è¡Œçš„ä»»åŠ¡ã€‚ ç®€ä»‹ é€šè¿‡ crontab å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å›ºå®šçš„é—´éš”æ—¶é—´æ‰§è¡ŒæŒ‡å®šçš„ç³»ç»ŸæŒ‡ä»¤æˆ– shell script è„šæœ¬ã€‚æ—¶é—´é—´éš”çš„å•ä½å¯ä»¥æ˜¯"><meta name=application-name content="è¿›ä¸€å¯¸æœ‰è¿›ä¸€å¯¸çš„æ¬¢å–œï¼Œé€€ä¸€æ­¥æœ‰é€€ä¸€æ­¥çš„ä»å®¹"><meta name=apple-mobile-web-app-title content="è¿›ä¸€å¯¸æœ‰è¿›ä¸€å¯¸çš„æ¬¢å–œï¼Œé€€ä¸€æ­¥æœ‰é€€ä¸€æ­¥çš„ä»å®¹"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=https://inotes.oss-cn-beijing.aliyuncs.com/common/201812/logo.svg><link rel=apple-touch-icon sizes=180x180 href=https://imajinyun.xyz/apple-touch-icon.png><link rel=mask-icon href=https://imajinyun.xyz/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=https://imajinyun.xyz/site.webmanifest><link rel=canonical href=https://imajinyun.xyz/2019/12/29/linux-crontab-command/><link rel=prev href=https://imajinyun.xyz/2019/12/04/linux-network-conf-tools/><link rel=next href=https://imajinyun.xyz/2020/01/16/redis-cluster/><link rel=stylesheet href=https://imajinyun.xyz/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Linux crontab å‘½ä»¤","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/imajinyun.xyz\/2019\/12\/29\/linux-crontab-command\/"},"genre":"posts","keywords":"Linux","wordcount":1232,"url":"https:\/\/imajinyun.xyz\/2019\/12\/29\/linux-crontab-command\/","datePublished":"2019-12-29T11:26:32+08:00","dateModified":"2019-12-29T11:26:32+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"ä½œè€…"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=https://imajinyun.xyz/ title="Jinyun's Notes"><span class=header-title-pre><i class='fa fa-charging-station'></i></span>Jinyun's Notes</a></div><div class=menu><div class=menu-inner><a class=menu-item href=https://imajinyun.xyz/posts/><i class='fa-solid fa-sun'></i> ç¬”è®° </a><a class=menu-item href=https://imajinyun.xyz/tags/><i class='fa-solid fa-tags'></i> æ ‡ç­¾ </a><a class=menu-item href=https://imajinyun.xyz/categories/><i class='fa-solid fa-layer-group'></i> åˆ†ç±» </a><a class=menu-item href=https://imajinyun.xyz/docs/><i class='fa-solid fa-file-word'></i> æ–‡æ¡£ </a><a class=menu-item href=https://imajinyun.xyz/links/><i class='fa fa-link'></i> å‹é“¾ </a><a class=menu-item href=https://imajinyun.xyz/about/><i class='fa fa-paper-plane'></i> å…³äº </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="ğŸ¶ Enter keyword search..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=æœç´¢><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=æ¸…ç©º><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=https://imajinyun.xyz/ title="Jinyun's Notes"><span class=header-title-pre><i class='fa fa-charging-station'></i></span>Jinyun's Notes</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="ğŸ¶ Enter keyword search..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=æœç´¢><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=æ¸…ç©º><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>å–æ¶ˆ</a></div><a class=menu-item href=https://imajinyun.xyz/posts/ title><i class='fa-solid fa-sun'></i>ç¬”è®°</a><a class=menu-item href=https://imajinyun.xyz/tags/ title><i class='fa-solid fa-tags'></i>æ ‡ç­¾</a><a class=menu-item href=https://imajinyun.xyz/categories/ title><i class='fa-solid fa-layer-group'></i>åˆ†ç±»</a><a class=menu-item href=https://imajinyun.xyz/docs/ title><i class='fa-solid fa-file-word'></i>æ–‡æ¡£</a><a class=menu-item href=https://imajinyun.xyz/links/ title><i class='fa fa-link'></i>å‹é“¾</a><a class=menu-item href=https://imajinyun.xyz/about/ title><i class='fa fa-paper-plane'></i>å…³äº</a><a href=javascript:void(0); class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>ç›®å½•</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Linux crontab å‘½ä»¤</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://imajinyun.xyz/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>ä½œè€…</a></span>&nbsp;<span class=post-category>æ”¶å½•äº <a href=https://imajinyun.xyz/categories/linux/><i class="far fa-folder fa-fw" aria-hidden=true></i>Linux</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2019-12-29>2019-12-29</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;çº¦ 1232 å­—&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;é¢„è®¡é˜…è¯» 3 åˆ†é’Ÿ&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>ç›®å½•</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#ç®€ä»‹>ç®€ä»‹</a></li><li><a href=#é€‰é¡¹>é€‰é¡¹</a></li><li><a href=#ä»»åŠ¡è°ƒåº¦>ä»»åŠ¡è°ƒåº¦</a><ul><li><a href=#ç³»ç»Ÿä»»åŠ¡è°ƒåº¦>ç³»ç»Ÿä»»åŠ¡è°ƒåº¦</a></li><li><a href=#ç”¨æˆ·ä»»åŠ¡è°ƒåº¦>ç”¨æˆ·ä»»åŠ¡è°ƒåº¦</a></li></ul></li><li><a href=#æ–‡ä»¶æ ¼å¼>æ–‡ä»¶æ ¼å¼</a></li><li><a href=#ä½¿ç”¨å®ä¾‹>ä½¿ç”¨å®ä¾‹</a><ul><li><a href=#æ¯-1-åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡å‘½ä»¤>æ¯ 1 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡å‘½ä»¤</a></li><li><a href=#æ¯å°æ—¶çš„ç¬¬-3-å’Œç¬¬-15-åˆ†é’Ÿæ‰§è¡Œ>æ¯å°æ—¶çš„ç¬¬ 3 å’Œç¬¬ 15 åˆ†é’Ÿæ‰§è¡Œ</a></li><li><a href=#ä¸Šåˆ-8-ç‚¹åˆ°-11-ç‚¹çš„ç¬¬-3-å’Œç¬¬-15-åˆ†é’Ÿæ‰§è¡Œ>ä¸Šåˆ 8 ç‚¹åˆ° 11 ç‚¹çš„ç¬¬ 3 å’Œç¬¬ 15 åˆ†é’Ÿæ‰§è¡Œ</a></li><li><a href=#æ¯éš”ä¸¤å¤©çš„ä¸Šåˆ-8-ç‚¹åˆ°-11-ç‚¹çš„ç¬¬-3-å’Œç¬¬-15-åˆ†é’Ÿæ‰§è¡Œ>æ¯éš”ä¸¤å¤©çš„ä¸Šåˆ 8 ç‚¹åˆ° 11 ç‚¹çš„ç¬¬ 3 å’Œç¬¬ 15 åˆ†é’Ÿæ‰§è¡Œ</a></li><li><a href=#æ¯ä¸ªæ˜ŸæœŸä¸€çš„ä¸Šåˆ-8-ç‚¹åˆ°-11-ç‚¹çš„ç¬¬-3-å’Œç¬¬-15-åˆ†é’Ÿæ‰§è¡Œ>æ¯ä¸ªæ˜ŸæœŸä¸€çš„ä¸Šåˆ 8 ç‚¹åˆ° 11 ç‚¹çš„ç¬¬ 3 å’Œç¬¬ 15 åˆ†é’Ÿæ‰§è¡Œ</a></li><li><a href=#æ¯æ™šçš„-2130-é‡å¯-smb>æ¯æ™šçš„ 21:30 é‡å¯ smb</a></li><li><a href=#æ¯æœˆ-11022-æ—¥çš„-445-é‡å¯-smb>æ¯æœˆ 1ã€10ã€22 æ—¥çš„ 4:45 é‡å¯ smb</a></li><li><a href=#æ¯å‘¨å…­å‘¨æ—¥çš„-110-é‡å¯-smb>æ¯å‘¨å…­ã€å‘¨æ—¥çš„ 1:10 é‡å¯ smb</a></li><li><a href=#æ¯å¤©-1800-è‡³-2300-ä¹‹é—´æ¯éš”-30-åˆ†é’Ÿé‡å¯-smb>æ¯å¤© 18:00 è‡³ 23:00 ä¹‹é—´æ¯éš” 30 åˆ†é’Ÿé‡å¯ smb</a></li><li><a href=#æ¯æ˜ŸæœŸå…­çš„æ™šä¸Š-1100-pm-é‡å¯-smb>æ¯æ˜ŸæœŸå…­çš„æ™šä¸Š 11:00 PM é‡å¯ smb</a></li><li><a href=#æ¯ä¸€å°æ—¶é‡å¯-smb>æ¯ä¸€å°æ—¶é‡å¯ smb</a></li><li><a href=#æ™šä¸Š-11-ç‚¹åˆ°æ—©ä¸Š-7-ç‚¹ä¹‹é—´æ¯éš”ä¸€å°æ—¶é‡å¯-smb>æ™šä¸Š 11 ç‚¹åˆ°æ—©ä¸Š 7 ç‚¹ä¹‹é—´ï¼Œæ¯éš”ä¸€å°æ—¶é‡å¯ smb</a></li><li><a href=#æ¯æœˆçš„-4-å·ä¸æ¯å‘¨ä¸€åˆ°å‘¨ä¸‰çš„-11-ç‚¹é‡å¯-smb>æ¯æœˆçš„ 4 å·ä¸æ¯å‘¨ä¸€åˆ°å‘¨ä¸‰çš„ 11 ç‚¹é‡å¯ smb</a></li><li><a href=#ä¸€æœˆä¸€å·çš„-4-ç‚¹é‡å¯-smb>ä¸€æœˆä¸€å·çš„ 4 ç‚¹é‡å¯ smb</a></li><li><a href=#æ¯å°æ—¶æ‰§è¡Œ-etccronhourly-ç›®å½•å†…çš„è„šæœ¬>æ¯å°æ—¶æ‰§è¡Œ /etc/cron.hourly ç›®å½•å†…çš„è„šæœ¬</a></li></ul></li></ul></nav></div></div><div class=content id=content><p>Crontab å‘½ä»¤è¢«ç”¨æ¥æäº¤å’Œç®¡ç†ç”¨æˆ·çš„éœ€è¦å‘¨æœŸæ€§æ‰§è¡Œçš„ä»»åŠ¡ã€‚</p><h2 id=ç®€ä»‹>ç®€ä»‹</h2><p>é€šè¿‡ <strong>crontab</strong> å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å›ºå®šçš„é—´éš”æ—¶é—´æ‰§è¡ŒæŒ‡å®šçš„ç³»ç»ŸæŒ‡ä»¤æˆ– shell script è„šæœ¬ã€‚æ—¶é—´é—´éš”çš„å•ä½å¯ä»¥æ˜¯åˆ†é’Ÿã€å°æ—¶ã€æ—¥ã€æœˆã€å‘¨åŠä»¥ä¸Šçš„ä»»æ„ç»„åˆã€‚è¿™ä¸ªå‘½ä»¤éå¸¸é€‚åˆå‘¨æœŸæ€§çš„æ—¥å¿—åˆ†ææˆ–æ•°æ®å¤‡ä»½ç­‰å·¥ä½œã€‚</p><h2 id=é€‰é¡¹>é€‰é¡¹</h2><ul><li><code>-e</code>ï¼šç¼–è¾‘è¯¥ç”¨æˆ·çš„è®¡æ—¶å™¨è®¾ç½®ï¼›</li><li><code>-l</code>ï¼šåˆ—å‡ºè¯¥ç”¨æˆ·çš„è®¡æ—¶å™¨è®¾ç½®ï¼›</li><li><code>-r</code>ï¼šåˆ é™¤è¯¥ç”¨æˆ·çš„è®¡æ—¶å™¨è®¾ç½®ï¼›</li><li><code>-u&lt;username></code>ï¼šæŒ‡å®šè¦è®¾å®šè®¡æ—¶å™¨çš„ç”¨æˆ·åç§°ã€‚</li></ul><h2 id=ä»»åŠ¡è°ƒåº¦>ä»»åŠ¡è°ƒåº¦</h2><h3 id=ç³»ç»Ÿä»»åŠ¡è°ƒåº¦>ç³»ç»Ÿä»»åŠ¡è°ƒåº¦</h3><p><strong>ç³»ç»Ÿä»»åŠ¡è°ƒåº¦</strong> æ˜¯ç³»ç»Ÿå‘¨æœŸæ€§æ‰€è¦æ‰§è¡Œçš„å·¥ä½œï¼Œæ¯”å¦‚å†™ç¼“å­˜æ•°æ®åˆ°ç¡¬ç›˜ã€æ—¥å¿—æ¸…ç†ç­‰ã€‚åœ¨ <code>/etc</code> ç›®å½•ä¸‹æœ‰ä¸€ä¸ª crontab æ–‡ä»¶ï¼Œè¿™ä¸ªå°±æ˜¯ç³»ç»Ÿä»»åŠ¡è°ƒåº¦çš„é…ç½®æ–‡ä»¶ã€‚</p><p><code>/etc/crontab</code> æ–‡ä»¶åŒ…æ‹¬ä¸‹é¢å‡ è¡Œï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>SHELL</span><span class=o>=</span>/bin/bash <span class=c1># SHELLå˜é‡æŒ‡å®šäº†ç³»ç»Ÿè¦ä½¿ç”¨å“ªä¸ª shellï¼Œè¿™é‡Œæ˜¯ bash</span>
</span></span><span class=line><span class=cl><span class=nv>PATH</span><span class=o>=</span>/sbin:/bin:/usr/sbin:/usr/bin <span class=c1># PATH å˜é‡æŒ‡å®šäº†ç³»ç»Ÿæ‰§è¡Œå‘½ä»¤çš„è·¯å¾„</span>
</span></span><span class=line><span class=cl><span class=nv>MAILTO</span><span class=o>=</span><span class=s2>&#34;&#34;</span> <span class=c1># MAILTO å˜é‡æŒ‡å®šäº† crond çš„ä»»åŠ¡æ‰§è¡Œä¿¡æ¯å°†é€šè¿‡ç”µå­é‚®ä»¶å‘é€ç»™ root ç”¨æˆ·ï¼Œå¦‚æœ MAILTO å˜é‡çš„å€¼ä¸ºç©ºï¼Œåˆ™è¡¨ç¤ºä¸å‘é€ä»»åŠ¡æ‰§è¡Œä¿¡æ¯ç»™ç”¨æˆ·</span>
</span></span><span class=line><span class=cl><span class=nv>HOME</span><span class=o>=</span>/ <span class=c1># HOME å˜é‡æŒ‡å®šäº†åœ¨æ‰§è¡Œå‘½ä»¤æˆ–è€…è„šæœ¬æ—¶ä½¿ç”¨çš„ä¸»ç›®å½•</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># run-parts</span>
</span></span><span class=line><span class=cl><span class=m>51</span> * * * * root run-parts /etc/cron.hourly
</span></span><span class=line><span class=cl><span class=m>24</span> <span class=m>7</span> * * * root run-parts /etc/cron.daily
</span></span><span class=line><span class=cl><span class=m>22</span> <span class=m>4</span> * * <span class=m>0</span> root run-parts /etc/cron.weekly
</span></span><span class=line><span class=cl><span class=m>42</span> <span class=m>4</span> <span class=m>1</span> * * root run-parts /etc/cron.monthly
</span></span></code></pre></td></tr></table></div></div><h3 id=ç”¨æˆ·ä»»åŠ¡è°ƒåº¦>ç”¨æˆ·ä»»åŠ¡è°ƒåº¦</h3><p><strong>ç”¨æˆ·ä»»åŠ¡è°ƒåº¦</strong> æ˜¯ç”¨æˆ·å®šæœŸè¦æ‰§è¡Œçš„å·¥ä½œï¼Œæ¯”å¦‚ç”¨æˆ·æ•°æ®å¤‡ä»½ã€å®šæ—¶é‚®ä»¶æé†’ç­‰ã€‚ç”¨æˆ·å¯ä»¥ä½¿ç”¨ crontab å·¥å…·æ¥å®šåˆ¶è‡ªå·±çš„è®¡åˆ’ä»»åŠ¡ã€‚æ‰€æœ‰ç”¨æˆ·å®šä¹‰çš„ crontab æ–‡ä»¶éƒ½è¢«ä¿å­˜åœ¨ <code>/var/spool/cron</code> ç›®å½•ä¸­ã€‚å…¶æ–‡ä»¶åä¸ç”¨æˆ·åä¸€è‡´ï¼Œä½¿ç”¨è€…æƒé™æ–‡ä»¶å¦‚ä¸‹ï¼š</p><blockquote><ul><li>/etc/cron.deny è¯¥æ–‡ä»¶ä¸­æ‰€åˆ—ç”¨æˆ·ä¸å…è®¸ä½¿ç”¨ crontab å‘½ä»¤ï¼›</li><li>/etc/cron.allow è¯¥æ–‡ä»¶ä¸­æ‰€åˆ—ç”¨æˆ·å…è®¸ä½¿ç”¨ crontab å‘½ä»¤ï¼›</li><li>/var/spool/cron/ æ‰€æœ‰ç”¨æˆ· crontab æ–‡ä»¶å­˜æ”¾çš„ç›®å½•ï¼Œä»¥ç”¨æˆ·åå‘½åã€‚</li></ul></blockquote><h2 id=æ–‡ä»¶æ ¼å¼>æ–‡ä»¶æ ¼å¼</h2><p><img class=lazyload src=https://imajinyun.xyz/svg/loading.min.svg data-src=https://inotes.oss-cn-beijing.aliyuncs.com/202003/202003151135.png data-srcset="https://inotes.oss-cn-beijing.aliyuncs.com/202003/202003151135.png, https://inotes.oss-cn-beijing.aliyuncs.com/202003/202003151135.png 1.5x, https://inotes.oss-cn-beijing.aliyuncs.com/202003/202003151135.png 2x" data-sizes=auto alt=https://inotes.oss-cn-beijing.aliyuncs.com/202003/202003151135.png title=202003151135.png></p><p>åœ¨ä»¥ä¸Šå„ä¸ªå­—æ®µä¸­ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç‰¹æ®Šå­—ç¬¦ï¼š</p><blockquote><ul><li><code>*</code>ï¼šä»£è¡¨æ‰€æœ‰å¯èƒ½çš„å€¼ï¼Œä¾‹å¦‚ month å­—æ®µå¦‚æœæ˜¯æ˜Ÿå·ï¼Œåˆ™è¡¨ç¤ºåœ¨æ»¡è¶³å…¶å®ƒå­—æ®µçš„åˆ¶çº¦æ¡ä»¶åæ¯æœˆéƒ½æ‰§è¡Œè¯¥å‘½ä»¤æ“ä½œï¼›</li><li><code>,</code>ï¼šå¯ä»¥ç”¨é€—å·éš”å¼€çš„å€¼æŒ‡å®šä¸€ä¸ªåˆ—è¡¨èŒƒå›´ï¼Œä¾‹å¦‚ï¼š<code>1,2,5,7,8,9</code>ï¼›</li><li><code>-</code>ï¼šå¯ä»¥ç”¨æ•´æ•°ä¹‹é—´çš„ä¸­æ è¡¨ç¤ºä¸€ä¸ªæ•´æ•°èŒƒå›´ï¼Œä¾‹å¦‚ï¼š<code>2-6</code> è¡¨ç¤º <code>2,3,4,5,6</code>ï¼›</li><li><code>/</code>ï¼šå¯ä»¥ç”¨æ­£æ–œçº¿æŒ‡å®šæ—¶é—´çš„é—´éš”é¢‘ç‡ï¼Œä¾‹å¦‚ï¼š<code>0-23/2</code> è¡¨ç¤ºæ¯ä¸¤å°æ—¶æ‰§è¡Œä¸€æ¬¡ã€‚åŒæ—¶æ­£æ–œçº¿å¯ä»¥å’Œæ˜Ÿå·ä¸€èµ·ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š<code>*/10</code>ï¼Œå¦‚æœç”¨åœ¨ minute å­—æ®µï¼Œè¡¨ç¤ºæ¯ååˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ã€‚</li></ul></blockquote><h2 id=ä½¿ç”¨å®ä¾‹>ä½¿ç”¨å®ä¾‹</h2><p>{% note info %}</p><p>æœ€å¥½åœ¨ <code>crontab</code> æ–‡ä»¶çš„æ¯ä¸€ä¸ªæ¡ç›®ä¹‹ä¸ŠåŠ å…¥ä¸€æ¡æ³¨é‡Šï¼Œè¿™æ ·å°±å¯ä»¥çŸ¥é“å®ƒçš„åŠŸèƒ½ã€è¿è¡Œæ—¶é—´ï¼Œæ›´ä¸ºé‡è¦çš„æ˜¯ï¼ŒçŸ¥é“è¿™æ˜¯å“ªä½ç”¨æˆ·çš„å®šæ—¶ä½œä¸šã€‚</p><p>{%endnote %}</p><h3 id=æ¯-1-åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡å‘½ä»¤>æ¯ 1 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡å‘½ä»¤</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>* * * * * <span class=nb>command</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=æ¯å°æ—¶çš„ç¬¬-3-å’Œç¬¬-15-åˆ†é’Ÿæ‰§è¡Œ>æ¯å°æ—¶çš„ç¬¬ 3 å’Œç¬¬ 15 åˆ†é’Ÿæ‰§è¡Œ</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>3,15 * * * * <span class=nb>command</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=ä¸Šåˆ-8-ç‚¹åˆ°-11-ç‚¹çš„ç¬¬-3-å’Œç¬¬-15-åˆ†é’Ÿæ‰§è¡Œ>ä¸Šåˆ 8 ç‚¹åˆ° 11 ç‚¹çš„ç¬¬ 3 å’Œç¬¬ 15 åˆ†é’Ÿæ‰§è¡Œ</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>3,15 8-11 * * * <span class=nb>command</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=æ¯éš”ä¸¤å¤©çš„ä¸Šåˆ-8-ç‚¹åˆ°-11-ç‚¹çš„ç¬¬-3-å’Œç¬¬-15-åˆ†é’Ÿæ‰§è¡Œ>æ¯éš”ä¸¤å¤©çš„ä¸Šåˆ 8 ç‚¹åˆ° 11 ç‚¹çš„ç¬¬ 3 å’Œç¬¬ 15 åˆ†é’Ÿæ‰§è¡Œ</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>3,15 8-11 */2 * * <span class=nb>command</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=æ¯ä¸ªæ˜ŸæœŸä¸€çš„ä¸Šåˆ-8-ç‚¹åˆ°-11-ç‚¹çš„ç¬¬-3-å’Œç¬¬-15-åˆ†é’Ÿæ‰§è¡Œ>æ¯ä¸ªæ˜ŸæœŸä¸€çš„ä¸Šåˆ 8 ç‚¹åˆ° 11 ç‚¹çš„ç¬¬ 3 å’Œç¬¬ 15 åˆ†é’Ÿæ‰§è¡Œ</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>3,15 8-11 * * <span class=m>1</span> <span class=nb>command</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=æ¯æ™šçš„-2130-é‡å¯-smb>æ¯æ™šçš„ 21:30 é‡å¯ smb</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=m>30</span> <span class=m>21</span> * * * /etc/init.d/smb restart
</span></span></code></pre></td></tr></table></div></div><h3 id=æ¯æœˆ-11022-æ—¥çš„-445-é‡å¯-smb>æ¯æœˆ 1ã€10ã€22 æ—¥çš„ 4:45 é‡å¯ smb</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=m>45</span> <span class=m>4</span> 1,10,22 * * /etc/init.d/smb restart
</span></span></code></pre></td></tr></table></div></div><h3 id=æ¯å‘¨å…­å‘¨æ—¥çš„-110-é‡å¯-smb>æ¯å‘¨å…­ã€å‘¨æ—¥çš„ 1:10 é‡å¯ smb</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=m>10</span> <span class=m>1</span> * * 6,0 /etc/init.d/smb restart
</span></span></code></pre></td></tr></table></div></div><h3 id=æ¯å¤©-1800-è‡³-2300-ä¹‹é—´æ¯éš”-30-åˆ†é’Ÿé‡å¯-smb>æ¯å¤© 18:00 è‡³ 23:00 ä¹‹é—´æ¯éš” 30 åˆ†é’Ÿé‡å¯ smb</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>0,30 18-23 * * * /etc/init.d/smb restart
</span></span></code></pre></td></tr></table></div></div><h3 id=æ¯æ˜ŸæœŸå…­çš„æ™šä¸Š-1100-pm-é‡å¯-smb>æ¯æ˜ŸæœŸå…­çš„æ™šä¸Š 11:00 PM é‡å¯ smb</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=m>0</span> <span class=m>23</span> * * <span class=m>6</span> /etc/init.d/smb restart
</span></span></code></pre></td></tr></table></div></div><h3 id=æ¯ä¸€å°æ—¶é‡å¯-smb>æ¯ä¸€å°æ—¶é‡å¯ smb</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>* */1 * * * /etc/init.d/smb restart
</span></span></code></pre></td></tr></table></div></div><h3 id=æ™šä¸Š-11-ç‚¹åˆ°æ—©ä¸Š-7-ç‚¹ä¹‹é—´æ¯éš”ä¸€å°æ—¶é‡å¯-smb>æ™šä¸Š 11 ç‚¹åˆ°æ—©ä¸Š 7 ç‚¹ä¹‹é—´ï¼Œæ¯éš”ä¸€å°æ—¶é‡å¯ smb</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>* 23-7/1 * * * /etc/init.d/smb restart
</span></span></code></pre></td></tr></table></div></div><h3 id=æ¯æœˆçš„-4-å·ä¸æ¯å‘¨ä¸€åˆ°å‘¨ä¸‰çš„-11-ç‚¹é‡å¯-smb>æ¯æœˆçš„ 4 å·ä¸æ¯å‘¨ä¸€åˆ°å‘¨ä¸‰çš„ 11 ç‚¹é‡å¯ smb</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=m>0</span> <span class=m>11</span> <span class=m>4</span> * mon-wed /etc/init.d/smb restart
</span></span></code></pre></td></tr></table></div></div><h3 id=ä¸€æœˆä¸€å·çš„-4-ç‚¹é‡å¯-smb>ä¸€æœˆä¸€å·çš„ 4 ç‚¹é‡å¯ smb</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=m>0</span> <span class=m>4</span> <span class=m>1</span> jan * /etc/init.d/smb restart
</span></span></code></pre></td></tr></table></div></div><h3 id=æ¯å°æ—¶æ‰§è¡Œ-etccronhourly-ç›®å½•å†…çš„è„šæœ¬>æ¯å°æ—¶æ‰§è¡Œ /etc/cron.hourly ç›®å½•å†…çš„è„šæœ¬</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=m>01</span> * * * * root run-parts /etc/cron.hourly
</span></span></code></pre></td></tr></table></div></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>æ›´æ–°äº 2019-12-29</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="åˆ†äº«åˆ° Twitter" data-sharer=twitter data-url=https://imajinyun.xyz/2019/12/29/linux-crontab-command/ data-title="Linux crontab å‘½ä»¤" data-hashtags=Linux><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="åˆ†äº«åˆ° Facebook" data-sharer=facebook data-url=https://imajinyun.xyz/2019/12/29/linux-crontab-command/ data-hashtag=Linux><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="åˆ†äº«åˆ° Hacker News" data-sharer=hackernews data-url=https://imajinyun.xyz/2019/12/29/linux-crontab-command/ data-title="Linux crontab å‘½ä»¤"><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="åˆ†äº«åˆ° Line" data-sharer=line data-url=https://imajinyun.xyz/2019/12/29/linux-crontab-command/ data-title="Linux crontab å‘½ä»¤"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="åˆ†äº«åˆ° å¾®åš" data-sharer=weibo data-url=https://imajinyun.xyz/2019/12/29/linux-crontab-command/ data-title="Linux crontab å‘½ä»¤"><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=https://imajinyun.xyz/tags/linux/>Linux</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>è¿”å›</a></span>&nbsp;|&nbsp;<span><a href=https://imajinyun.xyz/>ä¸»é¡µ</a></span></section></div><div class=post-nav><a href=https://imajinyun.xyz/2019/12/04/linux-network-conf-tools/ class=prev rel=prev title="Linux ç½‘ç»œé…ç½®å·¥å…·"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Linux ç½‘ç»œé…ç½®å·¥å…·</a>
<a href=https://imajinyun.xyz/2020/01/16/redis-cluster/ class=next rel=next title="Redis é›†ç¾¤æ­å»º">Redis é›†ç¾¤æ­å»º<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>ç”± <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.104.1">Hugo</a> å¼ºåŠ›é©±åŠ¨ | ä¸»é¢˜ - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2018 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://imajinyun.xyz/ target=_blank></a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=å›åˆ°é¡¶éƒ¨><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title=æŸ¥çœ‹è¯„è®º><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/algoliasearch@4.13.1/dist/algoliasearch-lite.umd.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"å¤åˆ¶åˆ°å‰ªè´´æ¿",maxShownLines:50},comment:{},search:{algoliaAppID:"MY71JUZ8GH",algoliaIndex:"PrdNotes",algoliaSearchKey:"6cf2973a936acbed3d32667888ea2f37",highlightTag:"em",maxResultLength:10,noResultsFound:"æ²¡æœ‰æ‰¾åˆ°ç»“æœ",snippetLength:30,type:"algolia"}}</script><script type=text/javascript src=https://imajinyun.xyz/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-4TWZ0BV77P",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=G-4TWZ0BV77P" async></script></body></html>